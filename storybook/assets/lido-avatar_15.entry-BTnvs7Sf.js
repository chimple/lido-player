import{g as vr,r as zt,h as J,H as Ht,a as Kt}from"./preview-DsrOrMdB.js";import"./iframe-DRvIeEZ7.js";const It="lidoDragSelectedMap",We="lidoDragMap",Wt="lidoSelectedValues",ti="lidoActivityScore",Kr="lidoActivityEnd",Zr="lidoLessonEnd",ni="lidoNextContainer",Qr="lidoActivityChange",to="lidoGameCompleted",eo="lidoElementDrop",no="lidoElementClick",Ze="dropLength",le="dropHasDrag",ar="drop-to",io="drop-time";var Bt;(function(n){n.NoFlow="noFlow",n.ShowFlow="showFlow",n.FreeTrace="freeTrace",n.BlindTracing="blindTracing",n.BlindFreeTrace="blindFreeTrace"})(Bt||(Bt={}));class ro{constructor(){this.rightMoves=0,this.wrongMoves=0,this.finalScore=0}}var Ut;(function(n){n.Diagonal="diagonal",n.Stretch="stretch",n.InfiniteDrop="infinite-drop"})(Ut||(Ut={}));function ke(n,a){const h=new CustomEvent(n,{detail:a});window.dispatchEvent(h)}function oo(n,a,h){ke(Kr,{index:n,totalIndex:a,score:h})}function so(n){ke(Zr,{score:n})}function ao(){ke(ni,{})}function lo(){ke(to,{})}function lr(n){ke(Qr,{index:n})}function co(n,a,h){ke(eo,{dragElement:n,dropElement:a,isCorrect:h,createdAt:new Date().toISOString()})}function cr(n,a){ke(no,{element:n,isCorrect:a,createdAt:new Date().toISOString()})}class Re{constructor(){}static getInstance(){return Re.instance||(Re.instance=new Re),Re.instance}setRiveInstance(a){this.riveInstance=a}getRiveInstance(){return this.riveInstance}}function Qe(n){n.classList.remove("highlight"),n.ariaPressed="false"}function ur(n){if(!n)return;n.classList.add("speaking-highlight");const a="#speaking-highlight-style";if(!document.querySelector(a)){const h=document.createElement("style");h.id=a,h.innerHTML=`
      .speaking-highlight {
        --base-transform: ${n.style.transform};
        box-shadow: 0 0 20px 10px rgba(255, 165, 0, 0.9) !important; /* Stronger orange glow effect */
        // border: 3px solid green !important;
        transition: box-shadow 0.5s ease-in-out, transform 0.5s ease-in-out;
        transform: scale(1.05); /* Subtle scale effect to pop the element */
        animation: pulseEffect 1.5s infinite; /* Pulsing animation */
      }

      @keyframes pulseEffect {
        0% {
          box-shadow: 0 0 20px 10px rgba(255, 165, 0, 0.9);
          transform: var(--base-transform) scale(1.05);
        }
        50% {
          box-shadow: 0 0 30px 15px rgba(255, 165, 0, 1);
          transform: var(--base-transform) scale(1.1);
        }
        100% {
          box-shadow: 0 0 20px 10px rgba(255, 165, 0, 0.9);
          transform: var(--base-transform) scale(1.05);
        }
      }
    `,document.head.appendChild(h)}}function ei(n){n&&n.classList.remove("speaking-highlight")}class ce{constructor(){this.audioElement=document.createElement("audio"),this.audioElement.id="audio",document.body.appendChild(this.audioElement)}static getI(){return ce.instance||(ce.instance=new ce),ce.instance}stop(){window!=null&&window.speechSynthesis&&window.speechSynthesis.cancel(),this.audioElement.pause(),this.audioElement.currentTime=0,this.audioElement.src="",document.querySelectorAll(".speaking-highlight").forEach(v=>ei(v));const h=document.querySelector("#play"),f=document.querySelector("#pause");h&&f&&(h.style.visibility="visible",f.style.visibility="hidden")}async play(a){let h=a.getAttribute("audio")||"";if(!h){const f=a.children;for(let v=0;v<f.length;v++){const A=f[v].getAttribute("audio");A&&(h=A)}}if(h){h=de(h),this.audioElement.src=h,console.log("ðŸš€ Playing audio:",this.audioElement.src);try{await this.audioElement.play(),ur(a),await new Promise(f=>{this.audioElement.onended=()=>{ei(a),f()}})}catch(f){console.log("ðŸš€ Audio play error:",f)}}else if(a.textContent)try{ur(a),await So(a.textContent),ei(a)}catch(f){console.log("ðŸš€ TTS Error:",f)}}}let In;function dr(n){const a=window.getComputedStyle(n).transform;if(a&&a!=="none"){const h=a.match(/matrix\(([^)]+)\)/);if(h)return h[1].split(",").map(v=>parseFloat(v.trim()))[0]}return 1}const Pe=n=>{const a=document.createElement("div");if(n.getAttribute("type")==="option")return a.style.width=n.style.width,a.style.height=n.style.height,a;const h=n.style.width,f=n.style.padding;return n.style.width="auto",n.style.padding="0 20px",a.style.width=`${n.offsetWidth+20}px`,a.style.height=`${n.offsetHeight+20}px`,a.style.border="1px solid",a.style.backgroundColor="#00000021",a.style.borderRadius="10px",n.style.width=h,n.style.padding=f,a.setAttribute("value",`${n.getAttribute("value")}`),a};function hr(n){let a=!1,h=!1,f=0,v=0,A=0,b=0;const C=document.querySelector("#lido-container"),m=document.querySelector('[type="blank"]'),E=n.parentElement!==m?n.parentElement:null,I=n.getAttribute("type"),L=C.querySelector('[type="optionArea"]');if(L&&(L.style.display="block",L.style.overflowY="auto"),!C){console.error('Container with ID "lido-container" not found.');return}const T=$=>{h=!0,a=!1;const Y=fr($);A=Y.clientX,b=Y.clientY,document.addEventListener("mousemove",c),document.addEventListener("mouseup",D),document.addEventListener("touchmove",c,{passive:!1}),document.addEventListener("touchend",D)},c=$=>{const Y=fr($),it=Math.abs(Y.clientX-A),X=Math.abs(Y.clientY-b);if(!a&&(it>5||X>5)){if(a=!0,n.parentElement!==m&&I==="word"){const At=Pe(n);n.parentElement.insertBefore(At,n.nextElementSibling)}if(n.parentElement.getAttribute("type")!=="category"&&I==="option"){const At=Pe(n);At.setAttribute("value",`${n.getAttribute("value")}`),At.style.visibility="hidden",n.parentElement.insertBefore(At,n.nextElementSibling)}const gt=C.getBoundingClientRect(),rt=dr(C),yt=(Y.clientX-gt.left-f)/rt,lt=(Y.clientY-gt.top-v)/rt;n.style.left=`${yt}px`,n.style.top=`${lt}px`;const Lt=n.getBoundingClientRect();f=Y.clientX-Lt.left,v=Y.clientY-Lt.top,n.style.opacity="0.8",n.style.cursor="grabbing",n.style.position="absolute",n.style.zIndex="1000",n.style.touchAction="none",n.style.transition="none"}if(!a)return;h=!1,$.preventDefault();const z=C.getBoundingClientRect(),q=dr(C),j=(Y.clientX-z.left-f)/q,vt=(Y.clientY-z.top-v)/q;n.style.left=`${j}px`,n.style.top=`${vt}px`;let st;if(I==="option")st=ae(n,"option")||ae(n,"dummy");else if(st=ae(n,"word")||ae(n,"dummy"),st&&st.parentElement!==document.querySelector('[type="blank"]'))return;st&&st.getAttribute("type")==="dummy"||In!==null&&In===st||(fo(n,st),In=st)},D=()=>{a=!1,document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",D),document.removeEventListener("touchmove",c),document.removeEventListener("touchend",D);const $=document.querySelector('[type="dummy"]');if(h){K(n);return}if(I==="option"){const Y=ae(n,"category"),X=Array.from(C.querySelectorAll(`[value="${n.getAttribute("value")}"]`)).find(z=>z!==n);if(Y){if($&&($.replaceWith(n),Y.parentElement.classList.add("highlight-element"),C.querySelectorAll('[type="category"]').forEach(q=>{q!==Y&&q.parentElement.classList.remove("highlight-element")}),gr(n,Y)),X){const z=`
            @keyframes widthDecrease {
              0% { width: ${X.offsetWidth}px; height: ${X.offsetHeight}px; }
              100% { width: 0px; height: 0px;}
            }
          `,q=document.styleSheets[0];q.insertRule(z,q.cssRules.length),X.style.animation="widthDecrease 0.5s",X.addEventListener("animationend",()=>{X.remove()})}}else if(n.parentElement.type!=="category")Ft("this.alignMatch=true",X,n),setTimeout(()=>{X.replaceWith(n)},500);else{const z=n.parentElement,q=JSON.parse(localStorage.getItem(It))||{},j=z.tabIndex,vt=n.value;q[j]&&(q[j]=q[j].filter(st=>st!==vt),localStorage.setItem(It,JSON.stringify(q))),L.scrollTo({top:L.scrollHeight,behavior:"smooth"}),L.appendChild(n),$&&$.remove()}Tn(n);return}if(ae(n,"blank")&&$&&$.replaceWith(n),E){const Y=Array.from(E.children);(uo(n,E)||n.parentElement===E)&&Y.forEach(X=>{X!==n&&X.getAttribute("value")===n.getAttribute("value")&&X.replaceWith(n)})}Tn(n),In=null,pr(m,n)},K=$=>{if(I==="option"){const Y=C.querySelectorAll('[type="category"]'),it=Array.from(Y).find(X=>X.parentElement.className.includes("highlight-element"));if($.parentElement.getAttribute("type")==="category"){const X=JSON.parse(localStorage.getItem(It))||{},z=it.tabIndex,q=$.value;X[z]&&(X[z]=X[z].filter(vt=>vt!==q),localStorage.setItem(It,JSON.stringify(X)));const j=Pe($);L.appendChild(j),L.scrollTo({top:L.scrollHeight,behavior:"smooth"}),$.style.position="absolute",Ft("this.alignMatch='true'",j,$),setTimeout(()=>{Tn($),j.replaceWith($)},500);return}else{if(!it)return;const X=Pe($);it.appendChild(X),$.style.position="absolute",Ft("this.alignMatch=true",X,$),setTimeout(()=>{X.replaceWith($),Tn($),gr($,it),$.style.transform="translate(0,0)",$.style.marginBottom="10px"},500);return}}if(I==="word"&&$.parentElement===E){const Y=Pe($);Y.style.visibility="hidden",m.appendChild(Y),Ft("this.alignMatch=true",Y,$),setTimeout(()=>{const it=Pe($);$.parentElement.insertBefore(it,$.nextElementSibling),Y.replaceWith($),$.style.transform="translate(0,0)",pr(m,$)},500);return}else{const it=Array.from(E.children).find(X=>X.getAttribute("value")===$.getAttribute("value"));Ft("this.alignMatch=true",it,$),setTimeout(()=>{it.replaceWith($),$.style.transform="translate(0,0)"},500)}};n.style.cursor="move",n.addEventListener("pointerdown",T)}const Tn=n=>{n.style.opacity="",n.style.cursor="move",n.style.zIndex="",n.style.transform="",n.style.position="",n.style.left="",n.style.top=""};function uo(n,a){const h=n.getBoundingClientRect(),f=a.getBoundingClientRect();return!(h.right<f.left||h.left>f.right||h.bottom<f.top||h.top>f.bottom)}function ae(n,a){const h=Array.from(document.querySelectorAll(`[type="${a}"]`));let f=0,v=null;const A=n.getBoundingClientRect();for(const b of h){if(b===n)continue;const C=b.getBoundingClientRect(),m=ho(A,C);m>f&&(f=m,v=b)}return v}function fr(n){return n instanceof MouseEvent?{clientX:n.clientX,clientY:n.clientY}:{clientX:n.touches[0].clientX,clientY:n.touches[0].clientY}}function ho(n,a){const h=Math.max(0,Math.min(n.right,a.right)-Math.max(n.left,a.left)),f=Math.max(0,Math.min(n.bottom,a.bottom)-Math.max(n.top,a.top));return h*f}function fo(n,a){var h,f;if(n===a||a&&a.getAttribute("type")==="option"&&a.parentElement.getAttribute("type")!=="category"||n.getAttribute("type")==="word"&&!ae(n,"blank")||n.getAttribute("type")==="option"&&!ae(n,"category"))return;const v=document.querySelector('[type="blank"]'),A=document.querySelector('[type="dummy"]');if(A)if(a)(h=a.parentNode)===null||h===void 0||h.insertBefore(A,a);else{const b=ae(n,"category");b?b.appendChild(A):v.appendChild(A)}else{const b=Pe(n);b.style.visibility="hidden",b.setAttribute("type","dummy");const C=`
      @keyframes widthIncrease {
        0% { width: 0px; height: 0px; }
        100% { width: ${n.offsetWidth}px; height: ${n.offsetHeight}px;}
      }
    `;if(a)(f=a.parentNode)===null||f===void 0||f.insertBefore(b,a);else{const E=ae(n,"category");E?E.appendChild(b):v.appendChild(b)}const m=document.styleSheets[0];m.insertRule(C,m.cssRules.length),b.style.animation="widthIncrease 0.5s",b.addEventListener("animationend",()=>{b.style.width=`${n.offsetWidth}px`,b.style.height=`${n.offsetHeight}px`})}}const pr=(n,a)=>{const h=document.querySelector("#lido-container"),v=h.getAttribute("objective").split(",");let A=JSON.parse(localStorage.getItem(Wt))||[];const b=n.children;A=Array.from(b).map(m=>m.getAttribute("value")),localStorage.setItem(Wt,JSON.stringify(A));const C=A.indexOf(a.value);if(C>=0){const m=oi(a.value,[v[C].trim()]);!m&&h.isAllowOnlyCorrect&&Array.from(h.querySelectorAll(`[value="${a.value}"]`)).find(L=>L!==a).replaceWith(a),en(m),nn()}};async function gr(n,a){let h=JSON.parse(localStorage.getItem(It))||{},f=h[a.tabIndex];if(!(Array.isArray(f)&&f.includes(n.value))){for(const v in h){const A=h[v].indexOf(n.value);A!==-1&&h[v].splice(A,1)}localStorage.setItem(It,JSON.stringify(h)),await mr(n,a)}}const On=n=>{n.style.animation="unset";const a=window.getComputedStyle(n).transform;if(a==="none")return 1;{const h=a.match(/matrix\(([^)]+)\)/);if(h){const f=h[1].split(", ");return parseFloat(f[0])}}return 1};function po(n){let a=!1,h=!1,f=0,v=0,A=0,b=0,C=null,m=null;const E=document.querySelector("#lido-container");if(!E){console.error('Container with ID "container" not found.');return}si(n,"drag");let I,L;const T=z=>{var q,j;if(ce.getI().stop(),Qe(n),a=!0,h=!0,z instanceof MouseEvent?(f=z.clientX,v=z.clientY):(f=z.touches[0].clientX,v=z.touches[0].clientY),n.style.opacity="1",n.style.cursor="grabbing",((q=n.getAttribute("dropAttr"))===null||q===void 0?void 0:q.toLowerCase())===Ut.Diagonal){const st=window.getComputedStyle(n),gt=n.getBoundingClientRect();C||(C=n.cloneNode(!0),C.style.left=`${gt.left}px`,C.style.top=`${gt.top}px`,C.style.width=`${gt.width}px`,C.style.height=`${gt.height}px`,C.style.transform=st.transform,C.style.zIndex="0",C.setAttribute("visible","true"),C.classList.add("cloned-element"),document.body.appendChild(C))}if(((j=n.getAttribute("dropAttr"))===null||j===void 0?void 0:j.toLowerCase())===Ut.InfiniteDrop){const st=n.querySelector("img"),gt=st==null?void 0:st.getAttribute("src"),rt=window.getComputedStyle(n),yt=n.getBoundingClientRect();if(m||(m=n.cloneNode(!1),m.setAttribute("src",gt),m.setAttribute("value",n.getAttribute("value")),m.setAttribute("visible","true"),m.style.left=`${yt.left}px`,m.style.top=`${yt.top}px`,m.style.width=`${yt.width}px`,m.style.height=`${yt.height}px`,m.style.transform=rt.transform,m.style.position="absolute",m.style.zIndex="0",n.style.zIndex="100",document.body.appendChild(m)),n.getAttribute("droppedelement")){const lt=n.getAttribute("droppedelement");document.querySelectorAll(`body > [droppedelement="${lt}"]`).forEach(At=>At.remove())}}const vt=window.getComputedStyle(n).transform;if(vt!=="none"){const st=vt.match(/matrix\(([^)]+)\)/);if(st){const gt=st[1].split(", ");A=parseFloat(gt[4]),b=parseFloat(gt[5])}}else A=0,b=0;document.addEventListener("mousemove",Y),document.addEventListener("mouseup",X),document.addEventListener("touchmove",Y),document.addEventListener("touchend",X)},c=E.getBoundingClientRect(),D=n.getBoundingClientRect();I=c.top-D.top,L=c.left-D.left;const K=new MutationObserver(z=>{for(const q of z)if(q.type==="attributes"&&q.attributeName==="style"){const j=E.getBoundingClientRect(),vt=n.getBoundingClientRect();I=j.top-vt.top,L=j.left-vt.left}}),$={attributes:!0,attributeFilter:["style"]};K.observe(E,$);const Y=z=>{if(!a)return;h=!1,n.style.transition="none";const q=On(E);let j=0,vt=0;z instanceof MouseEvent?(j=(z.clientX-f)/q,vt=(z.clientY-v)/q):(j=(z.touches[0].clientX-f)/q,vt=(z.touches[0].clientY-v)/q);const st=A+j,gt=b+vt,rt=E.getBoundingClientRect(),yt=n.getBoundingClientRect(),Lt=n.style.transform.match(/-?\d+(\.\d+)?/g).map(Number),At=yt.left/q-Lt[0],$t=yt.top-Lt[1],Xt=rt.width/q-Math.abs(L/q)-yt.width/q,ut=rt.left-At,Vt=rt.top-$t,_t=rt.height/q-Math.abs(I/q)-yt.height/q,dt=st+At<=rt.left?ut:Math.min(st,Xt),Tt=gt+$t<=rt.top?Vt:Math.min(gt,_t);n.style.transform=`translate(${dt}px, ${Tt}px)`;let jt=Rn(n,"drop");document.querySelectorAll("[type='drop']").forEach(tt=>{var d;const r=JSON.parse(localStorage.getItem(It))||{};Object.keys(r).map(Number).includes(tt.tabIndex)?((d=n.getAttribute("dropAttr"))===null||d===void 0?void 0:d.toLowerCase())!==Ut.Diagonal&&(tt.tagName.toLowerCase()==="lido-text"&&(tt.style.border="",tt.style.backgroundColor="transparent"),tt.tagName.toLowerCase()==="lido-image"&&(tt.style.opacity="0")):(tt.tagName.toLowerCase()==="lido-text"&&(tt.style.border="",tt.style.backgroundColor=""),tt.tagName.toLowerCase()==="lido-image"&&(tt.style.opacity="1"))}),jt&&(jt.tagName.toLowerCase()==="lido-text"?(jt.style.border="2px dashed #ff0000",jt.style.backgroundColor="rgba(255, 0, 0, 0.1)"):jt.style.opacity="0.3")};let it=null;const X=z=>{var q,j,vt;if(a=!1,h){C&&(C.remove(),C=null),n.style.opacity="1";return}document.removeEventListener("mousemove",Y),document.removeEventListener("mouseup",X),document.removeEventListener("touchmove",Y),document.removeEventListener("touchend",X),n.style.opacity="",n.style.cursor="move";const st=document.querySelectorAll("[type='drop']");st.forEach(rt=>{st.forEach(yt=>{var lt;const Lt=JSON.parse(localStorage.getItem(It))||{};Object.keys(Lt).map(Number).includes(yt.tabIndex)?((lt=n.getAttribute("dropAttr"))===null||lt===void 0?void 0:lt.toLowerCase())!==Ut.Diagonal&&(yt.tagName.toLowerCase()==="lido-text"&&(yt.style.border="",yt.style.backgroundColor="transparent"),yt.tagName.toLowerCase()==="lido-image"&&(yt.style.opacity="0")):(yt.tagName.toLowerCase()==="lido-text"&&(yt.style.border="",yt.style.backgroundColor=""),yt.tagName.toLowerCase()==="lido-image"&&(yt.style.opacity="1"))})});let gt=Rn(n,"drop");if(kn(n,gt),((q=n.getAttribute("dropAttr"))===null||q===void 0?void 0:q.toLowerCase())===Ut.Diagonal&&(gt?n&&(n.classList.add("diagonal-drop"),gt.classList.add("diagonal-target"),it=gt):(it&&(it.classList.remove("diagonal-target"),it=null),n==null||n.classList.remove("diagonal-drop"),n.style.transform="translate(0, 0)",C&&(C.remove(),C=null))),((j=n.getAttribute("dropAttr"))===null||j===void 0?void 0:j.toLowerCase())===Ut.Stretch){const rt=window.getComputedStyle(n);gt.style.width=rt.width}((vt=n.getAttribute("dropAttr"))===null||vt===void 0?void 0:vt.toLowerCase())===Ut.InfiniteDrop&&(gt.style.opacity="0",n.getAttribute("value")&&n.setAttribute("droppedElement",`${n.getAttribute("value")}-dropped`))};n.style.cursor="move",n.style.transform="translate(0, 0)",n.addEventListener("mousedown",T),n.addEventListener("touchstart",T),n.addEventListener("click",z=>{h&&ri(n,"drag")})}const Rn=(n,a)=>{const h=n.getBoundingClientRect(),f=document.querySelectorAll(`[type="${a}"]`);let v=null,A=0;return f.forEach(b=>{if(b===n)return;const C=b.getBoundingClientRect(),m=Math.max(0,Math.min(h.right,C.right)-Math.max(h.left,C.left)),E=Math.max(0,Math.min(h.bottom,C.bottom)-Math.max(h.top,C.top)),I=m*E;if(I!==0)if(a==="slide"){const L=h.width*h.height,T=C.width*C.height,c=Math.min(L,T)*.8;I>=c&&I>A&&(A=I,v=b)}else I>A&&(A=I,v=b)}),v};async function kn(n,a){var h;const f=localStorage.getItem(Wt)||"",v=localStorage.getItem(It),A=localStorage.getItem(We);let b=JSON.parse(localStorage.getItem(le)||" {}");if(n&&(a?n.setAttribute(ar,a==null?void 0:a.id):n.removeAttribute(ar),n.setAttribute(io,new Date().getTime().toString())),a&&((h=a.getAttribute("dropAttr"))===null||h===void 0?void 0:h.toLowerCase())!==Ut.Diagonal&&(a.getAttribute("isAllowOnlyOneDrop")==="true"||!a.getAttribute("isAllowOnlyOneDrop"))){const E=Object.values(b).find(L=>document.getElementById(L.drop)===a);if(E?E.isFull=!0:console.warn("No matching drop item found for",a),localStorage.setItem(le,JSON.stringify(b)),Rn(n,"drag")){if(n.style.transform="translate(0,0)",n.style.transition="transform 0.5s ease",v){let T=JSON.parse(v);for(const c in T)T[c].includes(n.value)&&delete T[c];localStorage.setItem(It,JSON.stringify(T))}document.querySelectorAll("[type='drop']").forEach(T=>{var c;const D=JSON.parse(localStorage.getItem(It))||{};Object.keys(D).map(Number).includes(T.tabIndex)?((c=T.getAttribute("dropAttr"))===null||c===void 0?void 0:c.toLowerCase())!==Ut.Diagonal&&(T.tagName.toLowerCase()==="lido-text"&&(T.style.border="",T.style.backgroundColor="transparent"),T.tagName.toLowerCase()==="lido-image"&&(T.style.opacity="0")):(T.tagName.toLowerCase()==="lido-text"&&(T.style.border="",T.style.backgroundColor=""),T.tagName.toLowerCase()==="lido-image"&&(T.style.opacity="1"))});return}}if(!a){n.style.transform="translate(0,0)",n.style.transition="transform 0.5s ease";let E=Pn.get(n);if(E){let L=Object.values(b).find(T=>document.getElementById(T.drop)===E);L&&(L.isFull=!1,localStorage.setItem(le,JSON.stringify(b))),Pn.delete(n)}if(f){let L=JSON.parse(f);L=L.filter(T=>T!=n.value),localStorage.setItem(Wt,JSON.stringify(L))}if(v){let L=JSON.parse(v),T=JSON.parse(A);for(const c in L)if(L[c].includes(n.value))for(const D in T)T[D].includes(n.id)&&(delete T[D],delete L[D]);localStorage.setItem(It,JSON.stringify(L)),localStorage.setItem(We,JSON.stringify(T))}document.querySelectorAll("[type='drop']").forEach(L=>{var T;const c=JSON.parse(localStorage.getItem(It))||{};Object.keys(c).map(Number).includes(L.tabIndex)?((T=L.getAttribute("dropAttr"))===null||T===void 0?void 0:T.toLowerCase())!==Ut.Diagonal&&(L.tagName.toLowerCase()==="lido-text"&&(L.style.border="",L.style.backgroundColor="transparent"),L.tagName.toLowerCase()==="lido-image"&&(L.style.opacity="0")):(L.tagName.toLowerCase()==="lido-text"&&(L.style.border="",L.style.backgroundColor=""),L.tagName.toLowerCase()==="lido-image"&&(L.style.opacity="1"))}),nn();return}if(v){let E=Pn.get(n);if(E){let I=Object.values(b).find(L=>document.getElementById(L.drop)===E);I&&(I.isFull=!1,localStorage.setItem(le,JSON.stringify(b)))}}let C=JSON.parse(localStorage.getItem(Ze))||0;if(C+=1,localStorage.setItem(Ze,JSON.stringify(C)),C===tn(a.value)){const E=Object.values(b).find(I=>document.getElementById(I.drop)===a);E?E.isFull=!0:console.warn("No matching drop item found for",a),localStorage.setItem(le,JSON.stringify(b)),C=0,localStorage.setItem(Ze,JSON.stringify(C))}Pn.set(n,a);const m=a.value.includes(n.value);if(co(n,a,m),m){const E=a.getAttribute("onCorrect");E&&await Ft(E,a,n)}else{const E=a.getAttribute("onInCorrect");await Ft(E,a,n)}en(m),n.style.opacity="1",await mr(n,a)}function go(n){let a=JSON.parse(localStorage.getItem(le)||"{}");const h=n.getAttribute("tabIndex");(typeof a!="object"||a===null)&&(a={}),a[h]||(a[h]={drop:n.id,isFull:!1},localStorage.setItem(le,JSON.stringify(a))),n.onclick=()=>{ri(n,"drop")},si(n,"drop")}async function ri(n,a){if(document.querySelectorAll(`[type='${a}']`).forEach(A=>{Qe(A)}),!document.querySelector("#dynamic-highlight-style")){const A=document.createElement("style");A.id="dynamic-highlight-style",A.innerHTML=`
      .highlight {
        // border: 4px solid #e74c3c; /* Thicker red border for more visibility */
        // border-radius: 12px; /* Larger rounded corners */
        // background-color: rgba(231, 76, 60, 0.3); /* Stronger, more noticeable background */
        // box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2), 0 12px 40px rgba(0, 0, 0, 0.2); /* Stronger shadow */
        // outline: 4px solid rgba(231, 76, 60, 0.6); /* Glow effect */
      }
    `,document.head.appendChild(A)}n==null||n.classList.add("highlight"),n.ariaPressed="true";const f=a==="drop"?n:document.querySelector("[type='drop'].highlight"),v=a==="drag"?n:document.querySelector("[type='drag'].highlight");if(f||vo(n),f&&v){v.style.transition="transform 0.5s ease",v.style.transform="";const A=document.querySelector("#lido-container"),b=On(A);console.log("ðŸš€ ~ onClickDropOrDragElement ~ containerScale:",b);const C=f.getBoundingClientRect(),m=v.getBoundingClientRect(),E=(C.left-m.left)/b,I=(C.top-m.top)/b;v.style.transform=`translate(${E}px, ${I}px)`,document.querySelectorAll("*").forEach(T=>{Qe(T)}),await kn(v,f)}}const Pn=new Map;async function vo(n){const a=JSON.parse(localStorage.getItem(le)||"{}"),h=n;if(!h){console.error("Element not found");return}const f=getComputedStyle(h).transform;if(Qe(n),f&&f!=="none"&&f!=="matrix(1, 0, 0, 1, 0, 0)"){h.style.transition="transform 0.5s ease",h.style.transform="translate(0px, 0px)",kn(h,null);return}let v=Object.values(a).find(A=>!A.isFull);if(v){const A=document.querySelector(`#${v.drop}`);h.style.transition="transform 0.5s ease",kn(h,A)}}function mo(n){let a=!1,h=!1,f=0,v=0,A=0,b=0;const C=n.parentElement;if(!C){console.error("Parent element not found.");return}const m=c=>{Qe(n),h=!0,c instanceof MouseEvent?(f=c.clientX,v=c.clientY):(f=c.touches[0].clientX,v=c.touches[0].clientY),n.style.opacity="0.8",n.style.cursor="grabbing";const D=window.getComputedStyle(n).transform;if(D!=="none"){const K=D.match(/matrix\(([^)]+)\)/);if(K){const $=K[1].split(", ");A=parseFloat($[4]),b=parseFloat($[5])}}else A=0,b=0;C.getBoundingClientRect(),n.getBoundingClientRect(),document.addEventListener("mousemove",L),document.addEventListener("mouseup",T),document.addEventListener("touchmove",L),document.addEventListener("touchend",T)},E=new MutationObserver(c=>{for(const D of c)D.type==="attributes"&&D.attributeName==="style"&&(C.getBoundingClientRect(),n.getBoundingClientRect())}),I={attributes:!0,attributeFilter:["style"]};E.observe(C,I);const L=c=>{if(!h)return;const D=On(C);let K=0,$=0;c instanceof MouseEvent?(K=(c.clientX-f)/D,$=(c.clientY-v)/D):(K=(c.touches[0].clientX-f)/D,$=(c.touches[0].clientY-v)/D);const Y=A+K,it=b+$,X=C.getBoundingClientRect(),z=n.getBoundingClientRect(),j=n.style.transform.match(/-?\d+(\.\d+)?/g).map(Number),vt=z.left/D-j[0],st=z.top-j[1],gt=z.right/D-j[0],rt=z.bottom-j[1],yt=X.right-gt,lt=X.left-vt,Lt=X.top-st,At=X.bottom-rt,$t=Y+vt<=X.left?lt:Math.min(Y,yt),Xt=it+st<=X.top?Lt:Math.min(it,At);n.style.transform=`translate(${$t}px, ${Xt}px)`;let ut=Rn(n,"slide");if(ut&&ut!=n){const Vt=n.parentElement,_t=ut.parentElement;if(Vt&&_t){const dt=document.createComment("element-placeholder"),Tt=document.createComment("overlapped-placeholder");Vt.replaceChild(dt,n),_t.replaceChild(Tt,ut),Vt.replaceChild(ut,dt),_t.replaceChild(n,Tt),n.style.transform="translate(0, 0)",f=c instanceof MouseEvent?c.clientX:c.touches[0].clientX,v=c instanceof MouseEvent?c.clientY:c.touches[0].clientY,A=0,b=0,a=!0}}},T=c=>{h=!1,document.removeEventListener("mousemove",L),document.removeEventListener("mouseup",T),document.removeEventListener("touchmove",L),document.removeEventListener("touchend",T),n.style.opacity="",n.style.cursor="move",n.style.transform="translate(0, 0)",a&&(yo(n),a=!1)};n.style.cursor="move",n.style.transform="translate(0, 0)",n.addEventListener("mousedown",m),n.addEventListener("touchstart",m),n.addEventListener("click",c=>{ri(n,"drag")})}const yo=n=>{const a=JSON.parse(localStorage.getItem(Wt))||[],h=document.querySelectorAll("[type='slide']");let f=0;h.forEach(m=>{a[f++]=m.value}),localStorage.setItem(Wt,JSON.stringify(a));const A=document.querySelector("#lido-container").objective.split(","),b=a.indexOf(n.value),C=oi(n.value,[A[b].trim()]);en(C),nn()};function bo(n){if(!n)return;const a=n.getAttribute("onTouch");a&&(n.onclick=async()=>{console.log("ðŸš€ ~ element.onclick= ~ onTouch:",a),a&&await Ft(a,n)})}function wo(n){if(si(n,"click"),n.style.cursor="pointer",!n){console.error("No element provided.");return}const a=async()=>{ce.getI().stop();const h=document.querySelector("#lido-container"),f=h.objective.split(","),v=document.querySelector("#lido-checkButton"),A=h.getAttribute("showCheck")==="true";if(n.getAttribute("id")=="lido-checkButton"){v.classList.add("lido-disable-check-button"),await ii();return}const b=n.classList.contains("lido-element-selected");let C=JSON.parse(localStorage.getItem(Wt))||[];if(f.length===1){localStorage.setItem(Wt,JSON.stringify([n.value]));const m=f.includes(n.value);if(cr(n,m),m){const E=n.getAttribute("onCorrect");n.style.pointerEvents="none",await Ft(E,n)}else{const E=n.getAttribute("onInCorrect");await Ft(E,n)}en(m),nn();return}if(A&&v.classList.remove("lido-disable-check-button"),b){n.classList.remove("lido-element-selected"),Ft(n.getAttribute("onEntry"),n),C=C.filter(L=>L!=n.value),localStorage.setItem(Wt,JSON.stringify(C));let m=JSON.parse(localStorage.getItem(It))||{};const E=n.value,I=Object.keys(m).find(L=>m[L].includes(E));if(I){m[I]=m[I].filter(c=>c!==E),m[I].length===0&&delete m[I],localStorage.setItem(It,JSON.stringify(m));const T=Object.keys(m).sort((c,D)=>parseInt(c)-parseInt(D)).reduce((c,D)=>c.concat(m[D]),[]);localStorage.setItem(Wt,JSON.stringify(T))}A&&C.length===0&&v.classList.add("lido-disable-check-button");return}else{n.classList.add("lido-element-selected");const m=n.value,E=Object.keys(f).find(D=>f[D]===m);let I=JSON.parse(localStorage.getItem(It))||{};E?I[E]=[m]:I[f.length+C.length]=[m],localStorage.setItem(It,JSON.stringify(I));const T=Object.keys(I).sort((D,K)=>parseInt(D)-parseInt(K)).reduce((D,K)=>D.concat(I[K]),[]);localStorage.setItem(Wt,JSON.stringify(T));const c=f.includes(n.value);if(cr(n,c),c){const D=n.getAttribute("onCorrect");await Ft(D,n)}else{const D=n.getAttribute("onInCorrect");await Ft(D,n)}en(c)}!A&&tn(f)===tn(C)&&ii()};n.addEventListener("click",a),n.addEventListener("pointerdown",()=>{n.getAttribute("animation")==="clickable"&&(n.classList.add("removeShadow"),n.style.top="40px",n.style.position="relative")}),n.addEventListener("pointerup",()=>{n.getAttribute("animation")==="clickable"&&setTimeout(()=>{n.classList.remove("removeShadow"),n.style.top="0px",n.style.position="relative"},50)})}const ue=new ro,ee=async(n,a)=>{const h=document.querySelector("#lido-container");if(!h)return;const f=n.getAttribute("onEntry");await Ft(f,n);const v=h.getAttribute("canplay");if(!(v!=null&&v==="false")){switch(a){case"drag":{po(n);break}case"click":{wo(n);break}case"drop":{go(n);break}case"slide":{mo(n);break}case"word":{hr(n);break}case"option":{hr(n);break}}bo(n)}},Ft=async(n,a,h)=>{var f;const v=Co(n);for(let A=0;A<v.length;A++){const b=v[A],C=document.querySelector(b.actor),m=b.actor==="this"?a:b.actor==="element"?h:C||document.getElementById(b.actor);if(m)switch(b.action){case"transform":{const E=window.getComputedStyle(m).transform;m.style.transform=E!=="none"?`${E} ${b.value}`:b.value;break}case"alignMatch":{const E=m,I=h,L=document.querySelector("#lido-container"),T=On(L);I.style.transform="translate(0,0)";const c=E.getBoundingClientRect(),D=I.getBoundingClientRect(),K=c.left+c.width/2,$=c.top+c.height/2,Y=D.left+D.width/2,it=D.top+D.height/2,X=(K-Y)/T,z=($-it)/T;((f=h.getAttribute("dropAttr"))===null||f===void 0?void 0:f.toLowerCase())===Ut.Diagonal?I.style.transform=`translate(${X-70}px, ${z-70}px)`:I.style.transform=`translate(${X}px, ${z}px)`;break}case"removeClone":{document.querySelectorAll(b.value).forEach(I=>I.remove());break}case"addClass":{m.classList.add(b.value);break}case"removeClass":{m.classList.remove(b.value);break}case"speak":{await ce.getI().play(m);break}case"stop":{await ce.getI().stop();break}case"sleep":{!isNaN(Number(b.value))&&await new Promise(I=>setTimeout(I,Number(b.value)));break}case"avatarAnimate":{const I=Re.getInstance().getRiveInstance();I&&b.value&&I.play(b.value);break}default:{m.style[b.action]=b.value;break}}}},Co=n=>{var a;const h=[];return n&&((a=n.split(";"))===null||a===void 0?void 0:a.map(v=>v.trim())).forEach(v=>{if(v){const[A,b]=v.split("=").map(m=>m.trim()),C=A.lastIndexOf(".");if(C!==-1){const m=A.substring(0,C).trim(),E=A.substring(C+1).trim();h.push({actor:m,action:E,value:b.replace(/['"]/g,"")})}}}),h},oi=(n,a)=>{const h=n.split(",").map(A=>A.trim());let f=0,v=new Set;for(const A of h)if(A.startsWith("(")&&A.endsWith(")")){const b=A.slice(1,-1).split("|").map(m=>m.trim()),C=a[f].slice(1,-1).split("|").map(m=>m.trim());if(f>C.length)return!1;for(let m=0;m<b.length;m++)if(!b.includes(C[m]))return!1;f++}else if(A.includes("|")){const b=A.split("|").map(C=>C.trim());for(const C of b)v.add(C)}else{if(f>=a.length||a[f]!==A)return!1;f++}for(;f<a.length;){if(!v.has(a[f]))return!1;v.delete(a[f]),f++}return f===a.length},tn=n=>{const a=n.split(",").map(f=>f.trim());let h=0;for(const f of a)f.startsWith("(")&&f.endsWith(")")?f.includes("|")?h+=f.split("|").length:h+=1:h+=f.split("|").length;return h},en=n=>{n?ue.rightMoves+=1:ue.wrongMoves+=1,console.log("Right Moves : ",ue.rightMoves),console.log("Wrong Moves : ",ue.wrongMoves)},xo=()=>{const n=ue.rightMoves,a=ue.wrongMoves;let h=Math.floor(n/(n+a)*100);Ao(h),ue.rightMoves=0,ue.wrongMoves=0};async function mr(n,a){var h,f;const v=document.querySelector("#lido-container");if(!v)return;if(v.getAttribute("isAllowOnlyCorrect")==="true"&&!a.value.includes(n.value)){n.style.transform="translate(0,0)",n.type==="option"&&Array.from(v.querySelectorAll(`[value="${n.value}"]`)).forEach(K=>{K!==n&&K.getAttribute("value")===n.getAttribute("value")&&K.replaceWith(n)});return}await Ft("this.alignMatch='true'",a,n);let b=JSON.parse((h=localStorage.getItem(It))!==null&&h!==void 0?h:"{}");const C=a.getAttribute("tabindex");b[C]||(b[C]=[]),b[C].push(n.value),localStorage.setItem(It,JSON.stringify(b));let m=JSON.parse((f=localStorage.getItem(We))!==null&&f!==void 0?f:"{}");const E=a.getAttribute("tabindex");m[E]||(m[E]=[]),m[E].push(n.id),localStorage.setItem(We,JSON.stringify(m));const L=Object.keys(b).sort((c,D)=>parseInt(c)-parseInt(D)).reduce((c,D)=>{const K=b[D];return K.length>1?c.push(`(${K.join("|")})`):c.push(K[0]),c},[]);localStorage.setItem(Wt,JSON.stringify(L)),document.querySelectorAll("[type='drop']").forEach(c=>{var D;const K=JSON.parse(localStorage.getItem(It))||{};Object.keys(K).map(Number).includes(c.tabIndex)?((D=c.getAttribute("dropAttr"))===null||D===void 0?void 0:D.toLowerCase())!==Ut.Diagonal&&(c.tagName.toLowerCase()==="lido-text"&&(c.style.border="",c.style.backgroundColor="transparent"),c.tagName.toLowerCase()==="lido-image"&&(c.style.opacity="0")):(c.tagName.toLowerCase()==="lido-text"&&(c.style.border="",c.style.backgroundColor=""),c.tagName.toLowerCase()==="lido-image"&&(c.style.opacity="1"))}),nn()}const Ao=n=>{var a,h,f;const v=document.querySelector("lido-home");if(!v)return;const A=Number((a=v.getAttribute("index"))!==null&&a!==void 0?a:0),b=Number((h=v.getAttribute("totalIndex"))!==null&&h!==void 0?h:0),C=JSON.parse((f=localStorage.getItem(ti))!==null&&f!==void 0?f:"{}"),m=A.toString();if(C[m]=n,oo(A,b,n),localStorage.setItem(ti,JSON.stringify(C)),b-1==A){const E=Object.values(C),I=E.reduce((L,T)=>L+T,0)/E.length;ue.finalScore=Math.floor(I),console.log("Total Score : ",ue.finalScore),so(I),localStorage.removeItem(ti)}},nn=()=>{var n,a;const h=document.querySelector("#lido-container"),f=h.objective,v=(n=localStorage.getItem(Wt))!==null&&n!==void 0?n:"",A=document.querySelector("#lido-checkButton");if(!v||tn(v)!==tn(f)){Ft("this.addClass='lido-disable-check-button'",A);return}h.getAttribute("showCheck")=="true"?(a=A==null?void 0:A.classList)===null||a===void 0||a.remove("lido-disable-check-button"):ii()},ii=async()=>{var n;const a=document.querySelector("#lido-container");if(!a)return;const h=a.objective,f=(n=JSON.parse(localStorage.getItem(Wt)))!==null&&n!==void 0?n:[];if(oi(h,f)){const A=a.getAttribute("onCorrect");A&&await Ft(A,a),Mn()}else{const A=a.getAttribute("onInCorrect");await Ft(A,a),a.getAttribute("isContinueOnCorrect")==="true"||Mn()}await xo()},Mn=()=>{ce.getI().stop(),console.log("ðŸš€ ~ triggerNextContainer ~ event:",event),ao()};function de(n){const h=document.querySelector("#lido-container").getAttribute("baseUrl");return n!=null&&n.startsWith("http")||n!=null&&n.startsWith("blob")?n:h?h+n:vr(n)}async function So(n,a){return new Promise((h,f)=>{if(!("speechSynthesis"in window)){f(new Error("Speech synthesis is not supported in this browser."));return}const v=window.speechSynthesis;setTimeout(()=>{const A=new SpeechSynthesisUtterance(n);A.onend=()=>{h(!0)},v.speak(A)},50)})}function Fn(n,a,h,f,v){if(f===void 0)return;const A=Array.from(n.children);let b=f;a&&f<a&&(b=a),h&&f>h&&(b=h),A.forEach((C,m)=>{C.style.display=m<b?v:"none"})}const V=(n,a)=>!n||!n.includes(",")?n:n.split(",").reduce((f,v)=>{const[A,b]=v.split(".");return f[A.trim()]=b.trim(),f},{})[a]||"",si=(n,a)=>{const h=document.querySelectorAll("[type='drag']"),f=document.querySelectorAll("[type='drop']"),v=document.querySelectorAll("[type='click']");let A=0;if(a==="click"){v.forEach(b=>{const C=b;let m=null;if(C.getAttribute("flexibleWidth"))m=C;else{const E=C.children;for(let I=0;I<E.length;I++){const L=E[I];if(L.getAttribute("flexibleWidth")){m=L;break}}}if(m){const E=m.style.width,I=m.style.padding;m.style.width="auto",m.style.padding="0 20px";const L=m.offsetWidth;m.style.width=E,m.style.padding=I,L>A&&(A=L)}}),v.forEach(b=>{const C=b;if(C.getAttribute("flexibleWidth")){if(C.getAttribute("flexibleWidth")==="true")return;C.style.width=`${A}px`}else{const m=C.children;for(let E=0;E<m.length;E++){const I=m[E];if(I.getAttribute("flexibleWidth")){if(I.getAttribute("flexibleWidth")==="true")return;I.style.width=`${A}px`;break}}}});return}h.forEach(b=>{var C;const m=b,E=m.style.width,I=m.style.padding;m.style.width="auto",m.style.padding="0 20px";const L=m.offsetWidth;m.style.width=E,m.style.padding=I,((C=n.getAttribute("dropAttr"))===null||C===void 0?void 0:C.toLowerCase())!==Ut.Stretch&&L>A&&(A=L)}),h.forEach(b=>{const C=b,m=C.getAttribute("flexibleWidth");m==="false"?C.style.width=`${A}px`:m==="true"&&a==="drag"&&(C.style.width="auto",C.style.padding="0 20px")}),f.forEach(b=>{const C=b,m=C.getAttribute("flexibleWidth");if(m==="false"){const E=parseFloat(getComputedStyle(C).borderWidth);if(typeof E=="number"){const I=A-E*2,L=parseFloat(C.style.height)-E*2;C.style.height=`${L}px`,C.style.width=`${I}px`;return}}else m==="true"&&a==="drag"&&(C.style.width="auto",C.style.padding="0 20px")})};var _o=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},yr={exports:{}};(function(n,a){(function(f,v){n.exports=v()})(_o,()=>(()=>{var h=[,(b,C,m)=>{m.r(C),m.d(C,{default:()=>I});var E=(()=>{var L=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return function(T={}){var c=T,D,K;c.ready=new Promise((t,e)=>{D=t,K=e});function $(){function t(p){const x=o;i=e=0,o=new Map,x.forEach(S=>{try{S(p)}catch(w){console.error(w)}}),this.ob(),s&&s.Tb()}let e=0,i=0,o=new Map,s=null,u=null;this.requestAnimationFrame=function(p){e||(e=requestAnimationFrame(t.bind(this)));const x=++i;return o.set(x,p),x},this.cancelAnimationFrame=function(p){o.delete(p),e&&o.size==0&&(cancelAnimationFrame(e),e=0)},this.Rb=function(p){u&&(document.body.remove(u),u=null),p||(u=document.createElement("div"),u.style.backgroundColor="black",u.style.position="fixed",u.style.right=0,u.style.top=0,u.style.color="white",u.style.padding="4px",u.innerHTML="RIVE FPS",p=function(x){u.innerHTML="RIVE FPS "+x.toFixed(1)},document.body.appendChild(u)),s=new function(){let x=0,S=0;this.Tb=function(){var w=performance.now();S?(++x,w-=S,1e3<w&&(p(1e3*x/w),x=S=0)):(S=w,x=0)}}},this.Ob=function(){u&&(document.body.remove(u),u=null),s=null},this.ob=function(){}}function Y(t){console.assert(!0);const e=new Map;let i=-1/0;this.push=function(o){return o=o+((1<<t)-1)>>t,e.has(o)&&clearTimeout(e.get(o)),e.set(o,setTimeout(function(){e.delete(o),e.length==0?i=-1/0:o==i&&(i=Math.max(...e.keys()),console.assert(i<o))},1e3)),i=Math.max(o,i),i<<t}}const it=c.onRuntimeInitialized;c.onRuntimeInitialized=function(){it&&it();let t=c.decodeAudio;c.decodeAudio=function(s,u){s=t(s),u(s)};let e=c.decodeFont;c.decodeFont=function(s,u){s=e(s),u(s)};const i=c.FileAssetLoader;c.ptrToAsset=s=>{let u=c.ptrToFileAsset(s);return u.isImage?c.ptrToImageAsset(s):u.isFont?c.ptrToFontAsset(s):u.isAudio?c.ptrToAudioAsset(s):u},c.CustomFileAssetLoader=i.extend("CustomFileAssetLoader",{__construct:function({loadContents:s}){this.__parent.__construct.call(this),this.Gb=s},loadContents:function(s,u){return s=c.ptrToAsset(s),this.Gb(s,u)}}),c.CDNFileAssetLoader=i.extend("CDNFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this)},loadContents:function(s){let u=c.ptrToAsset(s);return s=u.cdnUuid,s===""?!1:(function(p,x){var S=new XMLHttpRequest;S.responseType="arraybuffer",S.onreadystatechange=function(){S.readyState==4&&S.status==200&&x(S)},S.open("GET",p,!0),S.send(null)}(u.cdnBaseUrl+"/"+s,p=>{u.decode(new Uint8Array(p.response))}),!0)}}),c.FallbackFileAssetLoader=i.extend("FallbackFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this),this.kb=[]},addLoader:function(s){this.kb.push(s)},loadContents:function(s,u){for(let p of this.kb)if(p.loadContents(s,u))return!0;return!1}});let o=c.computeAlignment;c.computeAlignment=function(s,u,p,x,S=1){return o.call(this,s,u,p,x,S)}};const X="createConicGradient createImageData createLinearGradient createPattern createRadialGradient getContextAttributes getImageData getLineDash getTransform isContextLost isPointInPath isPointInStroke measureText".split(" "),z=new function(){function t(){if(!e){let nt=function(at,W,St){if(W=k.createShader(W),k.shaderSource(W,St),k.compileShader(W),St=k.getShaderInfoLog(W),0<(St||"").length)throw St;k.attachShader(at,W)};var g=document.createElement("canvas"),M={alpha:1,depth:0,stencil:0,antialias:0,premultipliedAlpha:1,preserveDrawingBuffer:0,powerPreference:"high-performance",failIfMajorPerformanceCaveat:0,enableExtensionsByDefault:1,explicitSwapControl:1,renderViaOffscreenBackBuffer:1};let k;if(/iPhone|iPad|iPod/i.test(navigator.userAgent)){if(k=g.getContext("webgl",M),i=1,!k)return console.log("No WebGL support. Image mesh will not be drawn."),!1}else if(k=g.getContext("webgl2",M))i=2;else if(k=g.getContext("webgl",M))i=1;else return console.log("No WebGL support. Image mesh will not be drawn."),!1;if(k=new Proxy(k,{get(at,W){if(at.isContextLost()){if(S||(console.error("Cannot render the mesh because the GL Context was lost. Tried to invoke ",W),S=!0),typeof at[W]=="function")return function(){}}else return typeof at[W]=="function"?function(...St){return at[W].apply(at,St)}:at[W]},set(at,W,St){if(at.isContextLost())S||(console.error("Cannot render the mesh because the GL Context was lost. Tried to set property "+W),S=!0);else return at[W]=St,!0}}),o=Math.min(k.getParameter(k.MAX_RENDERBUFFER_SIZE),k.getParameter(k.MAX_TEXTURE_SIZE)),g=k.createProgram(),nt(g,k.VERTEX_SHADER,`attribute vec2 vertex;
                attribute vec2 uv;
                uniform vec4 mat;
                uniform vec2 translate;
                varying vec2 st;
                void main() {
                    st = uv;
                    gl_Position = vec4(mat2(mat) * vertex + translate, 0, 1);
                }`),nt(g,k.FRAGMENT_SHADER,`precision highp float;
                uniform sampler2D image;
                varying vec2 st;
                void main() {
                    gl_FragColor = texture2D(image, st);
                }`),k.bindAttribLocation(g,0,"vertex"),k.bindAttribLocation(g,1,"uv"),k.linkProgram(g),M=k.getProgramInfoLog(g),0<(M||"").trim().length)throw M;s=k.getUniformLocation(g,"mat"),u=k.getUniformLocation(g,"translate"),k.useProgram(g),k.bindBuffer(k.ARRAY_BUFFER,k.createBuffer()),k.enableVertexAttribArray(0),k.enableVertexAttribArray(1),k.bindBuffer(k.ELEMENT_ARRAY_BUFFER,k.createBuffer()),k.uniform1i(k.getUniformLocation(g,"image"),0),k.pixelStorei(k.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),e=k}return!0}let e=null,i=0,o=0,s=null,u=null,p=0,x=0,S=!1;t(),this.hc=function(){return t(),o},this.Mb=function(g){e.deleteTexture&&e.deleteTexture(g)},this.Lb=function(g){if(!t())return null;const M=e.createTexture();return M?(e.bindTexture(e.TEXTURE_2D,M),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,g),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),i==2?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR_MIPMAP_LINEAR),e.generateMipmap(e.TEXTURE_2D)):e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),M):null};const w=new Y(8),O=new Y(8),N=new Y(10),B=new Y(10);this.Qb=function(g,M,k,nt,at){if(t()){var W=w.push(g),St=O.push(M);if(e.canvas){(e.canvas.width!=W||e.canvas.height!=St)&&(e.canvas.width=W,e.canvas.height=St),e.viewport(0,St-M,g,M),e.disable(e.SCISSOR_TEST),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),e.enable(e.SCISSOR_TEST),k.sort((mt,oe)=>oe.wb-mt.wb),W=N.push(nt),p!=W&&(e.bufferData(e.ARRAY_BUFFER,8*W,e.DYNAMIC_DRAW),p=W),W=0;for(var Dt of k)e.bufferSubData(e.ARRAY_BUFFER,W,Dt.Ta),W+=4*Dt.Ta.length;console.assert(W==4*nt);for(var re of k)e.bufferSubData(e.ARRAY_BUFFER,W,re.Db),W+=4*re.Db.length;console.assert(W==8*nt),W=B.push(at),x!=W&&(e.bufferData(e.ELEMENT_ARRAY_BUFFER,2*W,e.DYNAMIC_DRAW),x=W),Dt=0;for(var Ee of k)e.bufferSubData(e.ELEMENT_ARRAY_BUFFER,Dt,Ee.indices),Dt+=2*Ee.indices.length;console.assert(Dt==2*at),Ee=0,re=!0,W=Dt=0;for(const mt of k){mt.image.Ka!=Ee&&(e.bindTexture(e.TEXTURE_2D,mt.image.Ja||null),Ee=mt.image.Ka),mt.mc?(e.scissor(mt.Ya,St-mt.Za-mt.jb,mt.Ac,mt.jb),re=!0):re&&(e.scissor(0,St-M,g,M),re=!1),k=2/g;const oe=-2/M;e.uniform4f(s,mt.ha[0]*k*mt.Ba,mt.ha[1]*oe*mt.Ca,mt.ha[2]*k*mt.Ba,mt.ha[3]*oe*mt.Ca),e.uniform2f(u,mt.ha[4]*k*mt.Ba+k*(mt.Ya-mt.ic*mt.Ba)-1,mt.ha[5]*oe*mt.Ca+oe*(mt.Za-mt.jc*mt.Ca)+1),e.vertexAttribPointer(0,2,e.FLOAT,!1,0,W),e.vertexAttribPointer(1,2,e.FLOAT,!1,0,W+4*nt),e.drawElements(e.TRIANGLES,mt.indices.length,e.UNSIGNED_SHORT,Dt),W+=4*mt.Ta.length,Dt+=2*mt.indices.length}console.assert(W==4*nt),console.assert(Dt==2*at)}}},this.canvas=function(){return t()&&e.canvas}},q=c.onRuntimeInitialized;c.onRuntimeInitialized=function(){function t(R){switch(R){case w.srcOver:return"source-over";case w.screen:return"screen";case w.overlay:return"overlay";case w.darken:return"darken";case w.lighten:return"lighten";case w.colorDodge:return"color-dodge";case w.colorBurn:return"color-burn";case w.hardLight:return"hard-light";case w.softLight:return"soft-light";case w.difference:return"difference";case w.exclusion:return"exclusion";case w.multiply:return"multiply";case w.hue:return"hue";case w.saturation:return"saturation";case w.color:return"color";case w.luminosity:return"luminosity"}}function e(R){return"rgba("+((16711680&R)>>>16)+","+((65280&R)>>>8)+","+((255&R)>>>0)+","+((4278190080&R)>>>24)/255+")"}function i(){0<St.length&&(z.Qb(W.drawWidth(),W.drawHeight(),St,Dt,re),St=[],re=Dt=0,W.reset(512,512));for(const R of at){for(const U of R.H)U();R.H=[]}at.clear()}q&&q();var o=c.RenderPaintStyle;const s=c.RenderPath,u=c.RenderPaint,p=c.Renderer,x=c.StrokeCap,S=c.StrokeJoin,w=c.BlendMode,O=o.fill,N=o.stroke,B=c.FillRule.evenOdd;let g=1;var M=c.RenderImage.extend("CanvasRenderImage",{__construct:function({la:R,xa:U}={}){this.__parent.__construct.call(this),this.Ka=g,g=g+1&2147483647||1,this.la=R,this.xa=U},__destruct:function(){this.Ja&&(z.Mb(this.Ja),URL.revokeObjectURL(this.Wa)),this.__parent.__destruct.call(this)},decode:function(R){var U=this;U.xa&&U.xa(U);var ft=new Image;U.Wa=URL.createObjectURL(new Blob([R],{type:"image/png"})),ft.onload=function(){U.Fb=ft,U.Ja=z.Lb(ft),U.size(ft.width,ft.height),U.la&&U.la(U)},ft.src=U.Wa}}),k=s.extend("CanvasRenderPath",{__construct:function(){this.__parent.__construct.call(this),this.T=new Path2D},rewind:function(){this.T=new Path2D},addPath:function(R,U,ft,pt,Q,bt,wt){var xt=this.T,Jt=xt.addPath;R=R.T;const Pt=new DOMMatrix;Pt.a=U,Pt.b=ft,Pt.c=pt,Pt.d=Q,Pt.e=bt,Pt.f=wt,Jt.call(xt,R,Pt)},fillRule:function(R){this.Va=R},moveTo:function(R,U){this.T.moveTo(R,U)},lineTo:function(R,U){this.T.lineTo(R,U)},cubicTo:function(R,U,ft,pt,Q,bt){this.T.bezierCurveTo(R,U,ft,pt,Q,bt)},close:function(){this.T.closePath()}}),nt=u.extend("CanvasRenderPaint",{color:function(R){this.Xa=e(R)},thickness:function(R){this.Ib=R},join:function(R){switch(R){case S.miter:this.Ia="miter";break;case S.round:this.Ia="round";break;case S.bevel:this.Ia="bevel"}},cap:function(R){switch(R){case x.butt:this.Ha="butt";break;case x.round:this.Ha="round";break;case x.square:this.Ha="square"}},style:function(R){this.Hb=R},blendMode:function(R){this.Eb=t(R)},clearGradient:function(){this.ja=null},linearGradient:function(R,U,ft,pt){this.ja={yb:R,zb:U,bb:ft,cb:pt,Ra:[]}},radialGradient:function(R,U,ft,pt){this.ja={yb:R,zb:U,bb:ft,cb:pt,Ra:[],ec:!0}},addStop:function(R,U){this.ja.Ra.push({color:R,stop:U})},completeGradient:function(){},draw:function(R,U,ft){let pt=this.Hb;var Q=this.Xa,bt=this.ja;if(R.globalCompositeOperation=this.Eb,bt!=null){Q=bt.yb;var wt=bt.zb;const Jt=bt.bb;var xt=bt.cb;const Pt=bt.Ra;bt.ec?(bt=Jt-Q,xt-=wt,Q=R.createRadialGradient(Q,wt,0,Q,wt,Math.sqrt(bt*bt+xt*xt))):Q=R.createLinearGradient(Q,wt,Jt,xt);for(let se=0,Ot=Pt.length;se<Ot;se++)wt=Pt[se],Q.addColorStop(wt.stop,e(wt.color));this.Xa=Q,this.ja=null}switch(pt){case N:R.strokeStyle=Q,R.lineWidth=this.Ib,R.lineCap=this.Ha,R.lineJoin=this.Ia,R.stroke(U);break;case O:R.fillStyle=Q,R.fill(U,ft)}}});const at=new Set;let W=null,St=[],Dt=0,re=0;var Ee=c.CanvasRenderer=p.extend("Renderer",{__construct:function(R){this.__parent.__construct.call(this),this.S=[1,0,0,1,0,0],this.C=R.getContext("2d"),this.Ua=R,this.H=[]},save:function(){this.S.push(...this.S.slice(this.S.length-6)),this.H.push(this.C.save.bind(this.C))},restore:function(){const R=this.S.length-6;if(6>R)throw"restore() called without matching save().";this.S.splice(R),this.H.push(this.C.restore.bind(this.C))},transform:function(R,U,ft,pt,Q,bt){const wt=this.S,xt=wt.length-6;wt.splice(xt,6,wt[xt]*R+wt[xt+2]*U,wt[xt+1]*R+wt[xt+3]*U,wt[xt]*ft+wt[xt+2]*pt,wt[xt+1]*ft+wt[xt+3]*pt,wt[xt]*Q+wt[xt+2]*bt+wt[xt+4],wt[xt+1]*Q+wt[xt+3]*bt+wt[xt+5]),this.H.push(this.C.transform.bind(this.C,R,U,ft,pt,Q,bt))},rotate:function(R){const U=Math.sin(R);R=Math.cos(R),this.transform(R,U,-U,R,0,0)},_drawPath:function(R,U){this.H.push(U.draw.bind(U,this.C,R.T,R.Va===B?"evenodd":"nonzero"))},_drawRiveImage:function(R,U,ft){var pt=R.Fb;if(pt){var Q=this.C,bt=t(U);this.H.push(function(){Q.globalCompositeOperation=bt,Q.globalAlpha=ft,Q.drawImage(pt,0,0),Q.globalAlpha=1})}},_getMatrix:function(R){const U=this.S,ft=U.length-6;for(let pt=0;6>pt;++pt)R[pt]=U[ft+pt]},_drawImageMesh:function(R,U,ft,pt,Q,bt,wt,xt,Jt,Pt){var se=this.C.canvas.width,Ot=this.C.canvas.height;const nr=Jt-wt,ir=Pt-xt;wt=Math.max(wt,0),xt=Math.max(xt,0),Jt=Math.min(Jt,se),Pt=Math.min(Pt,Ot);const Je=Jt-wt,Ke=Pt-xt;if(console.assert(Je<=Math.min(nr,se)),console.assert(Ke<=Math.min(ir,Ot)),!(0>=Je||0>=Ke)){Jt=Je<nr||Ke<ir,se=Pt=1;var Ie=Math.ceil(Je*Pt),Te=Math.ceil(Ke*se);Ot=z.hc(),Ie>Ot&&(Pt*=Ot/Ie,Ie=Ot),Te>Ot&&(se*=Ot/Te,Te=Ot),W||(W=new c.DynamicRectanizer(Ot),W.reset(512,512)),Ot=W.addRect(Ie,Te),0>Ot&&(i(),at.add(this),Ot=W.addRect(Ie,Te),console.assert(0<=Ot));var rr=Ot&65535,or=Ot>>16;St.push({ha:this.S.slice(this.S.length-6),image:R,Ya:rr,Za:or,ic:wt,jc:xt,Ac:Ie,jb:Te,Ba:Pt,Ca:se,Ta:new Float32Array(pt),Db:new Float32Array(Q),indices:new Uint16Array(bt),mc:Jt,wb:R.Ka<<1|(Jt?1:0)}),Dt+=pt.length,re+=bt.length;var Ne=this.C,Jr=t(U);this.H.push(function(){Ne.save(),Ne.resetTransform(),Ne.globalCompositeOperation=Jr,Ne.globalAlpha=ft;const sr=z.canvas();sr&&Ne.drawImage(sr,rr,or,Ie,Te,wt,xt,Je,Ke),Ne.restore()})}},_clipPath:function(R){this.H.push(this.C.clip.bind(this.C,R.T,R.Va===B?"evenodd":"nonzero"))},clear:function(){at.add(this),this.H.push(this.C.clearRect.bind(this.C,0,0,this.Ua.width,this.Ua.height))},flush:function(){},translate:function(R,U){this.transform(1,0,0,1,R,U)}});c.makeRenderer=function(R){const U=new Ee(R),ft=U.C;return new Proxy(U,{get(pt,Q){if(typeof pt[Q]=="function")return function(...bt){return pt[Q].apply(pt,bt)};if(typeof ft[Q]=="function"){if(-1<X.indexOf(Q))throw Error("RiveException: Method call to '"+Q+"()' is not allowed, as the renderer cannot immediately pass through the return                 values of any canvas 2d context methods.");return function(...bt){U.H.push(ft[Q].bind(ft,...bt))}}return pt[Q]},set(pt,Q,bt){if(Q in ft)return U.H.push(()=>{ft[Q]=bt}),!0}})},c.decodeImage=function(R,U){new M({la:U}).decode(R)},c.renderFactory={makeRenderPaint:function(){return new nt},makeRenderPath:function(){return new k},makeRenderImage:function(){let R=oe;return new M({xa:()=>{R.total++},la:()=>{if(R.loaded++,R.loaded===R.total){const U=R.ready;U&&(U(),R.ready=null)}}})}};let mt=c.load,oe=null;c.load=function(R,U,ft=!0){const pt=new c.FallbackFileAssetLoader;return U!==void 0&&pt.addLoader(U),ft&&(U=new c.CDNFileAssetLoader,pt.addLoader(U)),new Promise(function(Q){let bt=null;oe={total:0,loaded:0,ready:function(){Q(bt)}},bt=mt(R,pt),oe.total==0&&Q(bt)})};let Gr=c.RendererWrapper.prototype.align;c.RendererWrapper.prototype.align=function(R,U,ft,pt,Q=1){Gr.call(this,R,U,ft,pt,Q)},o=new $,c.requestAnimationFrame=o.requestAnimationFrame.bind(o),c.cancelAnimationFrame=o.cancelAnimationFrame.bind(o),c.enableFPSCounter=o.Rb.bind(o),c.disableFPSCounter=o.Ob,o.ob=i,c.resolveAnimationFrame=i,c.cleanup=function(){W&&W.delete()}};var j=Object.assign({},c),vt="./this.program",st=typeof window=="object",gt=typeof importScripts=="function",rt="",yt,lt;(st||gt)&&(gt?rt=self.location.href:typeof document<"u"&&document.currentScript&&(rt=document.currentScript.src),L&&(rt=L),rt.indexOf("blob:")!==0?rt=rt.substr(0,rt.replace(/[?#].*/,"").lastIndexOf("/")+1):rt="",gt&&(lt=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),yt=(t,e,i)=>{var o=new XMLHttpRequest;o.open("GET",t,!0),o.responseType="arraybuffer",o.onload=()=>{o.status==200||o.status==0&&o.response?e(o.response):i()},o.onerror=i,o.send(null)});var Lt=c.print||console.log.bind(console),At=c.printErr||console.error.bind(console);Object.assign(c,j),j=null,c.thisProgram&&(vt=c.thisProgram);var $t;c.wasmBinary&&($t=c.wasmBinary),typeof WebAssembly!="object"&&Ct("no native wasm support detected");var Xt,ut,Vt=!1,_t,dt,Tt,jt,ht,tt,d,r;function l(){var t=Xt.buffer;c.HEAP8=_t=new Int8Array(t),c.HEAP16=Tt=new Int16Array(t),c.HEAP32=ht=new Int32Array(t),c.HEAPU8=dt=new Uint8Array(t),c.HEAPU16=jt=new Uint16Array(t),c.HEAPU32=tt=new Uint32Array(t),c.HEAPF32=d=new Float32Array(t),c.HEAPF64=r=new Float64Array(t)}var y,_=[],P=[],F=[];function Z(){var t=c.preRun.shift();_.unshift(t)}var ot=0,G=null;function Ct(t){throw c.onAbort&&c.onAbort(t),t="Aborted("+t+")",At(t),Vt=!0,t=new WebAssembly.RuntimeError(t+". Build with -sASSERTIONS for more info."),K(t),t}function Rt(t){return t.startsWith("data:application/octet-stream;base64,")}var kt;if(kt="canvas_advanced.wasm",!Rt(kt)){var Mt=kt;kt=c.locateFile?c.locateFile(Mt,rt):rt+Mt}function be(t){if(t==kt&&$t)return new Uint8Array($t);if(lt)return lt(t);throw"both async and sync fetching of the wasm failed"}function Zt(t){if(!$t&&(st||gt)){if(typeof fetch=="function"&&!t.startsWith("file://"))return fetch(t,{credentials:"same-origin"}).then(e=>{if(!e.ok)throw"failed to load wasm binary file at '"+t+"'";return e.arrayBuffer()}).catch(()=>be(t));if(yt)return new Promise((e,i)=>{yt(t,o=>e(new Uint8Array(o)),i)})}return Promise.resolve().then(()=>be(t))}function we(t,e,i){return Zt(t).then(o=>WebAssembly.instantiate(o,e)).then(o=>o).then(i,o=>{At("failed to asynchronously prepare wasm: "+o),Ct(o)})}function rn(t,e){var i=kt;return $t||typeof WebAssembly.instantiateStreaming!="function"||Rt(i)||i.startsWith("file://")||typeof fetch!="function"?we(i,t,e):fetch(i,{credentials:"same-origin"}).then(o=>WebAssembly.instantiateStreaming(o,t).then(e,function(s){return At("wasm streaming compile failed: "+s),At("falling back to ArrayBuffer instantiation"),we(i,t,e)}))}var he,Me,$e={446236:(t,e,i,o,s)=>{if(typeof window>"u"||(window.AudioContext||window.webkitAudioContext)===void 0)return 0;if(typeof window.h>"u"){window.h={Aa:0},window.h.I={},window.h.I.ya=t,window.h.I.capture=e,window.h.I.La=i,window.h.ga={},window.h.ga.stopped=o,window.h.ga.xb=s;let u=window.h;u.D=[],u.yc=function(p){for(var x=0;x<u.D.length;++x)if(u.D[x]==null)return u.D[x]=p,x;return u.D.push(p),u.D.length-1},u.Cb=function(p){for(u.D[p]=null;0<u.D.length&&u.D[u.D.length-1]==null;)u.D.pop()},u.Sc=function(p){for(var x=0;x<u.D.length;++x)if(u.D[x]==p)return u.Cb(x)},u.ra=function(p){return u.D[p]},u.Bb=["touchend","click"],u.unlock=function(){for(var p=0;p<u.D.length;++p){var x=u.D[p];x!=null&&x.J!=null&&x.state===u.ga.xb&&x.J.resume().then(()=>{Ji(x.pb)},S=>{console.error("Failed to resume audiocontext",S)})}u.Bb.map(function(S){document.removeEventListener(S,u.unlock,!0)})},u.Bb.map(function(p){document.addEventListener(p,u.unlock,!0)})}return window.h.Aa+=1,1},448414:()=>{typeof window.h<"u"&&(--window.h.Aa,window.h.Aa===0&&delete window.h)},448578:()=>navigator.mediaDevices!==void 0&&navigator.mediaDevices.getUserMedia!==void 0,448682:()=>{try{var t=new(window.AudioContext||window.webkitAudioContext),e=t.sampleRate;return t.close(),e}catch{return 0}},448853:(t,e,i,o,s,u)=>{if(typeof window.h>"u")return-1;var p={},x={};return t==window.h.I.ya&&i!=0&&(x.sampleRate=i),p.J=new(window.AudioContext||window.webkitAudioContext)(x),p.J.suspend(),p.state=window.h.ga.stopped,i=0,t!=window.h.I.ya&&(i=e),p.Z=p.J.createScriptProcessor(o,i,e),p.Z.onaudioprocess=function(S){if((p.sa==null||p.sa.length==0)&&(p.sa=new Float32Array(d.buffer,s,o*e)),t==window.h.I.capture||t==window.h.I.La){for(var w=0;w<e;w+=1)for(var O=S.inputBuffer.getChannelData(w),N=p.sa,B=0;B<o;B+=1)N[B*e+w]=O[B];Ki(u,o,s)}if(t==window.h.I.ya||t==window.h.I.La)for(Zi(u,o,s),w=0;w<S.outputBuffer.numberOfChannels;++w)for(O=S.outputBuffer.getChannelData(w),N=p.sa,B=0;B<o;B+=1)O[B]=N[B*e+w];else for(w=0;w<S.outputBuffer.numberOfChannels;++w)S.outputBuffer.getChannelData(w).fill(0)},t!=window.h.I.capture&&t!=window.h.I.La||navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(S){p.Da=p.J.createMediaStreamSource(S),p.Da.connect(p.Z),p.Z.connect(p.J.destination)}).catch(function(S){console.log("Failed to get user media: "+S)}),t==window.h.I.ya&&p.Z.connect(p.J.destination),p.pb=u,window.h.yc(p)},451730:t=>window.h.ra(t).J.sampleRate,451803:t=>{t=window.h.ra(t),t.Z!==void 0&&(t.Z.onaudioprocess=function(){},t.Z.disconnect(),t.Z=void 0),t.Da!==void 0&&(t.Da.disconnect(),t.Da=void 0),t.J.close(),t.J=void 0,t.pb=void 0},452203:t=>{window.h.Cb(t)},452253:t=>{t=window.h.ra(t),t.J.resume(),t.state=window.h.ga.xb},452392:t=>{t=window.h.ra(t),t.J.suspend(),t.state=window.h.ga.stopped}},fe=t=>{for(;0<t.length;)t.shift()(c)},Oe=(t,e)=>{for(var i=0,o=t.length-1;0<=o;o--){var s=t[o];s==="."?t.splice(o,1):s===".."?(t.splice(o,1),i++):i&&(t.splice(o,1),i--)}if(e)for(;i;i--)t.unshift("..");return t},qt=t=>{var e=t.charAt(0)==="/",i=t.substr(-1)==="/";return(t=Oe(t.split("/").filter(o=>!!o),!e).join("/"))||e||(t="."),t&&i&&(t+="/"),(e?"/":"")+t},br=t=>{var e=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(t).slice(1);return t=e[0],e=e[1],!t&&!e?".":(e&&(e=e.substr(0,e.length-1)),t+e)},ai=t=>{if(t==="/")return"/";t=qt(t),t=t.replace(/\/$/,"");var e=t.lastIndexOf("/");return e===-1?t:t.substr(e+1)},wr=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return t=>crypto.getRandomValues(t);Ct("initRandomDevice")},li=t=>(li=wr())(t);function on(){for(var t="",e=!1,i=arguments.length-1;-1<=i&&!e;i--){if(e=0<=i?arguments[i]:"/",typeof e!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!e)return"";t=e+"/"+t,e=e.charAt(0)==="/"}return t=Oe(t.split("/").filter(o=>!!o),!e).join("/"),(e?"/":"")+t||"."}var ci=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Ce=(t,e,i)=>{var o=e+i;for(i=e;t[i]&&!(i>=o);)++i;if(16<i-e&&t.buffer&&ci)return ci.decode(t.subarray(e,i));for(o="";e<i;){var s=t[e++];if(s&128){var u=t[e++]&63;if((s&224)==192)o+=String.fromCharCode((s&31)<<6|u);else{var p=t[e++]&63;s=(s&240)==224?(s&15)<<12|u<<6|p:(s&7)<<18|u<<12|p<<6|t[e++]&63,65536>s?o+=String.fromCharCode(s):(s-=65536,o+=String.fromCharCode(55296|s>>10,56320|s&1023))}}else o+=String.fromCharCode(s)}return o},Dn=[],ui=t=>{for(var e=0,i=0;i<t.length;++i){var o=t.charCodeAt(i);127>=o?e++:2047>=o?e+=2:55296<=o&&57343>=o?(e+=4,++i):e+=3}return e},di=(t,e,i,o)=>{if(!(0<o))return 0;var s=i;o=i+o-1;for(var u=0;u<t.length;++u){var p=t.charCodeAt(u);if(55296<=p&&57343>=p){var x=t.charCodeAt(++u);p=65536+((p&1023)<<10)|x&1023}if(127>=p){if(i>=o)break;e[i++]=p}else{if(2047>=p){if(i+1>=o)break;e[i++]=192|p>>6}else{if(65535>=p){if(i+2>=o)break;e[i++]=224|p>>12}else{if(i+3>=o)break;e[i++]=240|p>>18,e[i++]=128|p>>12&63}e[i++]=128|p>>6&63}e[i++]=128|p&63}}return e[i]=0,i-s};function hi(t,e){var i=Array(ui(t)+1);return t=di(t,i,0,i.length),e&&(i.length=t),i}var fi=[];function pi(t,e){fi[t]={input:[],F:[],V:e},Wn(t,Cr)}var Cr={open:function(t){var e=fi[t.node.za];if(!e)throw new H(43);t.s=e,t.seekable=!1},close:function(t){t.s.V.qa(t.s)},qa:function(t){t.s.V.qa(t.s)},read:function(t,e,i,o){if(!t.s||!t.s.V.ib)throw new H(60);for(var s=0,u=0;u<o;u++){try{var p=t.s.V.ib(t.s)}catch{throw new H(29)}if(p===void 0&&s===0)throw new H(6);if(p==null)break;s++,e[i+u]=p}return s&&(t.node.timestamp=Date.now()),s},write:function(t,e,i,o){if(!t.s||!t.s.V.Oa)throw new H(60);try{for(var s=0;s<o;s++)t.s.V.Oa(t.s,e[i+s])}catch{throw new H(29)}return o&&(t.node.timestamp=Date.now()),s}},xr={ib:function(){t:{if(!Dn.length){var t=null;if(typeof window<"u"&&typeof window.prompt=="function"?(t=window.prompt("Input: "),t!==null&&(t+=`
`)):typeof readline=="function"&&(t=readline(),t!==null&&(t+=`
`)),!t){t=null;break t}Dn=hi(t,!0)}t=Dn.shift()}return t},Oa:function(t,e){e===null||e===10?(Lt(Ce(t.F,0)),t.F=[]):e!=0&&t.F.push(e)},qa:function(t){t.F&&0<t.F.length&&(Lt(Ce(t.F,0)),t.F=[])},bc:function(){return{Fc:25856,Hc:5,Ec:191,Gc:35387,Dc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},cc:function(){return 0},dc:function(){return[24,80]}},Ar={Oa:function(t,e){e===null||e===10?(At(Ce(t.F,0)),t.F=[]):e!=0&&t.F.push(e)},qa:function(t){t.F&&0<t.F.length&&(At(Ce(t.F,0)),t.F=[])}};function gi(t,e){var i=t.j?t.j.length:0;i>=e||(e=Math.max(e,i*(1048576>i?2:1.125)>>>0),i!=0&&(e=Math.max(e,256)),i=t.j,t.j=new Uint8Array(e),0<t.v&&t.j.set(i.subarray(0,t.v),0))}var ct={O:null,U(){return ct.createNode(null,"/",16895,0)},createNode(t,e,i,o){if((i&61440)===24576||(i&61440)===4096)throw new H(63);return ct.O||(ct.O={dir:{node:{Y:ct.l.Y,P:ct.l.P,ka:ct.l.ka,va:ct.l.va,ub:ct.l.ub,Ab:ct.l.Ab,vb:ct.l.vb,sb:ct.l.sb,Ea:ct.l.Ea},stream:{ba:ct.m.ba}},file:{node:{Y:ct.l.Y,P:ct.l.P},stream:{ba:ct.m.ba,read:ct.m.read,write:ct.m.write,pa:ct.m.pa,lb:ct.m.lb,nb:ct.m.nb}},link:{node:{Y:ct.l.Y,P:ct.l.P,ma:ct.l.ma},stream:{}},$a:{node:{Y:ct.l.Y,P:ct.l.P},stream:Er}}),i=wi(t,e,i,o),(i.mode&61440)===16384?(i.l=ct.O.dir.node,i.m=ct.O.dir.stream,i.j={}):(i.mode&61440)===32768?(i.l=ct.O.file.node,i.m=ct.O.file.stream,i.v=0,i.j=null):(i.mode&61440)===40960?(i.l=ct.O.link.node,i.m=ct.O.link.stream):(i.mode&61440)===8192&&(i.l=ct.O.$a.node,i.m=ct.O.$a.stream),i.timestamp=Date.now(),t&&(t.j[e]=i,t.timestamp=i.timestamp),i},Kc(t){return t.j?t.j.subarray?t.j.subarray(0,t.v):new Uint8Array(t.j):new Uint8Array(0)},l:{Y(t){var e={};return e.Jc=(t.mode&61440)===8192?t.id:1,e.Mc=t.id,e.mode=t.mode,e.Oc=1,e.uid=0,e.Lc=0,e.za=t.za,(t.mode&61440)===16384?e.size=4096:(t.mode&61440)===32768?e.size=t.v:(t.mode&61440)===40960?e.size=t.link.length:e.size=0,e.Bc=new Date(t.timestamp),e.Nc=new Date(t.timestamp),e.Ic=new Date(t.timestamp),e.Jb=4096,e.Cc=Math.ceil(e.size/e.Jb),e},P(t,e){if(e.mode!==void 0&&(t.mode=e.mode),e.timestamp!==void 0&&(t.timestamp=e.timestamp),e.size!==void 0&&(e=e.size,t.v!=e))if(e==0)t.j=null,t.v=0;else{var i=t.j;t.j=new Uint8Array(e),i&&t.j.set(i.subarray(0,Math.min(e,t.v))),t.v=e}},ka(){throw Nn[44]},va(t,e,i,o){return ct.createNode(t,e,i,o)},ub(t,e,i){if((t.mode&61440)===16384){try{var o=an(e,i)}catch{}if(o)for(var s in o.j)throw new H(55)}delete t.parent.j[t.name],t.parent.timestamp=Date.now(),t.name=i,e.j[i]=t,e.timestamp=t.parent.timestamp,t.parent=e},Ab(t,e){delete t.j[e],t.timestamp=Date.now()},vb(t,e){var i=an(t,e),o;for(o in i.j)throw new H(55);delete t.j[e],t.timestamp=Date.now()},sb(t){var e=[".",".."],i;for(i in t.j)t.j.hasOwnProperty(i)&&e.push(i);return e},Ea(t,e,i){return t=ct.createNode(t,e,41471,0),t.link=i,t},ma(t){if((t.mode&61440)!==40960)throw new H(28);return t.link}},m:{read(t,e,i,o,s){var u=t.node.j;if(s>=t.node.v)return 0;if(t=Math.min(t.node.v-s,o),8<t&&u.subarray)e.set(u.subarray(s,s+t),i);else for(o=0;o<t;o++)e[i+o]=u[s+o];return t},write(t,e,i,o,s,u){if(e.buffer===_t.buffer&&(u=!1),!o)return 0;if(t=t.node,t.timestamp=Date.now(),e.subarray&&(!t.j||t.j.subarray)){if(u)return t.j=e.subarray(i,i+o),t.v=o;if(t.v===0&&s===0)return t.j=e.slice(i,i+o),t.v=o;if(s+o<=t.v)return t.j.set(e.subarray(i,i+o),s),o}if(gi(t,s+o),t.j.subarray&&e.subarray)t.j.set(e.subarray(i,i+o),s);else for(u=0;u<o;u++)t.j[s+u]=e[i+u];return t.v=Math.max(t.v,s+o),o},ba(t,e,i){if(i===1?e+=t.position:i===2&&(t.node.mode&61440)===32768&&(e+=t.node.v),0>e)throw new H(28);return e},pa(t,e,i){gi(t.node,e+i),t.node.v=Math.max(t.node.v,e+i)},lb(t,e,i,o,s){if((t.node.mode&61440)!==32768)throw new H(43);if(t=t.node.j,s&2||t.buffer!==_t.buffer){if((0<i||i+e<t.length)&&(t.subarray?t=t.subarray(i,i+e):t=Array.prototype.slice.call(t,i,i+e)),i=!0,Ct(),e=void 0,!e)throw new H(48);_t.set(t,e)}else i=!1,e=t.byteOffset;return{o:e,M:i}},nb(t,e,i,o){return ct.m.write(t,e,0,o,i,!1),0}}};function Sr(t,e){var i=0;return t&&(i|=365),e&&(i|=146),i}var jn=null,vi={},sn=[],_r=1,Be=null,mi=!0,H=null,Nn={},Se=(t,e={})=>{if(t=on(t),!t)return{path:"",node:null};if(e=Object.assign({gb:!0,Qa:0},e),8<e.Qa)throw new H(32);t=t.split("/").filter(p=>!!p);for(var i=jn,o="/",s=0;s<t.length;s++){var u=s===t.length-1;if(u&&e.parent)break;if(i=an(i,t[s]),o=qt(o+"/"+t[s]),i.wa&&(!u||u&&e.gb)&&(i=i.wa.root),!u||e.fb){for(u=0;(i.mode&61440)===40960;)if(i=Ir(o),o=on(br(o),i),i=Se(o,{Qa:e.Qa+1}).node,40<u++)throw new H(32)}}return{path:o,node:i}},yi=t=>{for(var e;;){if(t===t.parent)return t=t.U.mb,e?t[t.length-1]!=="/"?`${t}/${e}`:t+e:t;e=e?`${t.name}/${e}`:t.name,t=t.parent}},bi=(t,e)=>{for(var i=0,o=0;o<e.length;o++)i=(i<<5)-i+e.charCodeAt(o)|0;return(t+i>>>0)%Be.length},an=(t,e)=>{var i;if(i=(i=ln(t,"x"))?i:t.l.ka?0:2)throw new H(i,t);for(i=Be[bi(t.id,e)];i;i=i.lc){var o=i.name;if(i.parent.id===t.id&&o===e)return i}return t.l.ka(t,e)},wi=(t,e,i,o)=>(t=new Vi(t,e,i,o),e=bi(t.parent.id,t.name),t.lc=Be[e],Be[e]=t),Ci=t=>{var e=["r","w","rw"][t&3];return t&512&&(e+="w"),e},ln=(t,e)=>{if(mi)return 0;if(!e.includes("r")||t.mode&292){if(e.includes("w")&&!(t.mode&146)||e.includes("x")&&!(t.mode&73))return 2}else return 2;return 0},xi=(t,e)=>{try{return an(t,e),20}catch{}return ln(t,"wx")},Lr=()=>{for(var t=0;4096>=t;t++)if(!sn[t])return t;throw new H(33)},xe=t=>{if(t=sn[t],!t)throw new H(8);return t},Ai=(t,e=-1)=>(He||(He=function(){this.h={}},He.prototype={},Object.defineProperties(He.prototype,{object:{get(){return this.node},set(i){this.node=i}},flags:{get(){return this.h.flags},set(i){this.h.flags=i}},position:{get(){return this.h.position},set(i){this.h.position=i}}})),t=Object.assign(new He,t),e==-1&&(e=Lr()),t.X=e,sn[e]=t),Er={open:t=>{t.m=vi[t.node.za].m,t.m.open&&t.m.open(t)},ba:()=>{throw new H(70)}},Wn=(t,e)=>{vi[t]={m:e}},Si=(t,e)=>{var i=e==="/",o=!e;if(i&&jn)throw new H(10);if(!i&&!o){var s=Se(e,{gb:!1});if(e=s.path,s=s.node,s.wa)throw new H(10);if((s.mode&61440)!==16384)throw new H(54)}e={type:t,Qc:{},mb:e,kc:[]},t=t.U(e),t.U=e,e.root=t,i?jn=t:s&&(s.wa=e,s.U&&s.U.kc.push(e))},Qt=(t,e,i)=>{var o=Se(t,{parent:!0}).node;if(t=ai(t),!t||t==="."||t==="..")throw new H(28);var s=xi(o,t);if(s)throw new H(s);if(!o.l.va)throw new H(63);return o.l.va(o,t,e,i)},cn=(t,e,i)=>{typeof i>"u"&&(i=e,e=438),Qt(t,e|8192,i)},$n=(t,e)=>{if(!on(t))throw new H(44);var i=Se(e,{parent:!0}).node;if(!i)throw new H(44);e=ai(e);var o=xi(i,e);if(o)throw new H(o);if(!i.l.Ea)throw new H(63);i.l.Ea(i,e,t)},Ir=t=>{if(t=Se(t).node,!t)throw new H(44);if(!t.l.ma)throw new H(28);return on(yi(t.parent),t.l.ma(t))},un=(t,e,i)=>{if(t==="")throw new H(44);if(typeof e=="string"){var o={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[e];if(typeof o>"u")throw Error(`Unknown file open mode: ${e}`);e=o}if(i=e&64?(typeof i>"u"?438:i)&4095|32768:0,typeof t=="object")var s=t;else{t=qt(t);try{s=Se(t,{fb:!(e&131072)}).node}catch{}}if(o=!1,e&64)if(s){if(e&128)throw new H(20)}else s=Qt(t,i,0),o=!0;if(!s)throw new H(44);if((s.mode&61440)===8192&&(e&=-513),e&65536&&(s.mode&61440)!==16384)throw new H(54);if(!o&&(i=s?(s.mode&61440)===40960?32:(s.mode&61440)===16384&&(Ci(e)!=="r"||e&512)?31:ln(s,Ci(e)):44))throw new H(i);if(e&512&&!o){if(i=s,i=typeof i=="string"?Se(i,{fb:!0}).node:i,!i.l.P)throw new H(63);if((i.mode&61440)===16384)throw new H(31);if((i.mode&61440)!==32768)throw new H(28);if(o=ln(i,"w"))throw new H(o);i.l.P(i,{size:0,timestamp:Date.now()})}return e&=-131713,s=Ai({node:s,path:yi(s),flags:e,seekable:!0,position:0,m:s.m,zc:[],error:!1}),s.m.open&&s.m.open(s),!c.logReadFiles||e&1||(dn||(dn={}),t in dn||(dn[t]=1)),s},_i=(t,e,i)=>{if(t.X===null)throw new H(8);if(!t.seekable||!t.m.ba)throw new H(70);if(i!=0&&i!=1&&i!=2)throw new H(28);t.position=t.m.ba(t,e,i),t.zc=[]},Li=()=>{H||(H=function(t,e){this.name="ErrnoError",this.node=e,this.pc=function(i){this.aa=i},this.pc(t),this.message="FS error"},H.prototype=Error(),H.prototype.constructor=H,[44].forEach(t=>{Nn[t]=new H(t),Nn[t].stack="<generic error, no stack>"}))},Ei,Ue=(t,e,i)=>{t=qt("/dev/"+t);var o=Sr(!!e,!!i);Bn||(Bn=64);var s=Bn++<<8|0;Wn(s,{open:u=>{u.seekable=!1},close:()=>{i&&i.buffer&&i.buffer.length&&i(10)},read:(u,p,x,S)=>{for(var w=0,O=0;O<S;O++){try{var N=e()}catch{throw new H(29)}if(N===void 0&&w===0)throw new H(6);if(N==null)break;w++,p[x+O]=N}return w&&(u.node.timestamp=Date.now()),w},write:(u,p,x,S)=>{for(var w=0;w<S;w++)try{i(p[x+w])}catch{throw new H(29)}return S&&(u.node.timestamp=Date.now()),w}}),cn(t,o,s)},Bn,_e={},He,dn,ze=void 0;function pe(){return ze+=4,ht[ze-4>>2]}function Ii(t){if(t===void 0)return"_unknown";t=t.replace(/[^a-zA-Z0-9_]/g,"$");var e=t.charCodeAt(0);return 48<=e&&57>=e?`_${t}`:t}function hn(t,e){return t=Ii(t),{[t]:function(){return e.apply(this,arguments)}}[t]}function Ti(){this.M=[void 0],this.hb=[]}var Gt=new Ti,Fe=void 0;function et(t){throw new Fe(t)}var te=t=>(t||et("Cannot use deleted val. handle = "+t),Gt.get(t).value),ne=t=>{switch(t){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return Gt.pa({tb:1,value:t})}};function Pi(t){var e=Error,i=hn(t,function(o){this.name=t,this.message=o,o=Error(o).stack,o!==void 0&&(this.stack=this.toString()+`
`+o.replace(/^Error(:[^\n]*)?\n/,""))});return i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},i}var Ri=void 0,ki=void 0;function Et(t){for(var e="";dt[t];)e+=ki[dt[t++]];return e}var Xe=[];function Un(){for(;Xe.length;){var t=Xe.pop();t.g.fa=!1,t.delete()}}var Ye=void 0,ge={};function Hn(t,e){for(e===void 0&&et("ptr should not be undefined");t.A;)e=t.na(e),t=t.A;return e}var Le={};function Mi(t){t=tr(t);var e=Et(t);return ye(t),e}function Ve(t,e){var i=Le[t];return i===void 0&&et(e+" has unknown type "+Mi(t)),i}function fn(){}var zn=!1;function Oi(t){--t.count.value,t.count.value===0&&(t.G?t.L.W(t.G):t.u.i.W(t.o))}function Fi(t,e,i){return e===i?t:i.A===void 0?null:(t=Fi(t,e,i.A),t===null?null:i.Pb(t))}var Di={};function Tr(t,e){return e=Hn(t,e),ge[e]}var ji=void 0;function pn(t){throw new ji(t)}function gn(t,e){return e.u&&e.o||pn("makeClassHandle requires ptr and ptrType"),!!e.L!=!!e.G&&pn("Both smartPtrType and smartPtr must be specified"),e.count={value:1},De(Object.create(t,{g:{value:e}}))}function De(t){return typeof FinalizationRegistry>"u"?(De=e=>e,t):(zn=new FinalizationRegistry(e=>{Oi(e.g)}),De=e=>{var i=e.g;return i.G&&zn.register(e,{g:i},e),e},fn=e=>{zn.unregister(e)},De(t))}var vn={};function qe(t){for(;t.length;){var e=t.pop();t.pop()(e)}}function Ge(t){return this.fromWireType(ht[t>>2])}var je={},mn={};function Yt(t,e,i){function o(x){x=i(x),x.length!==t.length&&pn("Mismatched type converter count");for(var S=0;S<t.length;++S)ie(t[S],x[S])}t.forEach(function(x){mn[x]=e});var s=Array(e.length),u=[],p=0;e.forEach((x,S)=>{Le.hasOwnProperty(x)?s[S]=Le[x]:(u.push(x),je.hasOwnProperty(x)||(je[x]=[]),je[x].push(()=>{s[S]=Le[x],++p,p===u.length&&o(s)}))}),u.length===0&&o(s)}function yn(t){switch(t){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError(`Unknown type size: ${t}`)}}function Pr(t,e,i={}){var o=e.name;if(t||et(`type "${o}" must have a positive integer typeid pointer`),Le.hasOwnProperty(t)){if(i.$b)return;et(`Cannot register type '${o}' twice`)}Le[t]=e,delete mn[t],je.hasOwnProperty(t)&&(e=je[t],delete je[t],e.forEach(s=>s()))}function ie(t,e,i={}){if(!("argPackAdvance"in e))throw new TypeError("registerType registeredInstance requires argPackAdvance");Pr(t,e,i)}function Xn(t){et(t.g.u.i.name+" instance already deleted")}function Ae(){}function Yn(t,e,i){if(t[e].B===void 0){var o=t[e];t[e]=function(){return t[e].B.hasOwnProperty(arguments.length)||et(`Function '${i}' called with an invalid number of arguments (${arguments.length}) - expects one of (${t[e].B})!`),t[e].B[arguments.length].apply(this,arguments)},t[e].B=[],t[e].B[o.ea]=o}}function Vn(t,e,i){c.hasOwnProperty(t)?((i===void 0||c[t].B!==void 0&&c[t].B[i]!==void 0)&&et(`Cannot register public name '${t}' twice`),Yn(c,t,t),c.hasOwnProperty(i)&&et(`Cannot register multiple overloads of a function with the same number of arguments (${i})!`),c[t].B[i]=e):(c[t]=e,i!==void 0&&(c[t].Pc=i))}function Rr(t,e,i,o,s,u,p,x){this.name=t,this.constructor=e,this.N=i,this.W=o,this.A=s,this.Ub=u,this.na=p,this.Pb=x,this.qb=[]}function bn(t,e,i){for(;e!==i;)e.na||et(`Expected null or instance of ${i.name}, got an instance of ${e.name}`),t=e.na(t),e=e.A;return t}function kr(t,e){return e===null?(this.Na&&et(`null is not a valid ${this.name}`),0):(e.g||et(`Cannot pass "${Gn(e)}" as a ${this.name}`),e.g.o||et(`Cannot pass deleted object as a pointer of type ${this.name}`),bn(e.g.o,e.g.u.i,this.i))}function Mr(t,e){if(e===null){if(this.Na&&et(`null is not a valid ${this.name}`),this.ua){var i=this.Pa();return t!==null&&t.push(this.W,i),i}return 0}if(e.g||et(`Cannot pass "${Gn(e)}" as a ${this.name}`),e.g.o||et(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.ta&&e.g.u.ta&&et(`Cannot convert argument of type ${e.g.L?e.g.L.name:e.g.u.name} to parameter type ${this.name}`),i=bn(e.g.o,e.g.u.i,this.i),this.ua)switch(e.g.G===void 0&&et("Passing raw pointer to smart pointer is illegal"),this.tc){case 0:e.g.L===this?i=e.g.G:et(`Cannot convert argument of type ${e.g.L?e.g.L.name:e.g.u.name} to parameter type ${this.name}`);break;case 1:i=e.g.G;break;case 2:if(e.g.L===this)i=e.g.G;else{var o=e.clone();i=this.oc(i,ne(function(){o.delete()})),t!==null&&t.push(this.W,i)}break;default:et("Unsupporting sharing policy")}return i}function Or(t,e){return e===null?(this.Na&&et(`null is not a valid ${this.name}`),0):(e.g||et(`Cannot pass "${Gn(e)}" as a ${this.name}`),e.g.o||et(`Cannot pass deleted object as a pointer of type ${this.name}`),e.g.u.ta&&et(`Cannot convert argument of type ${e.g.u.name} to parameter type ${this.name}`),bn(e.g.o,e.g.u.i,this.i))}function ve(t,e,i,o){this.name=t,this.i=e,this.Na=i,this.ta=o,this.ua=!1,this.W=this.oc=this.Pa=this.rb=this.tc=this.nc=void 0,e.A!==void 0?this.toWireType=Mr:(this.toWireType=o?kr:Or,this.K=null)}function Ni(t,e,i){c.hasOwnProperty(t)||pn("Replacing nonexistant public symbol"),c[t].B!==void 0&&i!==void 0?c[t].B[i]=e:(c[t]=e,c[t].ea=i)}var wn=[],Wi=t=>{var e=wn[t];return e||(t>=wn.length&&(wn.length=t+1),wn[t]=e=y.get(t)),e},Fr=(t,e)=>{var i=[];return function(){if(i.length=0,Object.assign(i,arguments),t.includes("j")){var o=c["dynCall_"+t];o=i&&i.length?o.apply(null,[e].concat(i)):o.call(null,e)}else o=Wi(e).apply(null,i);return o}};function Nt(t,e){t=Et(t);var i=t.includes("j")?Fr(t,e):Wi(e);return typeof i!="function"&&et(`unknown function pointer with signature ${t}: ${e}`),i}var $i=void 0;function me(t,e){function i(u){s[u]||Le[u]||(mn[u]?mn[u].forEach(i):(o.push(u),s[u]=!0))}var o=[],s={};throw e.forEach(i),new $i(`${t}: `+o.map(Mi).join([", "]))}function Cn(t,e,i,o,s){var u=e.length;2>u&&et("argTypes array size mismatch! Must at least get return value and 'this' types!");var p=e[1]!==null&&i!==null,x=!1;for(i=1;i<e.length;++i)if(e[i]!==null&&e[i].K===void 0){x=!0;break}var S=e[0].name!=="void",w=u-2,O=Array(w),N=[],B=[];return function(){if(arguments.length!==w&&et(`function ${t} called with ${arguments.length} arguments, expected ${w} args!`),B.length=0,N.length=p?2:1,N[0]=s,p){var g=e[1].toWireType(B,this);N[1]=g}for(var M=0;M<w;++M)O[M]=e[M+2].toWireType(B,arguments[M]),N.push(O[M]);if(M=o.apply(null,N),x)qe(B);else for(var k=p?1:2;k<e.length;k++){var nt=k===1?g:O[k-2];e[k].K!==null&&e[k].K(nt)}return g=S?e[0].fromWireType(M):void 0,g}}function xn(t,e){for(var i=[],o=0;o<t;o++)i.push(tt[e+4*o>>2]);return i}function Bi(t,e,i){return t instanceof Object||et(`${i} with invalid "this": ${t}`),t instanceof e.i.constructor||et(`${i} incompatible with "this" of type ${t.constructor.name}`),t.g.o||et(`cannot call emscripten binding method ${i} on deleted object`),bn(t.g.o,t.g.u.i,e.i)}function qn(t){t>=Gt.h&&--Gt.get(t).tb===0&&Gt.Zb(t)}function Dr(t,e,i){switch(e){case 0:return function(o){return this.fromWireType((i?_t:dt)[o])};case 1:return function(o){return this.fromWireType((i?Tt:jt)[o>>1])};case 2:return function(o){return this.fromWireType((i?ht:tt)[o>>2])};default:throw new TypeError("Unknown integer type: "+t)}}function Gn(t){if(t===null)return"null";var e=typeof t;return e==="object"||e==="array"||e==="function"?t.toString():""+t}function jr(t,e){switch(e){case 2:return function(i){return this.fromWireType(d[i>>2])};case 3:return function(i){return this.fromWireType(r[i>>3])};default:throw new TypeError("Unknown float type: "+t)}}function Nr(t,e,i){switch(e){case 0:return i?function(o){return _t[o]}:function(o){return dt[o]};case 1:return i?function(o){return Tt[o>>1]}:function(o){return jt[o>>1]};case 2:return i?function(o){return ht[o>>2]}:function(o){return tt[o>>2]};default:throw new TypeError("Unknown integer type: "+t)}}var Ui=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,Wr=(t,e)=>{for(var i=t>>1,o=i+e/2;!(i>=o)&&jt[i];)++i;if(i<<=1,32<i-t&&Ui)return Ui.decode(dt.subarray(t,i));for(i="",o=0;!(o>=e/2);++o){var s=Tt[t+2*o>>1];if(s==0)break;i+=String.fromCharCode(s)}return i},$r=(t,e,i)=>{if(i===void 0&&(i=2147483647),2>i)return 0;i-=2;var o=e;i=i<2*t.length?i/2:t.length;for(var s=0;s<i;++s)Tt[e>>1]=t.charCodeAt(s),e+=2;return Tt[e>>1]=0,e-o},Br=t=>2*t.length,Ur=(t,e)=>{for(var i=0,o="";!(i>=e/4);){var s=ht[t+4*i>>2];if(s==0)break;++i,65536<=s?(s-=65536,o+=String.fromCharCode(55296|s>>10,56320|s&1023)):o+=String.fromCharCode(s)}return o},Hr=(t,e,i)=>{if(i===void 0&&(i=2147483647),4>i)return 0;var o=e;i=o+i-4;for(var s=0;s<t.length;++s){var u=t.charCodeAt(s);if(55296<=u&&57343>=u){var p=t.charCodeAt(++s);u=65536+((u&1023)<<10)|p&1023}if(ht[e>>2]=u,e+=4,e+4>i)break}return ht[e>>2]=0,e-o},zr=t=>{for(var e=0,i=0;i<t.length;++i){var o=t.charCodeAt(i);55296<=o&&57343>=o&&++i,e+=4}return e},Xr={};function An(t){var e=Xr[t];return e===void 0?Et(t):e}var Sn=[];function Yr(t){var e=Sn.length;return Sn.push(t),e}function Vr(t,e){for(var i=Array(t),o=0;o<t;++o)i[o]=Ve(tt[e+4*o>>2],"parameter "+o);return i}var Hi=[],Jn=[],Kn={},zi=()=>{if(!Zn){var t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:vt||"./this.program"},e;for(e in Kn)Kn[e]===void 0?delete t[e]:t[e]=Kn[e];var i=[];for(e in t)i.push(`${e}=${t[e]}`);Zn=i}return Zn},Zn,_n=t=>t%4===0&&(t%100!==0||t%400===0),Xi=[31,29,31,30,31,30,31,31,30,31,30,31],Yi=[31,28,31,30,31,30,31,31,30,31,30,31],qr=(t,e,i,o)=>{function s(g,M,k){for(g=typeof g=="number"?g.toString():g||"";g.length<M;)g=k[0]+g;return g}function u(g,M){return s(g,M,"0")}function p(g,M){function k(at){return 0>at?-1:0<at?1:0}var nt;return(nt=k(g.getFullYear()-M.getFullYear()))===0&&(nt=k(g.getMonth()-M.getMonth()))===0&&(nt=k(g.getDate()-M.getDate())),nt}function x(g){switch(g.getDay()){case 0:return new Date(g.getFullYear()-1,11,29);case 1:return g;case 2:return new Date(g.getFullYear(),0,3);case 3:return new Date(g.getFullYear(),0,2);case 4:return new Date(g.getFullYear(),0,1);case 5:return new Date(g.getFullYear()-1,11,31);case 6:return new Date(g.getFullYear()-1,11,30)}}function S(g){var M=g.ca;for(g=new Date(new Date(g.da+1900,0,1).getTime());0<M;){var k=g.getMonth(),nt=(_n(g.getFullYear())?Xi:Yi)[k];if(M>nt-g.getDate())M-=nt-g.getDate()+1,g.setDate(1),11>k?g.setMonth(k+1):(g.setMonth(0),g.setFullYear(g.getFullYear()+1));else{g.setDate(g.getDate()+M);break}}return k=new Date(g.getFullYear()+1,0,4),M=x(new Date(g.getFullYear(),0,4)),k=x(k),0>=p(M,g)?0>=p(k,g)?g.getFullYear()+1:g.getFullYear():g.getFullYear()-1}var w=ht[o+40>>2];o={wc:ht[o>>2],vc:ht[o+4>>2],Fa:ht[o+8>>2],Sa:ht[o+12>>2],Ga:ht[o+16>>2],da:ht[o+20>>2],R:ht[o+24>>2],ca:ht[o+28>>2],Rc:ht[o+32>>2],uc:ht[o+36>>2],xc:w&&w?Ce(dt,w):""},i=i?Ce(dt,i):"",w={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var O in w)i=i.replace(new RegExp(O,"g"),w[O]);var N="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),B="January February March April May June July August September October November December".split(" ");w={"%a":g=>N[g.R].substring(0,3),"%A":g=>N[g.R],"%b":g=>B[g.Ga].substring(0,3),"%B":g=>B[g.Ga],"%C":g=>u((g.da+1900)/100|0,2),"%d":g=>u(g.Sa,2),"%e":g=>s(g.Sa,2," "),"%g":g=>S(g).toString().substring(2),"%G":g=>S(g),"%H":g=>u(g.Fa,2),"%I":g=>(g=g.Fa,g==0?g=12:12<g&&(g-=12),u(g,2)),"%j":g=>{for(var M=0,k=0;k<=g.Ga-1;M+=(_n(g.da+1900)?Xi:Yi)[k++]);return u(g.Sa+M,3)},"%m":g=>u(g.Ga+1,2),"%M":g=>u(g.vc,2),"%n":()=>`
`,"%p":g=>0<=g.Fa&&12>g.Fa?"AM":"PM","%S":g=>u(g.wc,2),"%t":()=>"	","%u":g=>g.R||7,"%U":g=>u(Math.floor((g.ca+7-g.R)/7),2),"%V":g=>{var M=Math.floor((g.ca+7-(g.R+6)%7)/7);if(2>=(g.R+371-g.ca-2)%7&&M++,M)M==53&&(k=(g.R+371-g.ca)%7,k==4||k==3&&_n(g.da)||(M=1));else{M=52;var k=(g.R+7-g.ca-1)%7;(k==4||k==5&&_n(g.da%400-1))&&M++}return u(M,2)},"%w":g=>g.R,"%W":g=>u(Math.floor((g.ca+7-(g.R+6)%7)/7),2),"%y":g=>(g.da+1900).toString().substring(2),"%Y":g=>g.da+1900,"%z":g=>{g=g.uc;var M=0<=g;return g=Math.abs(g)/60,(M?"+":"-")+("0000"+(g/60*100+g%60)).slice(-4)},"%Z":g=>g.xc,"%%":()=>"%"},i=i.replace(/%%/g,"\0\0");for(O in w)i.includes(O)&&(i=i.replace(new RegExp(O,"g"),w[O](o)));return i=i.replace(/\0\0/g,"%"),O=hi(i,!1),O.length>e?0:(_t.set(O,t),O.length-1)};function Vi(t,e,i,o){t||(t=this),this.parent=t,this.U=t.U,this.wa=null,this.id=_r++,this.name=e,this.mode=i,this.l={},this.m={},this.za=o}Object.defineProperties(Vi.prototype,{read:{get:function(){return(this.mode&365)===365},set:function(t){t?this.mode|=365:this.mode&=-366}},write:{get:function(){return(this.mode&146)===146},set:function(t){t?this.mode|=146:this.mode&=-147}}}),Li(),Be=Array(4096),Si(ct,"/"),Qt("/tmp",16895,0),Qt("/home",16895,0),Qt("/home/web_user",16895,0),(()=>{Qt("/dev",16895,0),Wn(259,{read:()=>0,write:(o,s,u,p)=>p}),cn("/dev/null",259),pi(1280,xr),pi(1536,Ar),cn("/dev/tty",1280),cn("/dev/tty1",1536);var t=new Uint8Array(1024),e=0,i=()=>(e===0&&(e=li(t).byteLength),t[--e]);Ue("random",i),Ue("urandom",i),Qt("/dev/shm",16895,0),Qt("/dev/shm/tmp",16895,0)})(),(()=>{Qt("/proc",16895,0);var t=Qt("/proc/self",16895,0);Qt("/proc/self/fd",16895,0),Si({U:()=>{var e=wi(t,"fd",16895,73);return e.l={ka:(i,o)=>{var s=xe(+o);return i={parent:null,U:{mb:"fake"},l:{ma:()=>s.path}},i.parent=i}},e}},"/proc/self/fd")})(),Object.assign(Ti.prototype,{get(t){return this.M[t]},has(t){return this.M[t]!==void 0},pa(t){var e=this.hb.pop()||this.M.length;return this.M[e]=t,e},Zb(t){this.M[t]=void 0,this.hb.push(t)}}),Fe=c.BindingError=class extends Error{constructor(t){super(t),this.name="BindingError"}},Gt.M.push({value:void 0},{value:null},{value:!0},{value:!1}),Gt.h=Gt.M.length,c.count_emval_handles=function(){for(var t=0,e=Gt.h;e<Gt.M.length;++e)Gt.M[e]!==void 0&&++t;return t},Ri=c.PureVirtualError=Pi("PureVirtualError");for(var qi=Array(256),Ln=0;256>Ln;++Ln)qi[Ln]=String.fromCharCode(Ln);ki=qi,c.getInheritedInstanceCount=function(){return Object.keys(ge).length},c.getLiveInheritedInstances=function(){var t=[],e;for(e in ge)ge.hasOwnProperty(e)&&t.push(ge[e]);return t},c.flushPendingDeletes=Un,c.setDelayFunction=function(t){Ye=t,Xe.length&&Ye&&Ye(Un)},ji=c.InternalError=class extends Error{constructor(t){super(t),this.name="InternalError"}},Ae.prototype.isAliasOf=function(t){if(!(this instanceof Ae&&t instanceof Ae))return!1;var e=this.g.u.i,i=this.g.o,o=t.g.u.i;for(t=t.g.o;e.A;)i=e.na(i),e=e.A;for(;o.A;)t=o.na(t),o=o.A;return e===o&&i===t},Ae.prototype.clone=function(){if(this.g.o||Xn(this),this.g.ia)return this.g.count.value+=1,this;var t=De,e=Object,i=e.create,o=Object.getPrototypeOf(this),s=this.g;return t=t(i.call(e,o,{g:{value:{count:s.count,fa:s.fa,ia:s.ia,o:s.o,u:s.u,G:s.G,L:s.L}}})),t.g.count.value+=1,t.g.fa=!1,t},Ae.prototype.delete=function(){this.g.o||Xn(this),this.g.fa&&!this.g.ia&&et("Object already scheduled for deletion"),fn(this),Oi(this.g),this.g.ia||(this.g.G=void 0,this.g.o=void 0)},Ae.prototype.isDeleted=function(){return!this.g.o},Ae.prototype.deleteLater=function(){return this.g.o||Xn(this),this.g.fa&&!this.g.ia&&et("Object already scheduled for deletion"),Xe.push(this),Xe.length===1&&Ye&&Ye(Un),this.g.fa=!0,this},ve.prototype.Vb=function(t){return this.rb&&(t=this.rb(t)),t},ve.prototype.ab=function(t){this.W&&this.W(t)},ve.prototype.argPackAdvance=8,ve.prototype.readValueFromPointer=Ge,ve.prototype.deleteObject=function(t){t!==null&&t.delete()},ve.prototype.fromWireType=function(t){function e(){return this.ua?gn(this.i.N,{u:this.nc,o:i,L:this,G:t}):gn(this.i.N,{u:this,o:t})}var i=this.Vb(t);if(!i)return this.ab(t),null;var o=Tr(this.i,i);if(o!==void 0)return o.g.count.value===0?(o.g.o=i,o.g.G=t,o.clone()):(o=o.clone(),this.ab(t),o);if(o=this.i.Ub(i),o=Di[o],!o)return e.call(this);o=this.ta?o.Kb:o.pointerType;var s=Fi(i,this.i,o.i);return s===null?e.call(this):this.ua?gn(o.i.N,{u:o,o:s,L:this,G:t}):gn(o.i.N,{u:o,o:s})},$i=c.UnboundTypeError=Pi("UnboundTypeError");var Gi={__syscall_fcntl64:function(t,e,i){ze=i;try{var o=xe(t);switch(e){case 0:var s=pe();return 0>s?-28:Ai(o,s).X;case 1:case 2:return 0;case 3:return o.flags;case 4:return s=pe(),o.flags|=s,0;case 5:return s=pe(),Tt[s+0>>1]=2,0;case 6:case 7:return 0;case 16:case 8:return-28;case 9:return ht[Qi()>>2]=28,-1;default:return-28}}catch(u){if(typeof _e>"u"||u.name!=="ErrnoError")throw u;return-u.aa}},__syscall_ioctl:function(t,e,i){ze=i;try{var o=xe(t);switch(e){case 21509:return o.s?0:-59;case 21505:if(!o.s)return-59;if(o.s.V.bc){e=[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];var s=pe();ht[s>>2]=25856,ht[s+4>>2]=5,ht[s+8>>2]=191,ht[s+12>>2]=35387;for(var u=0;32>u;u++)_t[s+u+17>>0]=e[u]||0}return 0;case 21510:case 21511:case 21512:return o.s?0:-59;case 21506:case 21507:case 21508:if(!o.s)return-59;if(o.s.V.cc)for(s=pe(),e=[],u=0;32>u;u++)e.push(_t[s+u+17>>0]);return 0;case 21519:return o.s?(s=pe(),ht[s>>2]=0):-59;case 21520:return o.s?-28:-59;case 21531:if(s=pe(),!o.m.ac)throw new H(59);return o.m.ac(o,e,s);case 21523:return o.s?(o.s.V.dc&&(u=[24,80],s=pe(),Tt[s>>1]=u[0],Tt[s+2>>1]=u[1]),0):-59;case 21524:return o.s?0:-59;case 21515:return o.s?0:-59;default:return-28}}catch(p){if(typeof _e>"u"||p.name!=="ErrnoError")throw p;return-p.aa}},__syscall_openat:function(t,e,i,o){ze=o;try{e=e?Ce(dt,e):"";var s=e;if(s.charAt(0)==="/")e=s;else{var u=t===-100?"/":xe(t).path;if(s.length==0)throw new H(44);e=qt(u+"/"+s)}var p=o?pe():0;return un(e,i,p).X}catch(x){if(typeof _e>"u"||x.name!=="ErrnoError")throw x;return-x.aa}},_embind_create_inheriting_constructor:function(t,e,i){t=Et(t),e=Ve(e,"wrapper"),i=te(i);var o=[].slice,s=e.i,u=s.N,p=s.A.N,x=s.A.constructor;t=hn(t,function(){s.A.qb.forEach((function(w){if(this[w]===p[w])throw new Ri(`Pure virtual function ${w} must be implemented in JavaScript`)}).bind(this)),Object.defineProperty(this,"__parent",{value:u}),this.__construct.apply(this,o.call(arguments))}),u.__construct=function(){this===u&&et("Pass correct 'this' to __construct");var w=x.implement.apply(void 0,[this].concat(o.call(arguments)));fn(w);var O=w.g;w.notifyOnDestruction(),O.ia=!0,Object.defineProperties(this,{g:{value:O}}),De(this),w=O.o,w=Hn(s,w),ge.hasOwnProperty(w)?et(`Tried to register registered instance: ${w}`):ge[w]=this},u.__destruct=function(){this===u&&et("Pass correct 'this' to __destruct"),fn(this);var w=this.g.o;w=Hn(s,w),ge.hasOwnProperty(w)?delete ge[w]:et(`Tried to unregister unregistered instance: ${w}`)},t.prototype=Object.create(u);for(var S in i)t.prototype[S]=i[S];return ne(t)},_embind_finalize_value_object:function(t){var e=vn[t];delete vn[t];var i=e.Pa,o=e.W,s=e.eb,u=s.map(p=>p.Yb).concat(s.map(p=>p.rc));Yt([t],u,p=>{var x={};return s.forEach((S,w)=>{var O=p[w],N=S.Wb,B=S.Xb,g=p[w+s.length],M=S.qc,k=S.sc;x[S.Sb]={read:nt=>O.fromWireType(N(B,nt)),write:(nt,at)=>{var W=[];M(k,nt,g.toWireType(W,at)),qe(W)}}}),[{name:e.name,fromWireType:function(S){var w={},O;for(O in x)w[O]=x[O].read(S);return o(S),w},toWireType:function(S,w){for(var O in x)if(!(O in w))throw new TypeError(`Missing field: "${O}"`);var N=i();for(O in x)x[O].write(N,w[O]);return S!==null&&S.push(o,N),N},argPackAdvance:8,readValueFromPointer:Ge,K:o}]})},_embind_register_bigint:function(){},_embind_register_bool:function(t,e,i,o,s){var u=yn(i);e=Et(e),ie(t,{name:e,fromWireType:function(p){return!!p},toWireType:function(p,x){return x?o:s},argPackAdvance:8,readValueFromPointer:function(p){if(i===1)var x=_t;else if(i===2)x=Tt;else if(i===4)x=ht;else throw new TypeError("Unknown boolean type size: "+e);return this.fromWireType(x[p>>u])},K:null})},_embind_register_class:function(t,e,i,o,s,u,p,x,S,w,O,N,B){O=Et(O),u=Nt(s,u),x&&(x=Nt(p,x)),w&&(w=Nt(S,w)),B=Nt(N,B);var g=Ii(O);Vn(g,function(){me(`Cannot construct ${O} due to unbound types`,[o])}),Yt([t,e,i],o?[o]:[],function(M){if(M=M[0],o)var k=M.i,nt=k.N;else nt=Ae.prototype;M=hn(g,function(){if(Object.getPrototypeOf(this)!==at)throw new Fe("Use 'new' to construct "+O);if(W.$===void 0)throw new Fe(O+" has no accessible constructor");var Dt=W.$[arguments.length];if(Dt===void 0)throw new Fe(`Tried to invoke ctor of ${O} with invalid number of parameters (${arguments.length}) - expected (${Object.keys(W.$).toString()}) parameters instead!`);return Dt.apply(this,arguments)});var at=Object.create(nt,{constructor:{value:M}});M.prototype=at;var W=new Rr(O,M,at,B,k,u,x,w);W.A&&(W.A.oa===void 0&&(W.A.oa=[]),W.A.oa.push(W)),k=new ve(O,W,!0,!1),nt=new ve(O+"*",W,!1,!1);var St=new ve(O+" const*",W,!1,!0);return Di[t]={pointerType:nt,Kb:St},Ni(g,M),[k,nt,St]})},_embind_register_class_class_function:function(t,e,i,o,s,u,p){var x=xn(i,o);e=Et(e),u=Nt(s,u),Yt([],[t],function(S){function w(){me(`Cannot call ${O} due to unbound types`,x)}S=S[0];var O=`${S.name}.${e}`;e.startsWith("@@")&&(e=Symbol[e.substring(2)]);var N=S.i.constructor;return N[e]===void 0?(w.ea=i-1,N[e]=w):(Yn(N,e,O),N[e].B[i-1]=w),Yt([],x,function(B){if(B=Cn(O,[B[0],null].concat(B.slice(1)),null,u,p),N[e].B===void 0?(B.ea=i-1,N[e]=B):N[e].B[i-1]=B,S.i.oa)for(const g of S.i.oa)g.constructor.hasOwnProperty(e)||(g.constructor[e]=B);return[]}),[]})},_embind_register_class_class_property:function(t,e,i,o,s,u,p,x){e=Et(e),u=Nt(s,u),Yt([],[t],function(S){S=S[0];var w=`${S.name}.${e}`,O={get(){me(`Cannot access ${w} due to unbound types`,[i])},enumerable:!0,configurable:!0};return O.set=x?()=>{me(`Cannot access ${w} due to unbound types`,[i])}:()=>{et(`${w} is a read-only property`)},Object.defineProperty(S.i.constructor,e,O),Yt([],[i],function(N){N=N[0];var B={get(){return N.fromWireType(u(o))},enumerable:!0};return x&&(x=Nt(p,x),B.set=g=>{var M=[];x(o,N.toWireType(M,g)),qe(M)}),Object.defineProperty(S.i.constructor,e,B),[]}),[]})},_embind_register_class_constructor:function(t,e,i,o,s,u){var p=xn(e,i);s=Nt(o,s),Yt([],[t],function(x){x=x[0];var S=`constructor ${x.name}`;if(x.i.$===void 0&&(x.i.$=[]),x.i.$[e-1]!==void 0)throw new Fe(`Cannot register multiple constructors with identical number of parameters (${e-1}) for class '${x.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return x.i.$[e-1]=()=>{me(`Cannot construct ${x.name} due to unbound types`,p)},Yt([],p,function(w){return w.splice(1,0,null),x.i.$[e-1]=Cn(S,w,null,s,u),[]}),[]})},_embind_register_class_function:function(t,e,i,o,s,u,p,x){var S=xn(i,o);e=Et(e),u=Nt(s,u),Yt([],[t],function(w){function O(){me(`Cannot call ${N} due to unbound types`,S)}w=w[0];var N=`${w.name}.${e}`;e.startsWith("@@")&&(e=Symbol[e.substring(2)]),x&&w.i.qb.push(e);var B=w.i.N,g=B[e];return g===void 0||g.B===void 0&&g.className!==w.name&&g.ea===i-2?(O.ea=i-2,O.className=w.name,B[e]=O):(Yn(B,e,N),B[e].B[i-2]=O),Yt([],S,function(M){return M=Cn(N,M,w,u,p),B[e].B===void 0?(M.ea=i-2,B[e]=M):B[e].B[i-2]=M,[]}),[]})},_embind_register_class_property:function(t,e,i,o,s,u,p,x,S,w){e=Et(e),s=Nt(o,s),Yt([],[t],function(O){O=O[0];var N=`${O.name}.${e}`,B={get(){me(`Cannot access ${N} due to unbound types`,[i,p])},enumerable:!0,configurable:!0};return B.set=S?()=>{me(`Cannot access ${N} due to unbound types`,[i,p])}:()=>{et(N+" is a read-only property")},Object.defineProperty(O.i.N,e,B),Yt([],S?[i,p]:[i],function(g){var M=g[0],k={get(){var at=Bi(this,O,N+" getter");return M.fromWireType(s(u,at))},enumerable:!0};if(S){S=Nt(x,S);var nt=g[1];k.set=function(at){var W=Bi(this,O,N+" setter"),St=[];S(w,W,nt.toWireType(St,at)),qe(St)}}return Object.defineProperty(O.i.N,e,k),[]}),[]})},_embind_register_emval:function(t,e){e=Et(e),ie(t,{name:e,fromWireType:function(i){var o=te(i);return qn(i),o},toWireType:function(i,o){return ne(o)},argPackAdvance:8,readValueFromPointer:Ge,K:null})},_embind_register_enum:function(t,e,i,o){function s(){}i=yn(i),e=Et(e),s.values={},ie(t,{name:e,constructor:s,fromWireType:function(u){return this.constructor.values[u]},toWireType:function(u,p){return p.value},argPackAdvance:8,readValueFromPointer:Dr(e,i,o),K:null}),Vn(e,s)},_embind_register_enum_value:function(t,e,i){var o=Ve(t,"enum");e=Et(e),t=o.constructor,o=Object.create(o.constructor.prototype,{value:{value:i},constructor:{value:hn(`${o.name}_${e}`,function(){})}}),t.values[i]=o,t[e]=o},_embind_register_float:function(t,e,i){i=yn(i),e=Et(e),ie(t,{name:e,fromWireType:function(o){return o},toWireType:function(o,s){return s},argPackAdvance:8,readValueFromPointer:jr(e,i),K:null})},_embind_register_function:function(t,e,i,o,s,u){var p=xn(e,i);t=Et(t),s=Nt(o,s),Vn(t,function(){me(`Cannot call ${t} due to unbound types`,p)},e-1),Yt([],p,function(x){return Ni(t,Cn(t,[x[0],null].concat(x.slice(1)),null,s,u),e-1),[]})},_embind_register_integer:function(t,e,i,o,s){e=Et(e),s===-1&&(s=4294967295),s=yn(i);var u=x=>x;if(o===0){var p=32-8*i;u=x=>x<<p>>>p}i=e.includes("unsigned")?function(x,S){return S>>>0}:function(x,S){return S},ie(t,{name:e,fromWireType:u,toWireType:i,argPackAdvance:8,readValueFromPointer:Nr(e,s,o!==0),K:null})},_embind_register_memory_view:function(t,e,i){function o(u){u>>=2;var p=tt;return new s(p.buffer,p[u+1],p[u])}var s=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][e];i=Et(i),ie(t,{name:i,fromWireType:o,argPackAdvance:8,readValueFromPointer:o},{$b:!0})},_embind_register_std_string:function(t,e){e=Et(e);var i=e==="std::string";ie(t,{name:e,fromWireType:function(o){var s=tt[o>>2],u=o+4;if(i)for(var p=u,x=0;x<=s;++x){var S=u+x;if(x==s||dt[S]==0){if(p=p?Ce(dt,p,S-p):"",w===void 0)var w=p;else w+="\0",w+=p;p=S+1}}else{for(w=Array(s),x=0;x<s;++x)w[x]=String.fromCharCode(dt[u+x]);w=w.join("")}return ye(o),w},toWireType:function(o,s){s instanceof ArrayBuffer&&(s=new Uint8Array(s));var u=typeof s=="string";u||s instanceof Uint8Array||s instanceof Uint8ClampedArray||s instanceof Int8Array||et("Cannot pass non-string to std::string");var p=i&&u?ui(s):s.length,x=Qn(4+p+1),S=x+4;if(tt[x>>2]=p,i&&u)di(s,dt,S,p+1);else if(u)for(u=0;u<p;++u){var w=s.charCodeAt(u);255<w&&(ye(S),et("String has UTF-16 code units that do not fit in 8 bits")),dt[S+u]=w}else for(u=0;u<p;++u)dt[S+u]=s[u];return o!==null&&o.push(ye,x),x},argPackAdvance:8,readValueFromPointer:Ge,K:function(o){ye(o)}})},_embind_register_std_wstring:function(t,e,i){if(i=Et(i),e===2)var o=Wr,s=$r,u=Br,p=()=>jt,x=1;else e===4&&(o=Ur,s=Hr,u=zr,p=()=>tt,x=2);ie(t,{name:i,fromWireType:function(S){for(var w=tt[S>>2],O=p(),N,B=S+4,g=0;g<=w;++g){var M=S+4+g*e;(g==w||O[M>>x]==0)&&(B=o(B,M-B),N===void 0?N=B:(N+="\0",N+=B),B=M+e)}return ye(S),N},toWireType:function(S,w){typeof w!="string"&&et(`Cannot pass non-string to C++ string type ${i}`);var O=u(w),N=Qn(4+O+e);return tt[N>>2]=O>>x,s(w,N+4,O+e),S!==null&&S.push(ye,N),N},argPackAdvance:8,readValueFromPointer:Ge,K:function(S){ye(S)}})},_embind_register_value_object:function(t,e,i,o,s,u){vn[t]={name:Et(e),Pa:Nt(i,o),W:Nt(s,u),eb:[]}},_embind_register_value_object_field:function(t,e,i,o,s,u,p,x,S,w){vn[t].eb.push({Sb:Et(e),Yb:i,Wb:Nt(o,s),Xb:u,rc:p,qc:Nt(x,S),sc:w})},_embind_register_void:function(t,e){e=Et(e),ie(t,{fc:!0,name:e,argPackAdvance:0,fromWireType:function(){},toWireType:function(){}})},_emscripten_get_now_is_monotonic:()=>!0,_emval_as:function(t,e,i){t=te(t),e=Ve(e,"emval::as");var o=[],s=ne(o);return tt[i>>2]=s,e.toWireType(o,t)},_emval_call_method:function(t,e,i,o,s){t=Sn[t],e=te(e),i=An(i);var u=[];return tt[o>>2]=ne(u),t(e,i,u,s)},_emval_call_void_method:function(t,e,i,o){t=Sn[t],e=te(e),i=An(i),t(e,i,null,o)},_emval_decref:qn,_emval_get_method_caller:function(t,e){var i=Vr(t,e),o=i[0];e=o.name+"_$"+i.slice(1).map(function(p){return p.name}).join("_")+"$";var s=Hi[e];if(s!==void 0)return s;var u=Array(t-1);return s=Yr((p,x,S,w)=>{for(var O=0,N=0;N<t-1;++N)u[N]=i[N+1].readValueFromPointer(w+O),O+=i[N+1].argPackAdvance;for(p=p[x].apply(p,u),N=0;N<t-1;++N)i[N+1].Nb&&i[N+1].Nb(u[N]);if(!o.fc)return o.toWireType(S,p)}),Hi[e]=s},_emval_get_module_property:function(t){return t=An(t),ne(c[t])},_emval_get_property:function(t,e){return t=te(t),e=te(e),ne(t[e])},_emval_incref:function(t){4<t&&(Gt.get(t).tb+=1)},_emval_new_cstring:function(t){return ne(An(t))},_emval_new_object:function(){return ne({})},_emval_run_destructors:function(t){var e=te(t);qe(e),qn(t)},_emval_set_property:function(t,e,i){t=te(t),e=te(e),i=te(i),t[e]=i},_emval_take_value:function(t,e){return t=Ve(t,"_emval_take_value"),t=t.readValueFromPointer(e),ne(t)},abort:()=>{Ct("")},emscripten_asm_const_int:(t,e,i)=>{Jn.length=0;var o;for(i>>=2;o=dt[e++];)i+=o!=105&i,Jn.push(o==105?ht[i]:r[i++>>1]),++i;return $e[t].apply(null,Jn)},emscripten_date_now:function(){return Date.now()},emscripten_get_now:()=>performance.now(),emscripten_memcpy_big:(t,e,i)=>dt.copyWithin(t,e,e+i),emscripten_resize_heap:t=>{var e=dt.length;if(t>>>=0,2147483648<t)return!1;for(var i=1;4>=i;i*=2){var o=e*(1+.2/i);o=Math.min(o,t+100663296);var s=Math;o=Math.max(t,o);t:{s=s.min.call(s,2147483648,o+(65536-o%65536)%65536)-Xt.buffer.byteLength+65535>>>16;try{Xt.grow(s),l();var u=1;break t}catch{}u=void 0}if(u)return!0}return!1},environ_get:(t,e)=>{var i=0;return zi().forEach(function(o,s){var u=e+i;for(s=tt[t+4*s>>2]=u,u=0;u<o.length;++u)_t[s++>>0]=o.charCodeAt(u);_t[s>>0]=0,i+=o.length+1}),0},environ_sizes_get:(t,e)=>{var i=zi();tt[t>>2]=i.length;var o=0;return i.forEach(function(s){o+=s.length+1}),tt[e>>2]=o,0},fd_close:function(t){try{var e=xe(t);if(e.X===null)throw new H(8);e.Ma&&(e.Ma=null);try{e.m.close&&e.m.close(e)}catch(i){throw i}finally{sn[e.X]=null}return e.X=null,0}catch(i){if(typeof _e>"u"||i.name!=="ErrnoError")throw i;return i.aa}},fd_read:function(t,e,i,o){try{t:{var s=xe(t);t=e;for(var u,p=e=0;p<i;p++){var x=tt[t>>2],S=tt[t+4>>2];t+=8;var w=s,O=x,N=S,B=u,g=_t;if(0>N||0>B)throw new H(28);if(w.X===null)throw new H(8);if((w.flags&2097155)===1)throw new H(8);if((w.node.mode&61440)===16384)throw new H(31);if(!w.m.read)throw new H(28);var M=typeof B<"u";if(!M)B=w.position;else if(!w.seekable)throw new H(70);var k=w.m.read(w,g,O,N,B);M||(w.position+=k);var nt=k;if(0>nt){var at=-1;break t}if(e+=nt,nt<S)break;typeof u<"u"&&(u+=nt)}at=e}return tt[o>>2]=at,0}catch(W){if(typeof _e>"u"||W.name!=="ErrnoError")throw W;return W.aa}},fd_seek:function(t,e,i,o,s){e=i+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*i:NaN;try{if(isNaN(e))return 61;var u=xe(t);return _i(u,e,o),Me=[u.position>>>0,(he=u.position,1<=+Math.abs(he)?0<he?+Math.floor(he/4294967296)>>>0:~~+Math.ceil((he-+(~~he>>>0))/4294967296)>>>0:0)],ht[s>>2]=Me[0],ht[s+4>>2]=Me[1],u.Ma&&e===0&&o===0&&(u.Ma=null),0}catch(p){if(typeof _e>"u"||p.name!=="ErrnoError")throw p;return p.aa}},fd_write:function(t,e,i,o){try{t:{var s=xe(t);t=e;for(var u,p=e=0;p<i;p++){var x=tt[t>>2],S=tt[t+4>>2];t+=8;var w=s,O=x,N=S,B=u,g=_t;if(0>N||0>B)throw new H(28);if(w.X===null)throw new H(8);if((w.flags&2097155)===0)throw new H(8);if((w.node.mode&61440)===16384)throw new H(31);if(!w.m.write)throw new H(28);w.seekable&&w.flags&1024&&_i(w,0,2);var M=typeof B<"u";if(!M)B=w.position;else if(!w.seekable)throw new H(70);var k=w.m.write(w,g,O,N,B,void 0);M||(w.position+=k);var nt=k;if(0>nt){var at=-1;break t}e+=nt,typeof u<"u"&&(u+=nt)}at=e}return tt[o>>2]=at,0}catch(W){if(typeof _e>"u"||W.name!=="ErrnoError")throw W;return W.aa}},strftime_l:(t,e,i,o)=>qr(t,e,i,o)};(function(){function t(i){if(ut=i=i.exports,Xt=ut.memory,l(),y=ut.__indirect_function_table,P.unshift(ut.__wasm_call_ctors),ot--,c.monitorRunDependencies&&c.monitorRunDependencies(ot),ot==0&&G){var o=G;G=null,o()}return i}var e={env:Gi,wasi_snapshot_preview1:Gi};if(ot++,c.monitorRunDependencies&&c.monitorRunDependencies(ot),c.instantiateWasm)try{return c.instantiateWasm(e,t)}catch(i){At("Module.instantiateWasm callback failed with error: "+i),K(i)}return rn(e,function(i){t(i.instance)}).catch(K),{}})();var ye=t=>(ye=ut.free)(t),Qn=t=>(Qn=ut.malloc)(t),Ji=c._ma_device__on_notification_unlocked=t=>(Ji=c._ma_device__on_notification_unlocked=ut.ma_device__on_notification_unlocked)(t);c._ma_malloc_emscripten=(t,e)=>(c._ma_malloc_emscripten=ut.ma_malloc_emscripten)(t,e),c._ma_free_emscripten=(t,e)=>(c._ma_free_emscripten=ut.ma_free_emscripten)(t,e);var Ki=c._ma_device_process_pcm_frames_capture__webaudio=(t,e,i)=>(Ki=c._ma_device_process_pcm_frames_capture__webaudio=ut.ma_device_process_pcm_frames_capture__webaudio)(t,e,i),Zi=c._ma_device_process_pcm_frames_playback__webaudio=(t,e,i)=>(Zi=c._ma_device_process_pcm_frames_playback__webaudio=ut.ma_device_process_pcm_frames_playback__webaudio)(t,e,i),Qi=()=>(Qi=ut.__errno_location)(),tr=t=>(tr=ut.__getTypeName)(t);c.__embind_initialize_bindings=()=>(c.__embind_initialize_bindings=ut._embind_initialize_bindings)(),c.dynCall_iiji=(t,e,i,o,s)=>(c.dynCall_iiji=ut.dynCall_iiji)(t,e,i,o,s),c.dynCall_jiji=(t,e,i,o,s)=>(c.dynCall_jiji=ut.dynCall_jiji)(t,e,i,o,s),c.dynCall_iiiji=(t,e,i,o,s,u)=>(c.dynCall_iiiji=ut.dynCall_iiiji)(t,e,i,o,s,u),c.dynCall_iij=(t,e,i,o)=>(c.dynCall_iij=ut.dynCall_iij)(t,e,i,o),c.dynCall_jii=(t,e,i)=>(c.dynCall_jii=ut.dynCall_jii)(t,e,i),c.dynCall_viijii=(t,e,i,o,s,u,p)=>(c.dynCall_viijii=ut.dynCall_viijii)(t,e,i,o,s,u,p),c.dynCall_iiiiij=(t,e,i,o,s,u,p)=>(c.dynCall_iiiiij=ut.dynCall_iiiiij)(t,e,i,o,s,u,p),c.dynCall_iiiiijj=(t,e,i,o,s,u,p,x,S)=>(c.dynCall_iiiiijj=ut.dynCall_iiiiijj)(t,e,i,o,s,u,p,x,S),c.dynCall_iiiiiijj=(t,e,i,o,s,u,p,x,S,w)=>(c.dynCall_iiiiiijj=ut.dynCall_iiiiiijj)(t,e,i,o,s,u,p,x,S,w);var En;G=function t(){En||er(),En||(G=t)};function er(){function t(){if(!En&&(En=!0,c.calledRun=!0,!Vt)){if(c.noFSInit||Ei||(Ei=!0,Li(),c.stdin=c.stdin,c.stdout=c.stdout,c.stderr=c.stderr,c.stdin?Ue("stdin",c.stdin):$n("/dev/tty","/dev/stdin"),c.stdout?Ue("stdout",null,c.stdout):$n("/dev/tty","/dev/stdout"),c.stderr?Ue("stderr",null,c.stderr):$n("/dev/tty1","/dev/stderr"),un("/dev/stdin",0),un("/dev/stdout",1),un("/dev/stderr",1)),mi=!1,fe(P),D(c),c.onRuntimeInitialized&&c.onRuntimeInitialized(),c.postRun)for(typeof c.postRun=="function"&&(c.postRun=[c.postRun]);c.postRun.length;){var e=c.postRun.shift();F.unshift(e)}fe(F)}}if(!(0<ot)){if(c.preRun)for(typeof c.preRun=="function"&&(c.preRun=[c.preRun]);c.preRun.length;)Z();fe(_),0<ot||(c.setStatus?(c.setStatus("Running..."),setTimeout(function(){setTimeout(function(){c.setStatus("")},1),t()},1)):t())}}if(c.preInit)for(typeof c.preInit=="function"&&(c.preInit=[c.preInit]);0<c.preInit.length;)c.preInit.pop()();return er(),T.ready}})();const I=E},b=>{b.exports=JSON.parse(`{"name":"@rive-app/canvas","version":"2.25.7","description":"Rive's canvas based web api.","main":"rive.js","homepage":"https://rive.app","repository":{"type":"git","url":"https://github.com/rive-app/rive-wasm/tree/master/js"},"keywords":["rive","animation"],"author":"Rive","contributors":["Luigi Rosso <luigi@rive.app> (https://rive.app)","Maxwell Talbot <max@rive.app> (https://rive.app)","Arthur Vivian <arthur@rive.app> (https://rive.app)","Umberto Sonnino <umberto@rive.app> (https://rive.app)","Matthew Sullivan <matt.j.sullivan@gmail.com> (mailto:matt.j.sullivan@gmail.com)"],"license":"MIT","files":["rive.js","rive.js.map","rive.wasm","rive_fallback.wasm","rive.d.ts","rive_advanced.mjs.d.ts"],"typings":"rive.d.ts","dependencies":{},"browser":{"fs":false,"path":false}}`)},(b,C,m)=>{m.r(C),m.d(C,{Animation:()=>E.Animation});var E=m(4)},(b,C,m)=>{m.r(C),m.d(C,{Animation:()=>E});var E=function(){function I(L,T,c,D){this.animation=L,this.artboard=T,this.playing=D,this.loopCount=0,this.scrubTo=null,this.instance=new c.LinearAnimationInstance(L,T)}return Object.defineProperty(I.prototype,"name",{get:function(){return this.animation.name},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"time",{get:function(){return this.instance.time},set:function(L){this.instance.time=L},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"loopValue",{get:function(){return this.animation.loopValue},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"needsScrub",{get:function(){return this.scrubTo!==null},enumerable:!1,configurable:!0}),I.prototype.advance=function(L){this.scrubTo===null?this.instance.advance(L):(this.instance.time=0,this.instance.advance(this.scrubTo),this.scrubTo=null)},I.prototype.apply=function(L){this.instance.apply(L)},I.prototype.cleanup=function(){this.instance.delete()},I}()},(b,C,m)=>{m.r(C),m.d(C,{BLANK_URL:()=>I.BLANK_URL,registerTouchInteractions:()=>E.registerTouchInteractions,sanitizeUrl:()=>I.sanitizeUrl});var E=m(6),I=m(7)},(b,C,m)=>{m.r(C),m.d(C,{registerTouchInteractions:()=>L});var E=void 0,I=function(T,c){var D,K;return["touchstart","touchmove"].indexOf(T.type)>-1&&(!((D=T.touches)===null||D===void 0)&&D.length)?(c||T.preventDefault(),{clientX:T.touches[0].clientX,clientY:T.touches[0].clientY}):T.type==="touchend"&&(!((K=T.changedTouches)===null||K===void 0)&&K.length)?{clientX:T.changedTouches[0].clientX,clientY:T.changedTouches[0].clientY}:{clientX:T.clientX,clientY:T.clientY}},L=function(T){var c=T.canvas,D=T.artboard,K=T.stateMachines,$=K===void 0?[]:K,Y=T.renderer,it=T.rive,X=T.fit,z=T.alignment,q=T.isTouchScrollEnabled,j=q===void 0?!1:q,vt=T.layoutScaleFactor,st=vt===void 0?1:vt;if(!c||!$.length||!Y||!it||!D||typeof window>"u")return null;var gt=null,rt=!1,yt=function(Lt){if(rt&&Lt instanceof MouseEvent){Lt.type=="mouseup"&&(rt=!1);return}rt=j&&Lt.type==="touchend"&&gt==="touchstart",gt=Lt.type;var At=Lt.currentTarget.getBoundingClientRect(),$t=I(Lt,j),Xt=$t.clientX,ut=$t.clientY;if(!(!Xt&&!ut)){var Vt=Xt-At.left,_t=ut-At.top,dt=it.computeAlignment(X,z,{minX:0,minY:0,maxX:At.width,maxY:At.height},D.bounds,st),Tt=new it.Mat2D;dt.invert(Tt);var jt=new it.Vec2D(Vt,_t),ht=it.mapXY(Tt,jt),tt=ht.x(),d=ht.y();switch(ht.delete(),Tt.delete(),jt.delete(),dt.delete(),Lt.type){case"mouseout":for(var r=0,l=$;r<l.length;r++){var y=l[r];y.pointerMove(tt,d)}break;case"touchmove":case"mouseover":case"mousemove":{for(var _=0,P=$;_<P.length;_++){var y=P[_];y.pointerMove(tt,d)}break}case"touchstart":case"mousedown":{for(var F=0,Z=$;F<Z.length;F++){var y=Z[F];y.pointerDown(tt,d)}break}case"touchend":case"mouseup":{for(var ot=0,G=$;ot<G.length;ot++){var y=G[ot];y.pointerUp(tt,d)}break}}}},lt=yt.bind(E);return c.addEventListener("mouseover",lt),c.addEventListener("mouseout",lt),c.addEventListener("mousemove",lt),c.addEventListener("mousedown",lt),c.addEventListener("mouseup",lt),c.addEventListener("touchmove",lt,{passive:j}),c.addEventListener("touchstart",lt,{passive:j}),c.addEventListener("touchend",lt),function(){c.removeEventListener("mouseover",lt),c.removeEventListener("mouseout",lt),c.removeEventListener("mousemove",lt),c.removeEventListener("mousedown",lt),c.removeEventListener("mouseup",lt),c.removeEventListener("touchmove",lt),c.removeEventListener("touchstart",lt),c.removeEventListener("touchend",lt)}}},(b,C,m)=>{m.r(C),m.d(C,{BLANK_URL:()=>K,sanitizeUrl:()=>it});var E=/^([^\w]*)(javascript|data|vbscript)/im,I=/&#(\w+)(^\w|;)?/g,L=/&(newline|tab);/gi,T=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,c=/^.+(:|&colon;)/gim,D=[".","/"],K="about:blank";function $(X){return D.indexOf(X[0])>-1}function Y(X){var z=X.replace(T,"");return z.replace(I,function(q,j){return String.fromCharCode(j)})}function it(X){if(!X)return K;var z=Y(X).replace(L,"").replace(T,"").trim();if(!z)return K;if($(z))return z;var q=z.match(c);if(!q)return z;var j=q[0];return E.test(j)?K:z}}],f={};function v(b){var C=f[b];if(C!==void 0)return C.exports;var m=f[b]={exports:{}};return h[b](m,m.exports,v),m.exports}v.d=(b,C)=>{for(var m in C)v.o(C,m)&&!v.o(b,m)&&Object.defineProperty(b,m,{enumerable:!0,get:C[m]})},v.o=(b,C)=>Object.prototype.hasOwnProperty.call(b,C),v.r=b=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(b,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(b,"__esModule",{value:!0})};var A={};return(()=>{v.r(A),v.d(A,{Alignment:()=>D,EventType:()=>j,Fit:()=>c,Layout:()=>K,LoopType:()=>vt,Rive:()=>Vt,RiveEventType:()=>X,RiveFile:()=>ut,RuntimeLoader:()=>$,StateMachineInput:()=>it,StateMachineInputType:()=>Y,Testing:()=>Tt,decodeAudio:()=>jt,decodeFont:()=>tt,decodeImage:()=>ht});var b=v(1),C=v(2),m=v(3),E=v(5),I=function(){var d=function(r,l){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,_){y.__proto__=_}||function(y,_){for(var P in _)Object.prototype.hasOwnProperty.call(_,P)&&(y[P]=_[P])},d(r,l)};return function(r,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");d(r,l);function y(){this.constructor=r}r.prototype=l===null?Object.create(l):(y.prototype=l.prototype,new y)}}(),L=function(d,r,l,y){function _(P){return P instanceof l?P:new l(function(F){F(P)})}return new(l||(l=Promise))(function(P,F){function Z(Ct){try{G(y.next(Ct))}catch(Rt){F(Rt)}}function ot(Ct){try{G(y.throw(Ct))}catch(Rt){F(Rt)}}function G(Ct){Ct.done?P(Ct.value):_(Ct.value).then(Z,ot)}G((y=y.apply(d,[])).next())})},T=function(d,r){var l={label:0,sent:function(){if(P[0]&1)throw P[1];return P[1]},trys:[],ops:[]},y,_,P,F=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return F.next=Z(0),F.throw=Z(1),F.return=Z(2),typeof Symbol=="function"&&(F[Symbol.iterator]=function(){return this}),F;function Z(G){return function(Ct){return ot([G,Ct])}}function ot(G){if(y)throw new TypeError("Generator is already executing.");for(;F&&(F=0,G[0]&&(l=0)),l;)try{if(y=1,_&&(P=G[0]&2?_.return:G[0]?_.throw||((P=_.return)&&P.call(_),0):_.next)&&!(P=P.call(_,G[1])).done)return P;switch(_=0,P&&(G=[G[0]&2,P.value]),G[0]){case 0:case 1:P=G;break;case 4:return l.label++,{value:G[1],done:!1};case 5:l.label++,_=G[1],G=[0];continue;case 7:G=l.ops.pop(),l.trys.pop();continue;default:if(P=l.trys,!(P=P.length>0&&P[P.length-1])&&(G[0]===6||G[0]===2)){l=0;continue}if(G[0]===3&&(!P||G[1]>P[0]&&G[1]<P[3])){l.label=G[1];break}if(G[0]===6&&l.label<P[1]){l.label=P[1],P=G;break}if(P&&l.label<P[2]){l.label=P[2],l.ops.push(G);break}P[2]&&l.ops.pop(),l.trys.pop();continue}G=r.call(d,l)}catch(Ct){G=[6,Ct],_=0}finally{y=P=0}if(G[0]&5)throw G[1];return{value:G[0]?G[1]:void 0,done:!0}}},c;(function(d){d.Cover="cover",d.Contain="contain",d.Fill="fill",d.FitWidth="fitWidth",d.FitHeight="fitHeight",d.None="none",d.ScaleDown="scaleDown",d.Layout="layout"})(c||(c={}));var D;(function(d){d.Center="center",d.TopLeft="topLeft",d.TopCenter="topCenter",d.TopRight="topRight",d.CenterLeft="centerLeft",d.CenterRight="centerRight",d.BottomLeft="bottomLeft",d.BottomCenter="bottomCenter",d.BottomRight="bottomRight"})(D||(D={}));var K=function(){function d(r){var l,y,_,P,F,Z,ot;this.fit=(l=r==null?void 0:r.fit)!==null&&l!==void 0?l:c.Contain,this.alignment=(y=r==null?void 0:r.alignment)!==null&&y!==void 0?y:D.Center,this.layoutScaleFactor=(_=r==null?void 0:r.layoutScaleFactor)!==null&&_!==void 0?_:1,this.minX=(P=r==null?void 0:r.minX)!==null&&P!==void 0?P:0,this.minY=(F=r==null?void 0:r.minY)!==null&&F!==void 0?F:0,this.maxX=(Z=r==null?void 0:r.maxX)!==null&&Z!==void 0?Z:0,this.maxY=(ot=r==null?void 0:r.maxY)!==null&&ot!==void 0?ot:0}return d.new=function(r){var l=r.fit,y=r.alignment,_=r.minX,P=r.minY,F=r.maxX,Z=r.maxY;return console.warn("This function is deprecated: please use `new Layout({})` instead"),new d({fit:l,alignment:y,minX:_,minY:P,maxX:F,maxY:Z})},d.prototype.copyWith=function(r){var l=r.fit,y=r.alignment,_=r.layoutScaleFactor,P=r.minX,F=r.minY,Z=r.maxX,ot=r.maxY;return new d({fit:l??this.fit,alignment:y??this.alignment,layoutScaleFactor:_??this.layoutScaleFactor,minX:P??this.minX,minY:F??this.minY,maxX:Z??this.maxX,maxY:ot??this.maxY})},d.prototype.runtimeFit=function(r){if(this.cachedRuntimeFit)return this.cachedRuntimeFit;var l;return this.fit===c.Cover?l=r.Fit.cover:this.fit===c.Contain?l=r.Fit.contain:this.fit===c.Fill?l=r.Fit.fill:this.fit===c.FitWidth?l=r.Fit.fitWidth:this.fit===c.FitHeight?l=r.Fit.fitHeight:this.fit===c.ScaleDown?l=r.Fit.scaleDown:this.fit===c.Layout?l=r.Fit.layout:l=r.Fit.none,this.cachedRuntimeFit=l,l},d.prototype.runtimeAlignment=function(r){if(this.cachedRuntimeAlignment)return this.cachedRuntimeAlignment;var l;return this.alignment===D.TopLeft?l=r.Alignment.topLeft:this.alignment===D.TopCenter?l=r.Alignment.topCenter:this.alignment===D.TopRight?l=r.Alignment.topRight:this.alignment===D.CenterLeft?l=r.Alignment.centerLeft:this.alignment===D.CenterRight?l=r.Alignment.centerRight:this.alignment===D.BottomLeft?l=r.Alignment.bottomLeft:this.alignment===D.BottomCenter?l=r.Alignment.bottomCenter:this.alignment===D.BottomRight?l=r.Alignment.bottomRight:l=r.Alignment.center,this.cachedRuntimeAlignment=l,l},d}(),$=function(){function d(){}return d.loadRuntime=function(){b.default({locateFile:function(){return d.wasmURL}}).then(function(r){var l;for(d.runtime=r;d.callBackQueue.length>0;)(l=d.callBackQueue.shift())===null||l===void 0||l(d.runtime)}).catch(function(r){var l={message:(r==null?void 0:r.message)||"Unknown error",type:(r==null?void 0:r.name)||"Error",wasmError:r instanceof WebAssembly.CompileError||r instanceof WebAssembly.RuntimeError,originalError:r};console.debug("Rive WASM load error details:",l);var y="https://cdn.jsdelivr.net/npm/".concat(C.name,"@").concat(C.version,"/rive_fallback.wasm");if(d.wasmURL.toLowerCase()!==y)console.warn("Failed to load WASM from ".concat(d.wasmURL," (").concat(l.message,"), trying jsdelivr as a backup")),d.setWasmUrl(y),d.loadRuntime();else{var _=["Could not load Rive WASM file from ".concat(d.wasmURL," or ").concat(y,"."),"Possible reasons:","- Network connection is down","- WebAssembly is not supported in this environment","- The WASM file is corrupted or incompatible",`
Error details:`,"- Type: ".concat(l.type),"- Message: ".concat(l.message),"- WebAssembly-specific error: ".concat(l.wasmError),`
To resolve, you may need to:`,"1. Check your network connection","2. Set a new WASM source via RuntimeLoader.setWasmUrl()","3. Call RuntimeLoader.loadRuntime() again"].join(`
`);console.error(_)}})},d.getInstance=function(r){d.isLoading||(d.isLoading=!0,d.loadRuntime()),d.runtime?r(d.runtime):d.callBackQueue.push(r)},d.awaitInstance=function(){return new Promise(function(r){return d.getInstance(function(l){return r(l)})})},d.setWasmUrl=function(r){d.wasmURL=r},d.getWasmUrl=function(){return d.wasmURL},d.isLoading=!1,d.callBackQueue=[],d.wasmURL="https://unpkg.com/".concat(C.name,"@").concat(C.version,"/rive.wasm"),d}(),Y;(function(d){d[d.Number=56]="Number",d[d.Trigger=58]="Trigger",d[d.Boolean=59]="Boolean"})(Y||(Y={}));var it=function(){function d(r,l){this.type=r,this.runtimeInput=l}return Object.defineProperty(d.prototype,"name",{get:function(){return this.runtimeInput.name},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"value",{get:function(){return this.runtimeInput.value},set:function(r){this.runtimeInput.value=r},enumerable:!1,configurable:!0}),d.prototype.fire=function(){this.type===Y.Trigger&&this.runtimeInput.fire()},d.prototype.delete=function(){this.runtimeInput=null},d}(),X;(function(d){d[d.General=128]="General",d[d.OpenUrl=131]="OpenUrl"})(X||(X={}));var z=function(){function d(r,l,y,_){this.stateMachine=r,this.playing=y,this.artboard=_,this.inputs=[],this.instance=new l.StateMachineInstance(r,_),this.initInputs(l)}return Object.defineProperty(d.prototype,"name",{get:function(){return this.stateMachine.name},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"statesChanged",{get:function(){for(var r=[],l=0;l<this.instance.stateChangedCount();l++)r.push(this.instance.stateChangedNameByIndex(l));return r},enumerable:!1,configurable:!0}),d.prototype.advance=function(r){this.instance.advance(r)},d.prototype.advanceAndApply=function(r){this.instance.advanceAndApply(r)},d.prototype.reportedEventCount=function(){return this.instance.reportedEventCount()},d.prototype.reportedEventAt=function(r){return this.instance.reportedEventAt(r)},d.prototype.initInputs=function(r){for(var l=0;l<this.instance.inputCount();l++){var y=this.instance.input(l);this.inputs.push(this.mapRuntimeInput(y,r))}},d.prototype.mapRuntimeInput=function(r,l){if(r.type===l.SMIInput.bool)return new it(Y.Boolean,r.asBool());if(r.type===l.SMIInput.number)return new it(Y.Number,r.asNumber());if(r.type===l.SMIInput.trigger)return new it(Y.Trigger,r.asTrigger())},d.prototype.cleanup=function(){this.inputs.forEach(function(r){r.delete()}),this.inputs.length=0,this.instance.delete()},d}(),q=function(){function d(r,l,y,_,P){_===void 0&&(_=[]),P===void 0&&(P=[]),this.runtime=r,this.artboard=l,this.eventManager=y,this.animations=_,this.stateMachines=P}return d.prototype.add=function(r,l,y){if(y===void 0&&(y=!0),r=dt(r),r.length===0)this.animations.forEach(function(Mt){return Mt.playing=l}),this.stateMachines.forEach(function(Mt){return Mt.playing=l});else for(var _=this.animations.map(function(Mt){return Mt.name}),P=this.stateMachines.map(function(Mt){return Mt.name}),F=0;F<r.length;F++){var Z=_.indexOf(r[F]),ot=P.indexOf(r[F]);if(Z>=0||ot>=0)Z>=0?this.animations[Z].playing=l:this.stateMachines[ot].playing=l;else{var G=this.artboard.animationByName(r[F]);if(G){var Ct=new m.Animation(G,this.artboard,this.runtime,l);Ct.advance(0),Ct.apply(1),this.animations.push(Ct)}else{var Rt=this.artboard.stateMachineByName(r[F]);if(Rt){var kt=new z(Rt,this.runtime,l,this.artboard);this.stateMachines.push(kt)}}}}return y&&(l?this.eventManager.fire({type:j.Play,data:this.playing}):this.eventManager.fire({type:j.Pause,data:this.paused})),l?this.playing:this.paused},d.prototype.initLinearAnimations=function(r,l){for(var y=this.animations.map(function(ot){return ot.name}),_=0;_<r.length;_++){var P=y.indexOf(r[_]);if(P>=0)this.animations[P].playing=l;else{var F=this.artboard.animationByName(r[_]);if(F){var Z=new m.Animation(F,this.artboard,this.runtime,l);Z.advance(0),Z.apply(1),this.animations.push(Z)}}}},d.prototype.initStateMachines=function(r,l){for(var y=this.stateMachines.map(function(ot){return ot.name}),_=0;_<r.length;_++){var P=y.indexOf(r[_]);if(P>=0)this.stateMachines[P].playing=l;else{var F=this.artboard.stateMachineByName(r[_]);if(F){var Z=new z(F,this.runtime,l,this.artboard);this.stateMachines.push(Z)}else this.initLinearAnimations([r[_]],l)}}},d.prototype.play=function(r){return this.add(r,!0)},d.prototype.pause=function(r){return this.add(r,!1)},d.prototype.scrub=function(r,l){var y=this.animations.filter(function(_){return r.includes(_.name)});return y.forEach(function(_){return _.scrubTo=l}),y.map(function(_){return _.name})},Object.defineProperty(d.prototype,"playing",{get:function(){return this.animations.filter(function(r){return r.playing}).map(function(r){return r.name}).concat(this.stateMachines.filter(function(r){return r.playing}).map(function(r){return r.name}))},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"paused",{get:function(){return this.animations.filter(function(r){return!r.playing}).map(function(r){return r.name}).concat(this.stateMachines.filter(function(r){return!r.playing}).map(function(r){return r.name}))},enumerable:!1,configurable:!0}),d.prototype.stop=function(r){var l=this;r=dt(r);var y=[];if(r.length===0)y=this.animations.map(function(F){return F.name}).concat(this.stateMachines.map(function(F){return F.name})),this.animations.forEach(function(F){return F.cleanup()}),this.stateMachines.forEach(function(F){return F.cleanup()}),this.animations.splice(0,this.animations.length),this.stateMachines.splice(0,this.stateMachines.length);else{var _=this.animations.filter(function(F){return r.includes(F.name)});_.forEach(function(F){F.cleanup(),l.animations.splice(l.animations.indexOf(F),1)});var P=this.stateMachines.filter(function(F){return r.includes(F.name)});P.forEach(function(F){F.cleanup(),l.stateMachines.splice(l.stateMachines.indexOf(F),1)}),y=_.map(function(F){return F.name}).concat(P.map(function(F){return F.name}))}return this.eventManager.fire({type:j.Stop,data:y}),y},Object.defineProperty(d.prototype,"isPlaying",{get:function(){return this.animations.reduce(function(r,l){return r||l.playing},!1)||this.stateMachines.reduce(function(r,l){return r||l.playing},!1)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"isPaused",{get:function(){return!this.isPlaying&&(this.animations.length>0||this.stateMachines.length>0)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"isStopped",{get:function(){return this.animations.length===0&&this.stateMachines.length===0},enumerable:!1,configurable:!0}),d.prototype.atLeastOne=function(r,l){l===void 0&&(l=!0);var y;return this.animations.length===0&&this.stateMachines.length===0&&(this.artboard.animationCount()>0?this.add([y=this.artboard.animationByIndex(0).name],r,l):this.artboard.stateMachineCount()>0&&this.add([y=this.artboard.stateMachineByIndex(0).name],r,l)),y},d.prototype.handleLooping=function(){for(var r=0,l=this.animations.filter(function(_){return _.playing});r<l.length;r++){var y=l[r];y.loopValue===0&&y.loopCount?(y.loopCount=0,this.stop(y.name)):y.loopValue===1&&y.loopCount?(this.eventManager.fire({type:j.Loop,data:{animation:y.name,type:vt.Loop}}),y.loopCount=0):y.loopValue===2&&y.loopCount>1&&(this.eventManager.fire({type:j.Loop,data:{animation:y.name,type:vt.PingPong}}),y.loopCount=0)}},d.prototype.handleStateChanges=function(){for(var r=[],l=0,y=this.stateMachines.filter(function(P){return P.playing});l<y.length;l++){var _=y[l];r.push.apply(r,_.statesChanged)}r.length>0&&this.eventManager.fire({type:j.StateChange,data:r})},d.prototype.handleAdvancing=function(r){this.eventManager.fire({type:j.Advance,data:r})},d}(),j;(function(d){d.Load="load",d.LoadError="loaderror",d.Play="play",d.Pause="pause",d.Stop="stop",d.Loop="loop",d.Draw="draw",d.Advance="advance",d.StateChange="statechange",d.RiveEvent="riveevent",d.AudioStatusChange="audiostatuschange"})(j||(j={}));var vt;(function(d){d.OneShot="oneshot",d.Loop="loop",d.PingPong="pingpong"})(vt||(vt={}));var st=function(){function d(r){r===void 0&&(r=[]),this.listeners=r}return d.prototype.getListeners=function(r){return this.listeners.filter(function(l){return l.type===r})},d.prototype.add=function(r){this.listeners.includes(r)||this.listeners.push(r)},d.prototype.remove=function(r){for(var l=0;l<this.listeners.length;l++){var y=this.listeners[l];if(y.type===r.type&&y.callback===r.callback){this.listeners.splice(l,1);break}}},d.prototype.removeAll=function(r){var l=this;r?this.listeners.filter(function(y){return y.type===r}).forEach(function(y){return l.remove(y)}):this.listeners.splice(0,this.listeners.length)},d.prototype.fire=function(r){var l=this.getListeners(r.type);l.forEach(function(y){return y.callback(r)})},d}(),gt=function(){function d(r){this.eventManager=r,this.queue=[]}return d.prototype.add=function(r){this.queue.push(r)},d.prototype.process=function(){for(;this.queue.length>0;){var r=this.queue.shift();r!=null&&r.action&&r.action(),r!=null&&r.event&&this.eventManager.fire(r.event)}},d}(),rt;(function(d){d[d.AVAILABLE=0]="AVAILABLE",d[d.UNAVAILABLE=1]="UNAVAILABLE"})(rt||(rt={}));var yt=function(d){I(r,d);function r(){var l=d!==null&&d.apply(this,arguments)||this;return l._started=!1,l._enabled=!1,l._status=rt.UNAVAILABLE,l}return r.prototype.delay=function(l){return L(this,void 0,void 0,function(){return T(this,function(y){return[2,new Promise(function(_){return setTimeout(_,l)})]})})},r.prototype.timeout=function(){return L(this,void 0,void 0,function(){return T(this,function(l){return[2,new Promise(function(y,_){return setTimeout(_,50)})]})})},r.prototype.reportToListeners=function(){this.fire({type:j.AudioStatusChange}),this.removeAll()},r.prototype.enableAudio=function(){return L(this,void 0,void 0,function(){return T(this,function(l){return this._enabled||(this._enabled=!0,this._status=rt.AVAILABLE,this.reportToListeners()),[2]})})},r.prototype.testAudio=function(){return L(this,void 0,void 0,function(){return T(this,function(l){switch(l.label){case 0:if(!(this._status===rt.UNAVAILABLE&&this._audioContext!==null))return[3,4];l.label=1;case 1:return l.trys.push([1,3,,4]),[4,Promise.race([this._audioContext.resume(),this.timeout()])];case 2:return l.sent(),this.enableAudio(),[3,4];case 3:return l.sent(),[3,4];case 4:return[2]}})})},r.prototype._establishAudio=function(){return L(this,void 0,void 0,function(){return T(this,function(l){switch(l.label){case 0:return this._started?[3,5]:(this._started=!0,typeof window>"u"?(this.enableAudio(),[3,5]):[3,1]);case 1:this._audioContext=new AudioContext,this.listenForUserAction(),l.label=2;case 2:return this._status!==rt.UNAVAILABLE?[3,5]:[4,this.testAudio()];case 3:return l.sent(),[4,this.delay(1e3)];case 4:return l.sent(),[3,2];case 5:return[2]}})})},r.prototype.listenForUserAction=function(){var l=this,y=function(){return L(l,void 0,void 0,function(){return T(this,function(_){return this.enableAudio(),[2]})})};document.addEventListener("pointerdown",y,{once:!0})},r.prototype.establishAudio=function(){return L(this,void 0,void 0,function(){return T(this,function(l){return this._establishAudio(),[2]})})},Object.defineProperty(r.prototype,"systemVolume",{get:function(){return this._status===rt.UNAVAILABLE?(this.testAudio(),0):1},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),r}(st),lt=new yt,Lt=function(){function d(){}return d.prototype.observe=function(){},d.prototype.unobserve=function(){},d.prototype.disconnect=function(){},d}(),At=globalThis.ResizeObserver||Lt,$t=function(){function d(){var r=this;this._elementsMap=new Map,this._onObservedEntry=function(l){var y=r._elementsMap.get(l.target);y!==null?y.onResize(l.target.clientWidth==0||l.target.clientHeight==0):r._resizeObserver.unobserve(l.target)},this._onObserved=function(l){l.forEach(r._onObservedEntry)},this._resizeObserver=new At(this._onObserved)}return d.prototype.add=function(r,l){var y={onResize:l,element:r};return this._elementsMap.set(r,y),this._resizeObserver.observe(r),y},d.prototype.remove=function(r){this._resizeObserver.unobserve(r.element),this._elementsMap.delete(r.element)},d}(),Xt=new $t,ut=function(){function d(r){this.enableRiveAssetCDN=!0,this.referenceCount=0,this.src=r.src,this.buffer=r.buffer,r.assetLoader&&(this.assetLoader=r.assetLoader),this.enableRiveAssetCDN=typeof r.enableRiveAssetCDN=="boolean"?r.enableRiveAssetCDN:!0,this.eventManager=new st,r.onLoad&&this.on(j.Load,r.onLoad),r.onLoadError&&this.on(j.LoadError,r.onLoadError)}return d.prototype.initData=function(){return L(this,void 0,void 0,function(){var r,l,y;return T(this,function(_){switch(_.label){case 0:return this.src?(r=this,[4,_t(this.src)]):[3,2];case 1:r.buffer=_.sent(),_.label=2;case 2:return this.assetLoader&&(l=new this.runtime.CustomFileAssetLoader({loadContents:this.assetLoader})),y=this,[4,this.runtime.load(new Uint8Array(this.buffer),l,this.enableRiveAssetCDN)];case 3:if(y.file=_.sent(),this.file!==null)this.eventManager.fire({type:j.Load,data:this});else throw this.eventManager.fire({type:j.LoadError,data:null}),new Error(d.fileLoadErrorMessage);return[2]}})})},d.prototype.init=function(){return L(this,void 0,void 0,function(){var r;return T(this,function(l){switch(l.label){case 0:if(!this.src&&!this.buffer)throw new Error(d.missingErrorMessage);return r=this,[4,$.awaitInstance()];case 1:return r.runtime=l.sent(),[4,this.initData()];case 2:return l.sent(),[2]}})})},d.prototype.on=function(r,l){this.eventManager.add({type:r,callback:l})},d.prototype.off=function(r,l){this.eventManager.remove({type:r,callback:l})},d.prototype.cleanup=function(){var r;this.referenceCount-=1,this.referenceCount<=0&&(this.removeAllRiveEventListeners(),(r=this.file)===null||r===void 0||r.delete())},d.prototype.removeAllRiveEventListeners=function(r){this.eventManager.removeAll(r)},d.prototype.getInstance=function(){if(this.file!==null)return this.referenceCount+=1,this.file},d.missingErrorMessage="Rive source file or data buffer required",d.fileLoadErrorMessage="The file failed to load",d}(),Vt=function(){function d(r){var l=this,y;this.loaded=!1,this._observed=null,this.readyForPlaying=!1,this.artboard=null,this.eventCleanup=null,this.shouldDisableRiveListeners=!1,this.automaticallyHandleEvents=!1,this.enableRiveAssetCDN=!0,this._volume=1,this._artboardWidth=void 0,this._artboardHeight=void 0,this._devicePixelRatioUsed=1,this._hasZeroSize=!1,this._audioEventListener=null,this.durations=[],this.frameTimes=[],this.frameCount=0,this.isTouchScrollEnabled=!1,this.onCanvasResize=function(_){l._hasZeroSize=_,(!l._layout.maxX||!l._layout.maxY)&&l.resizeToCanvas()},this.renderSecondTimer=0,this.canvas=r.canvas,r.canvas.constructor===HTMLCanvasElement&&(this._observed=Xt.add(this.canvas,this.onCanvasResize)),this.src=r.src,this.buffer=r.buffer,this.riveFile=r.riveFile,this.layout=(y=r.layout)!==null&&y!==void 0?y:new K,this.shouldDisableRiveListeners=!!r.shouldDisableRiveListeners,this.isTouchScrollEnabled=!!r.isTouchScrollEnabled,this.automaticallyHandleEvents=!!r.automaticallyHandleEvents,this.enableRiveAssetCDN=r.enableRiveAssetCDN===void 0?!0:r.enableRiveAssetCDN,this.eventManager=new st,r.onLoad&&this.on(j.Load,r.onLoad),r.onLoadError&&this.on(j.LoadError,r.onLoadError),r.onPlay&&this.on(j.Play,r.onPlay),r.onPause&&this.on(j.Pause,r.onPause),r.onStop&&this.on(j.Stop,r.onStop),r.onLoop&&this.on(j.Loop,r.onLoop),r.onStateChange&&this.on(j.StateChange,r.onStateChange),r.onAdvance&&this.on(j.Advance,r.onAdvance),r.onload&&!r.onLoad&&this.on(j.Load,r.onload),r.onloaderror&&!r.onLoadError&&this.on(j.LoadError,r.onloaderror),r.onplay&&!r.onPlay&&this.on(j.Play,r.onplay),r.onpause&&!r.onPause&&this.on(j.Pause,r.onpause),r.onstop&&!r.onStop&&this.on(j.Stop,r.onstop),r.onloop&&!r.onLoop&&this.on(j.Loop,r.onloop),r.onstatechange&&!r.onStateChange&&this.on(j.StateChange,r.onstatechange),r.assetLoader&&(this.assetLoader=r.assetLoader),this.taskQueue=new gt(this.eventManager),this.init({src:this.src,buffer:this.buffer,riveFile:this.riveFile,autoplay:r.autoplay,animations:r.animations,stateMachines:r.stateMachines,artboard:r.artboard,useOffscreenRenderer:r.useOffscreenRenderer})}return d.new=function(r){return console.warn("This function is deprecated: please use `new Rive({})` instead"),new d(r)},d.prototype.onSystemAudioChanged=function(){this.volume=this._volume},d.prototype.init=function(r){var l=this,y=r.src,_=r.buffer,P=r.riveFile,F=r.animations,Z=r.stateMachines,ot=r.artboard,G=r.autoplay,Ct=G===void 0?!1:G,Rt=r.useOffscreenRenderer,kt=Rt===void 0?!1:Rt;if(this.src=y,this.buffer=_,this.riveFile=P,!this.src&&!this.buffer&&!this.riveFile)throw new Error(d.missingErrorMessage);var Mt=dt(F),be=dt(Z);this.loaded=!1,this.readyForPlaying=!1,$.awaitInstance().then(function(Zt){l.runtime=Zt,l.removeRiveListeners(),l.deleteRiveRenderer(),l.renderer=l.runtime.makeRenderer(l.canvas,kt),l.canvas.width||l.canvas.height||l.resizeDrawingSurfaceToCanvas(),l.initData(ot,Mt,be,Ct).then(function(){return l.setupRiveListeners()}).catch(function(we){console.error(we)})}).catch(function(Zt){console.error(Zt)})},d.prototype.setupRiveListeners=function(r){var l=this;if(this.eventCleanup&&this.eventCleanup(),!this.shouldDisableRiveListeners){var y=(this.animator.stateMachines||[]).filter(function(P){return P.playing&&l.runtime.hasListeners(P.instance)}).map(function(P){return P.instance}),_=this.isTouchScrollEnabled;r&&"isTouchScrollEnabled"in r&&(_=r.isTouchScrollEnabled),this.eventCleanup=(0,E.registerTouchInteractions)({canvas:this.canvas,artboard:this.artboard,stateMachines:y,renderer:this.renderer,rive:this.runtime,fit:this._layout.runtimeFit(this.runtime),alignment:this._layout.runtimeAlignment(this.runtime),isTouchScrollEnabled:_,layoutScaleFactor:this._layout.layoutScaleFactor})}},d.prototype.removeRiveListeners=function(){this.eventCleanup&&(this.eventCleanup(),this.eventCleanup=null)},d.prototype.initializeAudio=function(){var r=this,l;lt.status==rt.UNAVAILABLE&&!((l=this.artboard)===null||l===void 0)&&l.hasAudio&&this._audioEventListener===null&&(this._audioEventListener={type:j.AudioStatusChange,callback:function(){return r.onSystemAudioChanged()}},lt.add(this._audioEventListener),lt.establishAudio())},d.prototype.initArtboardSize=function(){this.artboard&&(this._artboardWidth=this.artboard.width=this._artboardWidth||this.artboard.width,this._artboardHeight=this.artboard.height=this._artboardHeight||this.artboard.height)},d.prototype.initData=function(r,l,y,_){return L(this,void 0,void 0,function(){var P,F;return T(this,function(Z){switch(Z.label){case 0:return Z.trys.push([0,3,,4]),this.riveFile!=null?[3,2]:(this.riveFile=new ut({src:this.src,buffer:this.buffer,enableRiveAssetCDN:this.enableRiveAssetCDN,assetLoader:this.assetLoader}),[4,this.riveFile.init()]);case 1:Z.sent(),Z.label=2;case 2:return this.file=this.riveFile.getInstance(),this.initArtboard(r,l,y,_),this.initArtboardSize(),this.initializeAudio(),this.loaded=!0,this.eventManager.fire({type:j.Load,data:(F=this.src)!==null&&F!==void 0?F:"buffer"}),this.readyForPlaying=!0,this.taskQueue.process(),this.drawFrame(),[2,Promise.resolve()];case 3:return Z.sent(),P="Problem loading file; may be corrupt!",console.warn(P),this.eventManager.fire({type:j.LoadError,data:P}),[2,Promise.reject(P)];case 4:return[2]}})})},d.prototype.initArtboard=function(r,l,y,_){if(this.file){var P=r?this.file.artboardByName(r):this.file.defaultArtboard();if(!P){var F="Invalid artboard name or no default artboard";console.warn(F),this.eventManager.fire({type:j.LoadError,data:F});return}if(this.artboard=P,P.volume=this._volume*lt.systemVolume,this.artboard.animationCount()<1){var F="Artboard has no animations";throw this.eventManager.fire({type:j.LoadError,data:F}),F}this.animator=new q(this.runtime,this.artboard,this.eventManager);var Z;l.length>0||y.length>0?(Z=l.concat(y),this.animator.initLinearAnimations(l,_),this.animator.initStateMachines(y,_)):Z=[this.animator.atLeastOne(_,!1)],this.taskQueue.add({event:{type:_?j.Play:j.Pause,data:Z}})}},d.prototype.drawFrame=function(){this.startRendering()},d.prototype.draw=function(r,l){this.frameRequestId=null;var y=performance.now();this.lastRenderTime||(this.lastRenderTime=r),this.renderSecondTimer+=r-this.lastRenderTime,this.renderSecondTimer>5e3&&(this.renderSecondTimer=0,l==null||l());var _=(r-this.lastRenderTime)/1e3;this.lastRenderTime=r;for(var P=this.animator.animations.filter(function(qt){return qt.playing||qt.needsScrub}).sort(function(qt){return qt.needsScrub?-1:1}),F=0,Z=P;F<Z.length;F++){var ot=Z[F];ot.advance(_),ot.instance.didLoop&&(ot.loopCount+=1),ot.apply(1)}for(var G=this.animator.stateMachines.filter(function(qt){return qt.playing}),Ct=0,Rt=G;Ct<Rt.length;Ct++){var kt=Rt[Ct],Mt=kt.reportedEventCount();if(Mt)for(var be=0;be<Mt;be++){var Zt=kt.reportedEventAt(be);if(Zt)if(Zt.type===X.OpenUrl){if(this.eventManager.fire({type:j.RiveEvent,data:Zt}),this.automaticallyHandleEvents){var we=document.createElement("a"),rn=Zt,he=rn.url,Me=rn.target,$e=(0,E.sanitizeUrl)(he);he&&we.setAttribute("href",$e),Me&&we.setAttribute("target",Me),$e&&$e!==E.BLANK_URL&&we.click()}}else this.eventManager.fire({type:j.RiveEvent,data:Zt})}kt.advanceAndApply(_)}this.animator.stateMachines.length==0&&this.artboard.advance(_);var fe=this.renderer;fe.clear(),fe.save(),this.alignRenderer(),this._hasZeroSize||this.artboard.draw(fe),fe.restore(),fe.flush(),this.animator.handleLooping(),this.animator.handleStateChanges(),this.animator.handleAdvancing(_),this.frameCount++;var Oe=performance.now();for(this.frameTimes.push(Oe),this.durations.push(Oe-y);this.frameTimes[0]<=Oe-1e3;)this.frameTimes.shift(),this.durations.shift();this.animator.isPlaying?this.startRendering():this.animator.isPaused?this.lastRenderTime=0:this.animator.isStopped&&(this.lastRenderTime=0)},d.prototype.alignRenderer=function(){var r=this,l=r.renderer,y=r.runtime,_=r._layout,P=r.artboard;l.align(_.runtimeFit(y),_.runtimeAlignment(y),{minX:_.minX,minY:_.minY,maxX:_.maxX,maxY:_.maxY},P.bounds,this._devicePixelRatioUsed*_.layoutScaleFactor)},Object.defineProperty(d.prototype,"fps",{get:function(){return this.durations.length},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"frameTime",{get:function(){return this.durations.length===0?0:(this.durations.reduce(function(r,l){return r+l},0)/this.durations.length).toFixed(4)},enumerable:!1,configurable:!0}),d.prototype.cleanup=function(){var r;this.stopRendering(),this.cleanupInstances(),this._observed!==null&&Xt.remove(this._observed),this.removeRiveListeners(),(r=this.riveFile)===null||r===void 0||r.cleanup(),this.riveFile=null,this.file=null,this.deleteRiveRenderer(),this._audioEventListener!==null&&(lt.remove(this._audioEventListener),this._audioEventListener=null)},d.prototype.deleteRiveRenderer=function(){var r;(r=this.renderer)===null||r===void 0||r.delete(),this.renderer=null},d.prototype.cleanupInstances=function(){this.eventCleanup!==null&&this.eventCleanup(),this.stop(),this.artboard&&(this.artboard.delete(),this.artboard=null)},d.prototype.retrieveTextRun=function(r){var l;if(!r){console.warn("No text run name provided");return}if(!this.artboard){console.warn("Tried to access text run, but the Artboard is null");return}var y=this.artboard.textRun(r);if(!y){console.warn("Could not access a text run with name '".concat(r,"' in the '").concat((l=this.artboard)===null||l===void 0?void 0:l.name,"' Artboard. Note that you must rename a text run node in the Rive editor to make it queryable at runtime."));return}return y},d.prototype.getTextRunValue=function(r){var l=this.retrieveTextRun(r);return l?l.text:void 0},d.prototype.setTextRunValue=function(r,l){var y=this.retrieveTextRun(r);y&&(y.text=l)},d.prototype.play=function(r,l){var y=this;if(r=dt(r),!this.readyForPlaying){this.taskQueue.add({action:function(){return y.play(r,l)}});return}this.animator.play(r),this.eventCleanup&&this.eventCleanup(),this.setupRiveListeners(),this.startRendering()},d.prototype.pause=function(r){var l=this;if(r=dt(r),!this.readyForPlaying){this.taskQueue.add({action:function(){return l.pause(r)}});return}this.eventCleanup&&this.eventCleanup(),this.animator.pause(r)},d.prototype.scrub=function(r,l){var y=this;if(r=dt(r),!this.readyForPlaying){this.taskQueue.add({action:function(){return y.scrub(r,l)}});return}this.animator.scrub(r,l||0),this.drawFrame()},d.prototype.stop=function(r){var l=this;if(r=dt(r),!this.readyForPlaying){this.taskQueue.add({action:function(){return l.stop(r)}});return}this.animator&&this.animator.stop(r),this.eventCleanup&&this.eventCleanup()},d.prototype.reset=function(r){var l,y=r==null?void 0:r.artboard,_=dt(r==null?void 0:r.animations),P=dt(r==null?void 0:r.stateMachines),F=(l=r==null?void 0:r.autoplay)!==null&&l!==void 0?l:!1;this.cleanupInstances(),this.initArtboard(y,_,P,F),this.taskQueue.process()},d.prototype.load=function(r){this.file=null,this.stop(),this.init(r)},Object.defineProperty(d.prototype,"layout",{get:function(){return this._layout},set:function(r){this._layout=r,(!r.maxX||!r.maxY)&&this.resizeToCanvas(),this.loaded&&!this.animator.isPlaying&&this.drawFrame()},enumerable:!1,configurable:!0}),d.prototype.resizeToCanvas=function(){this._layout=this.layout.copyWith({minX:0,minY:0,maxX:this.canvas.width,maxY:this.canvas.height})},d.prototype.resizeDrawingSurfaceToCanvas=function(r){if(this.canvas instanceof HTMLCanvasElement&&window){var l=this.canvas.getBoundingClientRect(),y=l.width,_=l.height,P=r||window.devicePixelRatio||1;if(this.devicePixelRatioUsed=P,this.canvas.width=P*y,this.canvas.height=P*_,this.startRendering(),this.resizeToCanvas(),this.layout.fit===c.Layout){var F=this._layout.layoutScaleFactor;this.artboard.width=y/F,this.artboard.height=_/F}}},Object.defineProperty(d.prototype,"source",{get:function(){return this.src},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"activeArtboard",{get:function(){return this.artboard?this.artboard.name:""},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"animationNames",{get:function(){if(!this.loaded||!this.artboard)return[];for(var r=[],l=0;l<this.artboard.animationCount();l++)r.push(this.artboard.animationByIndex(l).name);return r},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"stateMachineNames",{get:function(){if(!this.loaded||!this.artboard)return[];for(var r=[],l=0;l<this.artboard.stateMachineCount();l++)r.push(this.artboard.stateMachineByIndex(l).name);return r},enumerable:!1,configurable:!0}),d.prototype.stateMachineInputs=function(r){if(this.loaded){var l=this.animator.stateMachines.find(function(y){return y.name===r});return l==null?void 0:l.inputs}},d.prototype.retrieveInputAtPath=function(r,l){if(!r){console.warn("No input name provided for path '".concat(l,"'"));return}if(!this.artboard){console.warn("Tried to access input: '".concat(r,"', at path: '").concat(l,"', but the Artboard is null"));return}var y=this.artboard.inputByPath(r,l);if(!y){console.warn("Could not access an input with name: '".concat(r,"', at path:'").concat(l,"'"));return}return y},d.prototype.setBooleanStateAtPath=function(r,l,y){var _=this.retrieveInputAtPath(r,y);_&&(_.type===Y.Boolean?_.asBool().value=l:console.warn("Input with name: '".concat(r,"', at path:'").concat(y,"' is not a boolean")))},d.prototype.setNumberStateAtPath=function(r,l,y){var _=this.retrieveInputAtPath(r,y);_&&(_.type===Y.Number?_.asNumber().value=l:console.warn("Input with name: '".concat(r,"', at path:'").concat(y,"' is not a number")))},d.prototype.fireStateAtPath=function(r,l){var y=this.retrieveInputAtPath(r,l);y&&(y.type===Y.Trigger?y.asTrigger().fire():console.warn("Input with name: '".concat(r,"', at path:'").concat(l,"' is not a trigger")))},d.prototype.retrieveTextAtPath=function(r,l){if(!r){console.warn("No text name provided for path '".concat(l,"'"));return}if(!l){console.warn("No path provided for text '".concat(r,"'"));return}if(!this.artboard){console.warn("Tried to access text: '".concat(r,"', at path: '").concat(l,"', but the Artboard is null"));return}var y=this.artboard.textByPath(r,l);if(!y){console.warn("Could not access text with name: '".concat(r,"', at path:'").concat(l,"'"));return}return y},d.prototype.getTextRunValueAtPath=function(r,l){var y=this.retrieveTextAtPath(r,l);if(!y){console.warn("Could not get text with name: '".concat(r,"', at path:'").concat(l,"'"));return}return y.text},d.prototype.setTextRunValueAtPath=function(r,l,y){var _=this.retrieveTextAtPath(r,y);if(!_){console.warn("Could not set text with name: '".concat(r,"', at path:'").concat(y,"'"));return}_.text=l},Object.defineProperty(d.prototype,"playingStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(r){return r.playing}).map(function(r){return r.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"playingAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(r){return r.playing}).map(function(r){return r.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"pausedAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(r){return!r.playing}).map(function(r){return r.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"pausedStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(r){return!r.playing}).map(function(r){return r.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"isPlaying",{get:function(){return this.animator.isPlaying},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"isPaused",{get:function(){return this.animator.isPaused},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"isStopped",{get:function(){return this.animator.isStopped},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"bounds",{get:function(){return this.artboard?this.artboard.bounds:void 0},enumerable:!1,configurable:!0}),d.prototype.on=function(r,l){this.eventManager.add({type:r,callback:l})},d.prototype.off=function(r,l){this.eventManager.remove({type:r,callback:l})},d.prototype.unsubscribe=function(r,l){console.warn("This function is deprecated: please use `off()` instead."),this.off(r,l)},d.prototype.removeAllRiveEventListeners=function(r){this.eventManager.removeAll(r)},d.prototype.unsubscribeAll=function(r){console.warn("This function is deprecated: please use `removeAllRiveEventListeners()` instead."),this.removeAllRiveEventListeners(r)},d.prototype.stopRendering=function(){this.loaded&&this.frameRequestId&&(this.runtime.cancelAnimationFrame?this.runtime.cancelAnimationFrame(this.frameRequestId):cancelAnimationFrame(this.frameRequestId),this.frameRequestId=null)},d.prototype.startRendering=function(){this.loaded&&this.artboard&&!this.frameRequestId&&(this.runtime.requestAnimationFrame?this.frameRequestId=this.runtime.requestAnimationFrame(this.draw.bind(this)):this.frameRequestId=requestAnimationFrame(this.draw.bind(this)))},d.prototype.enableFPSCounter=function(r){this.runtime.enableFPSCounter(r)},d.prototype.disableFPSCounter=function(){this.runtime.disableFPSCounter()},Object.defineProperty(d.prototype,"contents",{get:function(){if(this.loaded){for(var r={artboards:[]},l=0;l<this.file.artboardCount();l++){for(var y=this.file.artboardByIndex(l),_={name:y.name,animations:[],stateMachines:[]},P=0;P<y.animationCount();P++){var F=y.animationByIndex(P);_.animations.push(F.name)}for(var Z=0;Z<y.stateMachineCount();Z++){for(var ot=y.stateMachineByIndex(Z),G=ot.name,Ct=new this.runtime.StateMachineInstance(ot,y),Rt=[],kt=0;kt<Ct.inputCount();kt++){var Mt=Ct.input(kt);Rt.push({name:Mt.name,type:Mt.type})}_.stateMachines.push({name:G,inputs:Rt})}r.artboards.push(_)}return r}},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"volume",{get:function(){return this.artboard&&this.artboard.volume!==this._volume&&(this._volume=this.artboard.volume),this._volume},set:function(r){this._volume=r,this.artboard&&(this.artboard.volume=r*lt.systemVolume)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"artboardWidth",{get:function(){var r;return this.artboard?this.artboard.width:(r=this._artboardWidth)!==null&&r!==void 0?r:0},set:function(r){this._artboardWidth=r,this.artboard&&(this.artboard.width=r)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"artboardHeight",{get:function(){var r;return this.artboard?this.artboard.height:(r=this._artboardHeight)!==null&&r!==void 0?r:0},set:function(r){this._artboardHeight=r,this.artboard&&(this.artboard.height=r)},enumerable:!1,configurable:!0}),d.prototype.resetArtboardSize=function(){this.artboard?(this.artboard.resetArtboardSize(),this._artboardWidth=this.artboard.width,this._artboardHeight=this.artboard.height):(this._artboardWidth=void 0,this._artboardHeight=void 0)},Object.defineProperty(d.prototype,"devicePixelRatioUsed",{get:function(){return this._devicePixelRatioUsed},set:function(r){this._devicePixelRatioUsed=r},enumerable:!1,configurable:!0}),d.missingErrorMessage="Rive source file or data buffer required",d}(),_t=function(d){return L(void 0,void 0,void 0,function(){var r,l,y;return T(this,function(_){switch(_.label){case 0:return r=new Request(d),[4,fetch(r)];case 1:return l=_.sent(),[4,l.arrayBuffer()];case 2:return y=_.sent(),[2,y]}})})},dt=function(d){return typeof d=="string"?[d]:d instanceof Array?d:[]},Tt={EventManager:st,TaskQueueManager:gt},jt=function(d){return new Promise(function(r){return $.getInstance(function(l){l.decodeAudio(d,r)})})},ht=function(d){return new Promise(function(r){return $.getInstance(function(l){l.decodeImage(d,r)})})},tt=function(d){return new Promise(function(r){return $.getInstance(function(l){l.decodeFont(d,r)})})}})(),A})())})(yr);const Lo=".lido-canvas{height:100%;width:100%}",Eo=Lo,Io=class{constructor(n){zt(this,n),this.initializeRive=a=>{const h=Re.getInstance(),f=this.el.querySelector("canvas");this.riveInstance=new yr.exports.Rive({src:a,canvas:f,stateMachines:"Idle",autoplay:!0,onLoad:()=>{this.riveInstance.resizeDrawingSurfaceToCanvas(),h.setRiveInstance(this.riveInstance)}})},this.id="",this.value="",this.height="",this.width="auto",this.ariaLabel="",this.ariaHidden="",this.x="0px",this.y="0px",this.z="0",this.bgColor="",this.type="",this.tabIndex=0,this.visible=!1,this.audio="",this.src="",this.onTouch="",this.onInCorrect="",this.onCorrect="",this.onEntry=""}async componentDidLoad(){ee(this.el,this.type),this.initializeRive(de(this.src))}render(){const n={height:this.height,width:this.width,backgroundColor:this.bgColor,top:this.y,left:this.x,display:this.visible?"flex":"none",zIndex:this.z};return J(Ht,{key:"13774c9ed57355f550239f6c1cf17ed3309cf370",id:this.id,type:this.type,tabindex:this.tabIndex,value:this.value,style:n,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,audio:this.audio,onTouch:this.onTouch,onCorrect:this.onCorrect,onInCorrect:this.onInCorrect,onEntry:this.onEntry},J("canvas",{key:"7e0e3c259f179c70b1e7d34c3f500efc87f28370",class:"lido-canvas"}))}get el(){return Kt(this)}};Io.style=Eo;const To=".lido-col{top:var(--y, 0);left:var(--x, 0);height:var(--height, 100%);width:var(--width, 100%);background-color:var(--bgColor, #eeeeee);padding:15px;border-radius:10px;display:flex;justify-content:space-around;flex-direction:column;align-items:center}.lido-col>*{}.lido-row{display:flex;justify-content:space-around;align-items:center;}.lido-row>*{}.lido-wrap{display:grid;grid-gap:10px;grid-template-columns:repeat(auto-fill, minmax(186px, auto))}.lido-wrap>*{padding:10px;background-color:var(--child-bg-color, #f0f0f0);box-sizing:border-box}.lido-flex{display:flex;flex-wrap:wrap;align-content:flex-start;gap:10px}.lido-pos{top:var(--y, 0);left:var(--x, 0);height:var(--height, 100%);width:var(--width, 100%);background-color:var(--bgColor, #eeeeee);display:flex;justify-content:space-around;flex-direction:column;position:fixed}.lido-pos>*{position:absolute}.lido-random{display:flex;justify-content:space-between;align-items:center;position:absolute;}.lido-random>*{position:absolute}",Po=To,Ro=class{constructor(n){zt(this,n),this.id="",this.value="",this.height="auto",this.width="auto",this.ariaLabel="",this.ariaHidden="",this.x="0px",this.y="0px",this.z="0",this.bgColor="",this.type="",this.tabIndex=0,this.visible=!1,this.audio="",this.onTouch="",this.onInCorrect="",this.onCorrect="",this.onEntry="",this.childElementsLength=9999,this.minLength=0,this.maxLength=9999,this.layout="wrap",this.style={}}componentDidLoad(){ee(this.el,this.type),Fn(this.el,this.minLength,this.maxLength,this.childElementsLength,"flex");const n=this.el.querySelectorAll(".lido-random > *");n&&n.forEach(a=>{const h=Math.random()*100,f=Math.random()*100;a.style.top=`${h}%`,a.style.left=`${f}%`})}componentWillLoad(){this.updateStyles(),window.addEventListener("resize",this.updateStyles.bind(this)),window.addEventListener("load",this.updateStyles.bind(this))}disconnectedCallback(){window.removeEventListener("resize",this.updateStyles.bind(this)),window.removeEventListener("load",this.updateStyles.bind(this))}updateStyles(){const n=window.innerHeight>window.innerWidth?"portrait":"landscape";this.style={height:V(this.height,n),width:V(this.width,n),backgroundColor:V(this.bgColor,n),top:V(this.y,n),left:V(this.x,n),zIndex:this.z,display:JSON.parse(V(`${this.visible}`,n))?V(this.layout,n)==="wrap"?"grid":(V(this.layout,n),"block"):"none"},this.el.className=`lido-${V(this.layout,n)}`}render(){return J(Ht,{key:"5f6c0a3f7b0b34df7447b653fe2007dca7f792b5",id:this.id,value:this.value,type:this.type,tabindex:this.tabIndex,style:this.style,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,audio:this.audio,onTouch:this.onTouch,onCorrect:this.onCorrect,onInCorrect:this.onInCorrect,onEntry:this.onEntry},J("slot",{key:"509cd674a2549d92d360627cc215dc95487152cd"}))}get el(){return Kt(this)}};Ro.style=Po;const ko=".lido-col{top:var(--y, 0);left:var(--x, 0);height:var(--height, 100%);width:var(--width, 100%);background-color:var(--bgColor, #eeeeee);padding:15px;border-radius:10px;display:flex;justify-content:space-around;flex-direction:column;align-items:center}.lido-col>*{}",Mo=ko,Oo=class{constructor(n){zt(this,n),this.id=void 0,this.value=void 0,this.height=void 0,this.width=void 0,this.ariaLabel=void 0,this.ariaHidden=void 0,this.x=void 0,this.y=void 0,this.z=void 0,this.bgColor=void 0,this.type=void 0,this.tabIndex=void 0,this.visible=void 0,this.audio=void 0,this.onTouch=void 0,this.onInCorrect=void 0,this.onCorrect=void 0,this.onEntry=void 0,this.childElementsLength=void 0,this.minLength=void 0,this.maxLength=void 0,this.direction=void 0,this.borderImage=void 0,this.boxShadow=void 0,this.style={}}componentDidLoad(){ee(this.el,this.type),Fn(this.el,this.minLength,this.maxLength,this.childElementsLength,"flex")}componentWillLoad(){this.updateStyles(),window.addEventListener("resize",this.updateStyles.bind(this)),window.addEventListener("load",this.updateStyles.bind(this))}disconnectedCallback(){window.removeEventListener("resize",this.updateStyles.bind(this)),window.removeEventListener("load",this.updateStyles.bind(this))}updateStyles(){const n=this.borderImage?de(this.borderImage):"",a=window.innerHeight>window.innerWidth?"portrait":"landscape";this.style={height:V(this.height,a),width:V(this.width,a),backgroundColor:V(this.bgColor,a),top:V(this.y,a),left:V(this.x,a),zIndex:this.z,display:this.visible?"flex":"none",flexDirection:this.direction?V(this.direction,a):"column",borderImage:`url(${n})`,borderImageSlice:n?"0 fill":"",boxShadow:this.boxShadow?this.boxShadow:"unset"}}render(){return J(Ht,{key:"1ae3b94e00a0d66face67ef20f4c83fdd65a17d6",id:this.id,class:"lido-col",type:this.type,tabindex:this.tabIndex,value:this.value,style:this.style,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,audio:this.audio,onTouch:this.onTouch,onCorrect:this.onCorrect,onInCorrect:this.onInCorrect,onEntry:this.onEntry},J("slot",{key:"100269c2bb1575ca1b1663f2019ec557ca5f6ddd"}))}get el(){return Kt(this)}};Oo.style=Mo;const Fo=".lido-container{position:relative;height:100%;width:100%;background-color:var(--bgColor, #ffffff);display:flex;flex-direction:column;justify-content:center;align-items:center}",Do=Fo,jo=class{constructor(n){zt(this,n),this.id="",this.objective="",this.customStyle="",this.value="",this.height="auto",this.width="auto",this.ariaLabel="auto",this.ariaHidden="",this.x="0px",this.y="0px",this.z="0",this.bgColor="",this.bgImage="",this.type="",this.tabIndex=0,this.visible=!1,this.audio="",this.onTouch="",this.onInCorrect="",this.onCorrect="",this.onEntry="",this.canplay=!0,this.showCheck=!1,this.isContinueOnCorrect=!1,this.isAllowOnlyCorrect=!1,this.baseUrl=""}convertToPixels(n,a=document.body){if(!n)return 0;if(n.endsWith("px"))return parseFloat(n);const h=document.createElement("div");h.style.position="absolute",h.style.visibility="hidden",h.style.height=n,a.appendChild(h);const f=h.offsetHeight;return a.removeChild(h),f}scaleContainer(n){var a;const h=[window.innerWidth],f=[window.innerHeight];!((a=window.screen)===null||a===void 0)&&a.width&&(h.push(window.screen.width),f.push(window.screen.height));const v=Math.min(...h),A=Math.min(...f),b=A>v;let C,m;b?(C=v/900,m=A/1600):(C=v/1600,m=A/900);const E=Math.min(C,m);n.style.transform=`translate(-50%, -50%) scale(${E})`,n.style.left="50%",n.style.top="50%",n.style.position="absolute",this.screenOrientation()}screenOrientation(){window.innerHeight>window.innerWidth?(this.el.style.height="1600px",this.el.style.width="900px"):(this.el.style.height="900px",this.el.style.width="1600px")}componentDidLoad(){this.scaleContainer(this.el);const n=this.bgImage?de(this.bgImage):"";if(document.body.style.backgroundColor=this.bgColor,this.el.style.backgroundImage=n?`url(${n})`:"none",this.el.style.backgroundPosition=n?"bottom":"none",window.addEventListener("resize",()=>this.scaleContainer(this.el)),window.addEventListener("load",()=>this.scaleContainer(this.el)),ee(this.el,this.type),this.customStyle){const a=document.createElement("style");a.innerHTML=this.customStyle,document.head.appendChild(a)}}disconnectedCallback(){window.removeEventListener("resize",()=>this.scaleContainer(this.el)),window.removeEventListener("load",()=>this.scaleContainer(this.el)),document.body.style.backgroundColor="",document.body.style.backgroundImage=""}render(){const n={backgroundColor:this.bgColor,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"};return console.log("ðŸš€ ~ LidoContainer ~ canplay:",this.canplay),J(Ht,{key:"46da2d412ec4dd28db794b9af4d0c65cec5d5fcc",id:"lido-container",tabindex:0,class:"lido-container",objective:this.objective,baseUrl:this.baseUrl,style:n,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,onTouch:this.onTouch,onInCorrect:this.onInCorrect,onCorrect:this.onCorrect,onEntry:this.onEntry,showCheck:`${this.showCheck}`,isContinueOnCorrect:`${this.isContinueOnCorrect}`,isAllowOnlyCorrect:`${this.isAllowOnlyCorrect}`,canplay:`${this.canplay}`},J("slot",{key:"0cadfca1a3a1641760a00a9a7b4dd885ace88af1"}))}get el(){return Kt(this)}};jo.style=Do;const No=".card{position:relative;width:100%;height:100%;transform-style:preserve-3d;transition:transform 0.6s ease;cursor:pointer}.card.flipped{transform:rotateY(180deg)}.card-face{position:absolute;width:100%;height:100%;backface-visibility:hidden;display:flex;align-items:center;justify-content:center}.card-back{transform:rotateY(180deg)}",Wo=No,$o=class{constructor(n){zt(this,n),this.updateStyles=()=>{const a=window.innerHeight>window.innerWidth?"portrait":"landscape";this.style={height:V(this.height,a)||"200px",width:V(this.width,a)||"200px",backgroundColor:V(this.bgColor,a),top:V(this.y,a),left:V(this.x,a),zIndex:this.z,display:this.visible?this.display?V(this.display,a):"inline-block":"none",flexDirection:this.direction?V(this.direction,a):void 0}},this.handleFlip=()=>{this.flipped=!this.flipped},this.value="",this.height="auto",this.width="auto",this.ariaLabel="",this.ariaHidden="",this.x="0px",this.y="0px",this.z="0",this.bgColor="",this.type="",this.tabIndex=0,this.visible=!0,this.audio="",this.onTouch="",this.onInCorrect="",this.onCorrect="",this.onEntry="",this.direction=void 0,this.display=void 0,this.front=void 0,this.back=void 0,this.flipped=!1,this.style={}}handleFlippedChange(){}componentWillLoad(){this.updateStyles(),window.addEventListener("resize",this.updateStyles),window.addEventListener("load",this.updateStyles)}componentDidLoad(){ee(this.el,this.type)}disconnectedCallback(){window.removeEventListener("resize",this.updateStyles),window.removeEventListener("load",this.updateStyles)}render(){return J(Ht,{key:"ea25cb3f1eaac3edace398a7b6054a4a631944dd",value:this.value,tabindex:this.tabIndex,style:this.style,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,audio:this.audio,onTouch:this.onTouch,onCorrect:this.onCorrect,onInCorrect:this.onInCorrect,onEntry:this.onEntry,type:this.type,onClick:this.handleFlip},J("div",{key:"c2d58c11a5bb8fd1db369433a64074c538c6e36f",class:`card ${this.flipped?"flipped":""}`},J("div",{key:"15e463371186357b34b92b897fd3e19d8da8d47c",class:"card-face card-front"},this.front!=null?this.front:J("slot",{name:"front"})),J("div",{key:"2db0eb0aba1aad4221b6c3577405bbd863ff36bc",class:"card-face card-back"},this.back!=null?this.back:J("slot",{name:"back"}))))}get el(){return Kt(this)}static get watchers(){return{flipped:["handleFlippedChange"]}}};$o.style=Wo;const Bo="@import url('https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap'); @import url('https://fonts.googleapis.com/css2?family=Baloo+2:wght@400..800&display=swap'); body{overflow:hidden;background-position:center;background-size:cover;background-repeat:no-repeat;height:100vh}.lido-disable-check-button{pointer-events:none;background-color:#9393935c !important;color:white}.lido-element-selected{border:2px solid;background-color:#ffdf7d !important}.diagonal-target,.diagonal-drop *{transform:scale(0.8) !important;opacity:1 !important}.cloned-element{display:flex !important;position:absolute !important;filter:grayscale(100%);pointer-events:none}.removeShadow{box-shadow:0px 0px 0px 0px #FF8900 !important}.highlight-element{border:2px solid white !important;box-shadow:0 2px 4px rgba(151, 150, 150, 0.1) !important}",Uo=Bo,Ho="@keyframes rightToPlace{from{transform:translateX(2000px)}to{transform:translateX(0)}}@keyframes topToPlace{from{transform:translateY(-1000px)}to{transform:translateY(0)}}@keyframes bottomToPlace{from{transform:translateY(1000px)}to{transform:translateY(0)}}@keyframes placeToLeft{from{}to{transform:translateX(-2000px)}}@keyframes leftToPlace{from{transform:translateX(-2000px)}to{transform:translateX(0)}}@keyframes shake{0%{transform:translateX(0)}10%{transform:translateX(-5px)}20%{transform:translateX(5px)}30%{transform:translateX(-5px)}40%{transform:translateX(5px)}50%{transform:translateX(-5px)}60%{transform:translateX(5px)}70%{transform:translateX(-5px)}80%{transform:translateX(5px)}90%{transform:translateX(-5px)}100%{transform:translateX(0)}}@keyframes fallAndBounce{0%{transform:translateY(-1000px)}25%{transform:translateY(0px)}50%{transform:translateY(-200px)}75%{transform:translateY(0)}90%{transform:translateY(-100px)}100%{transform:translateY(0)}}@keyframes placeToDown{0%{transform:translateY(0)}100%{transform:translateY(1000px)}}",zo=Ho,Xo=".lido-snackbar{visibility:visible;min-width:250px;background-color:#333;color:#fff;text-align:center;border-radius:2px;padding:16px;position:fixed;z-index:1;bottom:30px;left:50%;transform:translateX(-50%);font-size:17px}.lido-dot-container{text-align:center;position:fixed;z-index:1;width:fit-content;top:1%;left:50%;transform:translate(-50%)}.lido-dot{height:15px;width:15px;margin:0 4px;background-color:#bbb;border-radius:50%;display:inline-block;transition:background-color 0.3s;cursor:pointer}.lido-dot.completed{background-color:grey}.lido-dot.current{background-color:green}.lido-dot:not(.completed):not(.current){background-color:#bbb}",Yo=Xo,Vo=class{constructor(n){zt(this,n),this.NextContainerKey=a=>{a!=null&&a==this.currentContainerIndex||(localStorage.removeItem(Wt),localStorage.removeItem(It),localStorage.removeItem(Ze),localStorage.removeItem(le),localStorage.removeItem(We),a!=null&&a<this.containers.length?(this.currentContainerIndex=a,lr(this.currentContainerIndex)):this.currentContainerIndex<this.containers.length-1?(this.currentContainerIndex++,lr(this.currentContainerIndex)):this.currentContainerIndex>=this.containers.length-1&&(this.showCompletionMessage=!0,lo(),this.currentContainerIndex=0,setTimeout(()=>{this.showCompletionMessage=!1},3e3)),this.containers=[...this.containers])},this.xmlData="",this.initialIndex=0,this.canplay=!0,this.baseUrl="",this.height="",this.currentContainerIndex=this.initialIndex,this.showCompletionMessage=!1,this.containers=[]}componentWillLoad(){window.addEventListener(ni,()=>{this.NextContainerKey()}),window.addEventListener("changeContainer",n=>{this.NextContainerKey(n.detail.index)}),this.parseXMLData(this.xmlData),window.addEventListener("beforeunload",()=>{localStorage.removeItem(Wt),localStorage.removeItem(It),localStorage.removeItem(Ze),localStorage.removeItem(le),localStorage.removeItem(We)})}disconnectedCallback(){window.removeEventListener(ni,()=>{this.NextContainerKey()}),window.removeEventListener("changeContainer",n=>{this.NextContainerKey(n.detail.index)})}parseXMLData(n){if(n){const f=new DOMParser().parseFromString(n,"text/xml").documentElement;this.parseContainers(f)}}onXmlDataChange(n){this.parseXMLData(n)}parseElement(n){const a=n.nodeName.toLowerCase(),h={};Array.from(n.attributes).forEach(A=>{h[A.name]=A.value});const f=Array.from(n.childNodes).map(A=>A.nodeType===1?this.parseElement(A):A.nodeType===3&&A.textContent.trim()!==""?A.textContent:null).filter(Boolean),v={"lido-container":J("lido-container",Object.assign({},h,{canplay:this.canplay,baseUrl:this.baseUrl,height:this.height}),f),"lido-flash-card":J("lido-flash-card",Object.assign({},h),f),"lido-col":J("lido-col",Object.assign({},h),f),"lido-trace":J("lido-trace",Object.assign({},h),f),"lido-image":J("lido-image",Object.assign({},h),f),"lido-row":J("lido-row",Object.assign({},h),f),"lido-text":J("lido-text",Object.assign({},h),f),"lido-pos":J("lido-pos",Object.assign({},h),f),"lido-shape":J("lido-shape",Object.assign({},h),f),"lido-wrap":J("lido-wrap",Object.assign({},h),f),"lido-random":J("lido-random",Object.assign({},h),f),"lido-avatar":J("lido-avatar",Object.assign({},h),f),"lido-cell":J("lido-cell",Object.assign({},h),f)};return v[a]?v[a]:(console.warn(`Unknown tag: ${a}`),null)}parseContainers(n){const a=[];n.querySelectorAll("lido-container").forEach(f=>{const v=this.parseElement(f);v&&a.push(v)}),this.containers=a}renderDots(){const n={pointerEvents:this.canplay?"none":""};return J("div",{id:"lido-dot-indicator",class:"lido-dot-container",style:n},this.containers.map((a,h)=>J("span",{class:`lido-dot ${h<this.currentContainerIndex?"completed":h===this.currentContainerIndex?"current":""}`,onClick:()=>this.jumpToContainer(h)})))}jumpToContainer(n){this.NextContainerKey(n)}render(){return console.log("ðŸš€ ~ LidoHome ~ render ~ this.containers:",this),this.xmlData?J(Ht,{index:this.currentContainerIndex,totalIndex:this.containers.length},J("div",{key:this.currentContainerIndex},this.containers[this.currentContainerIndex]),this.renderDots(),this.showCompletionMessage&&J("div",{class:"lido-snackbar"},"All containers have been displayed!")):J("div",null,"Please provide XML data.")}static get watchers(){return{xmlData:["onXmlDataChange"]}}};Vo.style=Uo+(zo+Yo);const qo=".lido-image{user-select:none;-webkit-user-drag:none;object-fit:contain;width:100% !important;height:100% !important;aspect-ratio:1 / 1;}.slice{background-repeat:no-repeat;background-position:center;background-size:100% 100%}",Go=qo,Jo=class{constructor(n){zt(this,n),this.id=void 0,this.value=void 0,this.height=void 0,this.width=void 0,this.ariaLabel=void 0,this.ariaHidden=void 0,this.x=void 0,this.y=void 0,this.z=void 0,this.bgColor=void 0,this.type=void 0,this.tabIndex=void 0,this.visible=void 0,this.audio=void 0,this.onTouch=void 0,this.onInCorrect=void 0,this.onCorrect=void 0,this.onEntry=void 0,this.src=void 0,this.isSlice=void 0,this.sliceWidth="30px",this.style=void 0}componentDidLoad(){ee(this.el,this.type)}componentWillLoad(){this.updateStyles(),window.addEventListener("resize",this.updateStyles.bind(this)),window.addEventListener("load",this.updateStyles.bind(this))}disconnectedCallback(){window.removeEventListener("resize",this.updateStyles.bind(this)),window.removeEventListener("load",this.updateStyles.bind(this))}updateStyles(){const n=window.innerHeight>window.innerWidth?"portrait":"landscape";this.style={height:V(this.height,n),width:V(this.width,n),backgroundColor:V(this.bgColor,n),top:V(this.y,n),left:V(this.x,n),zIndex:this.z,display:V(`${this.visible}`,n)?"flex":"none",alignItems:"center",justifyContent:"center",borderImageSource:this.isSlice==="true"?`url(${de(this.src)})`:"none",borderImageSlice:this.isSlice==="true"?`${parseInt(this.sliceWidth)} fill`:"unset",borderImageRepeat:this.isSlice==="true"?"round":"unset",borderImageWidth:this.isSlice==="true"?`${this.sliceWidth}`:"unset",backgroundImage:this.isSlice==="true"?`url(${de(this.src)})`:"none"}}render(){return this.isSlice==="true"?J(Ht,{class:"slice",id:this.id,type:this.type,tabIndex:this.tabIndex,onEntry:this.onEntry,style:this.style}):J(Ht,{type:this.type,tabindex:this.tabIndex,style:this.style,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,value:this.value,audio:this.audio,onTouch:this.onTouch,onCorrect:this.onCorrect,onInCorrect:this.onInCorrect,onEntry:this.onEntry},J("img",{class:"lido-image",src:de(this.src),alt:"",style:this.style}))}get el(){return Kt(this)}};Jo.style=Go;const Ko=".lido-pos{top:var(--y, 0);left:var(--x, 0);height:var(--height, 100%);width:var(--width, 100%);background-color:var(--bgColor, #eeeeee);display:flex;justify-content:space-around;flex-direction:column;position:fixed}.lido-pos>*{position:absolute}",Zo=Ko,Qo=class{constructor(n){zt(this,n),this.id="",this.value="",this.height="auto",this.width="auto",this.ariaLabel="",this.ariaHidden="",this.x="0px",this.y="0px",this.z="0",this.bgColor="",this.type="",this.tabIndex=0,this.visible=!1,this.audio="",this.onTouch="",this.onInCorrect="",this.onCorrect="",this.onEntry="",this.style=void 0}componentDidLoad(){ee(this.el,this.type)}componentWillLoad(){this.updateStyles(),window.addEventListener("resize",this.updateStyles.bind(this)),window.addEventListener("load",this.updateStyles.bind(this))}disconnectedCallback(){window.removeEventListener("resize",this.updateStyles.bind(this)),window.removeEventListener("load",this.updateStyles.bind(this))}updateStyles(){const n=window.innerHeight>window.innerWidth?"portrait":"landscape";this.style={height:V(this.height,n),width:V(this.width,n),backgroundColor:V(this.bgColor,n),top:V(this.y,n),left:V(this.x,n),zIndex:this.z,display:JSON.parse(V(`${this.visible}`,n))?"block":"none"}}render(){return J(Ht,{key:"1365208256912a2baed6e34aaee3ab995b4a60ec",id:this.id,class:"lido-pos",type:this.type,tabindex:this.tabIndex,style:this.style,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,value:this.value,audio:this.audio,onTouch:this.onTouch,onCorrect:this.onCorrect,onInCorrect:this.onInCorrect,onEntry:this.onEntry},J("slot",{key:"a07632722f7b3dad8e9d32de1b8f9015b155c6a1"}))}get el(){return Kt(this)}};Qo.style=Zo;const ts=".lido-random{display:flex;justify-content:space-between;align-items:center;position:absolute;}.lido-random>*{position:absolute}",es=ts,ns=class{constructor(n){zt(this,n),this.id="",this.value="",this.height="auto",this.width="auto",this.ariaLabel="",this.ariaHidden="",this.x="0px",this.y="0px",this.z="0",this.bgColor="",this.type="",this.tabIndex=0,this.visible=!1,this.audio="",this.onTouch="",this.onInCorrect="",this.onCorrect="",this.onEntry=""}componentDidLoad(){this.el.querySelectorAll(".lido-random > *").forEach(a=>{const h=Math.random()*100,f=Math.random()*100;a.style.top=`${h}%`,a.style.left=`${f}%`})}render(){const n={height:this.height,width:this.width,top:this.y,left:this.x,display:this.visible?"block":"none",zIndex:this.z,backgroundColor:this.bgColor};return J(Ht,{key:"5484db114de4b4b176ba75c49da85063d030f7a2",class:"lido-random",type:this.type,tabindex:this.tabIndex,value:this.value,style:n,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,audio:this.audio,onTouch:this.onTouch,onCorrect:this.onCorrect,onInCorrect:this.onInCorrect,onEntry:this.onEntry},J("slot",{key:"14a4b6a1009fbba0bd7a24aec0a1314968594c60"}))}get el(){return Kt(this)}};ns.style=es;const ws=class{constructor(n){zt(this,n),this.xmlPath="",this.initialIndex=0,this.canplay=!0,this.baseUrl="",this.xmlData=void 0}async componentWillLoad(){var n;const a=(n=this.xmlPath)!==null&&n!==void 0?n:this.baseUrl+"/index.xml";console.log("ðŸš€ ~ LidoRoot ~ componentWillLoad ~ this.baseUrl:",this.baseUrl),console.log("ðŸš€ ~ LidoRoot ~ componentWillLoad ~ this.xmlPath:",this.xmlPath),console.log("ðŸš€ ~ LidoRoot ~ componentWillLoad ~ xmlPath:",a);try{const h=a.startsWith("http")?a:vr(a),f=await fetch(h);if(!f.ok)throw new Error(`Failed to fetch XML data: ${f.statusText}`);const v=await f.text();this.xmlData=v}catch(h){console.error("Error fetching XML data:",h),this.xmlData=null}}render(){return this.xmlData===void 0?J("div",null,"Loading..."):this.xmlData===null?J("div",null,"Error loading XML data. Please check the path or URL."):J("lido-home",{initialIndex:this.initialIndex,canplay:this.canplay,xmlData:this.xmlData,baseUrl:this.baseUrl})}static get assetsDirs(){return["assets"]}},is=".lido-row{display:flex;justify-content:space-around;align-items:center;}.lido-row>*{}",rs=is,os=class{constructor(n){zt(this,n),this.value=void 0,this.height=void 0,this.width=void 0,this.ariaLabel=void 0,this.ariaHidden=void 0,this.x=void 0,this.y=void 0,this.z=void 0,this.bgColor=void 0,this.type=void 0,this.tabIndex=void 0,this.visible=void 0,this.audio=void 0,this.onTouch=void 0,this.onInCorrect=void 0,this.onCorrect=void 0,this.onEntry=void 0,this.childElementsLength=void 0,this.minLength=void 0,this.maxLength=void 0,this.direction=void 0,this.style={},this.display=void 0}componentDidLoad(){ee(this.el,this.type),Fn(this.el,this.minLength,this.maxLength,this.childElementsLength,"flex")}componentWillLoad(){this.updateStyles(),window.addEventListener("resize",this.updateStyles.bind(this)),window.addEventListener("load",this.updateStyles.bind(this))}disconnectedCallback(){window.removeEventListener("resize",this.updateStyles.bind(this)),window.removeEventListener("load",this.updateStyles.bind(this))}updateStyles(){const n=window.innerHeight>window.innerWidth?"portrait":"landscape";this.style={height:V(this.height,n),width:V(this.width,n),backgroundColor:V(this.bgColor,n),top:V(this.y,n),left:V(this.x,n),zIndex:this.z,display:this.visible?this.display?V(this.display,n):"flex":"none",flexDirection:this.direction?V(this.direction,n):"row",gridTemplateColumns:this.display&&V(this.display,n)==="grid"?"repeat(auto-fill, minmax(186px, auto))":void 0,gap:this.display&&V(this.display,n)==="grid"?"20px":void 0}}render(){return J(Ht,{key:"7364de30a9c1f58da7e6a249056e782566f8d85b",class:"lido-row",type:this.type,tabindex:this.tabIndex,value:this.value,style:this.style,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,audio:this.audio,onTouch:this.onTouch,onCorrect:this.onCorrect,onInCorrect:this.onInCorrect,onEntry:this.onEntry},J("slot",{key:"188f2ca5213217d3efed0a314b7ecea256065e4f"}))}get el(){return Kt(this)}};os.style=rs;const ss=".lido-shape{position:absolute;top:var(--y);left:var(--x);display:var(--display);z-index:var(--z)}.lido-rectangle{border-radius:0}.lido-circle{width:var(--width);height:var(--width);border-radius:50%;background-color:var(--bgColor)}.lido-ellipse{width:var(--width);height:var(--height);border-radius:50%;background-color:var(--bgColor)}.lido-triangle{width:var(--triangleWidth);height:var(--triangleHeight);background-color:var(--bgColor);clip-path:polygon(50% 0%, 100% 100%, 0% 100%)}.lido-rightTriangle{width:var(--triangleWidth);height:var(--triangleHeight);background-color:var(--bgColor);clip-path:polygon(100% 0%, 100% 100%, 0% 100%)}.lido-leftTriangle{width:var(--triangleWidth);height:var(--triangleHeight);background-color:var(--triangleBgColor);clip-path:polygon(0% 0%, 100% 100%, 0% 100%)}.lido-parallelogram{width:var(--paralleWidth);height:var(--paralleHeight);transform:skew(20deg)}.lido-star{width:var(--starWidth);height:var(--starHeight);background-color:var(--starBgColor);clip-path:polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%)}.lido-pentagon{width:var(--pentagonWidth);height:var(--pentagonHeight);background-color:var(--pentagonBgColor);clip-path:polygon(50% 0%, 100% 38%, 82% 100%, 18% 100%, 0% 38%)}.lido-heptagon{width:var(--heptagonWidth);height:var(--heptagonHeight);background-color:var(--heptagonBgColor);clip-path:polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%)}.lido-octagon{width:var(--octagonWidth);height:var(--octagonHeight);background-color:var(--octagonBgColor);clip-path:polygon(25% 0%, 75% 0%, 100% 25%, 100% 75%, 75% 100%, 25% 100%, 0% 75%, 0% 25%)}.lido-rhombus{width:var(--rhombusWidth);height:var(--rhombusHeight);background-color:var(--rhombusBgColor);clip-path:polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%)}.lido-heart{height:var(--heartHeight);width:var(--heartWidth);border-image:radial-gradient(var(--heartBgColor) 69%, #0000 70%) 84.5%/50%;clip-path:polygon(-41% 0, 50% 91%, 141% 0)}",as=ss,ls=class{constructor(n){zt(this,n),this.id="",this.value="",this.height="auto",this.width="auto",this.ariaLabel="",this.ariaHidden="",this.x="0px",this.y="0px",this.z="0",this.bgColor="",this.type="",this.tabIndex=0,this.shapeType="circle",this.visible=!1,this.audio="",this.onTouch="",this.onInCorrect="",this.onCorrect="",this.onEntry=""}componentDidLoad(){ee(this.el,this.type)}render(){const n={height:this.shapeType!=="polygon"?this.height:void 0,width:this.shapeType!=="polygon"?this.width:void 0,top:this.y,left:this.x,display:this.visible?"block":"none",zIndex:this.z,backgroundColor:this.shapeType!=="polygon"?this.bgColor:"transparent"};return J(Ht,{key:"695f839a47bb78ae61ad648195f521273e4daef1",class:`lido-shape ${this.shapeType}`,value:this.value,type:this.type,tabindex:this.tabIndex,style:n,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,audio:this.audio,onTouch:this.onTouch,onCorrect:this.onCorrect,onInCorrect:this.onInCorrect,onEntry:this.onEntry})}get el(){return Kt(this)}};ls.style=as;const cs=".lido-text{background-color:#fff;box-shadow:0 2px 4px rgba(0, 0, 0, 0.1);transition:background-color 0.3s ease;user-select:none;align-items:center;justify-content:center;text-align:center;border-radius:8px;color:#333;cursor:pointer}.lido-text:hover{background-color:#f0f0f0}",us=cs,ds=class{constructor(n){zt(this,n),this.id="",this.value="",this.string="",this.font="",this.fontSize="20px",this.fontColor="",this.highlightWhileSpeaking=!1,this.height="auto",this.width="auto",this.ariaLabel="",this.ariaHidden="",this.x="0px",this.y="0px",this.z="0",this.bgColor="",this.borderImage="",this.type="",this.tabIndex=0,this.visible=!1,this.audio="",this.onTouch="",this.onInCorrect="",this.onCorrect="",this.onEntry="",this.style={}}componentDidLoad(){ee(this.el,this.type)}componentWillLoad(){this.updateStyles(),window.addEventListener("resize",this.updateStyles.bind(this)),window.addEventListener("load",this.updateStyles.bind(this))}disconnectedCallback(){window.removeEventListener("resize",this.updateStyles.bind(this)),window.removeEventListener("load",this.updateStyles.bind(this))}updateStyles(){const n=this.borderImage?de(this.borderImage):"",a=window.innerHeight>window.innerWidth?"portrait":"landscape";this.style={height:V(this.height,a),width:V(this.width,a),backgroundColor:V(this.bgColor,a),top:V(this.y,a),left:V(this.x,a),zIndex:this.z,fontSize:V(this.fontSize,a),fontFamily:this.font,color:V(this.fontColor,a),display:V(`${this.visible}`,a)?"flex":"none",borderImage:`url(${n})`,borderImageSlice:n?"0 fill":""}}render(){return J(Ht,{key:"eab478b94574242bc092116f4661bcff7d0f724b",class:"lido-text",value:this.value,type:this.type,tabindex:this.tabIndex,audio:this.audio,onTouch:this.onTouch,onCorrect:this.onCorrect,onInCorrect:this.onInCorrect,onEntry:this.onEntry,id:this.id,style:this.style,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden},this.string)}get el(){return Kt(this)}};ds.style=us;const hs=":host{display:block;position:relative}#lido-svgContainer{position:absolute;top:0;left:0;right:0;bottom:50px;display:flex;justify-content:center;align-items:center;overflow:hidden}svg{width:100%;height:100%;max-height:calc(100vh - 50px);touch-action:none}#lido-draggableCircle{cursor:pointer;fill:red;transition:fill 0.2s, r 0.2s}.lido-blindTracing{stroke:none !important}.lido-blindFreeTrace{stroke:none !important}.lido-hovered{cursor:grab;fill:darkred}#lido-controls{position:fixed;bottom:0;left:0;right:0;display:flex;justify-content:space-between;padding:10px;background-color:#f0f0f0;border-top:1px solid #ccc}button{padding:10px;font-size:16px}@media (max-width: 600px){button{padding:8px;font-size:14px}}.lido-trace-path-green{}",fs=hs,ps=class{constructor(n){zt(this,n),this.id="",this.svgSource="",this.value="",this.height="auto",this.width="auto",this.x="0px",this.y="0px",this.z="0",this.ariaLabel="",this.ariaHidden="",this.tabIndex=0,this.mode=Bt.ShowFlow,this.fingerHintUrl="https://aeakbcdznktpsbrfsgys.supabase.co/storage/v1/object/public/template-assets/trace/finger.png",this.fileIndex=-1,this.isDragging=!1,this.activePointerId=null,this.idleTimer=null,this.fingerImg=null}async initializeSVG(){let n={fileIndex:-1,currentPathIndex:0,lastLength:0,totalPathLength:0,isDragging:!1,circle:null,paths:[],svg:null,proximityThreshold:100,freeTraceProximityThreshold:50,rafId:null,pointerMoveEvent:null,activePointerId:null,mode:this.mode,flowMarkers:[],freeTraceLines:[],currentFreePath:[],lastPointerPos:null};await this.loadAnotherSVG(n,!0)}componentWillLoad(){this.initializeSVG()}resetIdleTimer(n){this.idleTimer!==null&&(clearTimeout(this.idleTimer),this.idleTimer=null),this.idleTimer=window.setTimeout(()=>{this.showFingerHint(n)},3e3)}showFingerHint(n){var a;if(this.fingerImg)return;const h=n.paths[n.currentPathIndex];if(!h)return;const f=40,v=document.createElementNS("http://www.w3.org/2000/svg","image");v.setAttributeNS("http://www.w3.org/1999/xlink","href",de(this.fingerHintUrl)),v.setAttribute("width",`${f}`),v.setAttribute("height",`${f}`),v.setAttribute("id","lido-finger-hint"),v.style.pointerEvents="none",v.style.opacity="0.8",v.setAttribute("x","0"),v.setAttribute("y","0");const A=document.createElementNS("http://www.w3.org/2000/svg","animateMotion");A.setAttribute("dur","2s"),A.setAttribute("repeatCount","indefinite");const b=document.createElementNS("http://www.w3.org/2000/svg","mpath");b.setAttributeNS("http://www.w3.org/1999/xlink","href",`#${h.id}`),A.appendChild(b),v.appendChild(A),(a=n.svg)===null||a===void 0||a.appendChild(v),this.fingerImg=v}hideFingerHint(){this.fingerImg&&this.fingerImg.parentNode&&this.fingerImg.parentNode.removeChild(this.fingerImg),this.fingerImg=null}async fetchSVG(n){const a=await fetch(n);if(!a.ok)throw new Error(`Failed to fetch SVG (${n}): ${a.statusText}`);return await a.text()}calculateBoundingBox(n,a=22){let h=1/0,f=1/0,v=-1/0,A=-1/0;return n.forEach(b=>{const C=b.getTotalLength(),m=100;for(let E=0;E<=m;E++){const I=b.getPointAtLength(E/m*C);I.x<h&&(h=I.x),I.y<f&&(f=I.y),I.x>v&&(v=I.x),I.y>A&&(A=I.y)}}),h-=a,f-=a,v+=a,A+=a,{minX:h,minY:f,maxX:v,maxY:A}}insertSVG(n){const a=document.getElementById("lido-svgContainer");a.innerHTML=n;const h=a.querySelector("svg");h.removeAttribute("width"),h.removeAttribute("height");const f=h.querySelectorAll("path, line"),v=this.calculateBoundingBox(Array.from(f)),A=v.maxX-v.minX,b=v.maxY-v.minY;h.setAttribute("viewBox",`${v.minX} ${v.minY} ${A} ${b}`)}getSVGElement(){return document.getElementById("lido-svgContainer").querySelector("svg")}getPaths(n){return Array.from(n.querySelectorAll("path, line"))}createFlowMarkersForPath(n,a=10){var h;const v=n.getTotalLength()/(a+1),A=[];for(let b=1;b<=a;b++){const C=n.getPointAtLength(b*v),m=n.getPointAtLength((b+.5)*v),E=Math.atan2(m.y-C.y,m.x-C.x),I=document.createElementNS("http://www.w3.org/2000/svg","polygon");I.setAttribute("points","-5,-5 0,0 -5,5"),I.setAttribute("fill","blue"),I.setAttribute("transform",`translate(${C.x},${C.y}) rotate(${E*180/Math.PI})`),I.setAttribute("class","lido-flow-indicator"),A.push(I),(h=n.parentNode)===null||h===void 0||h.appendChild(I)}return A}updateFlowIndicators(n){n.svg.querySelectorAll(".lido-flow-indicator").forEach(h=>{n.mode===Bt.NoFlow?h.style.display="none":n.mode===Bt.ShowFlow&&(h.style.display="block")})}setupDrawingPath(n){n.paths.forEach((a,h)=>{const f=a.getTotalLength();a.setAttribute("id","lido-path-"+h);const v=a.cloneNode();v.style.opacity="100",v.style["stroke-opacity"]="100";const A=a.style["stroke-width"]||a.getAttribute("stroke-width");v.setAttribute("stroke-width",A),v.setAttribute("stroke-dasharray",f.toString()),v.setAttribute("stroke-dashoffset",f.toString()),a.parentNode.appendChild(v,a),a.setAttribute("class","lido-trace-path"),v.setAttribute("class","lido-trace-path-green"),a.greenPath=v,a.classList.add(n.mode),n.mode===Bt.BlindTracing||n.mode===Bt.BlindFreeTrace?a.setAttribute("stroke","none"):(a.setAttribute("stroke","#000"),a.setAttribute("stroke-width",A),a.setAttribute("fill","none"),a.setAttribute("stroke-dasharray",f.toString()),a.setAttribute("stroke-dashoffset","0")),h===n.currentPathIndex&&n.mode===Bt.ShowFlow&&(n.flowMarkers=this.createFlowMarkersForPath(a))}),n.totalPathLength=n.paths[n.currentPathIndex].getTotalLength()}setupDraggableCircle(n){var a;const h=n.paths[0].getPointAtLength(0),f=document.createElementNS("http://www.w3.org/2000/svg","circle"),v=n.paths[n.currentPathIndex].style["stroke-width"]||n.paths[n.currentPathIndex].getAttribute("stroke-width");f.setAttribute("id","lido-draggableCircle"),f.setAttribute("cx",h.x.toString()),f.setAttribute("cy",h.y.toString()),f.setAttribute("r",`calc(${v||10} / 2)`),f.setAttribute("fill","red"),(a=n.svg)===null||a===void 0||a.appendChild(f),n.circle=f,this.resetIdleTimer(n)}addEventListeners(n){var a,h,f,v;if(!n.circle||!n.paths||n.paths.length===0)return;n.circle.addEventListener("pointerdown",b=>{b.preventDefault();const C=this.getPointerPosition(b,n.svg),m={x:parseFloat(n.circle.getAttribute("cx")),y:parseFloat(n.circle.getAttribute("cy"))};this.getDistanceSquared(C,m)<=n.proximityThreshold*n.proximityThreshold&&(n.isDragging=!0,n.activePointerId=b.pointerId,n.circle.setPointerCapture(b.pointerId)),this.hideFingerHint(),this.resetIdleTimer(n)}),(a=n.svg)===null||a===void 0||a.addEventListener("pointermove",b=>{!n.isDragging||b.pointerId!==n.activePointerId||(n.pointerMoveEvent=b,n.rafId||(n.rafId=requestAnimationFrame(()=>{this.handlePointerMove(n),n.rafId=null})))});const A=b=>{b.pointerId===n.activePointerId&&(n.isDragging=!1,n.activePointerId=null,this.hideFingerHint(),this.resetIdleTimer(n))};(h=n.svg)===null||h===void 0||h.addEventListener("pointerup",A),(f=n.svg)===null||f===void 0||f.addEventListener("pointercancel",A),(v=n.svg)===null||v===void 0||v.addEventListener("contextmenu",b=>{b.preventDefault()})}handlePointerMove(n){var a,h,f,v;if(!n.isDragging||!n.circle||!n.paths||n.paths.length===0)return;this.hideFingerHint();const A=n.pointerMoveEvent,b=this.getPointerPosition(A,n.svg),C={x:parseFloat(n.circle.getAttribute("cx")),y:parseFloat(n.circle.getAttribute("cy"))},m=n.paths[n.currentPathIndex];if(!m){console.error("No valid path found at the current index");return}let E;if(n.mode===Bt.FreeTrace||n.mode===Bt.BlindFreeTrace?E=n.freeTraceProximityThreshold*n.freeTraceProximityThreshold:E=n.proximityThreshold*n.proximityThreshold,this.getDistanceSquared(b,C)>E)return;const L=this.getClosestPointOnPath(m,b);if(!(this.getDistanceSquared(b,L)>E)){if(n.mode===Bt.FreeTrace||n.mode===Bt.BlindFreeTrace){if(n.currentFreePath||(n.currentFreePath=[]),!n.currentFreePath[n.currentPathIndex]){const z=document.createElementNS("http://www.w3.org/2000/svg","path"),q=n.paths[n.currentPathIndex].style["stroke-width"]||n.paths[n.currentPathIndex].getAttribute("stroke-width");z.setAttribute("stroke-width",q),z.setAttribute("fill","none"),z.setAttribute("stroke-linecap","round"),z.setAttribute("stroke","lightgreen"),z.setAttribute("d",`M${b.x},${b.y}`),(a=n.svg)===null||a===void 0||a.appendChild(z),n.currentFreePath[n.currentPathIndex]=z,n.lastPointerPos=b}const c=n.lastPointerPos||b,D=n.currentFreePath[n.currentPathIndex].getAttribute("d"),K=(c.x+b.x)/2,$=(c.y+b.y)/2,Y=`${D} Q ${c.x},${c.y} ${K},${$}`;n.currentFreePath[n.currentPathIndex].setAttribute("d",Y),n.circle.setAttribute("cx",b.x.toString()),n.circle.setAttribute("cy",b.y.toString()),(h=n.svg)===null||h===void 0||h.appendChild(n.circle),n.lastPointerPos=b,m.getTotalLength()-L.length<5&&(this.moveToNextPath(n),n.currentFreePath[n.currentPathIndex]=null);return}n.isDragging&&L.length>=n.lastLength&&(n.lastLength=L.length,n.circle.setAttribute("cx",L.x.toString()),n.circle.setAttribute("cy",L.y.toString()),(f=n.svg)===null||f===void 0||f.appendChild(n.circle),(v=m.greenPath)===null||v===void 0||v.setAttribute("stroke-dashoffset",(n.totalPathLength-n.lastLength).toString())),n.totalPathLength-1-n.lastLength<5&&n.currentPathIndex<n.paths.length-1?this.moveToNextPath(n):n.totalPathLength-1-n.lastLength<5&&n.currentPathIndex===n.paths.length-1&&Mn()}}getPointerPosition(n,a){var h;const f=a.createSVGPoint();f.x=n.clientX,f.y=n.clientY;const v=(h=a.getScreenCTM())===null||h===void 0?void 0:h.inverse();return v?f.matrixTransform(v):{x:n.clientX,y:n.clientY}}getDistanceSquared(n,a){const h=n.x-a.x,f=n.y-a.y;return h*h+f*f}getClosestPointOnPath(n,a){const h=n.getTotalLength();let f={x:0,y:0,length:0},v=1/0;const A=20;let b={length:0},C=1/0;for(let L=0;L<=h;L+=A){const T=n.getPointAtLength(L),c=this.getDistanceSquared(a,T);c<C&&(C=c,b={x:T.x,y:T.y,length:L})}const m=2,E=Math.max(b.length-A,0),I=Math.min(b.length+A,h);for(let L=E;L<=I;L+=m){const T=n.getPointAtLength(L),c=this.getDistanceSquared(a,T);c<v&&(v=c,f={x:T.x,y:T.y,length:L})}return f}async loadAnotherSVG(n,a){n.isDragging=!1;try{n.svg&&this.cleanupPreviousSVG(n);const h=await this.fetchSVG(de(this.svgSource));this.insertSVG(h),n.svg=this.getSVGElement(),(this.mode===Bt.BlindTracing||this.mode===Bt.BlindFreeTrace)&&n.svg.querySelectorAll("image").forEach(f=>{f.style.display="none"}),n.paths=this.getPaths(n.svg),this.setupDrawingPath(n),this.setupDraggableCircle(n),this.addEventListeners(n)}catch(h){console.error(`Error loading SVG (${this.svgSource}):`,h)}}cleanupPreviousSVG(n){var a,h;n.circle&&((a=n.svg)===null||a===void 0||a.removeChild(n.circle),n.circle=null),((h=n.svg)===null||h===void 0?void 0:h.querySelectorAll(".lido-flow-indicator")).forEach(v=>{v.remove()}),n.currentPathIndex=0,n.lastLength=0,n.totalPathLength=n.paths[0].getTotalLength(),this.hideFingerHint(),this.resetIdleTimer(n)}moveToNextPath(n){var a,h;if(n.isDragging=!1,n.currentPathIndex++,n.lastLength=0,this.hideFingerHint(),n.currentPathIndex>=n.paths.length){Mn();return}const f=n.paths[n.currentPathIndex];if(!f){console.error("No valid path found at the next index");return}n.totalPathLength=f.getTotalLength();const v=f.getPointAtLength(0);(a=n.circle)===null||a===void 0||a.setAttribute("cx",v.x.toString()),(h=n.circle)===null||h===void 0||h.setAttribute("cy",v.y.toString()),n.mode===Bt.ShowFlow&&(n.flowMarkers=this.createFlowMarkersForPath(f)),this.resetIdleTimer(n)}render(){const n={height:this.height,width:this.width,top:this.y,left:this.x,zIndex:this.z,position:"absolute"};return J(Ht,{key:"f8bdfdcde4ca0a6d7c0d8980fe5e5550b2307fa5",class:"lido-trace",id:this.id,style:n,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,tabindex:this.tabIndex},J("div",{key:"a78c2329aa8477c26719404d75144f9810410c5e",id:"lido-svgContainer"}))}static get assetsDirs(){return["svg","images"]}static get watchers(){return{svgSource:["initializeSVG"],mode:["initializeSVG"]}}};ps.style=fs;const gs=".lido-wrap{display:grid;grid-gap:10px;grid-template-columns:repeat(auto-fill, minmax(186px, auto))}.lido-wrap>*{padding:10px;background-color:var(--child-bg-color, #f0f0f0);box-sizing:border-box}.lido-flex{display:flex;flex-wrap:wrap;align-content:flex-start;gap:10px}",vs=gs,ms=class{constructor(n){zt(this,n),this.id=void 0,this.value=void 0,this.height=void 0,this.width=void 0,this.ariaLabel=void 0,this.ariaHidden=void 0,this.x=void 0,this.y=void 0,this.z=void 0,this.bgColor=void 0,this.type=void 0,this.tabIndex=void 0,this.visible=void 0,this.audio=void 0,this.onTouch=void 0,this.onInCorrect=void 0,this.onCorrect=void 0,this.onEntry=void 0,this.childElementsLength=void 0,this.minLength=void 0,this.maxLength=void 0,this.flex=void 0,this.style=void 0}componentDidLoad(){ee(this.el,this.type),Fn(this.el,this.minLength,this.maxLength,this.childElementsLength,"grid"),this.flex==="true"&&(this.el.classList.remove("lido-wrap"),this.el.classList.add("lido-flex"))}componentWillLoad(){this.updateStyles(),window.addEventListener("resize",this.updateStyles.bind(this)),window.addEventListener("load",this.updateStyles.bind(this))}disconnectedCallback(){window.removeEventListener("resize",this.updateStyles.bind(this)),window.removeEventListener("load",this.updateStyles.bind(this))}updateStyles(){const n=window.innerHeight>window.innerWidth?"portrait":"landscape";this.style={height:V(this.height,n),width:V(this.width,n),backgroundColor:V(this.bgColor,n),top:V(this.y,n),left:V(this.x,n),zIndex:this.z,display:JSON.parse(V(`${this.visible}`,n))?this.flex==="true"?"flex":"grid":"none"}}render(){return J(Ht,{key:"3bc4fed1d27019c7fa1cbda6f30330fd842cbe71",class:"lido-wrap",value:this.value,type:this.type,tabindex:this.tabIndex,style:this.style,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,audio:this.audio,onTouch:this.onTouch,onCorrect:this.onCorrect,onInCorrect:this.onInCorrect,onEntry:this.onEntry},J("slot",{key:"49ad6f1037e60eacba5bade1e73845cf2f211719"}))}get el(){return Kt(this)}};ms.style=vs;export{Io as lido_avatar,Ro as lido_cell,Oo as lido_col,jo as lido_container,$o as lido_flash_card,Vo as lido_home,Jo as lido_image,Qo as lido_pos,ns as lido_random,ws as lido_root,os as lido_row,ls as lido_shape,ds as lido_text,ps as lido_trace,ms as lido_wrap};
