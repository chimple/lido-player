import{g as pr,r as zt,h as J,H as Ht,a as Kt}from"./preview-QDVZPE-M.js";import"./iframe-DqlRzL9s.js";const Et="lidoDragSelectedMap",Wt="lidoSelectedValues",Qn="lidoActivityScore",Gr="lidoActivityEnd",Jr="lidoLessonEnd",ei="lidoNextContainer",Kr="lidoActivityChange",Zr="lidoGameCompleted",Qr="lidoElementDrop",to="lidoElementClick",Ke="dropLength",le="dropHasDrag";var Bt;(function(n){n.NoFlow="noFlow",n.ShowFlow="showFlow",n.FreeTrace="freeTrace",n.BlindTracing="blindTracing",n.BlindFreeTrace="blindFreeTrace"})(Bt||(Bt={}));class eo{constructor(){this.rightMoves=0,this.wrongMoves=0,this.finalScore=0}}var Ut;(function(n){n.Diagonal="diagonal",n.Stretch="stretch",n.InfiniteDrop="infinite-drop"})(Ut||(Ut={}));function ke(n,l){const h=new CustomEvent(n,{detail:l});window.dispatchEvent(h)}function no(n,l,h){ke(Gr,{index:n,totalIndex:l,score:h})}function io(n){ke(Jr,{score:n})}function ro(){ke(ei,{})}function oo(){ke(Zr,{})}function sr(n){ke(Kr,{index:n})}function so(n,l,h){ke(Qr,{dragElement:n,dropElement:l,isCorrect:h,createdAt:new Date().toISOString()})}function ar(n,l){ke(to,{element:n,isCorrect:l,createdAt:new Date().toISOString()})}class Re{constructor(){}static getInstance(){return Re.instance||(Re.instance=new Re),Re.instance}setRiveInstance(l){this.riveInstance=l}getRiveInstance(){return this.riveInstance}}function Ze(n){n.classList.remove("highlight"),n.ariaPressed="false"}function lr(n){if(!n)return;n.classList.add("speaking-highlight");const l="#speaking-highlight-style";if(!document.querySelector(l)){const h=document.createElement("style");h.id=l,h.innerHTML=`
      .speaking-highlight {
        --base-transform: ${n.style.transform};
        box-shadow: 0 0 20px 10px rgba(255, 165, 0, 0.9) !important; /* Stronger orange glow effect */
        // border: 3px solid green !important;
        transition: box-shadow 0.5s ease-in-out, transform 0.5s ease-in-out;
        transform: scale(1.05); /* Subtle scale effect to pop the element */
        animation: pulseEffect 1.5s infinite; /* Pulsing animation */
      }

      @keyframes pulseEffect {
        0% {
          box-shadow: 0 0 20px 10px rgba(255, 165, 0, 0.9);
          transform: var(--base-transform) scale(1.05);
        }
        50% {
          box-shadow: 0 0 30px 15px rgba(255, 165, 0, 1);
          transform: var(--base-transform) scale(1.1);
        }
        100% {
          box-shadow: 0 0 20px 10px rgba(255, 165, 0, 0.9);
          transform: var(--base-transform) scale(1.05);
        }
      }
    `,document.head.appendChild(h)}}function ti(n){n&&n.classList.remove("speaking-highlight")}class ce{constructor(){this.audioElement=document.createElement("audio"),this.audioElement.id="audio",document.body.appendChild(this.audioElement)}static getI(){return ce.instance||(ce.instance=new ce),ce.instance}stop(){window!=null&&window.speechSynthesis&&window.speechSynthesis.cancel(),this.audioElement.pause(),this.audioElement.currentTime=0,this.audioElement.src="",document.querySelectorAll(".speaking-highlight").forEach(m=>ti(m));const h=document.querySelector("#play"),f=document.querySelector("#pause");h&&f&&(h.style.visibility="visible",f.style.visibility="hidden")}async play(l){let h=l.getAttribute("audio")||"";if(!h){const f=l.children;for(let m=0;m<f.length;m++){const S=f[m].getAttribute("audio");S&&(h=S)}}if(h){h=de(h),this.audioElement.src=h,console.log("ðŸš€ Playing audio:",this.audioElement.src);try{await this.audioElement.play(),lr(l),await new Promise(f=>{this.audioElement.onended=()=>{ti(l),f()}})}catch(f){console.log("ðŸš€ Audio play error:",f)}}else if(l.textContent)try{lr(l),await Co(l.textContent),ti(l)}catch(f){console.log("ðŸš€ TTS Error:",f)}}}let En;function cr(n){const l=window.getComputedStyle(n).transform;if(l&&l!=="none"){const h=l.match(/matrix\(([^)]+)\)/);if(h)return h[1].split(",").map(m=>parseFloat(m.trim()))[0]}return 1}const Pe=n=>{const l=document.createElement("div");if(n.getAttribute("type")==="option")return l.style.width=n.style.width,l.style.height=n.style.height,l;const h=n.style.width,f=n.style.padding;return n.style.width="auto",n.style.padding="0 20px",l.style.width=`${n.offsetWidth+20}px`,l.style.height=`${n.offsetHeight+20}px`,l.style.border="1px solid",l.style.backgroundColor="#00000021",l.style.borderRadius="10px",n.style.width=h,n.style.padding=f,l.setAttribute("value",`${n.getAttribute("value")}`),l};function ur(n){let l=!1,h=!1,f=0,m=0,S=0,w=0;const C=document.querySelector("#lido-container"),g=document.querySelector('[type="blank"]'),I=n.parentElement!==g?n.parentElement:null,A=n.getAttribute("type"),E=C.querySelector('[type="optionArea"]');if(E&&(E.style.display="block",E.style.overflowY="auto"),!C){console.error('Container with ID "lido-container" not found.');return}const k=W=>{h=!0,l=!1;const Y=dr(W);S=Y.clientX,w=Y.clientY,document.addEventListener("mousemove",u),document.addEventListener("mouseup",$),document.addEventListener("touchmove",u,{passive:!1}),document.addEventListener("touchend",$)},u=W=>{const Y=dr(W),nt=Math.abs(Y.clientX-S),X=Math.abs(Y.clientY-w);if(!l&&(nt>5||X>5)){if(l=!0,n.parentElement!==g&&A==="word"){const At=Pe(n);n.parentElement.insertBefore(At,n.nextElementSibling)}if(n.parentElement.getAttribute("type")!=="category"&&A==="option"){const At=Pe(n);At.setAttribute("value",`${n.getAttribute("value")}`),At.style.visibility="hidden",n.parentElement.insertBefore(At,n.nextElementSibling)}const gt=C.getBoundingClientRect(),it=cr(C),yt=(Y.clientX-gt.left-f)/it,lt=(Y.clientY-gt.top-m)/it;n.style.left=`${yt}px`,n.style.top=`${lt}px`;const Lt=n.getBoundingClientRect();f=Y.clientX-Lt.left,m=Y.clientY-Lt.top,n.style.opacity="0.8",n.style.cursor="grabbing",n.style.position="absolute",n.style.zIndex="1000",n.style.touchAction="none",n.style.transition="none"}if(!l)return;h=!1,W.preventDefault();const z=C.getBoundingClientRect(),q=cr(C),D=(Y.clientX-z.left-f)/q,vt=(Y.clientY-z.top-m)/q;n.style.left=`${D}px`,n.style.top=`${vt}px`;let ot;if(A==="option")ot=ae(n,"option")||ae(n,"dummy");else if(ot=ae(n,"word")||ae(n,"dummy"),ot&&ot.parentElement!==document.querySelector('[type="blank"]'))return;ot&&ot.getAttribute("type")==="dummy"||En!==null&&En===ot||(co(n,ot),En=ot)},$=()=>{l=!1,document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",$),document.removeEventListener("touchmove",u),document.removeEventListener("touchend",$);const W=document.querySelector('[type="dummy"]');if(h){at(n);return}if(A==="option"){const Y=ae(n,"category"),X=Array.from(C.querySelectorAll(`[value="${n.getAttribute("value")}"]`)).find(z=>z!==n);if(Y){if(W&&(W.replaceWith(n),Y.parentElement.classList.add("highlight-element"),C.querySelectorAll('[type="category"]').forEach(q=>{q!==Y&&q.parentElement.classList.remove("highlight-element")}),fr(n,Y)),X){const z=`
            @keyframes widthDecrease {
              0% { width: ${X.offsetWidth}px; height: ${X.offsetHeight}px; }
              100% { width: 0px; height: 0px;}
            }
          `,q=document.styleSheets[0];q.insertRule(z,q.cssRules.length),X.style.animation="widthDecrease 0.5s",X.addEventListener("animationend",()=>{X.remove()})}}else if(n.parentElement.type!=="category")Ft("this.alignMatch=true",X,n),setTimeout(()=>{X.replaceWith(n)},500);else{const z=n.parentElement,q=JSON.parse(localStorage.getItem(Et))||{},D=z.tabIndex,vt=n.value;q[D]&&(q[D]=q[D].filter(ot=>ot!==vt),localStorage.setItem(Et,JSON.stringify(q))),E.scrollTo({top:E.scrollHeight,behavior:"smooth"}),E.appendChild(n),W&&W.remove()}In(n);return}if(ae(n,"blank")&&W&&W.replaceWith(n),I){const Y=Array.from(I.children);(ao(n,I)||n.parentElement===I)&&Y.forEach(X=>{X!==n&&X.getAttribute("value")===n.getAttribute("value")&&X.replaceWith(n)})}In(n),En=null,hr(g,n)},at=W=>{if(A==="option"){const Y=C.querySelectorAll('[type="category"]'),nt=Array.from(Y).find(X=>X.parentElement.className.includes("highlight-element"));if(W.parentElement.getAttribute("type")==="category"){const X=JSON.parse(localStorage.getItem(Et))||{},z=nt.tabIndex,q=W.value;X[z]&&(X[z]=X[z].filter(vt=>vt!==q),localStorage.setItem(Et,JSON.stringify(X)));const D=Pe(W);E.appendChild(D),E.scrollTo({top:E.scrollHeight,behavior:"smooth"}),W.style.position="absolute",Ft("this.alignMatch='true'",D,W),setTimeout(()=>{In(W),D.replaceWith(W)},500);return}else{if(!nt)return;const X=Pe(W);nt.appendChild(X),W.style.position="absolute",Ft("this.alignMatch=true",X,W),setTimeout(()=>{X.replaceWith(W),In(W),fr(W,nt),W.style.transform="translate(0,0)",W.style.marginBottom="10px"},500);return}}if(A==="word"&&W.parentElement===I){const Y=Pe(W);Y.style.visibility="hidden",g.appendChild(Y),Ft("this.alignMatch=true",Y,W),setTimeout(()=>{const nt=Pe(W);W.parentElement.insertBefore(nt,W.nextElementSibling),Y.replaceWith(W),W.style.transform="translate(0,0)",hr(g,W)},500);return}else{const nt=Array.from(I.children).find(X=>X.getAttribute("value")===W.getAttribute("value"));Ft("this.alignMatch=true",nt,W),setTimeout(()=>{nt.replaceWith(W),W.style.transform="translate(0,0)"},500)}};n.style.cursor="move",n.addEventListener("pointerdown",k)}const In=n=>{n.style.opacity="",n.style.cursor="move",n.style.zIndex="",n.style.transform="",n.style.position="",n.style.left="",n.style.top=""};function ao(n,l){const h=n.getBoundingClientRect(),f=l.getBoundingClientRect();return!(h.right<f.left||h.left>f.right||h.bottom<f.top||h.top>f.bottom)}function ae(n,l){const h=Array.from(document.querySelectorAll(`[type="${l}"]`));let f=0,m=null;const S=n.getBoundingClientRect();for(const w of h){if(w===n)continue;const C=w.getBoundingClientRect(),g=lo(S,C);g>f&&(f=g,m=w)}return m}function dr(n){return n instanceof MouseEvent?{clientX:n.clientX,clientY:n.clientY}:{clientX:n.touches[0].clientX,clientY:n.touches[0].clientY}}function lo(n,l){const h=Math.max(0,Math.min(n.right,l.right)-Math.max(n.left,l.left)),f=Math.max(0,Math.min(n.bottom,l.bottom)-Math.max(n.top,l.top));return h*f}function co(n,l){var h,f;if(n===l||l&&l.getAttribute("type")==="option"&&l.parentElement.getAttribute("type")!=="category"||n.getAttribute("type")==="word"&&!ae(n,"blank")||n.getAttribute("type")==="option"&&!ae(n,"category"))return;const m=document.querySelector('[type="blank"]'),S=document.querySelector('[type="dummy"]');if(S)if(l)(h=l.parentNode)===null||h===void 0||h.insertBefore(S,l);else{const w=ae(n,"category");w?w.appendChild(S):m.appendChild(S)}else{const w=Pe(n);w.style.visibility="hidden",w.setAttribute("type","dummy");const C=`
      @keyframes widthIncrease {
        0% { width: 0px; height: 0px; }
        100% { width: ${n.offsetWidth}px; height: ${n.offsetHeight}px;}
      }
    `;if(l)(f=l.parentNode)===null||f===void 0||f.insertBefore(w,l);else{const I=ae(n,"category");I?I.appendChild(w):m.appendChild(w)}const g=document.styleSheets[0];g.insertRule(C,g.cssRules.length),w.style.animation="widthIncrease 0.5s",w.addEventListener("animationend",()=>{w.style.width=`${n.offsetWidth}px`,w.style.height=`${n.offsetHeight}px`})}}const hr=(n,l)=>{const h=document.querySelector("#lido-container"),m=h.getAttribute("objective").split(",");let S=JSON.parse(localStorage.getItem(Wt))||[];const w=n.children;S=Array.from(w).map(g=>g.getAttribute("value")),localStorage.setItem(Wt,JSON.stringify(S));const C=S.indexOf(l.value);if(C>=0){const g=ri(l.value,[m[C].trim()]);!g&&h.isAllowOnlyCorrect&&Array.from(h.querySelectorAll(`[value="${l.value}"]`)).find(E=>E!==l).replaceWith(l),tn(g),en()}};async function fr(n,l){let h=JSON.parse(localStorage.getItem(Et))||{},f=h[l.tabIndex];if(!(Array.isArray(f)&&f.includes(n.value))){for(const m in h){const S=h[m].indexOf(n.value);S!==-1&&h[m].splice(S,1)}localStorage.setItem(Et,JSON.stringify(h)),await gr(n,l)}}const Mn=n=>{n.style.animation="unset";const l=window.getComputedStyle(n).transform;if(l==="none")return 1;{const h=l.match(/matrix\(([^)]+)\)/);if(h){const f=h[1].split(", ");return parseFloat(f[0])}}return 1};function uo(n){let l=!1,h=!1,f=0,m=0,S=0,w=0,C=null,g=null;const I=document.querySelector("#lido-container");if(!I){console.error('Container with ID "container" not found.');return}oi(n,"drag");let A,E;const k=z=>{var q,D;if(ce.getI().stop(),Ze(n),l=!0,h=!0,z instanceof MouseEvent?(f=z.clientX,m=z.clientY):(f=z.touches[0].clientX,m=z.touches[0].clientY),n.style.opacity="1",n.style.cursor="grabbing",((q=n.getAttribute("dropAttr"))===null||q===void 0?void 0:q.toLowerCase())===Ut.Diagonal){const ot=window.getComputedStyle(n),gt=n.getBoundingClientRect();C||(C=n.cloneNode(!0),C.style.left=`${gt.left}px`,C.style.top=`${gt.top}px`,C.style.width=`${gt.width}px`,C.style.height=`${gt.height}px`,C.style.transform=ot.transform,C.style.zIndex="0",C.setAttribute("visible","true"),C.classList.add("cloned-element"),document.body.appendChild(C))}if(((D=n.getAttribute("dropAttr"))===null||D===void 0?void 0:D.toLowerCase())===Ut.InfiniteDrop){const ot=n.querySelector("img"),gt=ot==null?void 0:ot.getAttribute("src"),it=window.getComputedStyle(n),yt=n.getBoundingClientRect();if(g||(g=n.cloneNode(!1),g.setAttribute("src",gt),g.setAttribute("value",n.getAttribute("value")),g.setAttribute("visible","true"),g.style.left=`${yt.left}px`,g.style.top=`${yt.top}px`,g.style.width=`${yt.width}px`,g.style.height=`${yt.height}px`,g.style.transform=it.transform,g.style.position="absolute",g.style.zIndex="0",n.style.zIndex="100",document.body.appendChild(g)),n.getAttribute("droppedelement")){const lt=n.getAttribute("droppedelement");document.querySelectorAll(`body > [droppedelement="${lt}"]`).forEach(At=>At.remove())}}const vt=window.getComputedStyle(n).transform;if(vt!=="none"){const ot=vt.match(/matrix\(([^)]+)\)/);if(ot){const gt=ot[1].split(", ");S=parseFloat(gt[4]),w=parseFloat(gt[5])}}else S=0,w=0;document.addEventListener("mousemove",Y),document.addEventListener("mouseup",X),document.addEventListener("touchmove",Y),document.addEventListener("touchend",X)},u=I.getBoundingClientRect(),$=n.getBoundingClientRect();A=u.top-$.top,E=u.left-$.left;const at=new MutationObserver(z=>{for(const q of z)if(q.type==="attributes"&&q.attributeName==="style"){const D=I.getBoundingClientRect(),vt=n.getBoundingClientRect();A=D.top-vt.top,E=D.left-vt.left}}),W={attributes:!0,attributeFilter:["style"]};at.observe(I,W);const Y=z=>{if(!l)return;h=!1,n.style.transition="none";const q=Mn(I);let D=0,vt=0;z instanceof MouseEvent?(D=(z.clientX-f)/q,vt=(z.clientY-m)/q):(D=(z.touches[0].clientX-f)/q,vt=(z.touches[0].clientY-m)/q);const ot=S+D,gt=w+vt,it=I.getBoundingClientRect(),yt=n.getBoundingClientRect(),Lt=n.style.transform.match(/-?\d+(\.\d+)?/g).map(Number),At=yt.left/q-Lt[0],$t=yt.top-Lt[1],Xt=it.width/q-Math.abs(E/q)-yt.width/q,ut=it.left-At,Vt=it.top-$t,_t=it.height/q-Math.abs(A/q)-yt.height/q,dt=ot+At<=it.left?ut:Math.min(ot,Xt),Tt=gt+$t<=it.top?Vt:Math.min(gt,_t);n.style.transform=`translate(${dt}px, ${Tt}px)`;let jt=Pn(n,"drop");document.querySelectorAll("[type='drop']").forEach(Q=>{var d;const r=JSON.parse(localStorage.getItem(Et))||{};Object.keys(r).map(Number).includes(Q.tabIndex)?((d=n.getAttribute("dropAttr"))===null||d===void 0?void 0:d.toLowerCase())!==Ut.Diagonal&&(Q.tagName.toLowerCase()==="lido-text"&&(Q.style.border="",Q.style.backgroundColor="transparent"),Q.tagName.toLowerCase()==="lido-image"&&(Q.style.opacity="0")):(Q.tagName.toLowerCase()==="lido-text"&&(Q.style.border="",Q.style.backgroundColor=""),Q.tagName.toLowerCase()==="lido-image"&&(Q.style.opacity="1"))}),jt&&(jt.tagName.toLowerCase()==="lido-text"?(jt.style.border="2px dashed #ff0000",jt.style.backgroundColor="rgba(255, 0, 0, 0.1)"):jt.style.opacity="0.3")};let nt=null;const X=z=>{var q,D,vt;if(l=!1,h){C&&(C.remove(),C=null),n.style.opacity="1";return}document.removeEventListener("mousemove",Y),document.removeEventListener("mouseup",X),document.removeEventListener("touchmove",Y),document.removeEventListener("touchend",X),n.style.opacity="",n.style.cursor="move";const ot=document.querySelectorAll("[type='drop']");ot.forEach(it=>{ot.forEach(yt=>{var lt;const Lt=JSON.parse(localStorage.getItem(Et))||{};Object.keys(Lt).map(Number).includes(yt.tabIndex)?((lt=n.getAttribute("dropAttr"))===null||lt===void 0?void 0:lt.toLowerCase())!==Ut.Diagonal&&(yt.tagName.toLowerCase()==="lido-text"&&(yt.style.border="",yt.style.backgroundColor="transparent"),yt.tagName.toLowerCase()==="lido-image"&&(yt.style.opacity="0")):(yt.tagName.toLowerCase()==="lido-text"&&(yt.style.border="",yt.style.backgroundColor=""),yt.tagName.toLowerCase()==="lido-image"&&(yt.style.opacity="1"))})});let gt=Pn(n,"drop");if(Rn(n,gt),((q=n.getAttribute("dropAttr"))===null||q===void 0?void 0:q.toLowerCase())===Ut.Diagonal&&(gt?n&&(n.classList.add("diagonal-drop"),gt.classList.add("diagonal-target"),nt=gt):(nt&&(nt.classList.remove("diagonal-target"),nt=null),n==null||n.classList.remove("diagonal-drop"),n.style.transform="translate(0, 0)",C&&(C.remove(),C=null))),((D=n.getAttribute("dropAttr"))===null||D===void 0?void 0:D.toLowerCase())===Ut.Stretch){const it=window.getComputedStyle(n);gt.style.width=it.width}((vt=n.getAttribute("dropAttr"))===null||vt===void 0?void 0:vt.toLowerCase())===Ut.InfiniteDrop&&(gt.style.opacity="0",n.getAttribute("value")&&n.setAttribute("droppedElement",`${n.getAttribute("value")}-dropped`))};n.style.cursor="move",n.style.transform="translate(0, 0)",n.addEventListener("mousedown",k),n.addEventListener("touchstart",k),n.addEventListener("click",z=>{h&&ii(n,"drag")})}const Pn=(n,l)=>{const h=n.getBoundingClientRect(),f=document.querySelectorAll(`[type="${l}"]`);let m=null,S=0;return f.forEach(w=>{if(w===n)return;const C=w.getBoundingClientRect(),g=Math.max(0,Math.min(h.right,C.right)-Math.max(h.left,C.left)),I=Math.max(0,Math.min(h.bottom,C.bottom)-Math.max(h.top,C.top)),A=g*I;if(A!==0)if(l==="slide"){const E=h.width*h.height,k=C.width*C.height,u=Math.min(E,k)*.8;A>=u&&A>S&&(S=A,m=w)}else A>S&&(S=A,m=w)}),m};async function Rn(n,l){var h;const f=localStorage.getItem(Wt)||"",m=localStorage.getItem(Et);let S=JSON.parse(localStorage.getItem(le)||" {}");if(l&&((h=l.getAttribute("dropAttr"))===null||h===void 0?void 0:h.toLowerCase())!==Ut.Diagonal&&(l.getAttribute("isAllowOnlyOneDrop")==="true"||!l.getAttribute("isAllowOnlyOneDrop"))){const g=Object.values(S).find(A=>document.getElementById(A.drop)===l);if(g?g.isFull=!0:console.warn("No matching drop item found for",l),localStorage.setItem(le,JSON.stringify(S)),Pn(n,"drag")){if(n.style.transform="translate(0,0)",n.style.transition="transform 0.5s ease",m){let E=JSON.parse(m);for(const k in E)E[k].includes(n.value)&&delete E[k];localStorage.setItem(Et,JSON.stringify(E))}document.querySelectorAll("[type='drop']").forEach(E=>{var k;const u=JSON.parse(localStorage.getItem(Et))||{};Object.keys(u).map(Number).includes(E.tabIndex)?((k=E.getAttribute("dropAttr"))===null||k===void 0?void 0:k.toLowerCase())!==Ut.Diagonal&&(E.tagName.toLowerCase()==="lido-text"&&(E.style.border="",E.style.backgroundColor="transparent"),E.tagName.toLowerCase()==="lido-image"&&(E.style.opacity="0")):(E.tagName.toLowerCase()==="lido-text"&&(E.style.border="",E.style.backgroundColor=""),E.tagName.toLowerCase()==="lido-image"&&(E.style.opacity="1"))});return}}if(!l){n.style.transform="translate(0,0)",n.style.transition="transform 0.5s ease";let g=Tn.get(n);if(g){let A=Object.values(S).find(E=>document.getElementById(E.drop)===g);A&&(A.isFull=!1,localStorage.setItem(le,JSON.stringify(S))),Tn.delete(n)}if(f){let A=JSON.parse(f);A=A.filter(E=>E!=n.value),localStorage.setItem(Wt,JSON.stringify(A))}if(m){let A=JSON.parse(m);for(const E in A)A[E].includes(n.value)&&delete A[E];localStorage.setItem(Et,JSON.stringify(A))}document.querySelectorAll("[type='drop']").forEach(A=>{var E;const k=JSON.parse(localStorage.getItem(Et))||{};Object.keys(k).map(Number).includes(A.tabIndex)?((E=A.getAttribute("dropAttr"))===null||E===void 0?void 0:E.toLowerCase())!==Ut.Diagonal&&(A.tagName.toLowerCase()==="lido-text"&&(A.style.border="",A.style.backgroundColor="transparent"),A.tagName.toLowerCase()==="lido-image"&&(A.style.opacity="0")):(A.tagName.toLowerCase()==="lido-text"&&(A.style.border="",A.style.backgroundColor=""),A.tagName.toLowerCase()==="lido-image"&&(A.style.opacity="1"))}),en();return}if(m){let g=Tn.get(n);if(g){let A=Object.values(S).find(E=>document.getElementById(E.drop)===g);A&&(A.isFull=!1,localStorage.setItem(le,JSON.stringify(S)))}let I=JSON.parse(m);for(const A in I)I[A].includes(n.value)&&delete I[A];localStorage.setItem(Et,JSON.stringify(I))}let w=JSON.parse(localStorage.getItem(Ke))||0;if(w+=1,localStorage.setItem(Ke,JSON.stringify(w)),w===Qe(l.value)){const g=Object.values(S).find(I=>document.getElementById(I.drop)===l);g?g.isFull=!0:console.warn("No matching drop item found for",l),localStorage.setItem(le,JSON.stringify(S)),w=0,localStorage.setItem(Ke,JSON.stringify(w))}Tn.set(n,l);const C=l.value.includes(n.value);if(so(n,l,C),C){const g=l.getAttribute("onCorrect");g&&await Ft(g,l,n)}else{const g=l.getAttribute("onInCorrect");await Ft(g,l,n)}tn(C),n.style.opacity="1",await gr(n,l)}function ho(n){let l=JSON.parse(localStorage.getItem(le)||"{}");const h=n.getAttribute("tabIndex");(typeof l!="object"||l===null)&&(l={}),l[h]||(l[h]={drop:n.id,isFull:!1},localStorage.setItem(le,JSON.stringify(l))),n.onclick=()=>{ii(n,"drop")},oi(n,"drop")}async function ii(n,l){if(document.querySelectorAll(`[type='${l}']`).forEach(S=>{Ze(S)}),!document.querySelector("#dynamic-highlight-style")){const S=document.createElement("style");S.id="dynamic-highlight-style",S.innerHTML=`
      .highlight {
        // border: 4px solid #e74c3c; /* Thicker red border for more visibility */
        // border-radius: 12px; /* Larger rounded corners */
        // background-color: rgba(231, 76, 60, 0.3); /* Stronger, more noticeable background */
        // box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2), 0 12px 40px rgba(0, 0, 0, 0.2); /* Stronger shadow */
        // outline: 4px solid rgba(231, 76, 60, 0.6); /* Glow effect */
      }
    `,document.head.appendChild(S)}n==null||n.classList.add("highlight"),n.ariaPressed="true";const f=l==="drop"?n:document.querySelector("[type='drop'].highlight"),m=l==="drag"?n:document.querySelector("[type='drag'].highlight");if(f||fo(n),f&&m){m.style.transition="transform 0.5s ease",m.style.transform="";const S=document.querySelector("#lido-container"),w=Mn(S);console.log("ðŸš€ ~ onClickDropOrDragElement ~ containerScale:",w);const C=f.getBoundingClientRect(),g=m.getBoundingClientRect(),I=(C.left-g.left)/w,A=(C.top-g.top)/w;m.style.transform=`translate(${I}px, ${A}px)`,document.querySelectorAll("*").forEach(k=>{Ze(k)}),await Rn(m,f)}}const Tn=new Map;async function fo(n){const l=JSON.parse(localStorage.getItem(le)||"{}"),h=n;if(!h){console.error("Element not found");return}const f=getComputedStyle(h).transform;if(Ze(n),f&&f!=="none"&&f!=="matrix(1, 0, 0, 1, 0, 0)"){h.style.transition="transform 0.5s ease",h.style.transform="translate(0px, 0px)",Rn(h,null);return}let m=Object.values(l).find(S=>!S.isFull);if(m){const S=document.querySelector(`#${m.drop}`);h.style.transition="transform 0.5s ease",Rn(h,S)}}function po(n){let l=!1,h=!1,f=0,m=0,S=0,w=0;const C=n.parentElement;if(!C){console.error("Parent element not found.");return}const g=u=>{Ze(n),h=!0,u instanceof MouseEvent?(f=u.clientX,m=u.clientY):(f=u.touches[0].clientX,m=u.touches[0].clientY),n.style.opacity="0.8",n.style.cursor="grabbing";const $=window.getComputedStyle(n).transform;if($!=="none"){const at=$.match(/matrix\(([^)]+)\)/);if(at){const W=at[1].split(", ");S=parseFloat(W[4]),w=parseFloat(W[5])}}else S=0,w=0;C.getBoundingClientRect(),n.getBoundingClientRect(),document.addEventListener("mousemove",E),document.addEventListener("mouseup",k),document.addEventListener("touchmove",E),document.addEventListener("touchend",k)},I=new MutationObserver(u=>{for(const $ of u)$.type==="attributes"&&$.attributeName==="style"&&(C.getBoundingClientRect(),n.getBoundingClientRect())}),A={attributes:!0,attributeFilter:["style"]};I.observe(C,A);const E=u=>{if(!h)return;const $=Mn(C);let at=0,W=0;u instanceof MouseEvent?(at=(u.clientX-f)/$,W=(u.clientY-m)/$):(at=(u.touches[0].clientX-f)/$,W=(u.touches[0].clientY-m)/$);const Y=S+at,nt=w+W,X=C.getBoundingClientRect(),z=n.getBoundingClientRect(),D=n.style.transform.match(/-?\d+(\.\d+)?/g).map(Number),vt=z.left/$-D[0],ot=z.top-D[1],gt=z.right/$-D[0],it=z.bottom-D[1],yt=X.right-gt,lt=X.left-vt,Lt=X.top-ot,At=X.bottom-it,$t=Y+vt<=X.left?lt:Math.min(Y,yt),Xt=nt+ot<=X.top?Lt:Math.min(nt,At);n.style.transform=`translate(${$t}px, ${Xt}px)`;let ut=Pn(n,"slide");if(ut&&ut!=n){const Vt=n.parentElement,_t=ut.parentElement;if(Vt&&_t){const dt=document.createComment("element-placeholder"),Tt=document.createComment("overlapped-placeholder");Vt.replaceChild(dt,n),_t.replaceChild(Tt,ut),Vt.replaceChild(ut,dt),_t.replaceChild(n,Tt),n.style.transform="translate(0, 0)",f=u instanceof MouseEvent?u.clientX:u.touches[0].clientX,m=u instanceof MouseEvent?u.clientY:u.touches[0].clientY,S=0,w=0,l=!0}}},k=u=>{h=!1,document.removeEventListener("mousemove",E),document.removeEventListener("mouseup",k),document.removeEventListener("touchmove",E),document.removeEventListener("touchend",k),n.style.opacity="",n.style.cursor="move",n.style.transform="translate(0, 0)",l&&(go(n),l=!1)};n.style.cursor="move",n.style.transform="translate(0, 0)",n.addEventListener("mousedown",g),n.addEventListener("touchstart",g),n.addEventListener("click",u=>{ii(n,"drag")})}const go=n=>{const l=JSON.parse(localStorage.getItem(Wt))||[],h=document.querySelectorAll("[type='slide']");let f=0;h.forEach(g=>{l[f++]=g.value}),localStorage.setItem(Wt,JSON.stringify(l));const S=document.querySelector("#lido-container").objective.split(","),w=l.indexOf(n.value),C=ri(n.value,[S[w].trim()]);tn(C),en()};function vo(n){if(!n)return;const l=n.getAttribute("onTouch");l&&(n.onclick=async()=>{console.log("ðŸš€ ~ element.onclick= ~ onTouch:",l),l&&await Ft(l,n)})}function mo(n){if(oi(n,"click"),n.style.cursor="pointer",!n){console.error("No element provided.");return}const l=async()=>{ce.getI().stop();const h=document.querySelector("#lido-container"),f=h.objective.split(","),m=document.querySelector("#lido-checkButton"),S=h.getAttribute("showCheck")==="true";if(n.getAttribute("id")=="lido-checkButton"){m.classList.add("lido-disable-check-button"),await ni();return}const w=n.classList.contains("lido-element-selected");let C=JSON.parse(localStorage.getItem(Wt))||[];if(f.length===1){localStorage.setItem(Wt,JSON.stringify([n.value]));const g=f.includes(n.value);if(ar(n,g),g){const I=n.getAttribute("onCorrect");n.style.pointerEvents="none",await Ft(I,n)}else{const I=n.getAttribute("onInCorrect");await Ft(I,n)}tn(g),en();return}if(S&&m.classList.remove("lido-disable-check-button"),w){n.classList.remove("lido-element-selected"),Ft(n.getAttribute("onEntry"),n),C=C.filter(E=>E!=n.value),localStorage.setItem(Wt,JSON.stringify(C));let g=JSON.parse(localStorage.getItem(Et))||{};const I=n.value,A=Object.keys(g).find(E=>g[E].includes(I));if(A){g[A]=g[A].filter(u=>u!==I),g[A].length===0&&delete g[A],localStorage.setItem(Et,JSON.stringify(g));const k=Object.keys(g).sort((u,$)=>parseInt(u)-parseInt($)).reduce((u,$)=>u.concat(g[$]),[]);localStorage.setItem(Wt,JSON.stringify(k))}S&&C.length===0&&m.classList.add("lido-disable-check-button");return}else{n.classList.add("lido-element-selected");const g=n.value,I=Object.keys(f).find($=>f[$]===g);let A=JSON.parse(localStorage.getItem(Et))||{};I?A[I]=[g]:A[f.length+C.length]=[g],localStorage.setItem(Et,JSON.stringify(A));const k=Object.keys(A).sort(($,at)=>parseInt($)-parseInt(at)).reduce(($,at)=>$.concat(A[at]),[]);localStorage.setItem(Wt,JSON.stringify(k));const u=f.includes(n.value);if(ar(n,u),u){const $=n.getAttribute("onCorrect");await Ft($,n)}else{const $=n.getAttribute("onInCorrect");await Ft($,n)}tn(u)}!S&&Qe(f)===Qe(C)&&ni()};n.addEventListener("click",l),n.addEventListener("pointerdown",()=>{n.getAttribute("animation")==="clickable"&&(n.classList.add("removeShadow"),n.style.top="40px",n.style.position="relative")}),n.addEventListener("pointerup",()=>{n.getAttribute("animation")==="clickable"&&setTimeout(()=>{n.classList.remove("removeShadow"),n.style.top="0px",n.style.position="relative"},50)})}const ue=new eo,ee=async(n,l)=>{const h=document.querySelector("#lido-container");if(!h)return;const f=n.getAttribute("onEntry");await Ft(f,n);const m=h.getAttribute("canplay");if(!(m!=null&&m==="false")){switch(l){case"drag":{uo(n);break}case"click":{mo(n);break}case"drop":{ho(n);break}case"slide":{po(n);break}case"word":{ur(n);break}case"option":{ur(n);break}}vo(n)}},Ft=async(n,l,h)=>{var f;const m=yo(n);for(let S=0;S<m.length;S++){const w=m[S],C=document.querySelector(w.actor),g=w.actor==="this"?l:w.actor==="element"?h:C||document.getElementById(w.actor);if(g)switch(w.action){case"transform":{const I=window.getComputedStyle(g).transform;g.style.transform=I!=="none"?`${I} ${w.value}`:w.value;break}case"alignMatch":{const I=g,A=h,E=document.querySelector("#lido-container"),k=Mn(E);A.style.transform="translate(0,0)";const u=I.getBoundingClientRect(),$=A.getBoundingClientRect(),at=u.left+u.width/2,W=u.top+u.height/2,Y=$.left+$.width/2,nt=$.top+$.height/2,X=(at-Y)/k,z=(W-nt)/k;((f=h.getAttribute("dropAttr"))===null||f===void 0?void 0:f.toLowerCase())===Ut.Diagonal?A.style.transform=`translate(${X-70}px, ${z-70}px)`:A.style.transform=`translate(${X}px, ${z}px)`;break}case"removeClone":{document.querySelectorAll(w.value).forEach(A=>A.remove());break}case"addClass":{g.classList.add(w.value);break}case"removeClass":{g.classList.remove(w.value);break}case"speak":{await ce.getI().play(g);break}case"stop":{await ce.getI().stop();break}case"sleep":{!isNaN(Number(w.value))&&await new Promise(A=>setTimeout(A,Number(w.value)));break}case"avatarAnimate":{const A=Re.getInstance().getRiveInstance();A&&w.value&&A.play(w.value);break}default:{g.style[w.action]=w.value;break}}}},yo=n=>{var l;const h=[];return n&&((l=n.split(";"))===null||l===void 0?void 0:l.map(m=>m.trim())).forEach(m=>{if(m){const[S,w]=m.split("=").map(g=>g.trim()),C=S.lastIndexOf(".");if(C!==-1){const g=S.substring(0,C).trim(),I=S.substring(C+1).trim();h.push({actor:g,action:I,value:w.replace(/['"]/g,"")})}}}),h},ri=(n,l)=>{const h=n.split(",").map(S=>S.trim());let f=0,m=new Set;for(const S of h)if(S.startsWith("(")&&S.endsWith(")")){const w=S.slice(1,-1).split("|").map(g=>g.trim()),C=l[f].slice(1,-1).split("|").map(g=>g.trim());if(f>C.length)return!1;for(let g=0;g<w.length;g++)if(!w.includes(C[g]))return!1;f++}else if(S.includes("|")){const w=S.split("|").map(C=>C.trim());for(const C of w)m.add(C)}else{if(f>=l.length||l[f]!==S)return!1;f++}for(;f<l.length;){if(!m.has(l[f]))return!1;m.delete(l[f]),f++}return f===l.length},Qe=n=>{const l=n.split(",").map(f=>f.trim());let h=0;for(const f of l)f.startsWith("(")&&f.endsWith(")")?f.includes("|")?h+=f.split("|").length:h+=1:h+=f.split("|").length;return h},tn=n=>{n?ue.rightMoves+=1:ue.wrongMoves+=1,console.log("Right Moves : ",ue.rightMoves),console.log("Wrong Moves : ",ue.wrongMoves)},bo=()=>{const n=ue.rightMoves,l=ue.wrongMoves;let h=Math.floor(n/(n+l)*100);wo(h),ue.rightMoves=0,ue.wrongMoves=0};async function gr(n,l){var h;const f=document.querySelector("#lido-container");if(!f)return;if(f.getAttribute("isAllowOnlyCorrect")==="true"&&!l.value.includes(n.value)){n.style.transform="translate(0,0)",n.type==="option"&&Array.from(f.querySelectorAll(`[value="${n.value}"]`)).forEach(k=>{k!==n&&k.getAttribute("value")===n.getAttribute("value")&&k.replaceWith(n)});return}await Ft("this.alignMatch='true'",l,n);let S=JSON.parse((h=localStorage.getItem(Et))!==null&&h!==void 0?h:"{}");const w=l.getAttribute("tabindex");S[w]||(S[w]=[]),S[w].push(n.value),localStorage.setItem(Et,JSON.stringify(S));const g=Object.keys(S).sort((A,E)=>parseInt(A)-parseInt(E)).reduce((A,E)=>{const k=S[E];return k.length>1?A.push(`(${k.join("|")})`):A.push(k[0]),A},[]);localStorage.setItem(Wt,JSON.stringify(g)),document.querySelectorAll("[type='drop']").forEach(A=>{var E;const k=JSON.parse(localStorage.getItem(Et))||{};Object.keys(k).map(Number).includes(A.tabIndex)?((E=A.getAttribute("dropAttr"))===null||E===void 0?void 0:E.toLowerCase())!==Ut.Diagonal&&(A.tagName.toLowerCase()==="lido-text"&&(A.style.border="",A.style.backgroundColor="transparent"),A.tagName.toLowerCase()==="lido-image"&&(A.style.opacity="0")):(A.tagName.toLowerCase()==="lido-text"&&(A.style.border="",A.style.backgroundColor=""),A.tagName.toLowerCase()==="lido-image"&&(A.style.opacity="1"))}),en()}const wo=n=>{var l,h,f;const m=document.querySelector("lido-home");if(!m)return;const S=Number((l=m.getAttribute("index"))!==null&&l!==void 0?l:0),w=Number((h=m.getAttribute("totalIndex"))!==null&&h!==void 0?h:0),C=JSON.parse((f=localStorage.getItem(Qn))!==null&&f!==void 0?f:"{}"),g=S.toString();if(C[g]=n,no(S,w,n),localStorage.setItem(Qn,JSON.stringify(C)),w-1==S){const I=Object.values(C),A=I.reduce((E,k)=>E+k,0)/I.length;ue.finalScore=Math.floor(A),console.log("Total Score : ",ue.finalScore),io(A),localStorage.removeItem(Qn)}},en=()=>{var n;const l=document.querySelector("#lido-container"),h=l.objective,f=(n=localStorage.getItem(Wt))!==null&&n!==void 0?n:"",m=document.querySelector("#lido-checkButton");if(!f||Qe(f)!==Qe(h)){Ft("this.addClass='lido-disable-check-button'",m);return}l.getAttribute("showCheck")=="true"?m.classList.remove("lido-disable-check-button"):ni()},ni=async()=>{var n;const l=document.querySelector("#lido-container");if(!l)return;const h=l.objective,f=(n=JSON.parse(localStorage.getItem(Wt)))!==null&&n!==void 0?n:[];if(ri(h,f)){const S=l.getAttribute("onCorrect");S&&await Ft(S,l),kn()}else{const S=l.getAttribute("onInCorrect");await Ft(S,l),l.getAttribute("isContinueOnCorrect")==="true"||kn()}await bo()},kn=()=>{ce.getI().stop(),console.log("ðŸš€ ~ triggerNextContainer ~ event:",event),ro()};function de(n){const h=document.querySelector("#lido-container").getAttribute("baseUrl");return n!=null&&n.startsWith("http")||n!=null&&n.startsWith("blob")?n:h?h+n:pr(n)}async function Co(n,l){return new Promise((h,f)=>{if(!("speechSynthesis"in window)){f(new Error("Speech synthesis is not supported in this browser."));return}const m=window.speechSynthesis;setTimeout(()=>{const S=new SpeechSynthesisUtterance(n);S.onend=()=>{h(!0)},m.speak(S)},50)})}function On(n,l,h,f,m){if(f===void 0)return;const S=Array.from(n.children);let w=f;l&&f<l&&(w=l),h&&f>h&&(w=h),S.forEach((C,g)=>{C.style.display=g<w?m:"none"})}const V=(n,l)=>!n||!n.includes(",")?n:n.split(",").reduce((f,m)=>{const[S,w]=m.split(".");return f[S.trim()]=w.trim(),f},{})[l]||"",oi=(n,l)=>{const h=document.querySelectorAll("[type='drag']"),f=document.querySelectorAll("[type='drop']"),m=document.querySelectorAll("[type='click']");let S=0;if(l==="click"){m.forEach(w=>{const C=w;let g=null;if(C.getAttribute("flexibleWidth"))g=C;else{const I=C.children;for(let A=0;A<I.length;A++){const E=I[A];if(E.getAttribute("flexibleWidth")){g=E;break}}}if(g){const I=g.style.width,A=g.style.padding;g.style.width="auto",g.style.padding="0 20px";const E=g.offsetWidth;g.style.width=I,g.style.padding=A,E>S&&(S=E)}}),m.forEach(w=>{const C=w;if(C.getAttribute("flexibleWidth")){if(C.getAttribute("flexibleWidth")==="true")return;C.style.width=`${S}px`}else{const g=C.children;for(let I=0;I<g.length;I++){const A=g[I];if(A.getAttribute("flexibleWidth")){if(A.getAttribute("flexibleWidth")==="true")return;A.style.width=`${S}px`;break}}}});return}h.forEach(w=>{var C;const g=w,I=g.style.width,A=g.style.padding;g.style.width="auto",g.style.padding="0 20px";const E=g.offsetWidth;g.style.width=I,g.style.padding=A,((C=n.getAttribute("dropAttr"))===null||C===void 0?void 0:C.toLowerCase())!==Ut.Stretch&&E>S&&(S=E)}),h.forEach(w=>{const C=w,g=C.getAttribute("flexibleWidth");g==="false"?C.style.width=`${S}px`:g==="true"&&l==="drag"&&(C.style.width="auto",C.style.padding="0 20px")}),f.forEach(w=>{const C=w,g=C.getAttribute("flexibleWidth");if(g==="false"){const I=parseFloat(getComputedStyle(C).borderWidth);if(typeof I=="number"){const A=S-I*2,E=parseFloat(C.style.height)-I*2;C.style.height=`${E}px`,C.style.width=`${A}px`;return}}else g==="true"&&l==="drag"&&(C.style.width="auto",C.style.padding="0 20px")})};var xo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},vr={exports:{}};(function(n,l){(function(f,m){n.exports=m()})(xo,()=>(()=>{var h=[,(w,C,g)=>{g.r(C),g.d(C,{default:()=>A});var I=(()=>{var E=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return function(k={}){var u=k,$,at;u.ready=new Promise((t,e)=>{$=t,at=e});function W(){function t(p){const x=o;i=e=0,o=new Map,x.forEach(_=>{try{_(p)}catch(b){console.error(b)}}),this.ob(),s&&s.Tb()}let e=0,i=0,o=new Map,s=null,c=null;this.requestAnimationFrame=function(p){e||(e=requestAnimationFrame(t.bind(this)));const x=++i;return o.set(x,p),x},this.cancelAnimationFrame=function(p){o.delete(p),e&&o.size==0&&(cancelAnimationFrame(e),e=0)},this.Rb=function(p){c&&(document.body.remove(c),c=null),p||(c=document.createElement("div"),c.style.backgroundColor="black",c.style.position="fixed",c.style.right=0,c.style.top=0,c.style.color="white",c.style.padding="4px",c.innerHTML="RIVE FPS",p=function(x){c.innerHTML="RIVE FPS "+x.toFixed(1)},document.body.appendChild(c)),s=new function(){let x=0,_=0;this.Tb=function(){var b=performance.now();_?(++x,b-=_,1e3<b&&(p(1e3*x/b),x=_=0)):(_=b,x=0)}}},this.Ob=function(){c&&(document.body.remove(c),c=null),s=null},this.ob=function(){}}function Y(t){console.assert(!0);const e=new Map;let i=-1/0;this.push=function(o){return o=o+((1<<t)-1)>>t,e.has(o)&&clearTimeout(e.get(o)),e.set(o,setTimeout(function(){e.delete(o),e.length==0?i=-1/0:o==i&&(i=Math.max(...e.keys()),console.assert(i<o))},1e3)),i=Math.max(o,i),i<<t}}const nt=u.onRuntimeInitialized;u.onRuntimeInitialized=function(){nt&&nt();let t=u.decodeAudio;u.decodeAudio=function(s,c){s=t(s),c(s)};let e=u.decodeFont;u.decodeFont=function(s,c){s=e(s),c(s)};const i=u.FileAssetLoader;u.ptrToAsset=s=>{let c=u.ptrToFileAsset(s);return c.isImage?u.ptrToImageAsset(s):c.isFont?u.ptrToFontAsset(s):c.isAudio?u.ptrToAudioAsset(s):c},u.CustomFileAssetLoader=i.extend("CustomFileAssetLoader",{__construct:function({loadContents:s}){this.__parent.__construct.call(this),this.Gb=s},loadContents:function(s,c){return s=u.ptrToAsset(s),this.Gb(s,c)}}),u.CDNFileAssetLoader=i.extend("CDNFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this)},loadContents:function(s){let c=u.ptrToAsset(s);return s=c.cdnUuid,s===""?!1:(function(p,x){var _=new XMLHttpRequest;_.responseType="arraybuffer",_.onreadystatechange=function(){_.readyState==4&&_.status==200&&x(_)},_.open("GET",p,!0),_.send(null)}(c.cdnBaseUrl+"/"+s,p=>{c.decode(new Uint8Array(p.response))}),!0)}}),u.FallbackFileAssetLoader=i.extend("FallbackFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this),this.kb=[]},addLoader:function(s){this.kb.push(s)},loadContents:function(s,c){for(let p of this.kb)if(p.loadContents(s,c))return!0;return!1}});let o=u.computeAlignment;u.computeAlignment=function(s,c,p,x,_=1){return o.call(this,s,c,p,x,_)}};const X="createConicGradient createImageData createLinearGradient createPattern createRadialGradient getContextAttributes getImageData getLineDash getTransform isContextLost isPointInPath isPointInStroke measureText".split(" "),z=new function(){function t(){if(!e){let et=function(st,N,St){if(N=R.createShader(N),R.shaderSource(N,St),R.compileShader(N),St=R.getShaderInfoLog(N),0<(St||"").length)throw St;R.attachShader(st,N)};var v=document.createElement("canvas"),M={alpha:1,depth:0,stencil:0,antialias:0,premultipliedAlpha:1,preserveDrawingBuffer:0,powerPreference:"high-performance",failIfMajorPerformanceCaveat:0,enableExtensionsByDefault:1,explicitSwapControl:1,renderViaOffscreenBackBuffer:1};let R;if(/iPhone|iPad|iPod/i.test(navigator.userAgent)){if(R=v.getContext("webgl",M),i=1,!R)return console.log("No WebGL support. Image mesh will not be drawn."),!1}else if(R=v.getContext("webgl2",M))i=2;else if(R=v.getContext("webgl",M))i=1;else return console.log("No WebGL support. Image mesh will not be drawn."),!1;if(R=new Proxy(R,{get(st,N){if(st.isContextLost()){if(_||(console.error("Cannot render the mesh because the GL Context was lost. Tried to invoke ",N),_=!0),typeof st[N]=="function")return function(){}}else return typeof st[N]=="function"?function(...St){return st[N].apply(st,St)}:st[N]},set(st,N,St){if(st.isContextLost())_||(console.error("Cannot render the mesh because the GL Context was lost. Tried to set property "+N),_=!0);else return st[N]=St,!0}}),o=Math.min(R.getParameter(R.MAX_RENDERBUFFER_SIZE),R.getParameter(R.MAX_TEXTURE_SIZE)),v=R.createProgram(),et(v,R.VERTEX_SHADER,`attribute vec2 vertex;
                attribute vec2 uv;
                uniform vec4 mat;
                uniform vec2 translate;
                varying vec2 st;
                void main() {
                    st = uv;
                    gl_Position = vec4(mat2(mat) * vertex + translate, 0, 1);
                }`),et(v,R.FRAGMENT_SHADER,`precision highp float;
                uniform sampler2D image;
                varying vec2 st;
                void main() {
                    gl_FragColor = texture2D(image, st);
                }`),R.bindAttribLocation(v,0,"vertex"),R.bindAttribLocation(v,1,"uv"),R.linkProgram(v),M=R.getProgramInfoLog(v),0<(M||"").trim().length)throw M;s=R.getUniformLocation(v,"mat"),c=R.getUniformLocation(v,"translate"),R.useProgram(v),R.bindBuffer(R.ARRAY_BUFFER,R.createBuffer()),R.enableVertexAttribArray(0),R.enableVertexAttribArray(1),R.bindBuffer(R.ELEMENT_ARRAY_BUFFER,R.createBuffer()),R.uniform1i(R.getUniformLocation(v,"image"),0),R.pixelStorei(R.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),e=R}return!0}let e=null,i=0,o=0,s=null,c=null,p=0,x=0,_=!1;t(),this.hc=function(){return t(),o},this.Mb=function(v){e.deleteTexture&&e.deleteTexture(v)},this.Lb=function(v){if(!t())return null;const M=e.createTexture();return M?(e.bindTexture(e.TEXTURE_2D,M),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,v),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),i==2?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR_MIPMAP_LINEAR),e.generateMipmap(e.TEXTURE_2D)):e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),M):null};const b=new Y(8),O=new Y(8),j=new Y(10),B=new Y(10);this.Qb=function(v,M,R,et,st){if(t()){var N=b.push(v),St=O.push(M);if(e.canvas){(e.canvas.width!=N||e.canvas.height!=St)&&(e.canvas.width=N,e.canvas.height=St),e.viewport(0,St-M,v,M),e.disable(e.SCISSOR_TEST),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),e.enable(e.SCISSOR_TEST),R.sort((mt,oe)=>oe.wb-mt.wb),N=j.push(et),p!=N&&(e.bufferData(e.ARRAY_BUFFER,8*N,e.DYNAMIC_DRAW),p=N),N=0;for(var Dt of R)e.bufferSubData(e.ARRAY_BUFFER,N,Dt.Ta),N+=4*Dt.Ta.length;console.assert(N==4*et);for(var re of R)e.bufferSubData(e.ARRAY_BUFFER,N,re.Db),N+=4*re.Db.length;console.assert(N==8*et),N=B.push(st),x!=N&&(e.bufferData(e.ELEMENT_ARRAY_BUFFER,2*N,e.DYNAMIC_DRAW),x=N),Dt=0;for(var Ee of R)e.bufferSubData(e.ELEMENT_ARRAY_BUFFER,Dt,Ee.indices),Dt+=2*Ee.indices.length;console.assert(Dt==2*st),Ee=0,re=!0,N=Dt=0;for(const mt of R){mt.image.Ka!=Ee&&(e.bindTexture(e.TEXTURE_2D,mt.image.Ja||null),Ee=mt.image.Ka),mt.mc?(e.scissor(mt.Ya,St-mt.Za-mt.jb,mt.Ac,mt.jb),re=!0):re&&(e.scissor(0,St-M,v,M),re=!1),R=2/v;const oe=-2/M;e.uniform4f(s,mt.ha[0]*R*mt.Ba,mt.ha[1]*oe*mt.Ca,mt.ha[2]*R*mt.Ba,mt.ha[3]*oe*mt.Ca),e.uniform2f(c,mt.ha[4]*R*mt.Ba+R*(mt.Ya-mt.ic*mt.Ba)-1,mt.ha[5]*oe*mt.Ca+oe*(mt.Za-mt.jc*mt.Ca)+1),e.vertexAttribPointer(0,2,e.FLOAT,!1,0,N),e.vertexAttribPointer(1,2,e.FLOAT,!1,0,N+4*et),e.drawElements(e.TRIANGLES,mt.indices.length,e.UNSIGNED_SHORT,Dt),N+=4*mt.Ta.length,Dt+=2*mt.indices.length}console.assert(N==4*et),console.assert(Dt==2*st)}}},this.canvas=function(){return t()&&e.canvas}},q=u.onRuntimeInitialized;u.onRuntimeInitialized=function(){function t(P){switch(P){case b.srcOver:return"source-over";case b.screen:return"screen";case b.overlay:return"overlay";case b.darken:return"darken";case b.lighten:return"lighten";case b.colorDodge:return"color-dodge";case b.colorBurn:return"color-burn";case b.hardLight:return"hard-light";case b.softLight:return"soft-light";case b.difference:return"difference";case b.exclusion:return"exclusion";case b.multiply:return"multiply";case b.hue:return"hue";case b.saturation:return"saturation";case b.color:return"color";case b.luminosity:return"luminosity"}}function e(P){return"rgba("+((16711680&P)>>>16)+","+((65280&P)>>>8)+","+((255&P)>>>0)+","+((4278190080&P)>>>24)/255+")"}function i(){0<St.length&&(z.Qb(N.drawWidth(),N.drawHeight(),St,Dt,re),St=[],re=Dt=0,N.reset(512,512));for(const P of st){for(const U of P.H)U();P.H=[]}st.clear()}q&&q();var o=u.RenderPaintStyle;const s=u.RenderPath,c=u.RenderPaint,p=u.Renderer,x=u.StrokeCap,_=u.StrokeJoin,b=u.BlendMode,O=o.fill,j=o.stroke,B=u.FillRule.evenOdd;let v=1;var M=u.RenderImage.extend("CanvasRenderImage",{__construct:function({la:P,xa:U}={}){this.__parent.__construct.call(this),this.Ka=v,v=v+1&2147483647||1,this.la=P,this.xa=U},__destruct:function(){this.Ja&&(z.Mb(this.Ja),URL.revokeObjectURL(this.Wa)),this.__parent.__destruct.call(this)},decode:function(P){var U=this;U.xa&&U.xa(U);var ft=new Image;U.Wa=URL.createObjectURL(new Blob([P],{type:"image/png"})),ft.onload=function(){U.Fb=ft,U.Ja=z.Lb(ft),U.size(ft.width,ft.height),U.la&&U.la(U)},ft.src=U.Wa}}),R=s.extend("CanvasRenderPath",{__construct:function(){this.__parent.__construct.call(this),this.T=new Path2D},rewind:function(){this.T=new Path2D},addPath:function(P,U,ft,pt,Z,bt,wt){var xt=this.T,Jt=xt.addPath;P=P.T;const Pt=new DOMMatrix;Pt.a=U,Pt.b=ft,Pt.c=pt,Pt.d=Z,Pt.e=bt,Pt.f=wt,Jt.call(xt,P,Pt)},fillRule:function(P){this.Va=P},moveTo:function(P,U){this.T.moveTo(P,U)},lineTo:function(P,U){this.T.lineTo(P,U)},cubicTo:function(P,U,ft,pt,Z,bt){this.T.bezierCurveTo(P,U,ft,pt,Z,bt)},close:function(){this.T.closePath()}}),et=c.extend("CanvasRenderPaint",{color:function(P){this.Xa=e(P)},thickness:function(P){this.Ib=P},join:function(P){switch(P){case _.miter:this.Ia="miter";break;case _.round:this.Ia="round";break;case _.bevel:this.Ia="bevel"}},cap:function(P){switch(P){case x.butt:this.Ha="butt";break;case x.round:this.Ha="round";break;case x.square:this.Ha="square"}},style:function(P){this.Hb=P},blendMode:function(P){this.Eb=t(P)},clearGradient:function(){this.ja=null},linearGradient:function(P,U,ft,pt){this.ja={yb:P,zb:U,bb:ft,cb:pt,Ra:[]}},radialGradient:function(P,U,ft,pt){this.ja={yb:P,zb:U,bb:ft,cb:pt,Ra:[],ec:!0}},addStop:function(P,U){this.ja.Ra.push({color:P,stop:U})},completeGradient:function(){},draw:function(P,U,ft){let pt=this.Hb;var Z=this.Xa,bt=this.ja;if(P.globalCompositeOperation=this.Eb,bt!=null){Z=bt.yb;var wt=bt.zb;const Jt=bt.bb;var xt=bt.cb;const Pt=bt.Ra;bt.ec?(bt=Jt-Z,xt-=wt,Z=P.createRadialGradient(Z,wt,0,Z,wt,Math.sqrt(bt*bt+xt*xt))):Z=P.createLinearGradient(Z,wt,Jt,xt);for(let se=0,Ot=Pt.length;se<Ot;se++)wt=Pt[se],Z.addColorStop(wt.stop,e(wt.color));this.Xa=Z,this.ja=null}switch(pt){case j:P.strokeStyle=Z,P.lineWidth=this.Ib,P.lineCap=this.Ha,P.lineJoin=this.Ia,P.stroke(U);break;case O:P.fillStyle=Z,P.fill(U,ft)}}});const st=new Set;let N=null,St=[],Dt=0,re=0;var Ee=u.CanvasRenderer=p.extend("Renderer",{__construct:function(P){this.__parent.__construct.call(this),this.S=[1,0,0,1,0,0],this.C=P.getContext("2d"),this.Ua=P,this.H=[]},save:function(){this.S.push(...this.S.slice(this.S.length-6)),this.H.push(this.C.save.bind(this.C))},restore:function(){const P=this.S.length-6;if(6>P)throw"restore() called without matching save().";this.S.splice(P),this.H.push(this.C.restore.bind(this.C))},transform:function(P,U,ft,pt,Z,bt){const wt=this.S,xt=wt.length-6;wt.splice(xt,6,wt[xt]*P+wt[xt+2]*U,wt[xt+1]*P+wt[xt+3]*U,wt[xt]*ft+wt[xt+2]*pt,wt[xt+1]*ft+wt[xt+3]*pt,wt[xt]*Z+wt[xt+2]*bt+wt[xt+4],wt[xt+1]*Z+wt[xt+3]*bt+wt[xt+5]),this.H.push(this.C.transform.bind(this.C,P,U,ft,pt,Z,bt))},rotate:function(P){const U=Math.sin(P);P=Math.cos(P),this.transform(P,U,-U,P,0,0)},_drawPath:function(P,U){this.H.push(U.draw.bind(U,this.C,P.T,P.Va===B?"evenodd":"nonzero"))},_drawRiveImage:function(P,U,ft){var pt=P.Fb;if(pt){var Z=this.C,bt=t(U);this.H.push(function(){Z.globalCompositeOperation=bt,Z.globalAlpha=ft,Z.drawImage(pt,0,0),Z.globalAlpha=1})}},_getMatrix:function(P){const U=this.S,ft=U.length-6;for(let pt=0;6>pt;++pt)P[pt]=U[ft+pt]},_drawImageMesh:function(P,U,ft,pt,Z,bt,wt,xt,Jt,Pt){var se=this.C.canvas.width,Ot=this.C.canvas.height;const er=Jt-wt,nr=Pt-xt;wt=Math.max(wt,0),xt=Math.max(xt,0),Jt=Math.min(Jt,se),Pt=Math.min(Pt,Ot);const Ge=Jt-wt,Je=Pt-xt;if(console.assert(Ge<=Math.min(er,se)),console.assert(Je<=Math.min(nr,Ot)),!(0>=Ge||0>=Je)){Jt=Ge<er||Je<nr,se=Pt=1;var Ie=Math.ceil(Ge*Pt),Te=Math.ceil(Je*se);Ot=z.hc(),Ie>Ot&&(Pt*=Ot/Ie,Ie=Ot),Te>Ot&&(se*=Ot/Te,Te=Ot),N||(N=new u.DynamicRectanizer(Ot),N.reset(512,512)),Ot=N.addRect(Ie,Te),0>Ot&&(i(),st.add(this),Ot=N.addRect(Ie,Te),console.assert(0<=Ot));var ir=Ot&65535,rr=Ot>>16;St.push({ha:this.S.slice(this.S.length-6),image:P,Ya:ir,Za:rr,ic:wt,jc:xt,Ac:Ie,jb:Te,Ba:Pt,Ca:se,Ta:new Float32Array(pt),Db:new Float32Array(Z),indices:new Uint16Array(bt),mc:Jt,wb:P.Ka<<1|(Jt?1:0)}),Dt+=pt.length,re+=bt.length;var Ne=this.C,qr=t(U);this.H.push(function(){Ne.save(),Ne.resetTransform(),Ne.globalCompositeOperation=qr,Ne.globalAlpha=ft;const or=z.canvas();or&&Ne.drawImage(or,ir,rr,Ie,Te,wt,xt,Ge,Je),Ne.restore()})}},_clipPath:function(P){this.H.push(this.C.clip.bind(this.C,P.T,P.Va===B?"evenodd":"nonzero"))},clear:function(){st.add(this),this.H.push(this.C.clearRect.bind(this.C,0,0,this.Ua.width,this.Ua.height))},flush:function(){},translate:function(P,U){this.transform(1,0,0,1,P,U)}});u.makeRenderer=function(P){const U=new Ee(P),ft=U.C;return new Proxy(U,{get(pt,Z){if(typeof pt[Z]=="function")return function(...bt){return pt[Z].apply(pt,bt)};if(typeof ft[Z]=="function"){if(-1<X.indexOf(Z))throw Error("RiveException: Method call to '"+Z+"()' is not allowed, as the renderer cannot immediately pass through the return                 values of any canvas 2d context methods.");return function(...bt){U.H.push(ft[Z].bind(ft,...bt))}}return pt[Z]},set(pt,Z,bt){if(Z in ft)return U.H.push(()=>{ft[Z]=bt}),!0}})},u.decodeImage=function(P,U){new M({la:U}).decode(P)},u.renderFactory={makeRenderPaint:function(){return new et},makeRenderPath:function(){return new R},makeRenderImage:function(){let P=oe;return new M({xa:()=>{P.total++},la:()=>{if(P.loaded++,P.loaded===P.total){const U=P.ready;U&&(U(),P.ready=null)}}})}};let mt=u.load,oe=null;u.load=function(P,U,ft=!0){const pt=new u.FallbackFileAssetLoader;return U!==void 0&&pt.addLoader(U),ft&&(U=new u.CDNFileAssetLoader,pt.addLoader(U)),new Promise(function(Z){let bt=null;oe={total:0,loaded:0,ready:function(){Z(bt)}},bt=mt(P,pt),oe.total==0&&Z(bt)})};let Vr=u.RendererWrapper.prototype.align;u.RendererWrapper.prototype.align=function(P,U,ft,pt,Z=1){Vr.call(this,P,U,ft,pt,Z)},o=new W,u.requestAnimationFrame=o.requestAnimationFrame.bind(o),u.cancelAnimationFrame=o.cancelAnimationFrame.bind(o),u.enableFPSCounter=o.Rb.bind(o),u.disableFPSCounter=o.Ob,o.ob=i,u.resolveAnimationFrame=i,u.cleanup=function(){N&&N.delete()}};var D=Object.assign({},u),vt="./this.program",ot=typeof window=="object",gt=typeof importScripts=="function",it="",yt,lt;(ot||gt)&&(gt?it=self.location.href:typeof document<"u"&&document.currentScript&&(it=document.currentScript.src),E&&(it=E),it.indexOf("blob:")!==0?it=it.substr(0,it.replace(/[?#].*/,"").lastIndexOf("/")+1):it="",gt&&(lt=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),yt=(t,e,i)=>{var o=new XMLHttpRequest;o.open("GET",t,!0),o.responseType="arraybuffer",o.onload=()=>{o.status==200||o.status==0&&o.response?e(o.response):i()},o.onerror=i,o.send(null)});var Lt=u.print||console.log.bind(console),At=u.printErr||console.error.bind(console);Object.assign(u,D),D=null,u.thisProgram&&(vt=u.thisProgram);var $t;u.wasmBinary&&($t=u.wasmBinary),typeof WebAssembly!="object"&&Ct("no native wasm support detected");var Xt,ut,Vt=!1,_t,dt,Tt,jt,ht,Q,d,r;function a(){var t=Xt.buffer;u.HEAP8=_t=new Int8Array(t),u.HEAP16=Tt=new Int16Array(t),u.HEAP32=ht=new Int32Array(t),u.HEAPU8=dt=new Uint8Array(t),u.HEAPU16=jt=new Uint16Array(t),u.HEAPU32=Q=new Uint32Array(t),u.HEAPF32=d=new Float32Array(t),u.HEAPF64=r=new Float64Array(t)}var y,L=[],T=[],F=[];function K(){var t=u.preRun.shift();L.unshift(t)}var rt=0,G=null;function Ct(t){throw u.onAbort&&u.onAbort(t),t="Aborted("+t+")",At(t),Vt=!0,t=new WebAssembly.RuntimeError(t+". Build with -sASSERTIONS for more info."),at(t),t}function Rt(t){return t.startsWith("data:application/octet-stream;base64,")}var kt;if(kt="canvas_advanced.wasm",!Rt(kt)){var Mt=kt;kt=u.locateFile?u.locateFile(Mt,it):it+Mt}function be(t){if(t==kt&&$t)return new Uint8Array($t);if(lt)return lt(t);throw"both async and sync fetching of the wasm failed"}function Zt(t){if(!$t&&(ot||gt)){if(typeof fetch=="function"&&!t.startsWith("file://"))return fetch(t,{credentials:"same-origin"}).then(e=>{if(!e.ok)throw"failed to load wasm binary file at '"+t+"'";return e.arrayBuffer()}).catch(()=>be(t));if(yt)return new Promise((e,i)=>{yt(t,o=>e(new Uint8Array(o)),i)})}return Promise.resolve().then(()=>be(t))}function we(t,e,i){return Zt(t).then(o=>WebAssembly.instantiate(o,e)).then(o=>o).then(i,o=>{At("failed to asynchronously prepare wasm: "+o),Ct(o)})}function nn(t,e){var i=kt;return $t||typeof WebAssembly.instantiateStreaming!="function"||Rt(i)||i.startsWith("file://")||typeof fetch!="function"?we(i,t,e):fetch(i,{credentials:"same-origin"}).then(o=>WebAssembly.instantiateStreaming(o,t).then(e,function(s){return At("wasm streaming compile failed: "+s),At("falling back to ArrayBuffer instantiation"),we(i,t,e)}))}var he,Me,We={446236:(t,e,i,o,s)=>{if(typeof window>"u"||(window.AudioContext||window.webkitAudioContext)===void 0)return 0;if(typeof window.h>"u"){window.h={Aa:0},window.h.I={},window.h.I.ya=t,window.h.I.capture=e,window.h.I.La=i,window.h.ga={},window.h.ga.stopped=o,window.h.ga.xb=s;let c=window.h;c.D=[],c.yc=function(p){for(var x=0;x<c.D.length;++x)if(c.D[x]==null)return c.D[x]=p,x;return c.D.push(p),c.D.length-1},c.Cb=function(p){for(c.D[p]=null;0<c.D.length&&c.D[c.D.length-1]==null;)c.D.pop()},c.Sc=function(p){for(var x=0;x<c.D.length;++x)if(c.D[x]==p)return c.Cb(x)},c.ra=function(p){return c.D[p]},c.Bb=["touchend","click"],c.unlock=function(){for(var p=0;p<c.D.length;++p){var x=c.D[p];x!=null&&x.J!=null&&x.state===c.ga.xb&&x.J.resume().then(()=>{Gi(x.pb)},_=>{console.error("Failed to resume audiocontext",_)})}c.Bb.map(function(_){document.removeEventListener(_,c.unlock,!0)})},c.Bb.map(function(p){document.addEventListener(p,c.unlock,!0)})}return window.h.Aa+=1,1},448414:()=>{typeof window.h<"u"&&(--window.h.Aa,window.h.Aa===0&&delete window.h)},448578:()=>navigator.mediaDevices!==void 0&&navigator.mediaDevices.getUserMedia!==void 0,448682:()=>{try{var t=new(window.AudioContext||window.webkitAudioContext),e=t.sampleRate;return t.close(),e}catch{return 0}},448853:(t,e,i,o,s,c)=>{if(typeof window.h>"u")return-1;var p={},x={};return t==window.h.I.ya&&i!=0&&(x.sampleRate=i),p.J=new(window.AudioContext||window.webkitAudioContext)(x),p.J.suspend(),p.state=window.h.ga.stopped,i=0,t!=window.h.I.ya&&(i=e),p.Z=p.J.createScriptProcessor(o,i,e),p.Z.onaudioprocess=function(_){if((p.sa==null||p.sa.length==0)&&(p.sa=new Float32Array(d.buffer,s,o*e)),t==window.h.I.capture||t==window.h.I.La){for(var b=0;b<e;b+=1)for(var O=_.inputBuffer.getChannelData(b),j=p.sa,B=0;B<o;B+=1)j[B*e+b]=O[B];Ji(c,o,s)}if(t==window.h.I.ya||t==window.h.I.La)for(Ki(c,o,s),b=0;b<_.outputBuffer.numberOfChannels;++b)for(O=_.outputBuffer.getChannelData(b),j=p.sa,B=0;B<o;B+=1)O[B]=j[B*e+b];else for(b=0;b<_.outputBuffer.numberOfChannels;++b)_.outputBuffer.getChannelData(b).fill(0)},t!=window.h.I.capture&&t!=window.h.I.La||navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(_){p.Da=p.J.createMediaStreamSource(_),p.Da.connect(p.Z),p.Z.connect(p.J.destination)}).catch(function(_){console.log("Failed to get user media: "+_)}),t==window.h.I.ya&&p.Z.connect(p.J.destination),p.pb=c,window.h.yc(p)},451730:t=>window.h.ra(t).J.sampleRate,451803:t=>{t=window.h.ra(t),t.Z!==void 0&&(t.Z.onaudioprocess=function(){},t.Z.disconnect(),t.Z=void 0),t.Da!==void 0&&(t.Da.disconnect(),t.Da=void 0),t.J.close(),t.J=void 0,t.pb=void 0},452203:t=>{window.h.Cb(t)},452253:t=>{t=window.h.ra(t),t.J.resume(),t.state=window.h.ga.xb},452392:t=>{t=window.h.ra(t),t.J.suspend(),t.state=window.h.ga.stopped}},fe=t=>{for(;0<t.length;)t.shift()(u)},Oe=(t,e)=>{for(var i=0,o=t.length-1;0<=o;o--){var s=t[o];s==="."?t.splice(o,1):s===".."?(t.splice(o,1),i++):i&&(t.splice(o,1),i--)}if(e)for(;i;i--)t.unshift("..");return t},qt=t=>{var e=t.charAt(0)==="/",i=t.substr(-1)==="/";return(t=Oe(t.split("/").filter(o=>!!o),!e).join("/"))||e||(t="."),t&&i&&(t+="/"),(e?"/":"")+t},mr=t=>{var e=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(t).slice(1);return t=e[0],e=e[1],!t&&!e?".":(e&&(e=e.substr(0,e.length-1)),t+e)},si=t=>{if(t==="/")return"/";t=qt(t),t=t.replace(/\/$/,"");var e=t.lastIndexOf("/");return e===-1?t:t.substr(e+1)},yr=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return t=>crypto.getRandomValues(t);Ct("initRandomDevice")},ai=t=>(ai=yr())(t);function rn(){for(var t="",e=!1,i=arguments.length-1;-1<=i&&!e;i--){if(e=0<=i?arguments[i]:"/",typeof e!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!e)return"";t=e+"/"+t,e=e.charAt(0)==="/"}return t=Oe(t.split("/").filter(o=>!!o),!e).join("/"),(e?"/":"")+t||"."}var li=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Ce=(t,e,i)=>{var o=e+i;for(i=e;t[i]&&!(i>=o);)++i;if(16<i-e&&t.buffer&&li)return li.decode(t.subarray(e,i));for(o="";e<i;){var s=t[e++];if(s&128){var c=t[e++]&63;if((s&224)==192)o+=String.fromCharCode((s&31)<<6|c);else{var p=t[e++]&63;s=(s&240)==224?(s&15)<<12|c<<6|p:(s&7)<<18|c<<12|p<<6|t[e++]&63,65536>s?o+=String.fromCharCode(s):(s-=65536,o+=String.fromCharCode(55296|s>>10,56320|s&1023))}}else o+=String.fromCharCode(s)}return o},Fn=[],ci=t=>{for(var e=0,i=0;i<t.length;++i){var o=t.charCodeAt(i);127>=o?e++:2047>=o?e+=2:55296<=o&&57343>=o?(e+=4,++i):e+=3}return e},ui=(t,e,i,o)=>{if(!(0<o))return 0;var s=i;o=i+o-1;for(var c=0;c<t.length;++c){var p=t.charCodeAt(c);if(55296<=p&&57343>=p){var x=t.charCodeAt(++c);p=65536+((p&1023)<<10)|x&1023}if(127>=p){if(i>=o)break;e[i++]=p}else{if(2047>=p){if(i+1>=o)break;e[i++]=192|p>>6}else{if(65535>=p){if(i+2>=o)break;e[i++]=224|p>>12}else{if(i+3>=o)break;e[i++]=240|p>>18,e[i++]=128|p>>12&63}e[i++]=128|p>>6&63}e[i++]=128|p&63}}return e[i]=0,i-s};function di(t,e){var i=Array(ci(t)+1);return t=ui(t,i,0,i.length),e&&(i.length=t),i}var hi=[];function fi(t,e){hi[t]={input:[],F:[],V:e},Nn(t,br)}var br={open:function(t){var e=hi[t.node.za];if(!e)throw new H(43);t.s=e,t.seekable=!1},close:function(t){t.s.V.qa(t.s)},qa:function(t){t.s.V.qa(t.s)},read:function(t,e,i,o){if(!t.s||!t.s.V.ib)throw new H(60);for(var s=0,c=0;c<o;c++){try{var p=t.s.V.ib(t.s)}catch{throw new H(29)}if(p===void 0&&s===0)throw new H(6);if(p==null)break;s++,e[i+c]=p}return s&&(t.node.timestamp=Date.now()),s},write:function(t,e,i,o){if(!t.s||!t.s.V.Oa)throw new H(60);try{for(var s=0;s<o;s++)t.s.V.Oa(t.s,e[i+s])}catch{throw new H(29)}return o&&(t.node.timestamp=Date.now()),s}},wr={ib:function(){t:{if(!Fn.length){var t=null;if(typeof window<"u"&&typeof window.prompt=="function"?(t=window.prompt("Input: "),t!==null&&(t+=`
`)):typeof readline=="function"&&(t=readline(),t!==null&&(t+=`
`)),!t){t=null;break t}Fn=di(t,!0)}t=Fn.shift()}return t},Oa:function(t,e){e===null||e===10?(Lt(Ce(t.F,0)),t.F=[]):e!=0&&t.F.push(e)},qa:function(t){t.F&&0<t.F.length&&(Lt(Ce(t.F,0)),t.F=[])},bc:function(){return{Fc:25856,Hc:5,Ec:191,Gc:35387,Dc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},cc:function(){return 0},dc:function(){return[24,80]}},Cr={Oa:function(t,e){e===null||e===10?(At(Ce(t.F,0)),t.F=[]):e!=0&&t.F.push(e)},qa:function(t){t.F&&0<t.F.length&&(At(Ce(t.F,0)),t.F=[])}};function pi(t,e){var i=t.j?t.j.length:0;i>=e||(e=Math.max(e,i*(1048576>i?2:1.125)>>>0),i!=0&&(e=Math.max(e,256)),i=t.j,t.j=new Uint8Array(e),0<t.v&&t.j.set(i.subarray(0,t.v),0))}var ct={O:null,U(){return ct.createNode(null,"/",16895,0)},createNode(t,e,i,o){if((i&61440)===24576||(i&61440)===4096)throw new H(63);return ct.O||(ct.O={dir:{node:{Y:ct.l.Y,P:ct.l.P,ka:ct.l.ka,va:ct.l.va,ub:ct.l.ub,Ab:ct.l.Ab,vb:ct.l.vb,sb:ct.l.sb,Ea:ct.l.Ea},stream:{ba:ct.m.ba}},file:{node:{Y:ct.l.Y,P:ct.l.P},stream:{ba:ct.m.ba,read:ct.m.read,write:ct.m.write,pa:ct.m.pa,lb:ct.m.lb,nb:ct.m.nb}},link:{node:{Y:ct.l.Y,P:ct.l.P,ma:ct.l.ma},stream:{}},$a:{node:{Y:ct.l.Y,P:ct.l.P},stream:_r}}),i=bi(t,e,i,o),(i.mode&61440)===16384?(i.l=ct.O.dir.node,i.m=ct.O.dir.stream,i.j={}):(i.mode&61440)===32768?(i.l=ct.O.file.node,i.m=ct.O.file.stream,i.v=0,i.j=null):(i.mode&61440)===40960?(i.l=ct.O.link.node,i.m=ct.O.link.stream):(i.mode&61440)===8192&&(i.l=ct.O.$a.node,i.m=ct.O.$a.stream),i.timestamp=Date.now(),t&&(t.j[e]=i,t.timestamp=i.timestamp),i},Kc(t){return t.j?t.j.subarray?t.j.subarray(0,t.v):new Uint8Array(t.j):new Uint8Array(0)},l:{Y(t){var e={};return e.Jc=(t.mode&61440)===8192?t.id:1,e.Mc=t.id,e.mode=t.mode,e.Oc=1,e.uid=0,e.Lc=0,e.za=t.za,(t.mode&61440)===16384?e.size=4096:(t.mode&61440)===32768?e.size=t.v:(t.mode&61440)===40960?e.size=t.link.length:e.size=0,e.Bc=new Date(t.timestamp),e.Nc=new Date(t.timestamp),e.Ic=new Date(t.timestamp),e.Jb=4096,e.Cc=Math.ceil(e.size/e.Jb),e},P(t,e){if(e.mode!==void 0&&(t.mode=e.mode),e.timestamp!==void 0&&(t.timestamp=e.timestamp),e.size!==void 0&&(e=e.size,t.v!=e))if(e==0)t.j=null,t.v=0;else{var i=t.j;t.j=new Uint8Array(e),i&&t.j.set(i.subarray(0,Math.min(e,t.v))),t.v=e}},ka(){throw jn[44]},va(t,e,i,o){return ct.createNode(t,e,i,o)},ub(t,e,i){if((t.mode&61440)===16384){try{var o=sn(e,i)}catch{}if(o)for(var s in o.j)throw new H(55)}delete t.parent.j[t.name],t.parent.timestamp=Date.now(),t.name=i,e.j[i]=t,e.timestamp=t.parent.timestamp,t.parent=e},Ab(t,e){delete t.j[e],t.timestamp=Date.now()},vb(t,e){var i=sn(t,e),o;for(o in i.j)throw new H(55);delete t.j[e],t.timestamp=Date.now()},sb(t){var e=[".",".."],i;for(i in t.j)t.j.hasOwnProperty(i)&&e.push(i);return e},Ea(t,e,i){return t=ct.createNode(t,e,41471,0),t.link=i,t},ma(t){if((t.mode&61440)!==40960)throw new H(28);return t.link}},m:{read(t,e,i,o,s){var c=t.node.j;if(s>=t.node.v)return 0;if(t=Math.min(t.node.v-s,o),8<t&&c.subarray)e.set(c.subarray(s,s+t),i);else for(o=0;o<t;o++)e[i+o]=c[s+o];return t},write(t,e,i,o,s,c){if(e.buffer===_t.buffer&&(c=!1),!o)return 0;if(t=t.node,t.timestamp=Date.now(),e.subarray&&(!t.j||t.j.subarray)){if(c)return t.j=e.subarray(i,i+o),t.v=o;if(t.v===0&&s===0)return t.j=e.slice(i,i+o),t.v=o;if(s+o<=t.v)return t.j.set(e.subarray(i,i+o),s),o}if(pi(t,s+o),t.j.subarray&&e.subarray)t.j.set(e.subarray(i,i+o),s);else for(c=0;c<o;c++)t.j[s+c]=e[i+c];return t.v=Math.max(t.v,s+o),o},ba(t,e,i){if(i===1?e+=t.position:i===2&&(t.node.mode&61440)===32768&&(e+=t.node.v),0>e)throw new H(28);return e},pa(t,e,i){pi(t.node,e+i),t.node.v=Math.max(t.node.v,e+i)},lb(t,e,i,o,s){if((t.node.mode&61440)!==32768)throw new H(43);if(t=t.node.j,s&2||t.buffer!==_t.buffer){if((0<i||i+e<t.length)&&(t.subarray?t=t.subarray(i,i+e):t=Array.prototype.slice.call(t,i,i+e)),i=!0,Ct(),e=void 0,!e)throw new H(48);_t.set(t,e)}else i=!1,e=t.byteOffset;return{o:e,M:i}},nb(t,e,i,o){return ct.m.write(t,e,0,o,i,!1),0}}};function xr(t,e){var i=0;return t&&(i|=365),e&&(i|=146),i}var Dn=null,gi={},on=[],Ar=1,$e=null,vi=!0,H=null,jn={},Se=(t,e={})=>{if(t=rn(t),!t)return{path:"",node:null};if(e=Object.assign({gb:!0,Qa:0},e),8<e.Qa)throw new H(32);t=t.split("/").filter(p=>!!p);for(var i=Dn,o="/",s=0;s<t.length;s++){var c=s===t.length-1;if(c&&e.parent)break;if(i=sn(i,t[s]),o=qt(o+"/"+t[s]),i.wa&&(!c||c&&e.gb)&&(i=i.wa.root),!c||e.fb){for(c=0;(i.mode&61440)===40960;)if(i=Lr(o),o=rn(mr(o),i),i=Se(o,{Qa:e.Qa+1}).node,40<c++)throw new H(32)}}return{path:o,node:i}},mi=t=>{for(var e;;){if(t===t.parent)return t=t.U.mb,e?t[t.length-1]!=="/"?`${t}/${e}`:t+e:t;e=e?`${t.name}/${e}`:t.name,t=t.parent}},yi=(t,e)=>{for(var i=0,o=0;o<e.length;o++)i=(i<<5)-i+e.charCodeAt(o)|0;return(t+i>>>0)%$e.length},sn=(t,e)=>{var i;if(i=(i=an(t,"x"))?i:t.l.ka?0:2)throw new H(i,t);for(i=$e[yi(t.id,e)];i;i=i.lc){var o=i.name;if(i.parent.id===t.id&&o===e)return i}return t.l.ka(t,e)},bi=(t,e,i,o)=>(t=new Yi(t,e,i,o),e=yi(t.parent.id,t.name),t.lc=$e[e],$e[e]=t),wi=t=>{var e=["r","w","rw"][t&3];return t&512&&(e+="w"),e},an=(t,e)=>{if(vi)return 0;if(!e.includes("r")||t.mode&292){if(e.includes("w")&&!(t.mode&146)||e.includes("x")&&!(t.mode&73))return 2}else return 2;return 0},Ci=(t,e)=>{try{return sn(t,e),20}catch{}return an(t,"wx")},Sr=()=>{for(var t=0;4096>=t;t++)if(!on[t])return t;throw new H(33)},xe=t=>{if(t=on[t],!t)throw new H(8);return t},xi=(t,e=-1)=>(Ue||(Ue=function(){this.h={}},Ue.prototype={},Object.defineProperties(Ue.prototype,{object:{get(){return this.node},set(i){this.node=i}},flags:{get(){return this.h.flags},set(i){this.h.flags=i}},position:{get(){return this.h.position},set(i){this.h.position=i}}})),t=Object.assign(new Ue,t),e==-1&&(e=Sr()),t.X=e,on[e]=t),_r={open:t=>{t.m=gi[t.node.za].m,t.m.open&&t.m.open(t)},ba:()=>{throw new H(70)}},Nn=(t,e)=>{gi[t]={m:e}},Ai=(t,e)=>{var i=e==="/",o=!e;if(i&&Dn)throw new H(10);if(!i&&!o){var s=Se(e,{gb:!1});if(e=s.path,s=s.node,s.wa)throw new H(10);if((s.mode&61440)!==16384)throw new H(54)}e={type:t,Qc:{},mb:e,kc:[]},t=t.U(e),t.U=e,e.root=t,i?Dn=t:s&&(s.wa=e,s.U&&s.U.kc.push(e))},Qt=(t,e,i)=>{var o=Se(t,{parent:!0}).node;if(t=si(t),!t||t==="."||t==="..")throw new H(28);var s=Ci(o,t);if(s)throw new H(s);if(!o.l.va)throw new H(63);return o.l.va(o,t,e,i)},ln=(t,e,i)=>{typeof i>"u"&&(i=e,e=438),Qt(t,e|8192,i)},Wn=(t,e)=>{if(!rn(t))throw new H(44);var i=Se(e,{parent:!0}).node;if(!i)throw new H(44);e=si(e);var o=Ci(i,e);if(o)throw new H(o);if(!i.l.Ea)throw new H(63);i.l.Ea(i,e,t)},Lr=t=>{if(t=Se(t).node,!t)throw new H(44);if(!t.l.ma)throw new H(28);return rn(mi(t.parent),t.l.ma(t))},cn=(t,e,i)=>{if(t==="")throw new H(44);if(typeof e=="string"){var o={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[e];if(typeof o>"u")throw Error(`Unknown file open mode: ${e}`);e=o}if(i=e&64?(typeof i>"u"?438:i)&4095|32768:0,typeof t=="object")var s=t;else{t=qt(t);try{s=Se(t,{fb:!(e&131072)}).node}catch{}}if(o=!1,e&64)if(s){if(e&128)throw new H(20)}else s=Qt(t,i,0),o=!0;if(!s)throw new H(44);if((s.mode&61440)===8192&&(e&=-513),e&65536&&(s.mode&61440)!==16384)throw new H(54);if(!o&&(i=s?(s.mode&61440)===40960?32:(s.mode&61440)===16384&&(wi(e)!=="r"||e&512)?31:an(s,wi(e)):44))throw new H(i);if(e&512&&!o){if(i=s,i=typeof i=="string"?Se(i,{fb:!0}).node:i,!i.l.P)throw new H(63);if((i.mode&61440)===16384)throw new H(31);if((i.mode&61440)!==32768)throw new H(28);if(o=an(i,"w"))throw new H(o);i.l.P(i,{size:0,timestamp:Date.now()})}return e&=-131713,s=xi({node:s,path:mi(s),flags:e,seekable:!0,position:0,m:s.m,zc:[],error:!1}),s.m.open&&s.m.open(s),!u.logReadFiles||e&1||(un||(un={}),t in un||(un[t]=1)),s},Si=(t,e,i)=>{if(t.X===null)throw new H(8);if(!t.seekable||!t.m.ba)throw new H(70);if(i!=0&&i!=1&&i!=2)throw new H(28);t.position=t.m.ba(t,e,i),t.zc=[]},_i=()=>{H||(H=function(t,e){this.name="ErrnoError",this.node=e,this.pc=function(i){this.aa=i},this.pc(t),this.message="FS error"},H.prototype=Error(),H.prototype.constructor=H,[44].forEach(t=>{jn[t]=new H(t),jn[t].stack="<generic error, no stack>"}))},Li,Be=(t,e,i)=>{t=qt("/dev/"+t);var o=xr(!!e,!!i);$n||($n=64);var s=$n++<<8|0;Nn(s,{open:c=>{c.seekable=!1},close:()=>{i&&i.buffer&&i.buffer.length&&i(10)},read:(c,p,x,_)=>{for(var b=0,O=0;O<_;O++){try{var j=e()}catch{throw new H(29)}if(j===void 0&&b===0)throw new H(6);if(j==null)break;b++,p[x+O]=j}return b&&(c.node.timestamp=Date.now()),b},write:(c,p,x,_)=>{for(var b=0;b<_;b++)try{i(p[x+b])}catch{throw new H(29)}return _&&(c.node.timestamp=Date.now()),b}}),ln(t,o,s)},$n,_e={},Ue,un,He=void 0;function pe(){return He+=4,ht[He-4>>2]}function Ei(t){if(t===void 0)return"_unknown";t=t.replace(/[^a-zA-Z0-9_]/g,"$");var e=t.charCodeAt(0);return 48<=e&&57>=e?`_${t}`:t}function dn(t,e){return t=Ei(t),{[t]:function(){return e.apply(this,arguments)}}[t]}function Ii(){this.M=[void 0],this.hb=[]}var Gt=new Ii,Fe=void 0;function tt(t){throw new Fe(t)}var te=t=>(t||tt("Cannot use deleted val. handle = "+t),Gt.get(t).value),ne=t=>{switch(t){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return Gt.pa({tb:1,value:t})}};function Ti(t){var e=Error,i=dn(t,function(o){this.name=t,this.message=o,o=Error(o).stack,o!==void 0&&(this.stack=this.toString()+`
`+o.replace(/^Error(:[^\n]*)?\n/,""))});return i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},i}var Pi=void 0,Ri=void 0;function It(t){for(var e="";dt[t];)e+=Ri[dt[t++]];return e}var ze=[];function Bn(){for(;ze.length;){var t=ze.pop();t.g.fa=!1,t.delete()}}var Xe=void 0,ge={};function Un(t,e){for(e===void 0&&tt("ptr should not be undefined");t.A;)e=t.na(e),t=t.A;return e}var Le={};function ki(t){t=Qi(t);var e=It(t);return ye(t),e}function Ye(t,e){var i=Le[t];return i===void 0&&tt(e+" has unknown type "+ki(t)),i}function hn(){}var Hn=!1;function Mi(t){--t.count.value,t.count.value===0&&(t.G?t.L.W(t.G):t.u.i.W(t.o))}function Oi(t,e,i){return e===i?t:i.A===void 0?null:(t=Oi(t,e,i.A),t===null?null:i.Pb(t))}var Fi={};function Er(t,e){return e=Un(t,e),ge[e]}var Di=void 0;function fn(t){throw new Di(t)}function pn(t,e){return e.u&&e.o||fn("makeClassHandle requires ptr and ptrType"),!!e.L!=!!e.G&&fn("Both smartPtrType and smartPtr must be specified"),e.count={value:1},De(Object.create(t,{g:{value:e}}))}function De(t){return typeof FinalizationRegistry>"u"?(De=e=>e,t):(Hn=new FinalizationRegistry(e=>{Mi(e.g)}),De=e=>{var i=e.g;return i.G&&Hn.register(e,{g:i},e),e},hn=e=>{Hn.unregister(e)},De(t))}var gn={};function Ve(t){for(;t.length;){var e=t.pop();t.pop()(e)}}function qe(t){return this.fromWireType(ht[t>>2])}var je={},vn={};function Yt(t,e,i){function o(x){x=i(x),x.length!==t.length&&fn("Mismatched type converter count");for(var _=0;_<t.length;++_)ie(t[_],x[_])}t.forEach(function(x){vn[x]=e});var s=Array(e.length),c=[],p=0;e.forEach((x,_)=>{Le.hasOwnProperty(x)?s[_]=Le[x]:(c.push(x),je.hasOwnProperty(x)||(je[x]=[]),je[x].push(()=>{s[_]=Le[x],++p,p===c.length&&o(s)}))}),c.length===0&&o(s)}function mn(t){switch(t){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError(`Unknown type size: ${t}`)}}function Ir(t,e,i={}){var o=e.name;if(t||tt(`type "${o}" must have a positive integer typeid pointer`),Le.hasOwnProperty(t)){if(i.$b)return;tt(`Cannot register type '${o}' twice`)}Le[t]=e,delete vn[t],je.hasOwnProperty(t)&&(e=je[t],delete je[t],e.forEach(s=>s()))}function ie(t,e,i={}){if(!("argPackAdvance"in e))throw new TypeError("registerType registeredInstance requires argPackAdvance");Ir(t,e,i)}function zn(t){tt(t.g.u.i.name+" instance already deleted")}function Ae(){}function Xn(t,e,i){if(t[e].B===void 0){var o=t[e];t[e]=function(){return t[e].B.hasOwnProperty(arguments.length)||tt(`Function '${i}' called with an invalid number of arguments (${arguments.length}) - expects one of (${t[e].B})!`),t[e].B[arguments.length].apply(this,arguments)},t[e].B=[],t[e].B[o.ea]=o}}function Yn(t,e,i){u.hasOwnProperty(t)?((i===void 0||u[t].B!==void 0&&u[t].B[i]!==void 0)&&tt(`Cannot register public name '${t}' twice`),Xn(u,t,t),u.hasOwnProperty(i)&&tt(`Cannot register multiple overloads of a function with the same number of arguments (${i})!`),u[t].B[i]=e):(u[t]=e,i!==void 0&&(u[t].Pc=i))}function Tr(t,e,i,o,s,c,p,x){this.name=t,this.constructor=e,this.N=i,this.W=o,this.A=s,this.Ub=c,this.na=p,this.Pb=x,this.qb=[]}function yn(t,e,i){for(;e!==i;)e.na||tt(`Expected null or instance of ${i.name}, got an instance of ${e.name}`),t=e.na(t),e=e.A;return t}function Pr(t,e){return e===null?(this.Na&&tt(`null is not a valid ${this.name}`),0):(e.g||tt(`Cannot pass "${qn(e)}" as a ${this.name}`),e.g.o||tt(`Cannot pass deleted object as a pointer of type ${this.name}`),yn(e.g.o,e.g.u.i,this.i))}function Rr(t,e){if(e===null){if(this.Na&&tt(`null is not a valid ${this.name}`),this.ua){var i=this.Pa();return t!==null&&t.push(this.W,i),i}return 0}if(e.g||tt(`Cannot pass "${qn(e)}" as a ${this.name}`),e.g.o||tt(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.ta&&e.g.u.ta&&tt(`Cannot convert argument of type ${e.g.L?e.g.L.name:e.g.u.name} to parameter type ${this.name}`),i=yn(e.g.o,e.g.u.i,this.i),this.ua)switch(e.g.G===void 0&&tt("Passing raw pointer to smart pointer is illegal"),this.tc){case 0:e.g.L===this?i=e.g.G:tt(`Cannot convert argument of type ${e.g.L?e.g.L.name:e.g.u.name} to parameter type ${this.name}`);break;case 1:i=e.g.G;break;case 2:if(e.g.L===this)i=e.g.G;else{var o=e.clone();i=this.oc(i,ne(function(){o.delete()})),t!==null&&t.push(this.W,i)}break;default:tt("Unsupporting sharing policy")}return i}function kr(t,e){return e===null?(this.Na&&tt(`null is not a valid ${this.name}`),0):(e.g||tt(`Cannot pass "${qn(e)}" as a ${this.name}`),e.g.o||tt(`Cannot pass deleted object as a pointer of type ${this.name}`),e.g.u.ta&&tt(`Cannot convert argument of type ${e.g.u.name} to parameter type ${this.name}`),yn(e.g.o,e.g.u.i,this.i))}function ve(t,e,i,o){this.name=t,this.i=e,this.Na=i,this.ta=o,this.ua=!1,this.W=this.oc=this.Pa=this.rb=this.tc=this.nc=void 0,e.A!==void 0?this.toWireType=Rr:(this.toWireType=o?Pr:kr,this.K=null)}function ji(t,e,i){u.hasOwnProperty(t)||fn("Replacing nonexistant public symbol"),u[t].B!==void 0&&i!==void 0?u[t].B[i]=e:(u[t]=e,u[t].ea=i)}var bn=[],Ni=t=>{var e=bn[t];return e||(t>=bn.length&&(bn.length=t+1),bn[t]=e=y.get(t)),e},Mr=(t,e)=>{var i=[];return function(){if(i.length=0,Object.assign(i,arguments),t.includes("j")){var o=u["dynCall_"+t];o=i&&i.length?o.apply(null,[e].concat(i)):o.call(null,e)}else o=Ni(e).apply(null,i);return o}};function Nt(t,e){t=It(t);var i=t.includes("j")?Mr(t,e):Ni(e);return typeof i!="function"&&tt(`unknown function pointer with signature ${t}: ${e}`),i}var Wi=void 0;function me(t,e){function i(c){s[c]||Le[c]||(vn[c]?vn[c].forEach(i):(o.push(c),s[c]=!0))}var o=[],s={};throw e.forEach(i),new Wi(`${t}: `+o.map(ki).join([", "]))}function wn(t,e,i,o,s){var c=e.length;2>c&&tt("argTypes array size mismatch! Must at least get return value and 'this' types!");var p=e[1]!==null&&i!==null,x=!1;for(i=1;i<e.length;++i)if(e[i]!==null&&e[i].K===void 0){x=!0;break}var _=e[0].name!=="void",b=c-2,O=Array(b),j=[],B=[];return function(){if(arguments.length!==b&&tt(`function ${t} called with ${arguments.length} arguments, expected ${b} args!`),B.length=0,j.length=p?2:1,j[0]=s,p){var v=e[1].toWireType(B,this);j[1]=v}for(var M=0;M<b;++M)O[M]=e[M+2].toWireType(B,arguments[M]),j.push(O[M]);if(M=o.apply(null,j),x)Ve(B);else for(var R=p?1:2;R<e.length;R++){var et=R===1?v:O[R-2];e[R].K!==null&&e[R].K(et)}return v=_?e[0].fromWireType(M):void 0,v}}function Cn(t,e){for(var i=[],o=0;o<t;o++)i.push(Q[e+4*o>>2]);return i}function $i(t,e,i){return t instanceof Object||tt(`${i} with invalid "this": ${t}`),t instanceof e.i.constructor||tt(`${i} incompatible with "this" of type ${t.constructor.name}`),t.g.o||tt(`cannot call emscripten binding method ${i} on deleted object`),yn(t.g.o,t.g.u.i,e.i)}function Vn(t){t>=Gt.h&&--Gt.get(t).tb===0&&Gt.Zb(t)}function Or(t,e,i){switch(e){case 0:return function(o){return this.fromWireType((i?_t:dt)[o])};case 1:return function(o){return this.fromWireType((i?Tt:jt)[o>>1])};case 2:return function(o){return this.fromWireType((i?ht:Q)[o>>2])};default:throw new TypeError("Unknown integer type: "+t)}}function qn(t){if(t===null)return"null";var e=typeof t;return e==="object"||e==="array"||e==="function"?t.toString():""+t}function Fr(t,e){switch(e){case 2:return function(i){return this.fromWireType(d[i>>2])};case 3:return function(i){return this.fromWireType(r[i>>3])};default:throw new TypeError("Unknown float type: "+t)}}function Dr(t,e,i){switch(e){case 0:return i?function(o){return _t[o]}:function(o){return dt[o]};case 1:return i?function(o){return Tt[o>>1]}:function(o){return jt[o>>1]};case 2:return i?function(o){return ht[o>>2]}:function(o){return Q[o>>2]};default:throw new TypeError("Unknown integer type: "+t)}}var Bi=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,jr=(t,e)=>{for(var i=t>>1,o=i+e/2;!(i>=o)&&jt[i];)++i;if(i<<=1,32<i-t&&Bi)return Bi.decode(dt.subarray(t,i));for(i="",o=0;!(o>=e/2);++o){var s=Tt[t+2*o>>1];if(s==0)break;i+=String.fromCharCode(s)}return i},Nr=(t,e,i)=>{if(i===void 0&&(i=2147483647),2>i)return 0;i-=2;var o=e;i=i<2*t.length?i/2:t.length;for(var s=0;s<i;++s)Tt[e>>1]=t.charCodeAt(s),e+=2;return Tt[e>>1]=0,e-o},Wr=t=>2*t.length,$r=(t,e)=>{for(var i=0,o="";!(i>=e/4);){var s=ht[t+4*i>>2];if(s==0)break;++i,65536<=s?(s-=65536,o+=String.fromCharCode(55296|s>>10,56320|s&1023)):o+=String.fromCharCode(s)}return o},Br=(t,e,i)=>{if(i===void 0&&(i=2147483647),4>i)return 0;var o=e;i=o+i-4;for(var s=0;s<t.length;++s){var c=t.charCodeAt(s);if(55296<=c&&57343>=c){var p=t.charCodeAt(++s);c=65536+((c&1023)<<10)|p&1023}if(ht[e>>2]=c,e+=4,e+4>i)break}return ht[e>>2]=0,e-o},Ur=t=>{for(var e=0,i=0;i<t.length;++i){var o=t.charCodeAt(i);55296<=o&&57343>=o&&++i,e+=4}return e},Hr={};function xn(t){var e=Hr[t];return e===void 0?It(t):e}var An=[];function zr(t){var e=An.length;return An.push(t),e}function Xr(t,e){for(var i=Array(t),o=0;o<t;++o)i[o]=Ye(Q[e+4*o>>2],"parameter "+o);return i}var Ui=[],Gn=[],Jn={},Hi=()=>{if(!Kn){var t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:vt||"./this.program"},e;for(e in Jn)Jn[e]===void 0?delete t[e]:t[e]=Jn[e];var i=[];for(e in t)i.push(`${e}=${t[e]}`);Kn=i}return Kn},Kn,Sn=t=>t%4===0&&(t%100!==0||t%400===0),zi=[31,29,31,30,31,30,31,31,30,31,30,31],Xi=[31,28,31,30,31,30,31,31,30,31,30,31],Yr=(t,e,i,o)=>{function s(v,M,R){for(v=typeof v=="number"?v.toString():v||"";v.length<M;)v=R[0]+v;return v}function c(v,M){return s(v,M,"0")}function p(v,M){function R(st){return 0>st?-1:0<st?1:0}var et;return(et=R(v.getFullYear()-M.getFullYear()))===0&&(et=R(v.getMonth()-M.getMonth()))===0&&(et=R(v.getDate()-M.getDate())),et}function x(v){switch(v.getDay()){case 0:return new Date(v.getFullYear()-1,11,29);case 1:return v;case 2:return new Date(v.getFullYear(),0,3);case 3:return new Date(v.getFullYear(),0,2);case 4:return new Date(v.getFullYear(),0,1);case 5:return new Date(v.getFullYear()-1,11,31);case 6:return new Date(v.getFullYear()-1,11,30)}}function _(v){var M=v.ca;for(v=new Date(new Date(v.da+1900,0,1).getTime());0<M;){var R=v.getMonth(),et=(Sn(v.getFullYear())?zi:Xi)[R];if(M>et-v.getDate())M-=et-v.getDate()+1,v.setDate(1),11>R?v.setMonth(R+1):(v.setMonth(0),v.setFullYear(v.getFullYear()+1));else{v.setDate(v.getDate()+M);break}}return R=new Date(v.getFullYear()+1,0,4),M=x(new Date(v.getFullYear(),0,4)),R=x(R),0>=p(M,v)?0>=p(R,v)?v.getFullYear()+1:v.getFullYear():v.getFullYear()-1}var b=ht[o+40>>2];o={wc:ht[o>>2],vc:ht[o+4>>2],Fa:ht[o+8>>2],Sa:ht[o+12>>2],Ga:ht[o+16>>2],da:ht[o+20>>2],R:ht[o+24>>2],ca:ht[o+28>>2],Rc:ht[o+32>>2],uc:ht[o+36>>2],xc:b&&b?Ce(dt,b):""},i=i?Ce(dt,i):"",b={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var O in b)i=i.replace(new RegExp(O,"g"),b[O]);var j="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),B="January February March April May June July August September October November December".split(" ");b={"%a":v=>j[v.R].substring(0,3),"%A":v=>j[v.R],"%b":v=>B[v.Ga].substring(0,3),"%B":v=>B[v.Ga],"%C":v=>c((v.da+1900)/100|0,2),"%d":v=>c(v.Sa,2),"%e":v=>s(v.Sa,2," "),"%g":v=>_(v).toString().substring(2),"%G":v=>_(v),"%H":v=>c(v.Fa,2),"%I":v=>(v=v.Fa,v==0?v=12:12<v&&(v-=12),c(v,2)),"%j":v=>{for(var M=0,R=0;R<=v.Ga-1;M+=(Sn(v.da+1900)?zi:Xi)[R++]);return c(v.Sa+M,3)},"%m":v=>c(v.Ga+1,2),"%M":v=>c(v.vc,2),"%n":()=>`
`,"%p":v=>0<=v.Fa&&12>v.Fa?"AM":"PM","%S":v=>c(v.wc,2),"%t":()=>"	","%u":v=>v.R||7,"%U":v=>c(Math.floor((v.ca+7-v.R)/7),2),"%V":v=>{var M=Math.floor((v.ca+7-(v.R+6)%7)/7);if(2>=(v.R+371-v.ca-2)%7&&M++,M)M==53&&(R=(v.R+371-v.ca)%7,R==4||R==3&&Sn(v.da)||(M=1));else{M=52;var R=(v.R+7-v.ca-1)%7;(R==4||R==5&&Sn(v.da%400-1))&&M++}return c(M,2)},"%w":v=>v.R,"%W":v=>c(Math.floor((v.ca+7-(v.R+6)%7)/7),2),"%y":v=>(v.da+1900).toString().substring(2),"%Y":v=>v.da+1900,"%z":v=>{v=v.uc;var M=0<=v;return v=Math.abs(v)/60,(M?"+":"-")+("0000"+(v/60*100+v%60)).slice(-4)},"%Z":v=>v.xc,"%%":()=>"%"},i=i.replace(/%%/g,"\0\0");for(O in b)i.includes(O)&&(i=i.replace(new RegExp(O,"g"),b[O](o)));return i=i.replace(/\0\0/g,"%"),O=di(i,!1),O.length>e?0:(_t.set(O,t),O.length-1)};function Yi(t,e,i,o){t||(t=this),this.parent=t,this.U=t.U,this.wa=null,this.id=Ar++,this.name=e,this.mode=i,this.l={},this.m={},this.za=o}Object.defineProperties(Yi.prototype,{read:{get:function(){return(this.mode&365)===365},set:function(t){t?this.mode|=365:this.mode&=-366}},write:{get:function(){return(this.mode&146)===146},set:function(t){t?this.mode|=146:this.mode&=-147}}}),_i(),$e=Array(4096),Ai(ct,"/"),Qt("/tmp",16895,0),Qt("/home",16895,0),Qt("/home/web_user",16895,0),(()=>{Qt("/dev",16895,0),Nn(259,{read:()=>0,write:(o,s,c,p)=>p}),ln("/dev/null",259),fi(1280,wr),fi(1536,Cr),ln("/dev/tty",1280),ln("/dev/tty1",1536);var t=new Uint8Array(1024),e=0,i=()=>(e===0&&(e=ai(t).byteLength),t[--e]);Be("random",i),Be("urandom",i),Qt("/dev/shm",16895,0),Qt("/dev/shm/tmp",16895,0)})(),(()=>{Qt("/proc",16895,0);var t=Qt("/proc/self",16895,0);Qt("/proc/self/fd",16895,0),Ai({U:()=>{var e=bi(t,"fd",16895,73);return e.l={ka:(i,o)=>{var s=xe(+o);return i={parent:null,U:{mb:"fake"},l:{ma:()=>s.path}},i.parent=i}},e}},"/proc/self/fd")})(),Object.assign(Ii.prototype,{get(t){return this.M[t]},has(t){return this.M[t]!==void 0},pa(t){var e=this.hb.pop()||this.M.length;return this.M[e]=t,e},Zb(t){this.M[t]=void 0,this.hb.push(t)}}),Fe=u.BindingError=class extends Error{constructor(t){super(t),this.name="BindingError"}},Gt.M.push({value:void 0},{value:null},{value:!0},{value:!1}),Gt.h=Gt.M.length,u.count_emval_handles=function(){for(var t=0,e=Gt.h;e<Gt.M.length;++e)Gt.M[e]!==void 0&&++t;return t},Pi=u.PureVirtualError=Ti("PureVirtualError");for(var Vi=Array(256),_n=0;256>_n;++_n)Vi[_n]=String.fromCharCode(_n);Ri=Vi,u.getInheritedInstanceCount=function(){return Object.keys(ge).length},u.getLiveInheritedInstances=function(){var t=[],e;for(e in ge)ge.hasOwnProperty(e)&&t.push(ge[e]);return t},u.flushPendingDeletes=Bn,u.setDelayFunction=function(t){Xe=t,ze.length&&Xe&&Xe(Bn)},Di=u.InternalError=class extends Error{constructor(t){super(t),this.name="InternalError"}},Ae.prototype.isAliasOf=function(t){if(!(this instanceof Ae&&t instanceof Ae))return!1;var e=this.g.u.i,i=this.g.o,o=t.g.u.i;for(t=t.g.o;e.A;)i=e.na(i),e=e.A;for(;o.A;)t=o.na(t),o=o.A;return e===o&&i===t},Ae.prototype.clone=function(){if(this.g.o||zn(this),this.g.ia)return this.g.count.value+=1,this;var t=De,e=Object,i=e.create,o=Object.getPrototypeOf(this),s=this.g;return t=t(i.call(e,o,{g:{value:{count:s.count,fa:s.fa,ia:s.ia,o:s.o,u:s.u,G:s.G,L:s.L}}})),t.g.count.value+=1,t.g.fa=!1,t},Ae.prototype.delete=function(){this.g.o||zn(this),this.g.fa&&!this.g.ia&&tt("Object already scheduled for deletion"),hn(this),Mi(this.g),this.g.ia||(this.g.G=void 0,this.g.o=void 0)},Ae.prototype.isDeleted=function(){return!this.g.o},Ae.prototype.deleteLater=function(){return this.g.o||zn(this),this.g.fa&&!this.g.ia&&tt("Object already scheduled for deletion"),ze.push(this),ze.length===1&&Xe&&Xe(Bn),this.g.fa=!0,this},ve.prototype.Vb=function(t){return this.rb&&(t=this.rb(t)),t},ve.prototype.ab=function(t){this.W&&this.W(t)},ve.prototype.argPackAdvance=8,ve.prototype.readValueFromPointer=qe,ve.prototype.deleteObject=function(t){t!==null&&t.delete()},ve.prototype.fromWireType=function(t){function e(){return this.ua?pn(this.i.N,{u:this.nc,o:i,L:this,G:t}):pn(this.i.N,{u:this,o:t})}var i=this.Vb(t);if(!i)return this.ab(t),null;var o=Er(this.i,i);if(o!==void 0)return o.g.count.value===0?(o.g.o=i,o.g.G=t,o.clone()):(o=o.clone(),this.ab(t),o);if(o=this.i.Ub(i),o=Fi[o],!o)return e.call(this);o=this.ta?o.Kb:o.pointerType;var s=Oi(i,this.i,o.i);return s===null?e.call(this):this.ua?pn(o.i.N,{u:o,o:s,L:this,G:t}):pn(o.i.N,{u:o,o:s})},Wi=u.UnboundTypeError=Ti("UnboundTypeError");var qi={__syscall_fcntl64:function(t,e,i){He=i;try{var o=xe(t);switch(e){case 0:var s=pe();return 0>s?-28:xi(o,s).X;case 1:case 2:return 0;case 3:return o.flags;case 4:return s=pe(),o.flags|=s,0;case 5:return s=pe(),Tt[s+0>>1]=2,0;case 6:case 7:return 0;case 16:case 8:return-28;case 9:return ht[Zi()>>2]=28,-1;default:return-28}}catch(c){if(typeof _e>"u"||c.name!=="ErrnoError")throw c;return-c.aa}},__syscall_ioctl:function(t,e,i){He=i;try{var o=xe(t);switch(e){case 21509:return o.s?0:-59;case 21505:if(!o.s)return-59;if(o.s.V.bc){e=[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];var s=pe();ht[s>>2]=25856,ht[s+4>>2]=5,ht[s+8>>2]=191,ht[s+12>>2]=35387;for(var c=0;32>c;c++)_t[s+c+17>>0]=e[c]||0}return 0;case 21510:case 21511:case 21512:return o.s?0:-59;case 21506:case 21507:case 21508:if(!o.s)return-59;if(o.s.V.cc)for(s=pe(),e=[],c=0;32>c;c++)e.push(_t[s+c+17>>0]);return 0;case 21519:return o.s?(s=pe(),ht[s>>2]=0):-59;case 21520:return o.s?-28:-59;case 21531:if(s=pe(),!o.m.ac)throw new H(59);return o.m.ac(o,e,s);case 21523:return o.s?(o.s.V.dc&&(c=[24,80],s=pe(),Tt[s>>1]=c[0],Tt[s+2>>1]=c[1]),0):-59;case 21524:return o.s?0:-59;case 21515:return o.s?0:-59;default:return-28}}catch(p){if(typeof _e>"u"||p.name!=="ErrnoError")throw p;return-p.aa}},__syscall_openat:function(t,e,i,o){He=o;try{e=e?Ce(dt,e):"";var s=e;if(s.charAt(0)==="/")e=s;else{var c=t===-100?"/":xe(t).path;if(s.length==0)throw new H(44);e=qt(c+"/"+s)}var p=o?pe():0;return cn(e,i,p).X}catch(x){if(typeof _e>"u"||x.name!=="ErrnoError")throw x;return-x.aa}},_embind_create_inheriting_constructor:function(t,e,i){t=It(t),e=Ye(e,"wrapper"),i=te(i);var o=[].slice,s=e.i,c=s.N,p=s.A.N,x=s.A.constructor;t=dn(t,function(){s.A.qb.forEach((function(b){if(this[b]===p[b])throw new Pi(`Pure virtual function ${b} must be implemented in JavaScript`)}).bind(this)),Object.defineProperty(this,"__parent",{value:c}),this.__construct.apply(this,o.call(arguments))}),c.__construct=function(){this===c&&tt("Pass correct 'this' to __construct");var b=x.implement.apply(void 0,[this].concat(o.call(arguments)));hn(b);var O=b.g;b.notifyOnDestruction(),O.ia=!0,Object.defineProperties(this,{g:{value:O}}),De(this),b=O.o,b=Un(s,b),ge.hasOwnProperty(b)?tt(`Tried to register registered instance: ${b}`):ge[b]=this},c.__destruct=function(){this===c&&tt("Pass correct 'this' to __destruct"),hn(this);var b=this.g.o;b=Un(s,b),ge.hasOwnProperty(b)?delete ge[b]:tt(`Tried to unregister unregistered instance: ${b}`)},t.prototype=Object.create(c);for(var _ in i)t.prototype[_]=i[_];return ne(t)},_embind_finalize_value_object:function(t){var e=gn[t];delete gn[t];var i=e.Pa,o=e.W,s=e.eb,c=s.map(p=>p.Yb).concat(s.map(p=>p.rc));Yt([t],c,p=>{var x={};return s.forEach((_,b)=>{var O=p[b],j=_.Wb,B=_.Xb,v=p[b+s.length],M=_.qc,R=_.sc;x[_.Sb]={read:et=>O.fromWireType(j(B,et)),write:(et,st)=>{var N=[];M(R,et,v.toWireType(N,st)),Ve(N)}}}),[{name:e.name,fromWireType:function(_){var b={},O;for(O in x)b[O]=x[O].read(_);return o(_),b},toWireType:function(_,b){for(var O in x)if(!(O in b))throw new TypeError(`Missing field: "${O}"`);var j=i();for(O in x)x[O].write(j,b[O]);return _!==null&&_.push(o,j),j},argPackAdvance:8,readValueFromPointer:qe,K:o}]})},_embind_register_bigint:function(){},_embind_register_bool:function(t,e,i,o,s){var c=mn(i);e=It(e),ie(t,{name:e,fromWireType:function(p){return!!p},toWireType:function(p,x){return x?o:s},argPackAdvance:8,readValueFromPointer:function(p){if(i===1)var x=_t;else if(i===2)x=Tt;else if(i===4)x=ht;else throw new TypeError("Unknown boolean type size: "+e);return this.fromWireType(x[p>>c])},K:null})},_embind_register_class:function(t,e,i,o,s,c,p,x,_,b,O,j,B){O=It(O),c=Nt(s,c),x&&(x=Nt(p,x)),b&&(b=Nt(_,b)),B=Nt(j,B);var v=Ei(O);Yn(v,function(){me(`Cannot construct ${O} due to unbound types`,[o])}),Yt([t,e,i],o?[o]:[],function(M){if(M=M[0],o)var R=M.i,et=R.N;else et=Ae.prototype;M=dn(v,function(){if(Object.getPrototypeOf(this)!==st)throw new Fe("Use 'new' to construct "+O);if(N.$===void 0)throw new Fe(O+" has no accessible constructor");var Dt=N.$[arguments.length];if(Dt===void 0)throw new Fe(`Tried to invoke ctor of ${O} with invalid number of parameters (${arguments.length}) - expected (${Object.keys(N.$).toString()}) parameters instead!`);return Dt.apply(this,arguments)});var st=Object.create(et,{constructor:{value:M}});M.prototype=st;var N=new Tr(O,M,st,B,R,c,x,b);N.A&&(N.A.oa===void 0&&(N.A.oa=[]),N.A.oa.push(N)),R=new ve(O,N,!0,!1),et=new ve(O+"*",N,!1,!1);var St=new ve(O+" const*",N,!1,!0);return Fi[t]={pointerType:et,Kb:St},ji(v,M),[R,et,St]})},_embind_register_class_class_function:function(t,e,i,o,s,c,p){var x=Cn(i,o);e=It(e),c=Nt(s,c),Yt([],[t],function(_){function b(){me(`Cannot call ${O} due to unbound types`,x)}_=_[0];var O=`${_.name}.${e}`;e.startsWith("@@")&&(e=Symbol[e.substring(2)]);var j=_.i.constructor;return j[e]===void 0?(b.ea=i-1,j[e]=b):(Xn(j,e,O),j[e].B[i-1]=b),Yt([],x,function(B){if(B=wn(O,[B[0],null].concat(B.slice(1)),null,c,p),j[e].B===void 0?(B.ea=i-1,j[e]=B):j[e].B[i-1]=B,_.i.oa)for(const v of _.i.oa)v.constructor.hasOwnProperty(e)||(v.constructor[e]=B);return[]}),[]})},_embind_register_class_class_property:function(t,e,i,o,s,c,p,x){e=It(e),c=Nt(s,c),Yt([],[t],function(_){_=_[0];var b=`${_.name}.${e}`,O={get(){me(`Cannot access ${b} due to unbound types`,[i])},enumerable:!0,configurable:!0};return O.set=x?()=>{me(`Cannot access ${b} due to unbound types`,[i])}:()=>{tt(`${b} is a read-only property`)},Object.defineProperty(_.i.constructor,e,O),Yt([],[i],function(j){j=j[0];var B={get(){return j.fromWireType(c(o))},enumerable:!0};return x&&(x=Nt(p,x),B.set=v=>{var M=[];x(o,j.toWireType(M,v)),Ve(M)}),Object.defineProperty(_.i.constructor,e,B),[]}),[]})},_embind_register_class_constructor:function(t,e,i,o,s,c){var p=Cn(e,i);s=Nt(o,s),Yt([],[t],function(x){x=x[0];var _=`constructor ${x.name}`;if(x.i.$===void 0&&(x.i.$=[]),x.i.$[e-1]!==void 0)throw new Fe(`Cannot register multiple constructors with identical number of parameters (${e-1}) for class '${x.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return x.i.$[e-1]=()=>{me(`Cannot construct ${x.name} due to unbound types`,p)},Yt([],p,function(b){return b.splice(1,0,null),x.i.$[e-1]=wn(_,b,null,s,c),[]}),[]})},_embind_register_class_function:function(t,e,i,o,s,c,p,x){var _=Cn(i,o);e=It(e),c=Nt(s,c),Yt([],[t],function(b){function O(){me(`Cannot call ${j} due to unbound types`,_)}b=b[0];var j=`${b.name}.${e}`;e.startsWith("@@")&&(e=Symbol[e.substring(2)]),x&&b.i.qb.push(e);var B=b.i.N,v=B[e];return v===void 0||v.B===void 0&&v.className!==b.name&&v.ea===i-2?(O.ea=i-2,O.className=b.name,B[e]=O):(Xn(B,e,j),B[e].B[i-2]=O),Yt([],_,function(M){return M=wn(j,M,b,c,p),B[e].B===void 0?(M.ea=i-2,B[e]=M):B[e].B[i-2]=M,[]}),[]})},_embind_register_class_property:function(t,e,i,o,s,c,p,x,_,b){e=It(e),s=Nt(o,s),Yt([],[t],function(O){O=O[0];var j=`${O.name}.${e}`,B={get(){me(`Cannot access ${j} due to unbound types`,[i,p])},enumerable:!0,configurable:!0};return B.set=_?()=>{me(`Cannot access ${j} due to unbound types`,[i,p])}:()=>{tt(j+" is a read-only property")},Object.defineProperty(O.i.N,e,B),Yt([],_?[i,p]:[i],function(v){var M=v[0],R={get(){var st=$i(this,O,j+" getter");return M.fromWireType(s(c,st))},enumerable:!0};if(_){_=Nt(x,_);var et=v[1];R.set=function(st){var N=$i(this,O,j+" setter"),St=[];_(b,N,et.toWireType(St,st)),Ve(St)}}return Object.defineProperty(O.i.N,e,R),[]}),[]})},_embind_register_emval:function(t,e){e=It(e),ie(t,{name:e,fromWireType:function(i){var o=te(i);return Vn(i),o},toWireType:function(i,o){return ne(o)},argPackAdvance:8,readValueFromPointer:qe,K:null})},_embind_register_enum:function(t,e,i,o){function s(){}i=mn(i),e=It(e),s.values={},ie(t,{name:e,constructor:s,fromWireType:function(c){return this.constructor.values[c]},toWireType:function(c,p){return p.value},argPackAdvance:8,readValueFromPointer:Or(e,i,o),K:null}),Yn(e,s)},_embind_register_enum_value:function(t,e,i){var o=Ye(t,"enum");e=It(e),t=o.constructor,o=Object.create(o.constructor.prototype,{value:{value:i},constructor:{value:dn(`${o.name}_${e}`,function(){})}}),t.values[i]=o,t[e]=o},_embind_register_float:function(t,e,i){i=mn(i),e=It(e),ie(t,{name:e,fromWireType:function(o){return o},toWireType:function(o,s){return s},argPackAdvance:8,readValueFromPointer:Fr(e,i),K:null})},_embind_register_function:function(t,e,i,o,s,c){var p=Cn(e,i);t=It(t),s=Nt(o,s),Yn(t,function(){me(`Cannot call ${t} due to unbound types`,p)},e-1),Yt([],p,function(x){return ji(t,wn(t,[x[0],null].concat(x.slice(1)),null,s,c),e-1),[]})},_embind_register_integer:function(t,e,i,o,s){e=It(e),s===-1&&(s=4294967295),s=mn(i);var c=x=>x;if(o===0){var p=32-8*i;c=x=>x<<p>>>p}i=e.includes("unsigned")?function(x,_){return _>>>0}:function(x,_){return _},ie(t,{name:e,fromWireType:c,toWireType:i,argPackAdvance:8,readValueFromPointer:Dr(e,s,o!==0),K:null})},_embind_register_memory_view:function(t,e,i){function o(c){c>>=2;var p=Q;return new s(p.buffer,p[c+1],p[c])}var s=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][e];i=It(i),ie(t,{name:i,fromWireType:o,argPackAdvance:8,readValueFromPointer:o},{$b:!0})},_embind_register_std_string:function(t,e){e=It(e);var i=e==="std::string";ie(t,{name:e,fromWireType:function(o){var s=Q[o>>2],c=o+4;if(i)for(var p=c,x=0;x<=s;++x){var _=c+x;if(x==s||dt[_]==0){if(p=p?Ce(dt,p,_-p):"",b===void 0)var b=p;else b+="\0",b+=p;p=_+1}}else{for(b=Array(s),x=0;x<s;++x)b[x]=String.fromCharCode(dt[c+x]);b=b.join("")}return ye(o),b},toWireType:function(o,s){s instanceof ArrayBuffer&&(s=new Uint8Array(s));var c=typeof s=="string";c||s instanceof Uint8Array||s instanceof Uint8ClampedArray||s instanceof Int8Array||tt("Cannot pass non-string to std::string");var p=i&&c?ci(s):s.length,x=Zn(4+p+1),_=x+4;if(Q[x>>2]=p,i&&c)ui(s,dt,_,p+1);else if(c)for(c=0;c<p;++c){var b=s.charCodeAt(c);255<b&&(ye(_),tt("String has UTF-16 code units that do not fit in 8 bits")),dt[_+c]=b}else for(c=0;c<p;++c)dt[_+c]=s[c];return o!==null&&o.push(ye,x),x},argPackAdvance:8,readValueFromPointer:qe,K:function(o){ye(o)}})},_embind_register_std_wstring:function(t,e,i){if(i=It(i),e===2)var o=jr,s=Nr,c=Wr,p=()=>jt,x=1;else e===4&&(o=$r,s=Br,c=Ur,p=()=>Q,x=2);ie(t,{name:i,fromWireType:function(_){for(var b=Q[_>>2],O=p(),j,B=_+4,v=0;v<=b;++v){var M=_+4+v*e;(v==b||O[M>>x]==0)&&(B=o(B,M-B),j===void 0?j=B:(j+="\0",j+=B),B=M+e)}return ye(_),j},toWireType:function(_,b){typeof b!="string"&&tt(`Cannot pass non-string to C++ string type ${i}`);var O=c(b),j=Zn(4+O+e);return Q[j>>2]=O>>x,s(b,j+4,O+e),_!==null&&_.push(ye,j),j},argPackAdvance:8,readValueFromPointer:qe,K:function(_){ye(_)}})},_embind_register_value_object:function(t,e,i,o,s,c){gn[t]={name:It(e),Pa:Nt(i,o),W:Nt(s,c),eb:[]}},_embind_register_value_object_field:function(t,e,i,o,s,c,p,x,_,b){gn[t].eb.push({Sb:It(e),Yb:i,Wb:Nt(o,s),Xb:c,rc:p,qc:Nt(x,_),sc:b})},_embind_register_void:function(t,e){e=It(e),ie(t,{fc:!0,name:e,argPackAdvance:0,fromWireType:function(){},toWireType:function(){}})},_emscripten_get_now_is_monotonic:()=>!0,_emval_as:function(t,e,i){t=te(t),e=Ye(e,"emval::as");var o=[],s=ne(o);return Q[i>>2]=s,e.toWireType(o,t)},_emval_call_method:function(t,e,i,o,s){t=An[t],e=te(e),i=xn(i);var c=[];return Q[o>>2]=ne(c),t(e,i,c,s)},_emval_call_void_method:function(t,e,i,o){t=An[t],e=te(e),i=xn(i),t(e,i,null,o)},_emval_decref:Vn,_emval_get_method_caller:function(t,e){var i=Xr(t,e),o=i[0];e=o.name+"_$"+i.slice(1).map(function(p){return p.name}).join("_")+"$";var s=Ui[e];if(s!==void 0)return s;var c=Array(t-1);return s=zr((p,x,_,b)=>{for(var O=0,j=0;j<t-1;++j)c[j]=i[j+1].readValueFromPointer(b+O),O+=i[j+1].argPackAdvance;for(p=p[x].apply(p,c),j=0;j<t-1;++j)i[j+1].Nb&&i[j+1].Nb(c[j]);if(!o.fc)return o.toWireType(_,p)}),Ui[e]=s},_emval_get_module_property:function(t){return t=xn(t),ne(u[t])},_emval_get_property:function(t,e){return t=te(t),e=te(e),ne(t[e])},_emval_incref:function(t){4<t&&(Gt.get(t).tb+=1)},_emval_new_cstring:function(t){return ne(xn(t))},_emval_new_object:function(){return ne({})},_emval_run_destructors:function(t){var e=te(t);Ve(e),Vn(t)},_emval_set_property:function(t,e,i){t=te(t),e=te(e),i=te(i),t[e]=i},_emval_take_value:function(t,e){return t=Ye(t,"_emval_take_value"),t=t.readValueFromPointer(e),ne(t)},abort:()=>{Ct("")},emscripten_asm_const_int:(t,e,i)=>{Gn.length=0;var o;for(i>>=2;o=dt[e++];)i+=o!=105&i,Gn.push(o==105?ht[i]:r[i++>>1]),++i;return We[t].apply(null,Gn)},emscripten_date_now:function(){return Date.now()},emscripten_get_now:()=>performance.now(),emscripten_memcpy_big:(t,e,i)=>dt.copyWithin(t,e,e+i),emscripten_resize_heap:t=>{var e=dt.length;if(t>>>=0,2147483648<t)return!1;for(var i=1;4>=i;i*=2){var o=e*(1+.2/i);o=Math.min(o,t+100663296);var s=Math;o=Math.max(t,o);t:{s=s.min.call(s,2147483648,o+(65536-o%65536)%65536)-Xt.buffer.byteLength+65535>>>16;try{Xt.grow(s),a();var c=1;break t}catch{}c=void 0}if(c)return!0}return!1},environ_get:(t,e)=>{var i=0;return Hi().forEach(function(o,s){var c=e+i;for(s=Q[t+4*s>>2]=c,c=0;c<o.length;++c)_t[s++>>0]=o.charCodeAt(c);_t[s>>0]=0,i+=o.length+1}),0},environ_sizes_get:(t,e)=>{var i=Hi();Q[t>>2]=i.length;var o=0;return i.forEach(function(s){o+=s.length+1}),Q[e>>2]=o,0},fd_close:function(t){try{var e=xe(t);if(e.X===null)throw new H(8);e.Ma&&(e.Ma=null);try{e.m.close&&e.m.close(e)}catch(i){throw i}finally{on[e.X]=null}return e.X=null,0}catch(i){if(typeof _e>"u"||i.name!=="ErrnoError")throw i;return i.aa}},fd_read:function(t,e,i,o){try{t:{var s=xe(t);t=e;for(var c,p=e=0;p<i;p++){var x=Q[t>>2],_=Q[t+4>>2];t+=8;var b=s,O=x,j=_,B=c,v=_t;if(0>j||0>B)throw new H(28);if(b.X===null)throw new H(8);if((b.flags&2097155)===1)throw new H(8);if((b.node.mode&61440)===16384)throw new H(31);if(!b.m.read)throw new H(28);var M=typeof B<"u";if(!M)B=b.position;else if(!b.seekable)throw new H(70);var R=b.m.read(b,v,O,j,B);M||(b.position+=R);var et=R;if(0>et){var st=-1;break t}if(e+=et,et<_)break;typeof c<"u"&&(c+=et)}st=e}return Q[o>>2]=st,0}catch(N){if(typeof _e>"u"||N.name!=="ErrnoError")throw N;return N.aa}},fd_seek:function(t,e,i,o,s){e=i+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*i:NaN;try{if(isNaN(e))return 61;var c=xe(t);return Si(c,e,o),Me=[c.position>>>0,(he=c.position,1<=+Math.abs(he)?0<he?+Math.floor(he/4294967296)>>>0:~~+Math.ceil((he-+(~~he>>>0))/4294967296)>>>0:0)],ht[s>>2]=Me[0],ht[s+4>>2]=Me[1],c.Ma&&e===0&&o===0&&(c.Ma=null),0}catch(p){if(typeof _e>"u"||p.name!=="ErrnoError")throw p;return p.aa}},fd_write:function(t,e,i,o){try{t:{var s=xe(t);t=e;for(var c,p=e=0;p<i;p++){var x=Q[t>>2],_=Q[t+4>>2];t+=8;var b=s,O=x,j=_,B=c,v=_t;if(0>j||0>B)throw new H(28);if(b.X===null)throw new H(8);if((b.flags&2097155)===0)throw new H(8);if((b.node.mode&61440)===16384)throw new H(31);if(!b.m.write)throw new H(28);b.seekable&&b.flags&1024&&Si(b,0,2);var M=typeof B<"u";if(!M)B=b.position;else if(!b.seekable)throw new H(70);var R=b.m.write(b,v,O,j,B,void 0);M||(b.position+=R);var et=R;if(0>et){var st=-1;break t}e+=et,typeof c<"u"&&(c+=et)}st=e}return Q[o>>2]=st,0}catch(N){if(typeof _e>"u"||N.name!=="ErrnoError")throw N;return N.aa}},strftime_l:(t,e,i,o)=>Yr(t,e,i,o)};(function(){function t(i){if(ut=i=i.exports,Xt=ut.memory,a(),y=ut.__indirect_function_table,T.unshift(ut.__wasm_call_ctors),rt--,u.monitorRunDependencies&&u.monitorRunDependencies(rt),rt==0&&G){var o=G;G=null,o()}return i}var e={env:qi,wasi_snapshot_preview1:qi};if(rt++,u.monitorRunDependencies&&u.monitorRunDependencies(rt),u.instantiateWasm)try{return u.instantiateWasm(e,t)}catch(i){At("Module.instantiateWasm callback failed with error: "+i),at(i)}return nn(e,function(i){t(i.instance)}).catch(at),{}})();var ye=t=>(ye=ut.free)(t),Zn=t=>(Zn=ut.malloc)(t),Gi=u._ma_device__on_notification_unlocked=t=>(Gi=u._ma_device__on_notification_unlocked=ut.ma_device__on_notification_unlocked)(t);u._ma_malloc_emscripten=(t,e)=>(u._ma_malloc_emscripten=ut.ma_malloc_emscripten)(t,e),u._ma_free_emscripten=(t,e)=>(u._ma_free_emscripten=ut.ma_free_emscripten)(t,e);var Ji=u._ma_device_process_pcm_frames_capture__webaudio=(t,e,i)=>(Ji=u._ma_device_process_pcm_frames_capture__webaudio=ut.ma_device_process_pcm_frames_capture__webaudio)(t,e,i),Ki=u._ma_device_process_pcm_frames_playback__webaudio=(t,e,i)=>(Ki=u._ma_device_process_pcm_frames_playback__webaudio=ut.ma_device_process_pcm_frames_playback__webaudio)(t,e,i),Zi=()=>(Zi=ut.__errno_location)(),Qi=t=>(Qi=ut.__getTypeName)(t);u.__embind_initialize_bindings=()=>(u.__embind_initialize_bindings=ut._embind_initialize_bindings)(),u.dynCall_iiji=(t,e,i,o,s)=>(u.dynCall_iiji=ut.dynCall_iiji)(t,e,i,o,s),u.dynCall_jiji=(t,e,i,o,s)=>(u.dynCall_jiji=ut.dynCall_jiji)(t,e,i,o,s),u.dynCall_iiiji=(t,e,i,o,s,c)=>(u.dynCall_iiiji=ut.dynCall_iiiji)(t,e,i,o,s,c),u.dynCall_iij=(t,e,i,o)=>(u.dynCall_iij=ut.dynCall_iij)(t,e,i,o),u.dynCall_jii=(t,e,i)=>(u.dynCall_jii=ut.dynCall_jii)(t,e,i),u.dynCall_viijii=(t,e,i,o,s,c,p)=>(u.dynCall_viijii=ut.dynCall_viijii)(t,e,i,o,s,c,p),u.dynCall_iiiiij=(t,e,i,o,s,c,p)=>(u.dynCall_iiiiij=ut.dynCall_iiiiij)(t,e,i,o,s,c,p),u.dynCall_iiiiijj=(t,e,i,o,s,c,p,x,_)=>(u.dynCall_iiiiijj=ut.dynCall_iiiiijj)(t,e,i,o,s,c,p,x,_),u.dynCall_iiiiiijj=(t,e,i,o,s,c,p,x,_,b)=>(u.dynCall_iiiiiijj=ut.dynCall_iiiiiijj)(t,e,i,o,s,c,p,x,_,b);var Ln;G=function t(){Ln||tr(),Ln||(G=t)};function tr(){function t(){if(!Ln&&(Ln=!0,u.calledRun=!0,!Vt)){if(u.noFSInit||Li||(Li=!0,_i(),u.stdin=u.stdin,u.stdout=u.stdout,u.stderr=u.stderr,u.stdin?Be("stdin",u.stdin):Wn("/dev/tty","/dev/stdin"),u.stdout?Be("stdout",null,u.stdout):Wn("/dev/tty","/dev/stdout"),u.stderr?Be("stderr",null,u.stderr):Wn("/dev/tty1","/dev/stderr"),cn("/dev/stdin",0),cn("/dev/stdout",1),cn("/dev/stderr",1)),vi=!1,fe(T),$(u),u.onRuntimeInitialized&&u.onRuntimeInitialized(),u.postRun)for(typeof u.postRun=="function"&&(u.postRun=[u.postRun]);u.postRun.length;){var e=u.postRun.shift();F.unshift(e)}fe(F)}}if(!(0<rt)){if(u.preRun)for(typeof u.preRun=="function"&&(u.preRun=[u.preRun]);u.preRun.length;)K();fe(L),0<rt||(u.setStatus?(u.setStatus("Running..."),setTimeout(function(){setTimeout(function(){u.setStatus("")},1),t()},1)):t())}}if(u.preInit)for(typeof u.preInit=="function"&&(u.preInit=[u.preInit]);0<u.preInit.length;)u.preInit.pop()();return tr(),k.ready}})();const A=I},w=>{w.exports=JSON.parse(`{"name":"@rive-app/canvas","version":"2.25.7","description":"Rive's canvas based web api.","main":"rive.js","homepage":"https://rive.app","repository":{"type":"git","url":"https://github.com/rive-app/rive-wasm/tree/master/js"},"keywords":["rive","animation"],"author":"Rive","contributors":["Luigi Rosso <luigi@rive.app> (https://rive.app)","Maxwell Talbot <max@rive.app> (https://rive.app)","Arthur Vivian <arthur@rive.app> (https://rive.app)","Umberto Sonnino <umberto@rive.app> (https://rive.app)","Matthew Sullivan <matt.j.sullivan@gmail.com> (mailto:matt.j.sullivan@gmail.com)"],"license":"MIT","files":["rive.js","rive.js.map","rive.wasm","rive_fallback.wasm","rive.d.ts","rive_advanced.mjs.d.ts"],"typings":"rive.d.ts","dependencies":{},"browser":{"fs":false,"path":false}}`)},(w,C,g)=>{g.r(C),g.d(C,{Animation:()=>I.Animation});var I=g(4)},(w,C,g)=>{g.r(C),g.d(C,{Animation:()=>I});var I=function(){function A(E,k,u,$){this.animation=E,this.artboard=k,this.playing=$,this.loopCount=0,this.scrubTo=null,this.instance=new u.LinearAnimationInstance(E,k)}return Object.defineProperty(A.prototype,"name",{get:function(){return this.animation.name},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"time",{get:function(){return this.instance.time},set:function(E){this.instance.time=E},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"loopValue",{get:function(){return this.animation.loopValue},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"needsScrub",{get:function(){return this.scrubTo!==null},enumerable:!1,configurable:!0}),A.prototype.advance=function(E){this.scrubTo===null?this.instance.advance(E):(this.instance.time=0,this.instance.advance(this.scrubTo),this.scrubTo=null)},A.prototype.apply=function(E){this.instance.apply(E)},A.prototype.cleanup=function(){this.instance.delete()},A}()},(w,C,g)=>{g.r(C),g.d(C,{BLANK_URL:()=>A.BLANK_URL,registerTouchInteractions:()=>I.registerTouchInteractions,sanitizeUrl:()=>A.sanitizeUrl});var I=g(6),A=g(7)},(w,C,g)=>{g.r(C),g.d(C,{registerTouchInteractions:()=>E});var I=void 0,A=function(k,u){var $,at;return["touchstart","touchmove"].indexOf(k.type)>-1&&(!(($=k.touches)===null||$===void 0)&&$.length)?(u||k.preventDefault(),{clientX:k.touches[0].clientX,clientY:k.touches[0].clientY}):k.type==="touchend"&&(!((at=k.changedTouches)===null||at===void 0)&&at.length)?{clientX:k.changedTouches[0].clientX,clientY:k.changedTouches[0].clientY}:{clientX:k.clientX,clientY:k.clientY}},E=function(k){var u=k.canvas,$=k.artboard,at=k.stateMachines,W=at===void 0?[]:at,Y=k.renderer,nt=k.rive,X=k.fit,z=k.alignment,q=k.isTouchScrollEnabled,D=q===void 0?!1:q,vt=k.layoutScaleFactor,ot=vt===void 0?1:vt;if(!u||!W.length||!Y||!nt||!$||typeof window>"u")return null;var gt=null,it=!1,yt=function(Lt){if(it&&Lt instanceof MouseEvent){Lt.type=="mouseup"&&(it=!1);return}it=D&&Lt.type==="touchend"&&gt==="touchstart",gt=Lt.type;var At=Lt.currentTarget.getBoundingClientRect(),$t=A(Lt,D),Xt=$t.clientX,ut=$t.clientY;if(!(!Xt&&!ut)){var Vt=Xt-At.left,_t=ut-At.top,dt=nt.computeAlignment(X,z,{minX:0,minY:0,maxX:At.width,maxY:At.height},$.bounds,ot),Tt=new nt.Mat2D;dt.invert(Tt);var jt=new nt.Vec2D(Vt,_t),ht=nt.mapXY(Tt,jt),Q=ht.x(),d=ht.y();switch(ht.delete(),Tt.delete(),jt.delete(),dt.delete(),Lt.type){case"mouseout":for(var r=0,a=W;r<a.length;r++){var y=a[r];y.pointerMove(Q,d)}break;case"touchmove":case"mouseover":case"mousemove":{for(var L=0,T=W;L<T.length;L++){var y=T[L];y.pointerMove(Q,d)}break}case"touchstart":case"mousedown":{for(var F=0,K=W;F<K.length;F++){var y=K[F];y.pointerDown(Q,d)}break}case"touchend":case"mouseup":{for(var rt=0,G=W;rt<G.length;rt++){var y=G[rt];y.pointerUp(Q,d)}break}}}},lt=yt.bind(I);return u.addEventListener("mouseover",lt),u.addEventListener("mouseout",lt),u.addEventListener("mousemove",lt),u.addEventListener("mousedown",lt),u.addEventListener("mouseup",lt),u.addEventListener("touchmove",lt,{passive:D}),u.addEventListener("touchstart",lt,{passive:D}),u.addEventListener("touchend",lt),function(){u.removeEventListener("mouseover",lt),u.removeEventListener("mouseout",lt),u.removeEventListener("mousemove",lt),u.removeEventListener("mousedown",lt),u.removeEventListener("mouseup",lt),u.removeEventListener("touchmove",lt),u.removeEventListener("touchstart",lt),u.removeEventListener("touchend",lt)}}},(w,C,g)=>{g.r(C),g.d(C,{BLANK_URL:()=>at,sanitizeUrl:()=>nt});var I=/^([^\w]*)(javascript|data|vbscript)/im,A=/&#(\w+)(^\w|;)?/g,E=/&(newline|tab);/gi,k=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,u=/^.+(:|&colon;)/gim,$=[".","/"],at="about:blank";function W(X){return $.indexOf(X[0])>-1}function Y(X){var z=X.replace(k,"");return z.replace(A,function(q,D){return String.fromCharCode(D)})}function nt(X){if(!X)return at;var z=Y(X).replace(E,"").replace(k,"").trim();if(!z)return at;if(W(z))return z;var q=z.match(u);if(!q)return z;var D=q[0];return I.test(D)?at:z}}],f={};function m(w){var C=f[w];if(C!==void 0)return C.exports;var g=f[w]={exports:{}};return h[w](g,g.exports,m),g.exports}m.d=(w,C)=>{for(var g in C)m.o(C,g)&&!m.o(w,g)&&Object.defineProperty(w,g,{enumerable:!0,get:C[g]})},m.o=(w,C)=>Object.prototype.hasOwnProperty.call(w,C),m.r=w=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(w,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(w,"__esModule",{value:!0})};var S={};return(()=>{m.r(S),m.d(S,{Alignment:()=>$,EventType:()=>D,Fit:()=>u,Layout:()=>at,LoopType:()=>vt,Rive:()=>Vt,RiveEventType:()=>X,RiveFile:()=>ut,RuntimeLoader:()=>W,StateMachineInput:()=>nt,StateMachineInputType:()=>Y,Testing:()=>Tt,decodeAudio:()=>jt,decodeFont:()=>Q,decodeImage:()=>ht});var w=m(1),C=m(2),g=m(3),I=m(5),A=function(){var d=function(r,a){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,L){y.__proto__=L}||function(y,L){for(var T in L)Object.prototype.hasOwnProperty.call(L,T)&&(y[T]=L[T])},d(r,a)};return function(r,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");d(r,a);function y(){this.constructor=r}r.prototype=a===null?Object.create(a):(y.prototype=a.prototype,new y)}}(),E=function(d,r,a,y){function L(T){return T instanceof a?T:new a(function(F){F(T)})}return new(a||(a=Promise))(function(T,F){function K(Ct){try{G(y.next(Ct))}catch(Rt){F(Rt)}}function rt(Ct){try{G(y.throw(Ct))}catch(Rt){F(Rt)}}function G(Ct){Ct.done?T(Ct.value):L(Ct.value).then(K,rt)}G((y=y.apply(d,[])).next())})},k=function(d,r){var a={label:0,sent:function(){if(T[0]&1)throw T[1];return T[1]},trys:[],ops:[]},y,L,T,F=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return F.next=K(0),F.throw=K(1),F.return=K(2),typeof Symbol=="function"&&(F[Symbol.iterator]=function(){return this}),F;function K(G){return function(Ct){return rt([G,Ct])}}function rt(G){if(y)throw new TypeError("Generator is already executing.");for(;F&&(F=0,G[0]&&(a=0)),a;)try{if(y=1,L&&(T=G[0]&2?L.return:G[0]?L.throw||((T=L.return)&&T.call(L),0):L.next)&&!(T=T.call(L,G[1])).done)return T;switch(L=0,T&&(G=[G[0]&2,T.value]),G[0]){case 0:case 1:T=G;break;case 4:return a.label++,{value:G[1],done:!1};case 5:a.label++,L=G[1],G=[0];continue;case 7:G=a.ops.pop(),a.trys.pop();continue;default:if(T=a.trys,!(T=T.length>0&&T[T.length-1])&&(G[0]===6||G[0]===2)){a=0;continue}if(G[0]===3&&(!T||G[1]>T[0]&&G[1]<T[3])){a.label=G[1];break}if(G[0]===6&&a.label<T[1]){a.label=T[1],T=G;break}if(T&&a.label<T[2]){a.label=T[2],a.ops.push(G);break}T[2]&&a.ops.pop(),a.trys.pop();continue}G=r.call(d,a)}catch(Ct){G=[6,Ct],L=0}finally{y=T=0}if(G[0]&5)throw G[1];return{value:G[0]?G[1]:void 0,done:!0}}},u;(function(d){d.Cover="cover",d.Contain="contain",d.Fill="fill",d.FitWidth="fitWidth",d.FitHeight="fitHeight",d.None="none",d.ScaleDown="scaleDown",d.Layout="layout"})(u||(u={}));var $;(function(d){d.Center="center",d.TopLeft="topLeft",d.TopCenter="topCenter",d.TopRight="topRight",d.CenterLeft="centerLeft",d.CenterRight="centerRight",d.BottomLeft="bottomLeft",d.BottomCenter="bottomCenter",d.BottomRight="bottomRight"})($||($={}));var at=function(){function d(r){var a,y,L,T,F,K,rt;this.fit=(a=r==null?void 0:r.fit)!==null&&a!==void 0?a:u.Contain,this.alignment=(y=r==null?void 0:r.alignment)!==null&&y!==void 0?y:$.Center,this.layoutScaleFactor=(L=r==null?void 0:r.layoutScaleFactor)!==null&&L!==void 0?L:1,this.minX=(T=r==null?void 0:r.minX)!==null&&T!==void 0?T:0,this.minY=(F=r==null?void 0:r.minY)!==null&&F!==void 0?F:0,this.maxX=(K=r==null?void 0:r.maxX)!==null&&K!==void 0?K:0,this.maxY=(rt=r==null?void 0:r.maxY)!==null&&rt!==void 0?rt:0}return d.new=function(r){var a=r.fit,y=r.alignment,L=r.minX,T=r.minY,F=r.maxX,K=r.maxY;return console.warn("This function is deprecated: please use `new Layout({})` instead"),new d({fit:a,alignment:y,minX:L,minY:T,maxX:F,maxY:K})},d.prototype.copyWith=function(r){var a=r.fit,y=r.alignment,L=r.layoutScaleFactor,T=r.minX,F=r.minY,K=r.maxX,rt=r.maxY;return new d({fit:a??this.fit,alignment:y??this.alignment,layoutScaleFactor:L??this.layoutScaleFactor,minX:T??this.minX,minY:F??this.minY,maxX:K??this.maxX,maxY:rt??this.maxY})},d.prototype.runtimeFit=function(r){if(this.cachedRuntimeFit)return this.cachedRuntimeFit;var a;return this.fit===u.Cover?a=r.Fit.cover:this.fit===u.Contain?a=r.Fit.contain:this.fit===u.Fill?a=r.Fit.fill:this.fit===u.FitWidth?a=r.Fit.fitWidth:this.fit===u.FitHeight?a=r.Fit.fitHeight:this.fit===u.ScaleDown?a=r.Fit.scaleDown:this.fit===u.Layout?a=r.Fit.layout:a=r.Fit.none,this.cachedRuntimeFit=a,a},d.prototype.runtimeAlignment=function(r){if(this.cachedRuntimeAlignment)return this.cachedRuntimeAlignment;var a;return this.alignment===$.TopLeft?a=r.Alignment.topLeft:this.alignment===$.TopCenter?a=r.Alignment.topCenter:this.alignment===$.TopRight?a=r.Alignment.topRight:this.alignment===$.CenterLeft?a=r.Alignment.centerLeft:this.alignment===$.CenterRight?a=r.Alignment.centerRight:this.alignment===$.BottomLeft?a=r.Alignment.bottomLeft:this.alignment===$.BottomCenter?a=r.Alignment.bottomCenter:this.alignment===$.BottomRight?a=r.Alignment.bottomRight:a=r.Alignment.center,this.cachedRuntimeAlignment=a,a},d}(),W=function(){function d(){}return d.loadRuntime=function(){w.default({locateFile:function(){return d.wasmURL}}).then(function(r){var a;for(d.runtime=r;d.callBackQueue.length>0;)(a=d.callBackQueue.shift())===null||a===void 0||a(d.runtime)}).catch(function(r){var a={message:(r==null?void 0:r.message)||"Unknown error",type:(r==null?void 0:r.name)||"Error",wasmError:r instanceof WebAssembly.CompileError||r instanceof WebAssembly.RuntimeError,originalError:r};console.debug("Rive WASM load error details:",a);var y="https://cdn.jsdelivr.net/npm/".concat(C.name,"@").concat(C.version,"/rive_fallback.wasm");if(d.wasmURL.toLowerCase()!==y)console.warn("Failed to load WASM from ".concat(d.wasmURL," (").concat(a.message,"), trying jsdelivr as a backup")),d.setWasmUrl(y),d.loadRuntime();else{var L=["Could not load Rive WASM file from ".concat(d.wasmURL," or ").concat(y,"."),"Possible reasons:","- Network connection is down","- WebAssembly is not supported in this environment","- The WASM file is corrupted or incompatible",`
Error details:`,"- Type: ".concat(a.type),"- Message: ".concat(a.message),"- WebAssembly-specific error: ".concat(a.wasmError),`
To resolve, you may need to:`,"1. Check your network connection","2. Set a new WASM source via RuntimeLoader.setWasmUrl()","3. Call RuntimeLoader.loadRuntime() again"].join(`
`);console.error(L)}})},d.getInstance=function(r){d.isLoading||(d.isLoading=!0,d.loadRuntime()),d.runtime?r(d.runtime):d.callBackQueue.push(r)},d.awaitInstance=function(){return new Promise(function(r){return d.getInstance(function(a){return r(a)})})},d.setWasmUrl=function(r){d.wasmURL=r},d.getWasmUrl=function(){return d.wasmURL},d.isLoading=!1,d.callBackQueue=[],d.wasmURL="https://unpkg.com/".concat(C.name,"@").concat(C.version,"/rive.wasm"),d}(),Y;(function(d){d[d.Number=56]="Number",d[d.Trigger=58]="Trigger",d[d.Boolean=59]="Boolean"})(Y||(Y={}));var nt=function(){function d(r,a){this.type=r,this.runtimeInput=a}return Object.defineProperty(d.prototype,"name",{get:function(){return this.runtimeInput.name},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"value",{get:function(){return this.runtimeInput.value},set:function(r){this.runtimeInput.value=r},enumerable:!1,configurable:!0}),d.prototype.fire=function(){this.type===Y.Trigger&&this.runtimeInput.fire()},d.prototype.delete=function(){this.runtimeInput=null},d}(),X;(function(d){d[d.General=128]="General",d[d.OpenUrl=131]="OpenUrl"})(X||(X={}));var z=function(){function d(r,a,y,L){this.stateMachine=r,this.playing=y,this.artboard=L,this.inputs=[],this.instance=new a.StateMachineInstance(r,L),this.initInputs(a)}return Object.defineProperty(d.prototype,"name",{get:function(){return this.stateMachine.name},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"statesChanged",{get:function(){for(var r=[],a=0;a<this.instance.stateChangedCount();a++)r.push(this.instance.stateChangedNameByIndex(a));return r},enumerable:!1,configurable:!0}),d.prototype.advance=function(r){this.instance.advance(r)},d.prototype.advanceAndApply=function(r){this.instance.advanceAndApply(r)},d.prototype.reportedEventCount=function(){return this.instance.reportedEventCount()},d.prototype.reportedEventAt=function(r){return this.instance.reportedEventAt(r)},d.prototype.initInputs=function(r){for(var a=0;a<this.instance.inputCount();a++){var y=this.instance.input(a);this.inputs.push(this.mapRuntimeInput(y,r))}},d.prototype.mapRuntimeInput=function(r,a){if(r.type===a.SMIInput.bool)return new nt(Y.Boolean,r.asBool());if(r.type===a.SMIInput.number)return new nt(Y.Number,r.asNumber());if(r.type===a.SMIInput.trigger)return new nt(Y.Trigger,r.asTrigger())},d.prototype.cleanup=function(){this.inputs.forEach(function(r){r.delete()}),this.inputs.length=0,this.instance.delete()},d}(),q=function(){function d(r,a,y,L,T){L===void 0&&(L=[]),T===void 0&&(T=[]),this.runtime=r,this.artboard=a,this.eventManager=y,this.animations=L,this.stateMachines=T}return d.prototype.add=function(r,a,y){if(y===void 0&&(y=!0),r=dt(r),r.length===0)this.animations.forEach(function(Mt){return Mt.playing=a}),this.stateMachines.forEach(function(Mt){return Mt.playing=a});else for(var L=this.animations.map(function(Mt){return Mt.name}),T=this.stateMachines.map(function(Mt){return Mt.name}),F=0;F<r.length;F++){var K=L.indexOf(r[F]),rt=T.indexOf(r[F]);if(K>=0||rt>=0)K>=0?this.animations[K].playing=a:this.stateMachines[rt].playing=a;else{var G=this.artboard.animationByName(r[F]);if(G){var Ct=new g.Animation(G,this.artboard,this.runtime,a);Ct.advance(0),Ct.apply(1),this.animations.push(Ct)}else{var Rt=this.artboard.stateMachineByName(r[F]);if(Rt){var kt=new z(Rt,this.runtime,a,this.artboard);this.stateMachines.push(kt)}}}}return y&&(a?this.eventManager.fire({type:D.Play,data:this.playing}):this.eventManager.fire({type:D.Pause,data:this.paused})),a?this.playing:this.paused},d.prototype.initLinearAnimations=function(r,a){for(var y=this.animations.map(function(rt){return rt.name}),L=0;L<r.length;L++){var T=y.indexOf(r[L]);if(T>=0)this.animations[T].playing=a;else{var F=this.artboard.animationByName(r[L]);if(F){var K=new g.Animation(F,this.artboard,this.runtime,a);K.advance(0),K.apply(1),this.animations.push(K)}}}},d.prototype.initStateMachines=function(r,a){for(var y=this.stateMachines.map(function(rt){return rt.name}),L=0;L<r.length;L++){var T=y.indexOf(r[L]);if(T>=0)this.stateMachines[T].playing=a;else{var F=this.artboard.stateMachineByName(r[L]);if(F){var K=new z(F,this.runtime,a,this.artboard);this.stateMachines.push(K)}else this.initLinearAnimations([r[L]],a)}}},d.prototype.play=function(r){return this.add(r,!0)},d.prototype.pause=function(r){return this.add(r,!1)},d.prototype.scrub=function(r,a){var y=this.animations.filter(function(L){return r.includes(L.name)});return y.forEach(function(L){return L.scrubTo=a}),y.map(function(L){return L.name})},Object.defineProperty(d.prototype,"playing",{get:function(){return this.animations.filter(function(r){return r.playing}).map(function(r){return r.name}).concat(this.stateMachines.filter(function(r){return r.playing}).map(function(r){return r.name}))},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"paused",{get:function(){return this.animations.filter(function(r){return!r.playing}).map(function(r){return r.name}).concat(this.stateMachines.filter(function(r){return!r.playing}).map(function(r){return r.name}))},enumerable:!1,configurable:!0}),d.prototype.stop=function(r){var a=this;r=dt(r);var y=[];if(r.length===0)y=this.animations.map(function(F){return F.name}).concat(this.stateMachines.map(function(F){return F.name})),this.animations.forEach(function(F){return F.cleanup()}),this.stateMachines.forEach(function(F){return F.cleanup()}),this.animations.splice(0,this.animations.length),this.stateMachines.splice(0,this.stateMachines.length);else{var L=this.animations.filter(function(F){return r.includes(F.name)});L.forEach(function(F){F.cleanup(),a.animations.splice(a.animations.indexOf(F),1)});var T=this.stateMachines.filter(function(F){return r.includes(F.name)});T.forEach(function(F){F.cleanup(),a.stateMachines.splice(a.stateMachines.indexOf(F),1)}),y=L.map(function(F){return F.name}).concat(T.map(function(F){return F.name}))}return this.eventManager.fire({type:D.Stop,data:y}),y},Object.defineProperty(d.prototype,"isPlaying",{get:function(){return this.animations.reduce(function(r,a){return r||a.playing},!1)||this.stateMachines.reduce(function(r,a){return r||a.playing},!1)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"isPaused",{get:function(){return!this.isPlaying&&(this.animations.length>0||this.stateMachines.length>0)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"isStopped",{get:function(){return this.animations.length===0&&this.stateMachines.length===0},enumerable:!1,configurable:!0}),d.prototype.atLeastOne=function(r,a){a===void 0&&(a=!0);var y;return this.animations.length===0&&this.stateMachines.length===0&&(this.artboard.animationCount()>0?this.add([y=this.artboard.animationByIndex(0).name],r,a):this.artboard.stateMachineCount()>0&&this.add([y=this.artboard.stateMachineByIndex(0).name],r,a)),y},d.prototype.handleLooping=function(){for(var r=0,a=this.animations.filter(function(L){return L.playing});r<a.length;r++){var y=a[r];y.loopValue===0&&y.loopCount?(y.loopCount=0,this.stop(y.name)):y.loopValue===1&&y.loopCount?(this.eventManager.fire({type:D.Loop,data:{animation:y.name,type:vt.Loop}}),y.loopCount=0):y.loopValue===2&&y.loopCount>1&&(this.eventManager.fire({type:D.Loop,data:{animation:y.name,type:vt.PingPong}}),y.loopCount=0)}},d.prototype.handleStateChanges=function(){for(var r=[],a=0,y=this.stateMachines.filter(function(T){return T.playing});a<y.length;a++){var L=y[a];r.push.apply(r,L.statesChanged)}r.length>0&&this.eventManager.fire({type:D.StateChange,data:r})},d.prototype.handleAdvancing=function(r){this.eventManager.fire({type:D.Advance,data:r})},d}(),D;(function(d){d.Load="load",d.LoadError="loaderror",d.Play="play",d.Pause="pause",d.Stop="stop",d.Loop="loop",d.Draw="draw",d.Advance="advance",d.StateChange="statechange",d.RiveEvent="riveevent",d.AudioStatusChange="audiostatuschange"})(D||(D={}));var vt;(function(d){d.OneShot="oneshot",d.Loop="loop",d.PingPong="pingpong"})(vt||(vt={}));var ot=function(){function d(r){r===void 0&&(r=[]),this.listeners=r}return d.prototype.getListeners=function(r){return this.listeners.filter(function(a){return a.type===r})},d.prototype.add=function(r){this.listeners.includes(r)||this.listeners.push(r)},d.prototype.remove=function(r){for(var a=0;a<this.listeners.length;a++){var y=this.listeners[a];if(y.type===r.type&&y.callback===r.callback){this.listeners.splice(a,1);break}}},d.prototype.removeAll=function(r){var a=this;r?this.listeners.filter(function(y){return y.type===r}).forEach(function(y){return a.remove(y)}):this.listeners.splice(0,this.listeners.length)},d.prototype.fire=function(r){var a=this.getListeners(r.type);a.forEach(function(y){return y.callback(r)})},d}(),gt=function(){function d(r){this.eventManager=r,this.queue=[]}return d.prototype.add=function(r){this.queue.push(r)},d.prototype.process=function(){for(;this.queue.length>0;){var r=this.queue.shift();r!=null&&r.action&&r.action(),r!=null&&r.event&&this.eventManager.fire(r.event)}},d}(),it;(function(d){d[d.AVAILABLE=0]="AVAILABLE",d[d.UNAVAILABLE=1]="UNAVAILABLE"})(it||(it={}));var yt=function(d){A(r,d);function r(){var a=d!==null&&d.apply(this,arguments)||this;return a._started=!1,a._enabled=!1,a._status=it.UNAVAILABLE,a}return r.prototype.delay=function(a){return E(this,void 0,void 0,function(){return k(this,function(y){return[2,new Promise(function(L){return setTimeout(L,a)})]})})},r.prototype.timeout=function(){return E(this,void 0,void 0,function(){return k(this,function(a){return[2,new Promise(function(y,L){return setTimeout(L,50)})]})})},r.prototype.reportToListeners=function(){this.fire({type:D.AudioStatusChange}),this.removeAll()},r.prototype.enableAudio=function(){return E(this,void 0,void 0,function(){return k(this,function(a){return this._enabled||(this._enabled=!0,this._status=it.AVAILABLE,this.reportToListeners()),[2]})})},r.prototype.testAudio=function(){return E(this,void 0,void 0,function(){return k(this,function(a){switch(a.label){case 0:if(!(this._status===it.UNAVAILABLE&&this._audioContext!==null))return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,Promise.race([this._audioContext.resume(),this.timeout()])];case 2:return a.sent(),this.enableAudio(),[3,4];case 3:return a.sent(),[3,4];case 4:return[2]}})})},r.prototype._establishAudio=function(){return E(this,void 0,void 0,function(){return k(this,function(a){switch(a.label){case 0:return this._started?[3,5]:(this._started=!0,typeof window>"u"?(this.enableAudio(),[3,5]):[3,1]);case 1:this._audioContext=new AudioContext,this.listenForUserAction(),a.label=2;case 2:return this._status!==it.UNAVAILABLE?[3,5]:[4,this.testAudio()];case 3:return a.sent(),[4,this.delay(1e3)];case 4:return a.sent(),[3,2];case 5:return[2]}})})},r.prototype.listenForUserAction=function(){var a=this,y=function(){return E(a,void 0,void 0,function(){return k(this,function(L){return this.enableAudio(),[2]})})};document.addEventListener("pointerdown",y,{once:!0})},r.prototype.establishAudio=function(){return E(this,void 0,void 0,function(){return k(this,function(a){return this._establishAudio(),[2]})})},Object.defineProperty(r.prototype,"systemVolume",{get:function(){return this._status===it.UNAVAILABLE?(this.testAudio(),0):1},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),r}(ot),lt=new yt,Lt=function(){function d(){}return d.prototype.observe=function(){},d.prototype.unobserve=function(){},d.prototype.disconnect=function(){},d}(),At=globalThis.ResizeObserver||Lt,$t=function(){function d(){var r=this;this._elementsMap=new Map,this._onObservedEntry=function(a){var y=r._elementsMap.get(a.target);y!==null?y.onResize(a.target.clientWidth==0||a.target.clientHeight==0):r._resizeObserver.unobserve(a.target)},this._onObserved=function(a){a.forEach(r._onObservedEntry)},this._resizeObserver=new At(this._onObserved)}return d.prototype.add=function(r,a){var y={onResize:a,element:r};return this._elementsMap.set(r,y),this._resizeObserver.observe(r),y},d.prototype.remove=function(r){this._resizeObserver.unobserve(r.element),this._elementsMap.delete(r.element)},d}(),Xt=new $t,ut=function(){function d(r){this.enableRiveAssetCDN=!0,this.referenceCount=0,this.src=r.src,this.buffer=r.buffer,r.assetLoader&&(this.assetLoader=r.assetLoader),this.enableRiveAssetCDN=typeof r.enableRiveAssetCDN=="boolean"?r.enableRiveAssetCDN:!0,this.eventManager=new ot,r.onLoad&&this.on(D.Load,r.onLoad),r.onLoadError&&this.on(D.LoadError,r.onLoadError)}return d.prototype.initData=function(){return E(this,void 0,void 0,function(){var r,a,y;return k(this,function(L){switch(L.label){case 0:return this.src?(r=this,[4,_t(this.src)]):[3,2];case 1:r.buffer=L.sent(),L.label=2;case 2:return this.assetLoader&&(a=new this.runtime.CustomFileAssetLoader({loadContents:this.assetLoader})),y=this,[4,this.runtime.load(new Uint8Array(this.buffer),a,this.enableRiveAssetCDN)];case 3:if(y.file=L.sent(),this.file!==null)this.eventManager.fire({type:D.Load,data:this});else throw this.eventManager.fire({type:D.LoadError,data:null}),new Error(d.fileLoadErrorMessage);return[2]}})})},d.prototype.init=function(){return E(this,void 0,void 0,function(){var r;return k(this,function(a){switch(a.label){case 0:if(!this.src&&!this.buffer)throw new Error(d.missingErrorMessage);return r=this,[4,W.awaitInstance()];case 1:return r.runtime=a.sent(),[4,this.initData()];case 2:return a.sent(),[2]}})})},d.prototype.on=function(r,a){this.eventManager.add({type:r,callback:a})},d.prototype.off=function(r,a){this.eventManager.remove({type:r,callback:a})},d.prototype.cleanup=function(){var r;this.referenceCount-=1,this.referenceCount<=0&&(this.removeAllRiveEventListeners(),(r=this.file)===null||r===void 0||r.delete())},d.prototype.removeAllRiveEventListeners=function(r){this.eventManager.removeAll(r)},d.prototype.getInstance=function(){if(this.file!==null)return this.referenceCount+=1,this.file},d.missingErrorMessage="Rive source file or data buffer required",d.fileLoadErrorMessage="The file failed to load",d}(),Vt=function(){function d(r){var a=this,y;this.loaded=!1,this._observed=null,this.readyForPlaying=!1,this.artboard=null,this.eventCleanup=null,this.shouldDisableRiveListeners=!1,this.automaticallyHandleEvents=!1,this.enableRiveAssetCDN=!0,this._volume=1,this._artboardWidth=void 0,this._artboardHeight=void 0,this._devicePixelRatioUsed=1,this._hasZeroSize=!1,this._audioEventListener=null,this.durations=[],this.frameTimes=[],this.frameCount=0,this.isTouchScrollEnabled=!1,this.onCanvasResize=function(L){a._hasZeroSize=L,(!a._layout.maxX||!a._layout.maxY)&&a.resizeToCanvas()},this.renderSecondTimer=0,this.canvas=r.canvas,r.canvas.constructor===HTMLCanvasElement&&(this._observed=Xt.add(this.canvas,this.onCanvasResize)),this.src=r.src,this.buffer=r.buffer,this.riveFile=r.riveFile,this.layout=(y=r.layout)!==null&&y!==void 0?y:new at,this.shouldDisableRiveListeners=!!r.shouldDisableRiveListeners,this.isTouchScrollEnabled=!!r.isTouchScrollEnabled,this.automaticallyHandleEvents=!!r.automaticallyHandleEvents,this.enableRiveAssetCDN=r.enableRiveAssetCDN===void 0?!0:r.enableRiveAssetCDN,this.eventManager=new ot,r.onLoad&&this.on(D.Load,r.onLoad),r.onLoadError&&this.on(D.LoadError,r.onLoadError),r.onPlay&&this.on(D.Play,r.onPlay),r.onPause&&this.on(D.Pause,r.onPause),r.onStop&&this.on(D.Stop,r.onStop),r.onLoop&&this.on(D.Loop,r.onLoop),r.onStateChange&&this.on(D.StateChange,r.onStateChange),r.onAdvance&&this.on(D.Advance,r.onAdvance),r.onload&&!r.onLoad&&this.on(D.Load,r.onload),r.onloaderror&&!r.onLoadError&&this.on(D.LoadError,r.onloaderror),r.onplay&&!r.onPlay&&this.on(D.Play,r.onplay),r.onpause&&!r.onPause&&this.on(D.Pause,r.onpause),r.onstop&&!r.onStop&&this.on(D.Stop,r.onstop),r.onloop&&!r.onLoop&&this.on(D.Loop,r.onloop),r.onstatechange&&!r.onStateChange&&this.on(D.StateChange,r.onstatechange),r.assetLoader&&(this.assetLoader=r.assetLoader),this.taskQueue=new gt(this.eventManager),this.init({src:this.src,buffer:this.buffer,riveFile:this.riveFile,autoplay:r.autoplay,animations:r.animations,stateMachines:r.stateMachines,artboard:r.artboard,useOffscreenRenderer:r.useOffscreenRenderer})}return d.new=function(r){return console.warn("This function is deprecated: please use `new Rive({})` instead"),new d(r)},d.prototype.onSystemAudioChanged=function(){this.volume=this._volume},d.prototype.init=function(r){var a=this,y=r.src,L=r.buffer,T=r.riveFile,F=r.animations,K=r.stateMachines,rt=r.artboard,G=r.autoplay,Ct=G===void 0?!1:G,Rt=r.useOffscreenRenderer,kt=Rt===void 0?!1:Rt;if(this.src=y,this.buffer=L,this.riveFile=T,!this.src&&!this.buffer&&!this.riveFile)throw new Error(d.missingErrorMessage);var Mt=dt(F),be=dt(K);this.loaded=!1,this.readyForPlaying=!1,W.awaitInstance().then(function(Zt){a.runtime=Zt,a.removeRiveListeners(),a.deleteRiveRenderer(),a.renderer=a.runtime.makeRenderer(a.canvas,kt),a.canvas.width||a.canvas.height||a.resizeDrawingSurfaceToCanvas(),a.initData(rt,Mt,be,Ct).then(function(){return a.setupRiveListeners()}).catch(function(we){console.error(we)})}).catch(function(Zt){console.error(Zt)})},d.prototype.setupRiveListeners=function(r){var a=this;if(this.eventCleanup&&this.eventCleanup(),!this.shouldDisableRiveListeners){var y=(this.animator.stateMachines||[]).filter(function(T){return T.playing&&a.runtime.hasListeners(T.instance)}).map(function(T){return T.instance}),L=this.isTouchScrollEnabled;r&&"isTouchScrollEnabled"in r&&(L=r.isTouchScrollEnabled),this.eventCleanup=(0,I.registerTouchInteractions)({canvas:this.canvas,artboard:this.artboard,stateMachines:y,renderer:this.renderer,rive:this.runtime,fit:this._layout.runtimeFit(this.runtime),alignment:this._layout.runtimeAlignment(this.runtime),isTouchScrollEnabled:L,layoutScaleFactor:this._layout.layoutScaleFactor})}},d.prototype.removeRiveListeners=function(){this.eventCleanup&&(this.eventCleanup(),this.eventCleanup=null)},d.prototype.initializeAudio=function(){var r=this,a;lt.status==it.UNAVAILABLE&&!((a=this.artboard)===null||a===void 0)&&a.hasAudio&&this._audioEventListener===null&&(this._audioEventListener={type:D.AudioStatusChange,callback:function(){return r.onSystemAudioChanged()}},lt.add(this._audioEventListener),lt.establishAudio())},d.prototype.initArtboardSize=function(){this.artboard&&(this._artboardWidth=this.artboard.width=this._artboardWidth||this.artboard.width,this._artboardHeight=this.artboard.height=this._artboardHeight||this.artboard.height)},d.prototype.initData=function(r,a,y,L){return E(this,void 0,void 0,function(){var T,F;return k(this,function(K){switch(K.label){case 0:return K.trys.push([0,3,,4]),this.riveFile!=null?[3,2]:(this.riveFile=new ut({src:this.src,buffer:this.buffer,enableRiveAssetCDN:this.enableRiveAssetCDN,assetLoader:this.assetLoader}),[4,this.riveFile.init()]);case 1:K.sent(),K.label=2;case 2:return this.file=this.riveFile.getInstance(),this.initArtboard(r,a,y,L),this.initArtboardSize(),this.initializeAudio(),this.loaded=!0,this.eventManager.fire({type:D.Load,data:(F=this.src)!==null&&F!==void 0?F:"buffer"}),this.readyForPlaying=!0,this.taskQueue.process(),this.drawFrame(),[2,Promise.resolve()];case 3:return K.sent(),T="Problem loading file; may be corrupt!",console.warn(T),this.eventManager.fire({type:D.LoadError,data:T}),[2,Promise.reject(T)];case 4:return[2]}})})},d.prototype.initArtboard=function(r,a,y,L){if(this.file){var T=r?this.file.artboardByName(r):this.file.defaultArtboard();if(!T){var F="Invalid artboard name or no default artboard";console.warn(F),this.eventManager.fire({type:D.LoadError,data:F});return}if(this.artboard=T,T.volume=this._volume*lt.systemVolume,this.artboard.animationCount()<1){var F="Artboard has no animations";throw this.eventManager.fire({type:D.LoadError,data:F}),F}this.animator=new q(this.runtime,this.artboard,this.eventManager);var K;a.length>0||y.length>0?(K=a.concat(y),this.animator.initLinearAnimations(a,L),this.animator.initStateMachines(y,L)):K=[this.animator.atLeastOne(L,!1)],this.taskQueue.add({event:{type:L?D.Play:D.Pause,data:K}})}},d.prototype.drawFrame=function(){this.startRendering()},d.prototype.draw=function(r,a){this.frameRequestId=null;var y=performance.now();this.lastRenderTime||(this.lastRenderTime=r),this.renderSecondTimer+=r-this.lastRenderTime,this.renderSecondTimer>5e3&&(this.renderSecondTimer=0,a==null||a());var L=(r-this.lastRenderTime)/1e3;this.lastRenderTime=r;for(var T=this.animator.animations.filter(function(qt){return qt.playing||qt.needsScrub}).sort(function(qt){return qt.needsScrub?-1:1}),F=0,K=T;F<K.length;F++){var rt=K[F];rt.advance(L),rt.instance.didLoop&&(rt.loopCount+=1),rt.apply(1)}for(var G=this.animator.stateMachines.filter(function(qt){return qt.playing}),Ct=0,Rt=G;Ct<Rt.length;Ct++){var kt=Rt[Ct],Mt=kt.reportedEventCount();if(Mt)for(var be=0;be<Mt;be++){var Zt=kt.reportedEventAt(be);if(Zt)if(Zt.type===X.OpenUrl){if(this.eventManager.fire({type:D.RiveEvent,data:Zt}),this.automaticallyHandleEvents){var we=document.createElement("a"),nn=Zt,he=nn.url,Me=nn.target,We=(0,I.sanitizeUrl)(he);he&&we.setAttribute("href",We),Me&&we.setAttribute("target",Me),We&&We!==I.BLANK_URL&&we.click()}}else this.eventManager.fire({type:D.RiveEvent,data:Zt})}kt.advanceAndApply(L)}this.animator.stateMachines.length==0&&this.artboard.advance(L);var fe=this.renderer;fe.clear(),fe.save(),this.alignRenderer(),this._hasZeroSize||this.artboard.draw(fe),fe.restore(),fe.flush(),this.animator.handleLooping(),this.animator.handleStateChanges(),this.animator.handleAdvancing(L),this.frameCount++;var Oe=performance.now();for(this.frameTimes.push(Oe),this.durations.push(Oe-y);this.frameTimes[0]<=Oe-1e3;)this.frameTimes.shift(),this.durations.shift();this.animator.isPlaying?this.startRendering():this.animator.isPaused?this.lastRenderTime=0:this.animator.isStopped&&(this.lastRenderTime=0)},d.prototype.alignRenderer=function(){var r=this,a=r.renderer,y=r.runtime,L=r._layout,T=r.artboard;a.align(L.runtimeFit(y),L.runtimeAlignment(y),{minX:L.minX,minY:L.minY,maxX:L.maxX,maxY:L.maxY},T.bounds,this._devicePixelRatioUsed*L.layoutScaleFactor)},Object.defineProperty(d.prototype,"fps",{get:function(){return this.durations.length},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"frameTime",{get:function(){return this.durations.length===0?0:(this.durations.reduce(function(r,a){return r+a},0)/this.durations.length).toFixed(4)},enumerable:!1,configurable:!0}),d.prototype.cleanup=function(){var r;this.stopRendering(),this.cleanupInstances(),this._observed!==null&&Xt.remove(this._observed),this.removeRiveListeners(),(r=this.riveFile)===null||r===void 0||r.cleanup(),this.riveFile=null,this.file=null,this.deleteRiveRenderer(),this._audioEventListener!==null&&(lt.remove(this._audioEventListener),this._audioEventListener=null)},d.prototype.deleteRiveRenderer=function(){var r;(r=this.renderer)===null||r===void 0||r.delete(),this.renderer=null},d.prototype.cleanupInstances=function(){this.eventCleanup!==null&&this.eventCleanup(),this.stop(),this.artboard&&(this.artboard.delete(),this.artboard=null)},d.prototype.retrieveTextRun=function(r){var a;if(!r){console.warn("No text run name provided");return}if(!this.artboard){console.warn("Tried to access text run, but the Artboard is null");return}var y=this.artboard.textRun(r);if(!y){console.warn("Could not access a text run with name '".concat(r,"' in the '").concat((a=this.artboard)===null||a===void 0?void 0:a.name,"' Artboard. Note that you must rename a text run node in the Rive editor to make it queryable at runtime."));return}return y},d.prototype.getTextRunValue=function(r){var a=this.retrieveTextRun(r);return a?a.text:void 0},d.prototype.setTextRunValue=function(r,a){var y=this.retrieveTextRun(r);y&&(y.text=a)},d.prototype.play=function(r,a){var y=this;if(r=dt(r),!this.readyForPlaying){this.taskQueue.add({action:function(){return y.play(r,a)}});return}this.animator.play(r),this.eventCleanup&&this.eventCleanup(),this.setupRiveListeners(),this.startRendering()},d.prototype.pause=function(r){var a=this;if(r=dt(r),!this.readyForPlaying){this.taskQueue.add({action:function(){return a.pause(r)}});return}this.eventCleanup&&this.eventCleanup(),this.animator.pause(r)},d.prototype.scrub=function(r,a){var y=this;if(r=dt(r),!this.readyForPlaying){this.taskQueue.add({action:function(){return y.scrub(r,a)}});return}this.animator.scrub(r,a||0),this.drawFrame()},d.prototype.stop=function(r){var a=this;if(r=dt(r),!this.readyForPlaying){this.taskQueue.add({action:function(){return a.stop(r)}});return}this.animator&&this.animator.stop(r),this.eventCleanup&&this.eventCleanup()},d.prototype.reset=function(r){var a,y=r==null?void 0:r.artboard,L=dt(r==null?void 0:r.animations),T=dt(r==null?void 0:r.stateMachines),F=(a=r==null?void 0:r.autoplay)!==null&&a!==void 0?a:!1;this.cleanupInstances(),this.initArtboard(y,L,T,F),this.taskQueue.process()},d.prototype.load=function(r){this.file=null,this.stop(),this.init(r)},Object.defineProperty(d.prototype,"layout",{get:function(){return this._layout},set:function(r){this._layout=r,(!r.maxX||!r.maxY)&&this.resizeToCanvas(),this.loaded&&!this.animator.isPlaying&&this.drawFrame()},enumerable:!1,configurable:!0}),d.prototype.resizeToCanvas=function(){this._layout=this.layout.copyWith({minX:0,minY:0,maxX:this.canvas.width,maxY:this.canvas.height})},d.prototype.resizeDrawingSurfaceToCanvas=function(r){if(this.canvas instanceof HTMLCanvasElement&&window){var a=this.canvas.getBoundingClientRect(),y=a.width,L=a.height,T=r||window.devicePixelRatio||1;if(this.devicePixelRatioUsed=T,this.canvas.width=T*y,this.canvas.height=T*L,this.startRendering(),this.resizeToCanvas(),this.layout.fit===u.Layout){var F=this._layout.layoutScaleFactor;this.artboard.width=y/F,this.artboard.height=L/F}}},Object.defineProperty(d.prototype,"source",{get:function(){return this.src},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"activeArtboard",{get:function(){return this.artboard?this.artboard.name:""},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"animationNames",{get:function(){if(!this.loaded||!this.artboard)return[];for(var r=[],a=0;a<this.artboard.animationCount();a++)r.push(this.artboard.animationByIndex(a).name);return r},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"stateMachineNames",{get:function(){if(!this.loaded||!this.artboard)return[];for(var r=[],a=0;a<this.artboard.stateMachineCount();a++)r.push(this.artboard.stateMachineByIndex(a).name);return r},enumerable:!1,configurable:!0}),d.prototype.stateMachineInputs=function(r){if(this.loaded){var a=this.animator.stateMachines.find(function(y){return y.name===r});return a==null?void 0:a.inputs}},d.prototype.retrieveInputAtPath=function(r,a){if(!r){console.warn("No input name provided for path '".concat(a,"'"));return}if(!this.artboard){console.warn("Tried to access input: '".concat(r,"', at path: '").concat(a,"', but the Artboard is null"));return}var y=this.artboard.inputByPath(r,a);if(!y){console.warn("Could not access an input with name: '".concat(r,"', at path:'").concat(a,"'"));return}return y},d.prototype.setBooleanStateAtPath=function(r,a,y){var L=this.retrieveInputAtPath(r,y);L&&(L.type===Y.Boolean?L.asBool().value=a:console.warn("Input with name: '".concat(r,"', at path:'").concat(y,"' is not a boolean")))},d.prototype.setNumberStateAtPath=function(r,a,y){var L=this.retrieveInputAtPath(r,y);L&&(L.type===Y.Number?L.asNumber().value=a:console.warn("Input with name: '".concat(r,"', at path:'").concat(y,"' is not a number")))},d.prototype.fireStateAtPath=function(r,a){var y=this.retrieveInputAtPath(r,a);y&&(y.type===Y.Trigger?y.asTrigger().fire():console.warn("Input with name: '".concat(r,"', at path:'").concat(a,"' is not a trigger")))},d.prototype.retrieveTextAtPath=function(r,a){if(!r){console.warn("No text name provided for path '".concat(a,"'"));return}if(!a){console.warn("No path provided for text '".concat(r,"'"));return}if(!this.artboard){console.warn("Tried to access text: '".concat(r,"', at path: '").concat(a,"', but the Artboard is null"));return}var y=this.artboard.textByPath(r,a);if(!y){console.warn("Could not access text with name: '".concat(r,"', at path:'").concat(a,"'"));return}return y},d.prototype.getTextRunValueAtPath=function(r,a){var y=this.retrieveTextAtPath(r,a);if(!y){console.warn("Could not get text with name: '".concat(r,"', at path:'").concat(a,"'"));return}return y.text},d.prototype.setTextRunValueAtPath=function(r,a,y){var L=this.retrieveTextAtPath(r,y);if(!L){console.warn("Could not set text with name: '".concat(r,"', at path:'").concat(y,"'"));return}L.text=a},Object.defineProperty(d.prototype,"playingStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(r){return r.playing}).map(function(r){return r.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"playingAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(r){return r.playing}).map(function(r){return r.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"pausedAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(r){return!r.playing}).map(function(r){return r.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"pausedStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(r){return!r.playing}).map(function(r){return r.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"isPlaying",{get:function(){return this.animator.isPlaying},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"isPaused",{get:function(){return this.animator.isPaused},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"isStopped",{get:function(){return this.animator.isStopped},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"bounds",{get:function(){return this.artboard?this.artboard.bounds:void 0},enumerable:!1,configurable:!0}),d.prototype.on=function(r,a){this.eventManager.add({type:r,callback:a})},d.prototype.off=function(r,a){this.eventManager.remove({type:r,callback:a})},d.prototype.unsubscribe=function(r,a){console.warn("This function is deprecated: please use `off()` instead."),this.off(r,a)},d.prototype.removeAllRiveEventListeners=function(r){this.eventManager.removeAll(r)},d.prototype.unsubscribeAll=function(r){console.warn("This function is deprecated: please use `removeAllRiveEventListeners()` instead."),this.removeAllRiveEventListeners(r)},d.prototype.stopRendering=function(){this.loaded&&this.frameRequestId&&(this.runtime.cancelAnimationFrame?this.runtime.cancelAnimationFrame(this.frameRequestId):cancelAnimationFrame(this.frameRequestId),this.frameRequestId=null)},d.prototype.startRendering=function(){this.loaded&&this.artboard&&!this.frameRequestId&&(this.runtime.requestAnimationFrame?this.frameRequestId=this.runtime.requestAnimationFrame(this.draw.bind(this)):this.frameRequestId=requestAnimationFrame(this.draw.bind(this)))},d.prototype.enableFPSCounter=function(r){this.runtime.enableFPSCounter(r)},d.prototype.disableFPSCounter=function(){this.runtime.disableFPSCounter()},Object.defineProperty(d.prototype,"contents",{get:function(){if(this.loaded){for(var r={artboards:[]},a=0;a<this.file.artboardCount();a++){for(var y=this.file.artboardByIndex(a),L={name:y.name,animations:[],stateMachines:[]},T=0;T<y.animationCount();T++){var F=y.animationByIndex(T);L.animations.push(F.name)}for(var K=0;K<y.stateMachineCount();K++){for(var rt=y.stateMachineByIndex(K),G=rt.name,Ct=new this.runtime.StateMachineInstance(rt,y),Rt=[],kt=0;kt<Ct.inputCount();kt++){var Mt=Ct.input(kt);Rt.push({name:Mt.name,type:Mt.type})}L.stateMachines.push({name:G,inputs:Rt})}r.artboards.push(L)}return r}},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"volume",{get:function(){return this.artboard&&this.artboard.volume!==this._volume&&(this._volume=this.artboard.volume),this._volume},set:function(r){this._volume=r,this.artboard&&(this.artboard.volume=r*lt.systemVolume)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"artboardWidth",{get:function(){var r;return this.artboard?this.artboard.width:(r=this._artboardWidth)!==null&&r!==void 0?r:0},set:function(r){this._artboardWidth=r,this.artboard&&(this.artboard.width=r)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"artboardHeight",{get:function(){var r;return this.artboard?this.artboard.height:(r=this._artboardHeight)!==null&&r!==void 0?r:0},set:function(r){this._artboardHeight=r,this.artboard&&(this.artboard.height=r)},enumerable:!1,configurable:!0}),d.prototype.resetArtboardSize=function(){this.artboard?(this.artboard.resetArtboardSize(),this._artboardWidth=this.artboard.width,this._artboardHeight=this.artboard.height):(this._artboardWidth=void 0,this._artboardHeight=void 0)},Object.defineProperty(d.prototype,"devicePixelRatioUsed",{get:function(){return this._devicePixelRatioUsed},set:function(r){this._devicePixelRatioUsed=r},enumerable:!1,configurable:!0}),d.missingErrorMessage="Rive source file or data buffer required",d}(),_t=function(d){return E(void 0,void 0,void 0,function(){var r,a,y;return k(this,function(L){switch(L.label){case 0:return r=new Request(d),[4,fetch(r)];case 1:return a=L.sent(),[4,a.arrayBuffer()];case 2:return y=L.sent(),[2,y]}})})},dt=function(d){return typeof d=="string"?[d]:d instanceof Array?d:[]},Tt={EventManager:ot,TaskQueueManager:gt},jt=function(d){return new Promise(function(r){return W.getInstance(function(a){a.decodeAudio(d,r)})})},ht=function(d){return new Promise(function(r){return W.getInstance(function(a){a.decodeImage(d,r)})})},Q=function(d){return new Promise(function(r){return W.getInstance(function(a){a.decodeFont(d,r)})})}})(),S})())})(vr);const Ao=".lido-canvas{height:100%;width:100%}",So=Ao,_o=class{constructor(n){zt(this,n),this.initializeRive=l=>{const h=Re.getInstance(),f=this.el.querySelector("canvas");this.riveInstance=new vr.exports.Rive({src:l,canvas:f,stateMachines:"Idle",autoplay:!0,onLoad:()=>{this.riveInstance.resizeDrawingSurfaceToCanvas(),h.setRiveInstance(this.riveInstance)}})},this.id="",this.value="",this.height="",this.width="auto",this.ariaLabel="",this.ariaHidden="",this.x="0px",this.y="0px",this.z="0",this.bgColor="",this.type="",this.tabIndex=0,this.visible=!1,this.audio="",this.src="",this.onTouch="",this.onInCorrect="",this.onCorrect="",this.onEntry=""}async componentDidLoad(){ee(this.el,this.type),this.initializeRive(de(this.src))}render(){const n={height:this.height,width:this.width,backgroundColor:this.bgColor,top:this.y,left:this.x,display:this.visible?"flex":"none",zIndex:this.z};return J(Ht,{key:"13774c9ed57355f550239f6c1cf17ed3309cf370",id:this.id,type:this.type,tabindex:this.tabIndex,value:this.value,style:n,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,audio:this.audio,onTouch:this.onTouch,onCorrect:this.onCorrect,onInCorrect:this.onInCorrect,onEntry:this.onEntry},J("canvas",{key:"7e0e3c259f179c70b1e7d34c3f500efc87f28370",class:"lido-canvas"}))}get el(){return Kt(this)}};_o.style=So;const Lo=".lido-col{top:var(--y, 0);left:var(--x, 0);height:var(--height, 100%);width:var(--width, 100%);background-color:var(--bgColor, #eeeeee);padding:15px;border-radius:10px;display:flex;justify-content:space-around;flex-direction:column;align-items:center}.lido-col>*{}.lido-row{display:flex;justify-content:space-around;align-items:center;}.lido-row>*{}.lido-wrap{display:grid;grid-gap:10px;grid-template-columns:repeat(auto-fill, minmax(186px, auto))}.lido-wrap>*{padding:10px;background-color:var(--child-bg-color, #f0f0f0);box-sizing:border-box}.lido-flex{display:flex;flex-wrap:wrap;align-content:flex-start;gap:10px}.lido-pos{top:var(--y, 0);left:var(--x, 0);height:var(--height, 100%);width:var(--width, 100%);background-color:var(--bgColor, #eeeeee);display:flex;justify-content:space-around;flex-direction:column;position:fixed}.lido-pos>*{position:absolute}.lido-random{display:flex;justify-content:space-between;align-items:center;position:absolute;}.lido-random>*{position:absolute}",Eo=Lo,Io=class{constructor(n){zt(this,n),this.id="",this.value="",this.height="auto",this.width="auto",this.ariaLabel="",this.ariaHidden="",this.x="0px",this.y="0px",this.z="0",this.bgColor="",this.type="",this.tabIndex=0,this.visible=!1,this.audio="",this.onTouch="",this.onInCorrect="",this.onCorrect="",this.onEntry="",this.childElementsLength=9999,this.minLength=0,this.maxLength=9999,this.layout="wrap",this.style={}}componentDidLoad(){ee(this.el,this.type),On(this.el,this.minLength,this.maxLength,this.childElementsLength,"flex");const n=this.el.querySelectorAll(".lido-random > *");n&&n.forEach(l=>{const h=Math.random()*100,f=Math.random()*100;l.style.top=`${h}%`,l.style.left=`${f}%`})}componentWillLoad(){this.updateStyles(),window.addEventListener("resize",this.updateStyles.bind(this)),window.addEventListener("load",this.updateStyles.bind(this))}disconnectedCallback(){window.removeEventListener("resize",this.updateStyles.bind(this)),window.removeEventListener("load",this.updateStyles.bind(this))}updateStyles(){const n=window.innerHeight>window.innerWidth?"portrait":"landscape";this.style={height:V(this.height,n),width:V(this.width,n),backgroundColor:V(this.bgColor,n),top:V(this.y,n),left:V(this.x,n),zIndex:this.z,display:JSON.parse(V(`${this.visible}`,n))?V(this.layout,n)==="wrap"?"grid":(V(this.layout,n),"block"):"none"},this.el.className=`lido-${V(this.layout,n)}`}render(){return J(Ht,{key:"5f6c0a3f7b0b34df7447b653fe2007dca7f792b5",id:this.id,value:this.value,type:this.type,tabindex:this.tabIndex,style:this.style,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,audio:this.audio,onTouch:this.onTouch,onCorrect:this.onCorrect,onInCorrect:this.onInCorrect,onEntry:this.onEntry},J("slot",{key:"509cd674a2549d92d360627cc215dc95487152cd"}))}get el(){return Kt(this)}};Io.style=Eo;const To=".lido-col{top:var(--y, 0);left:var(--x, 0);height:var(--height, 100%);width:var(--width, 100%);background-color:var(--bgColor, #eeeeee);padding:15px;border-radius:10px;display:flex;justify-content:space-around;flex-direction:column;align-items:center}.lido-col>*{}",Po=To,Ro=class{constructor(n){zt(this,n),this.id=void 0,this.value=void 0,this.height=void 0,this.width=void 0,this.ariaLabel=void 0,this.ariaHidden=void 0,this.x=void 0,this.y=void 0,this.z=void 0,this.bgColor=void 0,this.type=void 0,this.tabIndex=void 0,this.visible=void 0,this.audio=void 0,this.onTouch=void 0,this.onInCorrect=void 0,this.onCorrect=void 0,this.onEntry=void 0,this.childElementsLength=void 0,this.minLength=void 0,this.maxLength=void 0,this.direction=void 0,this.borderImage=void 0,this.boxShadow=void 0,this.style={}}componentDidLoad(){ee(this.el,this.type),On(this.el,this.minLength,this.maxLength,this.childElementsLength,"flex")}componentWillLoad(){this.updateStyles(),window.addEventListener("resize",this.updateStyles.bind(this)),window.addEventListener("load",this.updateStyles.bind(this))}disconnectedCallback(){window.removeEventListener("resize",this.updateStyles.bind(this)),window.removeEventListener("load",this.updateStyles.bind(this))}updateStyles(){const n=this.borderImage?de(this.borderImage):"",l=window.innerHeight>window.innerWidth?"portrait":"landscape";this.style={height:V(this.height,l),width:V(this.width,l),backgroundColor:V(this.bgColor,l),top:V(this.y,l),left:V(this.x,l),zIndex:this.z,display:this.visible?"flex":"none",flexDirection:this.direction?V(this.direction,l):"column",borderImage:`url(${n})`,borderImageSlice:n?"0 fill":"",boxShadow:this.boxShadow?this.boxShadow:"unset"}}render(){return J(Ht,{key:"1ae3b94e00a0d66face67ef20f4c83fdd65a17d6",id:this.id,class:"lido-col",type:this.type,tabindex:this.tabIndex,value:this.value,style:this.style,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,audio:this.audio,onTouch:this.onTouch,onCorrect:this.onCorrect,onInCorrect:this.onInCorrect,onEntry:this.onEntry},J("slot",{key:"100269c2bb1575ca1b1663f2019ec557ca5f6ddd"}))}get el(){return Kt(this)}};Ro.style=Po;const ko=".lido-container{position:relative;height:100%;width:100%;background-color:var(--bgColor, #ffffff);display:flex;flex-direction:column;justify-content:center;align-items:center}",Mo=ko,Oo=class{constructor(n){zt(this,n),this.id="",this.objective="",this.customStyle="",this.value="",this.height="auto",this.width="auto",this.ariaLabel="auto",this.ariaHidden="",this.x="0px",this.y="0px",this.z="0",this.bgColor="",this.bgImage="",this.type="",this.tabIndex=0,this.visible=!1,this.audio="",this.onTouch="",this.onInCorrect="",this.onCorrect="",this.onEntry="",this.canplay=!0,this.showCheck=!1,this.isContinueOnCorrect=!1,this.isAllowOnlyCorrect=!1,this.baseUrl=""}convertToPixels(n,l=document.body){if(!n)return 0;if(n.endsWith("px"))return parseFloat(n);const h=document.createElement("div");h.style.position="absolute",h.style.visibility="hidden",h.style.height=n,l.appendChild(h);const f=h.offsetHeight;return l.removeChild(h),f}scaleContainer(n){var l;const h=[window.innerWidth],f=[window.innerHeight];!((l=window.screen)===null||l===void 0)&&l.width&&(h.push(window.screen.width),f.push(window.screen.height));const m=Math.min(...h),S=Math.min(...f),w=S>m;let C,g;w?(C=m/900,g=S/1600):(C=m/1600,g=S/900);const I=Math.min(C,g);n.style.transform=`translate(-50%, -50%) scale(${I})`,n.style.left="50%",n.style.top="50%",n.style.position="absolute",this.screenOrientation()}screenOrientation(){window.innerHeight>window.innerWidth?(this.el.style.height="1600px",this.el.style.width="900px"):(this.el.style.height="900px",this.el.style.width="1600px")}componentDidLoad(){this.scaleContainer(this.el);const n=this.bgImage?de(this.bgImage):"";if(document.body.style.backgroundColor=this.bgColor,this.el.style.backgroundImage=n?`url(${n})`:"none",this.el.style.backgroundPosition=n?"bottom":"none",window.addEventListener("resize",()=>this.scaleContainer(this.el)),window.addEventListener("load",()=>this.scaleContainer(this.el)),ee(this.el,this.type),this.customStyle){const l=document.createElement("style");l.innerHTML=this.customStyle,document.head.appendChild(l)}}disconnectedCallback(){window.removeEventListener("resize",()=>this.scaleContainer(this.el)),window.removeEventListener("load",()=>this.scaleContainer(this.el)),document.body.style.backgroundColor="",document.body.style.backgroundImage=""}render(){const n={backgroundColor:this.bgColor,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"};return console.log("ðŸš€ ~ LidoContainer ~ canplay:",this.canplay),J(Ht,{key:"46da2d412ec4dd28db794b9af4d0c65cec5d5fcc",id:"lido-container",tabindex:0,class:"lido-container",objective:this.objective,baseUrl:this.baseUrl,style:n,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,onTouch:this.onTouch,onInCorrect:this.onInCorrect,onCorrect:this.onCorrect,onEntry:this.onEntry,showCheck:`${this.showCheck}`,isContinueOnCorrect:`${this.isContinueOnCorrect}`,isAllowOnlyCorrect:`${this.isAllowOnlyCorrect}`,canplay:`${this.canplay}`},J("slot",{key:"0cadfca1a3a1641760a00a9a7b4dd885ace88af1"}))}get el(){return Kt(this)}};Oo.style=Mo;const Fo=".card{position:relative;width:100%;height:100%;transform-style:preserve-3d;transition:transform 0.6s ease;cursor:pointer}.card.flipped{transform:rotateY(180deg)}.card-face{position:absolute;width:100%;height:100%;backface-visibility:hidden;display:flex;align-items:center;justify-content:center}.card-back{transform:rotateY(180deg)}",Do=Fo,jo=class{constructor(n){zt(this,n),this.updateStyles=()=>{const l=window.innerHeight>window.innerWidth?"portrait":"landscape";this.style={height:V(this.height,l)||"200px",width:V(this.width,l)||"200px",backgroundColor:V(this.bgColor,l),top:V(this.y,l),left:V(this.x,l),zIndex:this.z,display:this.visible?this.display?V(this.display,l):"inline-block":"none",flexDirection:this.direction?V(this.direction,l):void 0}},this.handleFlip=()=>{this.flipped=!this.flipped},this.value="",this.height="auto",this.width="auto",this.ariaLabel="",this.ariaHidden="",this.x="0px",this.y="0px",this.z="0",this.bgColor="",this.type="",this.tabIndex=0,this.visible=!0,this.audio="",this.onTouch="",this.onInCorrect="",this.onCorrect="",this.onEntry="",this.direction=void 0,this.display=void 0,this.front=void 0,this.back=void 0,this.flipped=!1,this.style={}}handleFlippedChange(){}componentWillLoad(){this.updateStyles(),window.addEventListener("resize",this.updateStyles),window.addEventListener("load",this.updateStyles)}componentDidLoad(){ee(this.el,this.type)}disconnectedCallback(){window.removeEventListener("resize",this.updateStyles),window.removeEventListener("load",this.updateStyles)}render(){return J(Ht,{key:"ea25cb3f1eaac3edace398a7b6054a4a631944dd",value:this.value,tabindex:this.tabIndex,style:this.style,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,audio:this.audio,onTouch:this.onTouch,onCorrect:this.onCorrect,onInCorrect:this.onInCorrect,onEntry:this.onEntry,type:this.type,onClick:this.handleFlip},J("div",{key:"c2d58c11a5bb8fd1db369433a64074c538c6e36f",class:`card ${this.flipped?"flipped":""}`},J("div",{key:"15e463371186357b34b92b897fd3e19d8da8d47c",class:"card-face card-front"},this.front!=null?this.front:J("slot",{name:"front"})),J("div",{key:"2db0eb0aba1aad4221b6c3577405bbd863ff36bc",class:"card-face card-back"},this.back!=null?this.back:J("slot",{name:"back"}))))}get el(){return Kt(this)}static get watchers(){return{flipped:["handleFlippedChange"]}}};jo.style=Do;const No="@import url('https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap'); @import url('https://fonts.googleapis.com/css2?family=Baloo+2:wght@400..800&display=swap'); body{overflow:hidden;background-position:center;background-size:cover;background-repeat:no-repeat;height:100vh}.lido-disable-check-button{pointer-events:none;background-color:#9393935c !important;color:white}.lido-element-selected{border:2px solid;background-color:#ffdf7d !important}.diagonal-target,.diagonal-drop *{transform:scale(0.8) !important;opacity:1 !important}.cloned-element{display:flex !important;position:absolute !important;filter:grayscale(100%);pointer-events:none}.removeShadow{box-shadow:0px 0px 0px 0px #FF8900 !important}.highlight-element{border:2px solid white !important;box-shadow:0 2px 4px rgba(151, 150, 150, 0.1) !important}",Wo=No,$o="@keyframes rightToPlace{from{transform:translateX(2000px)}to{transform:translateX(0)}}@keyframes topToPlace{from{transform:translateY(-1000px)}to{transform:translateY(0)}}@keyframes bottomToPlace{from{transform:translateY(1000px)}to{transform:translateY(0)}}@keyframes placeToLeft{from{}to{transform:translateX(-2000px)}}@keyframes leftToPlace{from{transform:translateX(-2000px)}to{transform:translateX(0)}}@keyframes shake{0%{transform:translateX(0)}10%{transform:translateX(-5px)}20%{transform:translateX(5px)}30%{transform:translateX(-5px)}40%{transform:translateX(5px)}50%{transform:translateX(-5px)}60%{transform:translateX(5px)}70%{transform:translateX(-5px)}80%{transform:translateX(5px)}90%{transform:translateX(-5px)}100%{transform:translateX(0)}}@keyframes fallAndBounce{0%{transform:translateY(-1000px)}25%{transform:translateY(0px)}50%{transform:translateY(-200px)}75%{transform:translateY(0)}90%{transform:translateY(-100px)}100%{transform:translateY(0)}}@keyframes placeToDown{0%{transform:translateY(0)}100%{transform:translateY(1000px)}}",Bo=$o,Uo=".lido-snackbar{visibility:visible;min-width:250px;background-color:#333;color:#fff;text-align:center;border-radius:2px;padding:16px;position:fixed;z-index:1;bottom:30px;left:50%;transform:translateX(-50%);font-size:17px}.lido-dot-container{text-align:center;position:fixed;z-index:1;width:fit-content;top:1%;left:50%;transform:translate(-50%)}.lido-dot{height:15px;width:15px;margin:0 4px;background-color:#bbb;border-radius:50%;display:inline-block;transition:background-color 0.3s;cursor:pointer}.lido-dot.completed{background-color:grey}.lido-dot.current{background-color:green}.lido-dot:not(.completed):not(.current){background-color:#bbb}",Ho=Uo,zo=class{constructor(n){zt(this,n),this.NextContainerKey=l=>{l!=null&&l==this.currentContainerIndex||(localStorage.removeItem(Wt),localStorage.removeItem(Et),localStorage.removeItem(Ke),localStorage.removeItem(le),l!=null&&l<this.containers.length?(this.currentContainerIndex=l,sr(this.currentContainerIndex)):this.currentContainerIndex<this.containers.length-1?(this.currentContainerIndex++,sr(this.currentContainerIndex)):this.currentContainerIndex>=this.containers.length-1&&(this.showCompletionMessage=!0,oo(),this.currentContainerIndex=0,setTimeout(()=>{this.showCompletionMessage=!1},3e3)),this.containers=[...this.containers])},this.xmlData="",this.initialIndex=0,this.canplay=!0,this.baseUrl="",this.height="",this.currentContainerIndex=this.initialIndex,this.showCompletionMessage=!1,this.containers=[]}componentWillLoad(){window.addEventListener(ei,()=>{this.NextContainerKey()}),window.addEventListener("changeContainer",n=>{this.NextContainerKey(n.detail.index)}),this.parseXMLData(this.xmlData),window.addEventListener("beforeunload",()=>{localStorage.removeItem(Wt),localStorage.removeItem(Et),localStorage.removeItem(Ke),localStorage.removeItem(le)})}disconnectedCallback(){window.removeEventListener(ei,()=>{this.NextContainerKey()}),window.removeEventListener("changeContainer",n=>{this.NextContainerKey(n.detail.index)})}parseXMLData(n){if(n){const f=new DOMParser().parseFromString(n,"text/xml").documentElement;this.parseContainers(f)}}onXmlDataChange(n){this.parseXMLData(n)}parseElement(n){const l=n.nodeName.toLowerCase(),h={};Array.from(n.attributes).forEach(S=>{h[S.name]=S.value});const f=Array.from(n.childNodes).map(S=>S.nodeType===1?this.parseElement(S):S.nodeType===3&&S.textContent.trim()!==""?S.textContent:null).filter(Boolean),m={"lido-container":J("lido-container",Object.assign({},h,{canplay:this.canplay,baseUrl:this.baseUrl,height:this.height}),f),"lido-flash-card":J("lido-flash-card",Object.assign({},h),f),"lido-col":J("lido-col",Object.assign({},h),f),"lido-trace":J("lido-trace",Object.assign({},h),f),"lido-image":J("lido-image",Object.assign({},h),f),"lido-row":J("lido-row",Object.assign({},h),f),"lido-text":J("lido-text",Object.assign({},h),f),"lido-pos":J("lido-pos",Object.assign({},h),f),"lido-shape":J("lido-shape",Object.assign({},h),f),"lido-wrap":J("lido-wrap",Object.assign({},h),f),"lido-random":J("lido-random",Object.assign({},h),f),"lido-avatar":J("lido-avatar",Object.assign({},h),f),"lido-cell":J("lido-cell",Object.assign({},h),f)};return m[l]?m[l]:(console.warn(`Unknown tag: ${l}`),null)}parseContainers(n){const l=[];n.querySelectorAll("lido-container").forEach(f=>{const m=this.parseElement(f);m&&l.push(m)}),this.containers=l}renderDots(){const n={pointerEvents:this.canplay?"none":""};return J("div",{id:"lido-dot-indicator",class:"lido-dot-container",style:n},this.containers.map((l,h)=>J("span",{class:`lido-dot ${h<this.currentContainerIndex?"completed":h===this.currentContainerIndex?"current":""}`,onClick:()=>this.jumpToContainer(h)})))}jumpToContainer(n){this.NextContainerKey(n)}render(){return console.log("ðŸš€ ~ LidoHome ~ render ~ this.containers:",this),this.xmlData?J(Ht,{index:this.currentContainerIndex,totalIndex:this.containers.length},J("div",{key:this.currentContainerIndex},this.containers[this.currentContainerIndex]),this.renderDots(),this.showCompletionMessage&&J("div",{class:"lido-snackbar"},"All containers have been displayed!")):J("div",null,"Please provide XML data.")}static get watchers(){return{xmlData:["onXmlDataChange"]}}};zo.style=Wo+(Bo+Ho);const Xo=".lido-image{user-select:none;-webkit-user-drag:none;object-fit:contain;width:100% !important;height:100% !important;aspect-ratio:1 / 1;}.slice{background-repeat:no-repeat;background-position:center;background-size:100% 100%}",Yo=Xo,Vo=class{constructor(n){zt(this,n),this.id=void 0,this.value=void 0,this.height=void 0,this.width=void 0,this.ariaLabel=void 0,this.ariaHidden=void 0,this.x=void 0,this.y=void 0,this.z=void 0,this.bgColor=void 0,this.type=void 0,this.tabIndex=void 0,this.visible=void 0,this.audio=void 0,this.onTouch=void 0,this.onInCorrect=void 0,this.onCorrect=void 0,this.onEntry=void 0,this.src=void 0,this.isSlice=void 0,this.sliceWidth="30px",this.style=void 0}componentDidLoad(){ee(this.el,this.type)}componentWillLoad(){this.updateStyles(),window.addEventListener("resize",this.updateStyles.bind(this)),window.addEventListener("load",this.updateStyles.bind(this))}disconnectedCallback(){window.removeEventListener("resize",this.updateStyles.bind(this)),window.removeEventListener("load",this.updateStyles.bind(this))}updateStyles(){const n=window.innerHeight>window.innerWidth?"portrait":"landscape";this.style={height:V(this.height,n),width:V(this.width,n),backgroundColor:V(this.bgColor,n),top:V(this.y,n),left:V(this.x,n),zIndex:this.z,display:V(`${this.visible}`,n)?"flex":"none",alignItems:"center",justifyContent:"center",borderImageSource:this.isSlice==="true"?`url(${de(this.src)})`:"none",borderImageSlice:this.isSlice==="true"?`${parseInt(this.sliceWidth)} fill`:"unset",borderImageRepeat:this.isSlice==="true"?"round":"unset",borderImageWidth:this.isSlice==="true"?`${this.sliceWidth}`:"unset",backgroundImage:this.isSlice==="true"?`url(${de(this.src)})`:"none"}}render(){return this.isSlice==="true"?J(Ht,{class:"slice",id:this.id,type:this.type,tabIndex:this.tabIndex,onEntry:this.onEntry,style:this.style}):J(Ht,{type:this.type,tabindex:this.tabIndex,style:this.style,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,value:this.value,audio:this.audio,onTouch:this.onTouch,onCorrect:this.onCorrect,onInCorrect:this.onInCorrect,onEntry:this.onEntry},J("img",{class:"lido-image",src:de(this.src),alt:"",style:this.style}))}get el(){return Kt(this)}};Vo.style=Yo;const qo=".lido-pos{top:var(--y, 0);left:var(--x, 0);height:var(--height, 100%);width:var(--width, 100%);background-color:var(--bgColor, #eeeeee);display:flex;justify-content:space-around;flex-direction:column;position:fixed}.lido-pos>*{position:absolute}",Go=qo,Jo=class{constructor(n){zt(this,n),this.id="",this.value="",this.height="auto",this.width="auto",this.ariaLabel="",this.ariaHidden="",this.x="0px",this.y="0px",this.z="0",this.bgColor="",this.type="",this.tabIndex=0,this.visible=!1,this.audio="",this.onTouch="",this.onInCorrect="",this.onCorrect="",this.onEntry="",this.style=void 0}componentDidLoad(){ee(this.el,this.type)}componentWillLoad(){this.updateStyles(),window.addEventListener("resize",this.updateStyles.bind(this)),window.addEventListener("load",this.updateStyles.bind(this))}disconnectedCallback(){window.removeEventListener("resize",this.updateStyles.bind(this)),window.removeEventListener("load",this.updateStyles.bind(this))}updateStyles(){const n=window.innerHeight>window.innerWidth?"portrait":"landscape";this.style={height:V(this.height,n),width:V(this.width,n),backgroundColor:V(this.bgColor,n),top:V(this.y,n),left:V(this.x,n),zIndex:this.z,display:JSON.parse(V(`${this.visible}`,n))?"block":"none"}}render(){return J(Ht,{key:"1365208256912a2baed6e34aaee3ab995b4a60ec",id:this.id,class:"lido-pos",type:this.type,tabindex:this.tabIndex,style:this.style,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,value:this.value,audio:this.audio,onTouch:this.onTouch,onCorrect:this.onCorrect,onInCorrect:this.onInCorrect,onEntry:this.onEntry},J("slot",{key:"a07632722f7b3dad8e9d32de1b8f9015b155c6a1"}))}get el(){return Kt(this)}};Jo.style=Go;const Ko=".lido-random{display:flex;justify-content:space-between;align-items:center;position:absolute;}.lido-random>*{position:absolute}",Zo=Ko,Qo=class{constructor(n){zt(this,n),this.id="",this.value="",this.height="auto",this.width="auto",this.ariaLabel="",this.ariaHidden="",this.x="0px",this.y="0px",this.z="0",this.bgColor="",this.type="",this.tabIndex=0,this.visible=!1,this.audio="",this.onTouch="",this.onInCorrect="",this.onCorrect="",this.onEntry=""}componentDidLoad(){this.el.querySelectorAll(".lido-random > *").forEach(l=>{const h=Math.random()*100,f=Math.random()*100;l.style.top=`${h}%`,l.style.left=`${f}%`})}render(){const n={height:this.height,width:this.width,top:this.y,left:this.x,display:this.visible?"block":"none",zIndex:this.z,backgroundColor:this.bgColor};return J(Ht,{key:"5484db114de4b4b176ba75c49da85063d030f7a2",class:"lido-random",type:this.type,tabindex:this.tabIndex,value:this.value,style:n,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,audio:this.audio,onTouch:this.onTouch,onCorrect:this.onCorrect,onInCorrect:this.onInCorrect,onEntry:this.onEntry},J("slot",{key:"14a4b6a1009fbba0bd7a24aec0a1314968594c60"}))}get el(){return Kt(this)}};Qo.style=Zo;const ms=class{constructor(n){zt(this,n),this.xmlPath="",this.initialIndex=0,this.canplay=!0,this.baseUrl="",this.xmlData=void 0}async componentWillLoad(){var n;const l=(n=this.xmlPath)!==null&&n!==void 0?n:this.baseUrl+"/index.xml";console.log("ðŸš€ ~ LidoRoot ~ componentWillLoad ~ this.baseUrl:",this.baseUrl),console.log("ðŸš€ ~ LidoRoot ~ componentWillLoad ~ this.xmlPath:",this.xmlPath),console.log("ðŸš€ ~ LidoRoot ~ componentWillLoad ~ xmlPath:",l);try{const h=l.startsWith("http")?l:pr(l),f=await fetch(h);if(!f.ok)throw new Error(`Failed to fetch XML data: ${f.statusText}`);const m=await f.text();this.xmlData=m}catch(h){console.error("Error fetching XML data:",h),this.xmlData=null}}render(){return this.xmlData===void 0?J("div",null,"Loading..."):this.xmlData===null?J("div",null,"Error loading XML data. Please check the path or URL."):J("lido-home",{initialIndex:this.initialIndex,canplay:this.canplay,xmlData:this.xmlData,baseUrl:this.baseUrl})}static get assetsDirs(){return["assets"]}},ts=".lido-row{display:flex;justify-content:space-around;align-items:center;}.lido-row>*{}",es=ts,ns=class{constructor(n){zt(this,n),this.value=void 0,this.height=void 0,this.width=void 0,this.ariaLabel=void 0,this.ariaHidden=void 0,this.x=void 0,this.y=void 0,this.z=void 0,this.bgColor=void 0,this.type=void 0,this.tabIndex=void 0,this.visible=void 0,this.audio=void 0,this.onTouch=void 0,this.onInCorrect=void 0,this.onCorrect=void 0,this.onEntry=void 0,this.childElementsLength=void 0,this.minLength=void 0,this.maxLength=void 0,this.direction=void 0,this.style={},this.display=void 0}componentDidLoad(){ee(this.el,this.type),On(this.el,this.minLength,this.maxLength,this.childElementsLength,"flex")}componentWillLoad(){this.updateStyles(),window.addEventListener("resize",this.updateStyles.bind(this)),window.addEventListener("load",this.updateStyles.bind(this))}disconnectedCallback(){window.removeEventListener("resize",this.updateStyles.bind(this)),window.removeEventListener("load",this.updateStyles.bind(this))}updateStyles(){const n=window.innerHeight>window.innerWidth?"portrait":"landscape";this.style={height:V(this.height,n),width:V(this.width,n),backgroundColor:V(this.bgColor,n),top:V(this.y,n),left:V(this.x,n),zIndex:this.z,display:this.visible?this.display?V(this.display,n):"flex":"none",flexDirection:this.direction?V(this.direction,n):"row",gridTemplateColumns:this.display&&V(this.display,n)==="grid"?"repeat(auto-fill, minmax(186px, auto))":void 0,gap:this.display&&V(this.display,n)==="grid"?"20px":void 0}}render(){return J(Ht,{key:"7364de30a9c1f58da7e6a249056e782566f8d85b",class:"lido-row",type:this.type,tabindex:this.tabIndex,value:this.value,style:this.style,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,audio:this.audio,onTouch:this.onTouch,onCorrect:this.onCorrect,onInCorrect:this.onInCorrect,onEntry:this.onEntry},J("slot",{key:"188f2ca5213217d3efed0a314b7ecea256065e4f"}))}get el(){return Kt(this)}};ns.style=es;const is=".lido-shape{position:absolute;top:var(--y);left:var(--x);display:var(--display);z-index:var(--z)}.lido-rectangle{border-radius:0}.lido-circle{width:var(--width);height:var(--width);border-radius:50%;background-color:var(--bgColor)}.lido-ellipse{width:var(--width);height:var(--height);border-radius:50%;background-color:var(--bgColor)}.lido-triangle{width:var(--triangleWidth);height:var(--triangleHeight);background-color:var(--bgColor);clip-path:polygon(50% 0%, 100% 100%, 0% 100%)}.lido-rightTriangle{width:var(--triangleWidth);height:var(--triangleHeight);background-color:var(--bgColor);clip-path:polygon(100% 0%, 100% 100%, 0% 100%)}.lido-leftTriangle{width:var(--triangleWidth);height:var(--triangleHeight);background-color:var(--triangleBgColor);clip-path:polygon(0% 0%, 100% 100%, 0% 100%)}.lido-parallelogram{width:var(--paralleWidth);height:var(--paralleHeight);transform:skew(20deg)}.lido-star{width:var(--starWidth);height:var(--starHeight);background-color:var(--starBgColor);clip-path:polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%)}.lido-pentagon{width:var(--pentagonWidth);height:var(--pentagonHeight);background-color:var(--pentagonBgColor);clip-path:polygon(50% 0%, 100% 38%, 82% 100%, 18% 100%, 0% 38%)}.lido-heptagon{width:var(--heptagonWidth);height:var(--heptagonHeight);background-color:var(--heptagonBgColor);clip-path:polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%)}.lido-octagon{width:var(--octagonWidth);height:var(--octagonHeight);background-color:var(--octagonBgColor);clip-path:polygon(25% 0%, 75% 0%, 100% 25%, 100% 75%, 75% 100%, 25% 100%, 0% 75%, 0% 25%)}.lido-rhombus{width:var(--rhombusWidth);height:var(--rhombusHeight);background-color:var(--rhombusBgColor);clip-path:polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%)}.lido-heart{height:var(--heartHeight);width:var(--heartWidth);border-image:radial-gradient(var(--heartBgColor) 69%, #0000 70%) 84.5%/50%;clip-path:polygon(-41% 0, 50% 91%, 141% 0)}",rs=is,os=class{constructor(n){zt(this,n),this.id="",this.value="",this.height="auto",this.width="auto",this.ariaLabel="",this.ariaHidden="",this.x="0px",this.y="0px",this.z="0",this.bgColor="",this.type="",this.tabIndex=0,this.shapeType="circle",this.visible=!1,this.audio="",this.onTouch="",this.onInCorrect="",this.onCorrect="",this.onEntry=""}componentDidLoad(){ee(this.el,this.type)}render(){const n={height:this.shapeType!=="polygon"?this.height:void 0,width:this.shapeType!=="polygon"?this.width:void 0,top:this.y,left:this.x,display:this.visible?"block":"none",zIndex:this.z,backgroundColor:this.shapeType!=="polygon"?this.bgColor:"transparent"};return J(Ht,{key:"695f839a47bb78ae61ad648195f521273e4daef1",class:`lido-shape ${this.shapeType}`,value:this.value,type:this.type,tabindex:this.tabIndex,style:n,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,audio:this.audio,onTouch:this.onTouch,onCorrect:this.onCorrect,onInCorrect:this.onInCorrect,onEntry:this.onEntry})}get el(){return Kt(this)}};os.style=rs;const ss=".lido-text{background-color:#fff;box-shadow:0 2px 4px rgba(0, 0, 0, 0.1);transition:background-color 0.3s ease;user-select:none;align-items:center;justify-content:center;text-align:center;border-radius:8px;color:#333;cursor:pointer}.lido-text:hover{background-color:#f0f0f0}",as=ss,ls=class{constructor(n){zt(this,n),this.id="",this.value="",this.string="",this.font="",this.fontSize="20px",this.fontColor="",this.highlightWhileSpeaking=!1,this.height="auto",this.width="auto",this.ariaLabel="",this.ariaHidden="",this.x="0px",this.y="0px",this.z="0",this.bgColor="",this.borderImage="",this.type="",this.tabIndex=0,this.visible=!1,this.audio="",this.onTouch="",this.onInCorrect="",this.onCorrect="",this.onEntry="",this.style={}}componentDidLoad(){ee(this.el,this.type)}componentWillLoad(){this.updateStyles(),window.addEventListener("resize",this.updateStyles.bind(this)),window.addEventListener("load",this.updateStyles.bind(this))}disconnectedCallback(){window.removeEventListener("resize",this.updateStyles.bind(this)),window.removeEventListener("load",this.updateStyles.bind(this))}updateStyles(){const n=this.borderImage?de(this.borderImage):"",l=window.innerHeight>window.innerWidth?"portrait":"landscape";this.style={height:V(this.height,l),width:V(this.width,l),backgroundColor:V(this.bgColor,l),top:V(this.y,l),left:V(this.x,l),zIndex:this.z,fontSize:V(this.fontSize,l),fontFamily:this.font,color:V(this.fontColor,l),display:V(`${this.visible}`,l)?"flex":"none",borderImage:`url(${n})`,borderImageSlice:n?"0 fill":""}}render(){return J(Ht,{key:"eab478b94574242bc092116f4661bcff7d0f724b",class:"lido-text",value:this.value,type:this.type,tabindex:this.tabIndex,audio:this.audio,onTouch:this.onTouch,onCorrect:this.onCorrect,onInCorrect:this.onInCorrect,onEntry:this.onEntry,id:this.id,style:this.style,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden},this.string)}get el(){return Kt(this)}};ls.style=as;const cs=":host{display:block;position:relative}#lido-svgContainer{position:absolute;top:0;left:0;right:0;bottom:50px;display:flex;justify-content:center;align-items:center;overflow:hidden}svg{width:100%;height:100%;max-height:calc(100vh - 50px);touch-action:none}#lido-draggableCircle{cursor:pointer;fill:red;transition:fill 0.2s, r 0.2s}.lido-blindTracing{stroke:none !important}.lido-blindFreeTrace{stroke:none !important}.lido-hovered{cursor:grab;fill:darkred}#lido-controls{position:fixed;bottom:0;left:0;right:0;display:flex;justify-content:space-between;padding:10px;background-color:#f0f0f0;border-top:1px solid #ccc}button{padding:10px;font-size:16px}@media (max-width: 600px){button{padding:8px;font-size:14px}}.lido-trace-path-green{}",us=cs,ds=class{constructor(n){zt(this,n),this.id="",this.svgSource="",this.value="",this.height="auto",this.width="auto",this.x="0px",this.y="0px",this.z="0",this.ariaLabel="",this.ariaHidden="",this.tabIndex=0,this.mode=Bt.ShowFlow,this.fingerHintUrl="https://aeakbcdznktpsbrfsgys.supabase.co/storage/v1/object/public/template-assets/trace/finger.png",this.fileIndex=-1,this.isDragging=!1,this.activePointerId=null,this.idleTimer=null,this.fingerImg=null}async initializeSVG(){let n={fileIndex:-1,currentPathIndex:0,lastLength:0,totalPathLength:0,isDragging:!1,circle:null,paths:[],svg:null,proximityThreshold:100,freeTraceProximityThreshold:50,rafId:null,pointerMoveEvent:null,activePointerId:null,mode:this.mode,flowMarkers:[],freeTraceLines:[],currentFreePath:[],lastPointerPos:null};await this.loadAnotherSVG(n,!0)}componentWillLoad(){this.initializeSVG()}resetIdleTimer(n){this.idleTimer!==null&&(clearTimeout(this.idleTimer),this.idleTimer=null),this.idleTimer=window.setTimeout(()=>{this.showFingerHint(n)},3e3)}showFingerHint(n){var l;if(this.fingerImg)return;const h=n.paths[n.currentPathIndex];if(!h)return;const f=40,m=document.createElementNS("http://www.w3.org/2000/svg","image");m.setAttributeNS("http://www.w3.org/1999/xlink","href",de(this.fingerHintUrl)),m.setAttribute("width",`${f}`),m.setAttribute("height",`${f}`),m.setAttribute("id","lido-finger-hint"),m.style.pointerEvents="none",m.style.opacity="0.8",m.setAttribute("x","0"),m.setAttribute("y","0");const S=document.createElementNS("http://www.w3.org/2000/svg","animateMotion");S.setAttribute("dur","2s"),S.setAttribute("repeatCount","indefinite");const w=document.createElementNS("http://www.w3.org/2000/svg","mpath");w.setAttributeNS("http://www.w3.org/1999/xlink","href",`#${h.id}`),S.appendChild(w),m.appendChild(S),(l=n.svg)===null||l===void 0||l.appendChild(m),this.fingerImg=m}hideFingerHint(){this.fingerImg&&this.fingerImg.parentNode&&this.fingerImg.parentNode.removeChild(this.fingerImg),this.fingerImg=null}async fetchSVG(n){const l=await fetch(n);if(!l.ok)throw new Error(`Failed to fetch SVG (${n}): ${l.statusText}`);return await l.text()}calculateBoundingBox(n,l=22){let h=1/0,f=1/0,m=-1/0,S=-1/0;return n.forEach(w=>{const C=w.getTotalLength(),g=100;for(let I=0;I<=g;I++){const A=w.getPointAtLength(I/g*C);A.x<h&&(h=A.x),A.y<f&&(f=A.y),A.x>m&&(m=A.x),A.y>S&&(S=A.y)}}),h-=l,f-=l,m+=l,S+=l,{minX:h,minY:f,maxX:m,maxY:S}}insertSVG(n){const l=document.getElementById("lido-svgContainer");l.innerHTML=n;const h=l.querySelector("svg");h.removeAttribute("width"),h.removeAttribute("height");const f=h.querySelectorAll("path, line"),m=this.calculateBoundingBox(Array.from(f)),S=m.maxX-m.minX,w=m.maxY-m.minY;h.setAttribute("viewBox",`${m.minX} ${m.minY} ${S} ${w}`)}getSVGElement(){return document.getElementById("lido-svgContainer").querySelector("svg")}getPaths(n){return Array.from(n.querySelectorAll("path, line"))}createFlowMarkersForPath(n,l=10){var h;const m=n.getTotalLength()/(l+1),S=[];for(let w=1;w<=l;w++){const C=n.getPointAtLength(w*m),g=n.getPointAtLength((w+.5)*m),I=Math.atan2(g.y-C.y,g.x-C.x),A=document.createElementNS("http://www.w3.org/2000/svg","polygon");A.setAttribute("points","-5,-5 0,0 -5,5"),A.setAttribute("fill","blue"),A.setAttribute("transform",`translate(${C.x},${C.y}) rotate(${I*180/Math.PI})`),A.setAttribute("class","lido-flow-indicator"),S.push(A),(h=n.parentNode)===null||h===void 0||h.appendChild(A)}return S}updateFlowIndicators(n){n.svg.querySelectorAll(".lido-flow-indicator").forEach(h=>{n.mode===Bt.NoFlow?h.style.display="none":n.mode===Bt.ShowFlow&&(h.style.display="block")})}setupDrawingPath(n){n.paths.forEach((l,h)=>{const f=l.getTotalLength();l.setAttribute("id","lido-path-"+h);const m=l.cloneNode();m.style.opacity="100",m.style["stroke-opacity"]="100";const S=l.style["stroke-width"]||l.getAttribute("stroke-width");m.setAttribute("stroke-width",S),m.setAttribute("stroke-dasharray",f.toString()),m.setAttribute("stroke-dashoffset",f.toString()),l.parentNode.appendChild(m,l),l.setAttribute("class","lido-trace-path"),m.setAttribute("class","lido-trace-path-green"),l.greenPath=m,l.classList.add(n.mode),n.mode===Bt.BlindTracing||n.mode===Bt.BlindFreeTrace?l.setAttribute("stroke","none"):(l.setAttribute("stroke","#000"),l.setAttribute("stroke-width",S),l.setAttribute("fill","none"),l.setAttribute("stroke-dasharray",f.toString()),l.setAttribute("stroke-dashoffset","0")),h===n.currentPathIndex&&n.mode===Bt.ShowFlow&&(n.flowMarkers=this.createFlowMarkersForPath(l))}),n.totalPathLength=n.paths[n.currentPathIndex].getTotalLength()}setupDraggableCircle(n){var l;const h=n.paths[0].getPointAtLength(0),f=document.createElementNS("http://www.w3.org/2000/svg","circle"),m=n.paths[n.currentPathIndex].style["stroke-width"]||n.paths[n.currentPathIndex].getAttribute("stroke-width");f.setAttribute("id","lido-draggableCircle"),f.setAttribute("cx",h.x.toString()),f.setAttribute("cy",h.y.toString()),f.setAttribute("r",`calc(${m||10} / 2)`),f.setAttribute("fill","red"),(l=n.svg)===null||l===void 0||l.appendChild(f),n.circle=f,this.resetIdleTimer(n)}addEventListeners(n){var l,h,f,m;if(!n.circle||!n.paths||n.paths.length===0)return;n.circle.addEventListener("pointerdown",w=>{w.preventDefault();const C=this.getPointerPosition(w,n.svg),g={x:parseFloat(n.circle.getAttribute("cx")),y:parseFloat(n.circle.getAttribute("cy"))};this.getDistanceSquared(C,g)<=n.proximityThreshold*n.proximityThreshold&&(n.isDragging=!0,n.activePointerId=w.pointerId,n.circle.setPointerCapture(w.pointerId)),this.hideFingerHint(),this.resetIdleTimer(n)}),(l=n.svg)===null||l===void 0||l.addEventListener("pointermove",w=>{!n.isDragging||w.pointerId!==n.activePointerId||(n.pointerMoveEvent=w,n.rafId||(n.rafId=requestAnimationFrame(()=>{this.handlePointerMove(n),n.rafId=null})))});const S=w=>{w.pointerId===n.activePointerId&&(n.isDragging=!1,n.activePointerId=null,this.hideFingerHint(),this.resetIdleTimer(n))};(h=n.svg)===null||h===void 0||h.addEventListener("pointerup",S),(f=n.svg)===null||f===void 0||f.addEventListener("pointercancel",S),(m=n.svg)===null||m===void 0||m.addEventListener("contextmenu",w=>{w.preventDefault()})}handlePointerMove(n){var l,h,f,m;if(!n.isDragging||!n.circle||!n.paths||n.paths.length===0)return;this.hideFingerHint();const S=n.pointerMoveEvent,w=this.getPointerPosition(S,n.svg),C={x:parseFloat(n.circle.getAttribute("cx")),y:parseFloat(n.circle.getAttribute("cy"))},g=n.paths[n.currentPathIndex];if(!g){console.error("No valid path found at the current index");return}let I;if(n.mode===Bt.FreeTrace||n.mode===Bt.BlindFreeTrace?I=n.freeTraceProximityThreshold*n.freeTraceProximityThreshold:I=n.proximityThreshold*n.proximityThreshold,this.getDistanceSquared(w,C)>I)return;const E=this.getClosestPointOnPath(g,w);if(!(this.getDistanceSquared(w,E)>I)){if(n.mode===Bt.FreeTrace||n.mode===Bt.BlindFreeTrace){if(n.currentFreePath||(n.currentFreePath=[]),!n.currentFreePath[n.currentPathIndex]){const z=document.createElementNS("http://www.w3.org/2000/svg","path"),q=n.paths[n.currentPathIndex].style["stroke-width"]||n.paths[n.currentPathIndex].getAttribute("stroke-width");z.setAttribute("stroke-width",q),z.setAttribute("fill","none"),z.setAttribute("stroke-linecap","round"),z.setAttribute("stroke","lightgreen"),z.setAttribute("d",`M${w.x},${w.y}`),(l=n.svg)===null||l===void 0||l.appendChild(z),n.currentFreePath[n.currentPathIndex]=z,n.lastPointerPos=w}const u=n.lastPointerPos||w,$=n.currentFreePath[n.currentPathIndex].getAttribute("d"),at=(u.x+w.x)/2,W=(u.y+w.y)/2,Y=`${$} Q ${u.x},${u.y} ${at},${W}`;n.currentFreePath[n.currentPathIndex].setAttribute("d",Y),n.circle.setAttribute("cx",w.x.toString()),n.circle.setAttribute("cy",w.y.toString()),(h=n.svg)===null||h===void 0||h.appendChild(n.circle),n.lastPointerPos=w,g.getTotalLength()-E.length<5&&(this.moveToNextPath(n),n.currentFreePath[n.currentPathIndex]=null);return}n.isDragging&&E.length>=n.lastLength&&(n.lastLength=E.length,n.circle.setAttribute("cx",E.x.toString()),n.circle.setAttribute("cy",E.y.toString()),(f=n.svg)===null||f===void 0||f.appendChild(n.circle),(m=g.greenPath)===null||m===void 0||m.setAttribute("stroke-dashoffset",(n.totalPathLength-n.lastLength).toString())),n.totalPathLength-1-n.lastLength<5&&n.currentPathIndex<n.paths.length-1?this.moveToNextPath(n):n.totalPathLength-1-n.lastLength<5&&n.currentPathIndex===n.paths.length-1&&kn()}}getPointerPosition(n,l){var h;const f=l.createSVGPoint();f.x=n.clientX,f.y=n.clientY;const m=(h=l.getScreenCTM())===null||h===void 0?void 0:h.inverse();return m?f.matrixTransform(m):{x:n.clientX,y:n.clientY}}getDistanceSquared(n,l){const h=n.x-l.x,f=n.y-l.y;return h*h+f*f}getClosestPointOnPath(n,l){const h=n.getTotalLength();let f={x:0,y:0,length:0},m=1/0;const S=20;let w={length:0},C=1/0;for(let E=0;E<=h;E+=S){const k=n.getPointAtLength(E),u=this.getDistanceSquared(l,k);u<C&&(C=u,w={x:k.x,y:k.y,length:E})}const g=2,I=Math.max(w.length-S,0),A=Math.min(w.length+S,h);for(let E=I;E<=A;E+=g){const k=n.getPointAtLength(E),u=this.getDistanceSquared(l,k);u<m&&(m=u,f={x:k.x,y:k.y,length:E})}return f}async loadAnotherSVG(n,l){n.isDragging=!1;try{n.svg&&this.cleanupPreviousSVG(n);const h=await this.fetchSVG(de(this.svgSource));this.insertSVG(h),n.svg=this.getSVGElement(),(this.mode===Bt.BlindTracing||this.mode===Bt.BlindFreeTrace)&&n.svg.querySelectorAll("image").forEach(f=>{f.style.display="none"}),n.paths=this.getPaths(n.svg),this.setupDrawingPath(n),this.setupDraggableCircle(n),this.addEventListeners(n)}catch(h){console.error(`Error loading SVG (${this.svgSource}):`,h)}}cleanupPreviousSVG(n){var l,h;n.circle&&((l=n.svg)===null||l===void 0||l.removeChild(n.circle),n.circle=null),((h=n.svg)===null||h===void 0?void 0:h.querySelectorAll(".lido-flow-indicator")).forEach(m=>{m.remove()}),n.currentPathIndex=0,n.lastLength=0,n.totalPathLength=n.paths[0].getTotalLength(),this.hideFingerHint(),this.resetIdleTimer(n)}moveToNextPath(n){var l,h;if(n.isDragging=!1,n.currentPathIndex++,n.lastLength=0,this.hideFingerHint(),n.currentPathIndex>=n.paths.length){kn();return}const f=n.paths[n.currentPathIndex];if(!f){console.error("No valid path found at the next index");return}n.totalPathLength=f.getTotalLength();const m=f.getPointAtLength(0);(l=n.circle)===null||l===void 0||l.setAttribute("cx",m.x.toString()),(h=n.circle)===null||h===void 0||h.setAttribute("cy",m.y.toString()),n.mode===Bt.ShowFlow&&(n.flowMarkers=this.createFlowMarkersForPath(f)),this.resetIdleTimer(n)}render(){const n={height:this.height,width:this.width,top:this.y,left:this.x,zIndex:this.z,position:"absolute"};return J(Ht,{key:"f8bdfdcde4ca0a6d7c0d8980fe5e5550b2307fa5",class:"lido-trace",id:this.id,style:n,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,tabindex:this.tabIndex},J("div",{key:"a78c2329aa8477c26719404d75144f9810410c5e",id:"lido-svgContainer"}))}static get assetsDirs(){return["svg","images"]}static get watchers(){return{svgSource:["initializeSVG"],mode:["initializeSVG"]}}};ds.style=us;const hs=".lido-wrap{display:grid;grid-gap:10px;grid-template-columns:repeat(auto-fill, minmax(186px, auto))}.lido-wrap>*{padding:10px;background-color:var(--child-bg-color, #f0f0f0);box-sizing:border-box}.lido-flex{display:flex;flex-wrap:wrap;align-content:flex-start;gap:10px}",fs=hs,ps=class{constructor(n){zt(this,n),this.id=void 0,this.value=void 0,this.height=void 0,this.width=void 0,this.ariaLabel=void 0,this.ariaHidden=void 0,this.x=void 0,this.y=void 0,this.z=void 0,this.bgColor=void 0,this.type=void 0,this.tabIndex=void 0,this.visible=void 0,this.audio=void 0,this.onTouch=void 0,this.onInCorrect=void 0,this.onCorrect=void 0,this.onEntry=void 0,this.childElementsLength=void 0,this.minLength=void 0,this.maxLength=void 0,this.flex=void 0,this.style=void 0}componentDidLoad(){ee(this.el,this.type),On(this.el,this.minLength,this.maxLength,this.childElementsLength,"grid"),this.flex==="true"&&(this.el.classList.remove("lido-wrap"),this.el.classList.add("lido-flex"))}componentWillLoad(){this.updateStyles(),window.addEventListener("resize",this.updateStyles.bind(this)),window.addEventListener("load",this.updateStyles.bind(this))}disconnectedCallback(){window.removeEventListener("resize",this.updateStyles.bind(this)),window.removeEventListener("load",this.updateStyles.bind(this))}updateStyles(){const n=window.innerHeight>window.innerWidth?"portrait":"landscape";this.style={height:V(this.height,n),width:V(this.width,n),backgroundColor:V(this.bgColor,n),top:V(this.y,n),left:V(this.x,n),zIndex:this.z,display:JSON.parse(V(`${this.visible}`,n))?this.flex==="true"?"flex":"grid":"none"}}render(){return J(Ht,{key:"3bc4fed1d27019c7fa1cbda6f30330fd842cbe71",class:"lido-wrap",value:this.value,type:this.type,tabindex:this.tabIndex,style:this.style,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,audio:this.audio,onTouch:this.onTouch,onCorrect:this.onCorrect,onInCorrect:this.onInCorrect,onEntry:this.onEntry},J("slot",{key:"49ad6f1037e60eacba5bade1e73845cf2f211719"}))}get el(){return Kt(this)}};ps.style=fs;export{_o as lido_avatar,Io as lido_cell,Ro as lido_col,Oo as lido_container,jo as lido_flash_card,zo as lido_home,Vo as lido_image,Jo as lido_pos,Qo as lido_random,ms as lido_root,ns as lido_row,os as lido_shape,ls as lido_text,ds as lido_trace,ps as lido_wrap};
