import{g as pr,r as Ut,h as G,H as $t,a as te}from"./preview-CHYvaRZo.js";import"./iframe-xR31WuE5.js";const Lt="lidoDragSelectedMap",jt="lidoSelectedValues",Zn="lidoActivityScore",Gr="lidoActivityEnd",Jr="lidoLessonEnd",ti="lidoNextContainer",Kr="lidoActivityChange",Zr="lidoGameCompleted",Qr="lidoElementDrop",to="lidoElementClick",Ke="dropLength",ae="dropHasDrag";var Nt;(function(n){n.NoFlow="noFlow",n.ShowFlow="showFlow",n.FreeTrace="freeTrace",n.BlindTracing="blindTracing",n.BlindFreeTrace="blindFreeTrace"})(Nt||(Nt={}));class eo{constructor(){this.rightMoves=0,this.wrongMoves=0,this.finalScore=0}}var Qt;(function(n){n.Diagonal="diagonal"})(Qt||(Qt={}));function ke(n,l){const h=new CustomEvent(n,{detail:l});window.dispatchEvent(h)}function no(n,l,h){ke(Gr,{index:n,totalIndex:l,score:h})}function io(n){ke(Jr,{score:n})}function ro(){ke(ti,{})}function oo(){ke(Zr,{})}function sr(n){ke(Kr,{index:n})}function so(n,l,h){ke(Qr,{dragElement:n,dropElement:l,isCorrect:h,createdAt:new Date().toISOString()})}function ar(n,l){ke(to,{element:n,isCorrect:l,createdAt:new Date().toISOString()})}class Re{constructor(){}static getInstance(){return Re.instance||(Re.instance=new Re),Re.instance}setRiveInstance(l){this.riveInstance=l}getRiveInstance(){return this.riveInstance}}class le{constructor(){this.audioElement=document.createElement("audio"),this.audioElement.id="audio",document.body.appendChild(this.audioElement)}static getI(){return le.instance||(le.instance=new le),le.instance}stop(){window!=null&&window.speechSynthesis&&window.speechSynthesis.cancel(),this.audioElement.pause(),this.audioElement.currentTime=0,this.audioElement.src="",document.querySelectorAll(".speaking-highlight").forEach(v=>Qn(v));const h=document.querySelector("#play"),f=document.querySelector("#pause");h&&f&&(h.style.visibility="visible",f.style.visibility="hidden")}async play(l){let h=l.getAttribute("audio")||"";if(!h){const f=l.children;for(let v=0;v<f.length;v++){const S=f[v].getAttribute("audio");S&&(h=S)}}if(h){h=ue(h),this.audioElement.src=h,console.log("ðŸš€ Playing audio:",this.audioElement.src);try{await this.audioElement.play(),fr(l),await new Promise(f=>{this.audioElement.onended=()=>{Qn(l),f()}})}catch(f){console.log("ðŸš€ Audio play error:",f)}}else if(l.textContent)try{fr(l),await Co(l.textContent),Qn(l)}catch(f){console.log("ðŸš€ TTS Error:",f)}}}let En;function lr(n){const l=window.getComputedStyle(n).transform;if(l&&l!=="none"){const h=l.match(/matrix\(([^)]+)\)/);if(h)return h[1].split(",").map(v=>parseFloat(v.trim()))[0]}return 1}const Te=n=>{const l=document.createElement("div");if(n.getAttribute("type")==="option")return l.style.width=n.style.width,l.style.height=n.style.height,l;const h=n.style.width,f=n.style.padding;return n.style.width="auto",n.style.padding="0 20px",l.style.width=`${n.offsetWidth+20}px`,l.style.height=`${n.offsetHeight+20}px`,l.style.border="1px solid",l.style.backgroundColor="#00000021",l.style.borderRadius="10px",n.style.width=h,n.style.padding=f,l.setAttribute("value",`${n.getAttribute("value")}`),l};function cr(n){let l=!1,h=!1,f=0,v=0,S=0,C=0;const w=document.querySelector("#lido-container"),y=document.querySelector('[type="blank"]'),P=n.parentElement!==y?n.parentElement:null,A=n.getAttribute("type"),E=w.querySelector('[type="optionArea"]');if(E&&(E.style.display="block",E.style.overflowY="auto"),!w){console.error('Container with ID "lido-container" not found.');return}const k=W=>{h=!0,l=!1;const Y=ur(W);S=Y.clientX,C=Y.clientY,document.addEventListener("mousemove",u),document.addEventListener("mouseup",U),document.addEventListener("touchmove",u,{passive:!1}),document.addEventListener("touchend",U)},u=W=>{const Y=ur(W),nt=Math.abs(Y.clientX-S),$=Math.abs(Y.clientY-C);if(!l&&(nt>5||$>5)){if(l=!0,n.parentElement!==y&&A==="word"){const xt=Te(n);n.parentElement.insertBefore(xt,n.nextElementSibling)}if(n.parentElement.getAttribute("type")!=="category"&&A==="option"){const xt=Te(n);xt.setAttribute("value",`${n.getAttribute("value")}`),xt.style.visibility="hidden",n.parentElement.insertBefore(xt,n.nextElementSibling)}const Ct=w.getBoundingClientRect(),ht=lr(w),Ht=(Y.clientX-Ct.left-f)/ht,ft=(Y.clientY-Ct.top-v)/ht;n.style.left=`${Ht}px`,n.style.top=`${ft}px`;const It=n.getBoundingClientRect();f=Y.clientX-It.left,v=Y.clientY-It.top,n.style.opacity="0.8",n.style.cursor="grabbing",n.style.position="absolute",n.style.zIndex="1000",n.style.touchAction="none",n.style.transition="none"}if(!l)return;h=!1,W.preventDefault();const B=w.getBoundingClientRect(),Z=lr(w),D=(Y.clientX-B.left-f)/Z,yt=(Y.clientY-B.top-v)/Z;n.style.left=`${D}px`,n.style.top=`${yt}px`;let rt;if(A==="option")rt=se(n,"option")||se(n,"dummy");else if(rt=se(n,"word")||se(n,"dummy"),rt&&rt.parentElement!==document.querySelector('[type="blank"]'))return;rt&&rt.getAttribute("type")==="dummy"||En!==null&&En===rt||(co(n,rt),En=rt)},U=()=>{l=!1,document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",U),document.removeEventListener("touchmove",u),document.removeEventListener("touchend",U);const W=document.querySelector('[type="dummy"]');if(h){st(n);return}if(A==="option"){const Y=se(n,"category"),$=Array.from(w.querySelectorAll(`[value="${n.getAttribute("value")}"]`)).find(B=>B!==n);if(Y){if(W&&(W.replaceWith(n),Y.parentElement.classList.add("highlight-element"),w.querySelectorAll('[type="category"]').forEach(Z=>{Z!==Y&&Z.parentElement.classList.remove("highlight-element")}),hr(n,Y)),$){const B=`
            @keyframes widthDecrease {
              0% { width: ${$.offsetWidth}px; height: ${$.offsetHeight}px; }
              100% { width: 0px; height: 0px;}
            }
          `,Z=document.styleSheets[0];Z.insertRule(B,Z.cssRules.length),$.style.animation="widthDecrease 0.5s",$.addEventListener("animationend",()=>{$.remove()})}}else if(n.parentElement.type!=="category")Ot("this.alignMatch=true",$,n),setTimeout(()=>{$.replaceWith(n)},500);else{const B=n.parentElement,Z=JSON.parse(localStorage.getItem(Lt))||{},D=B.tabIndex,yt=n.value;Z[D]&&(Z[D]=Z[D].filter(rt=>rt!==yt),localStorage.setItem(Lt,JSON.stringify(Z))),E.scrollTo({top:E.scrollHeight,behavior:"smooth"}),E.appendChild(n),W&&W.remove()}In(n);return}if(se(n,"blank")&&W&&W.replaceWith(n),P){const Y=Array.from(P.children);(ao(n,P)||n.parentElement===P)&&Y.forEach($=>{$!==n&&$.getAttribute("value")===n.getAttribute("value")&&$.replaceWith(n)})}In(n),En=null,dr(y,n)},st=W=>{if(A==="option"){const Y=w.querySelectorAll('[type="category"]'),nt=Array.from(Y).find($=>$.parentElement.className.includes("highlight-element"));if(W.parentElement.getAttribute("type")==="category"){const $=JSON.parse(localStorage.getItem(Lt))||{},B=nt.tabIndex,Z=W.value;$[B]&&($[B]=$[B].filter(yt=>yt!==Z),localStorage.setItem(Lt,JSON.stringify($)));const D=Te(W);E.appendChild(D),E.scrollTo({top:E.scrollHeight,behavior:"smooth"}),W.style.position="absolute",Ot("this.alignMatch='true'",D,W),setTimeout(()=>{In(W),D.replaceWith(W)},500);return}else{if(!nt)return;const $=Te(W);nt.appendChild($),W.style.position="absolute",Ot("this.alignMatch=true",$,W),setTimeout(()=>{$.replaceWith(W),In(W),hr(W,nt),W.style.transform="translate(0,0)",W.style.marginBottom="10px"},500);return}}if(A==="word"&&W.parentElement===P){const Y=Te(W);Y.style.visibility="hidden",y.appendChild(Y),Ot("this.alignMatch=true",Y,W),setTimeout(()=>{const nt=Te(W);W.parentElement.insertBefore(nt,W.nextElementSibling),Y.replaceWith(W),W.style.transform="translate(0,0)",dr(y,W)},500);return}else{const nt=Array.from(P.children).find($=>$.getAttribute("value")===W.getAttribute("value"));Ot("this.alignMatch=true",nt,W),setTimeout(()=>{nt.replaceWith(W),W.style.transform="translate(0,0)"},500)}};n.style.cursor="move",n.addEventListener("pointerdown",k)}const In=n=>{n.style.opacity="",n.style.cursor="move",n.style.zIndex="",n.style.transform="",n.style.transition="",n.style.position="",n.style.left="",n.style.top=""};function ao(n,l){const h=n.getBoundingClientRect(),f=l.getBoundingClientRect();return!(h.right<f.left||h.left>f.right||h.bottom<f.top||h.top>f.bottom)}function se(n,l){const h=Array.from(document.querySelectorAll(`[type="${l}"]`));let f=0,v=null;const S=n.getBoundingClientRect();for(const C of h){if(C===n)continue;const w=C.getBoundingClientRect(),y=lo(S,w);y>f&&(f=y,v=C)}return v}function ur(n){return n instanceof MouseEvent?{clientX:n.clientX,clientY:n.clientY}:{clientX:n.touches[0].clientX,clientY:n.touches[0].clientY}}function lo(n,l){const h=Math.max(0,Math.min(n.right,l.right)-Math.max(n.left,l.left)),f=Math.max(0,Math.min(n.bottom,l.bottom)-Math.max(n.top,l.top));return h*f}function co(n,l){var h,f;if(n===l||l&&l.getAttribute("type")==="option"&&l.parentElement.getAttribute("type")!=="category"||n.getAttribute("type")==="word"&&!se(n,"blank")||n.getAttribute("type")==="option"&&!se(n,"category"))return;const v=document.querySelector('[type="blank"]'),S=document.querySelector('[type="dummy"]');if(S)if(l)(h=l.parentNode)===null||h===void 0||h.insertBefore(S,l);else{const C=se(n,"category");C?C.appendChild(S):v.appendChild(S)}else{const C=Te(n);C.style.visibility="hidden",C.setAttribute("type","dummy");const w=`
      @keyframes widthIncrease {
        0% { width: 0px; height: 0px; }
        100% { width: ${n.offsetWidth}px; height: ${n.offsetHeight}px;}
      }
    `;if(l)(f=l.parentNode)===null||f===void 0||f.insertBefore(C,l);else{const P=se(n,"category");P?P.appendChild(C):v.appendChild(C)}const y=document.styleSheets[0];y.insertRule(w,y.cssRules.length),C.style.animation="widthIncrease 0.5s",C.addEventListener("animationend",()=>{C.style.width=`${n.offsetWidth}px`,C.style.height=`${n.offsetHeight}px`})}}const dr=(n,l)=>{const h=document.querySelector("#lido-container"),v=h.getAttribute("objective").split(",");let S=JSON.parse(localStorage.getItem(jt))||[];const C=n.children;S=Array.from(C).map(y=>y.getAttribute("value")),localStorage.setItem(jt,JSON.stringify(S));const w=S.indexOf(l.value);if(w>=0){const y=ni(l.value,[v[w].trim()]);!y&&h.isAllowOnlyCorrect&&Array.from(h.querySelectorAll(`[value="${l.value}"]`)).find(E=>E!==l).replaceWith(l),Qe(y),en()}};async function hr(n,l){let h=JSON.parse(localStorage.getItem(Lt))||{},f=h[l.tabIndex];if(!(Array.isArray(f)&&f.includes(n.value))){for(const v in h){const S=h[v].indexOf(n.value);S!==-1&&h[v].splice(S,1)}localStorage.setItem(Lt,JSON.stringify(h)),await gr(n,l)}}const ce=new eo,Mn=n=>{n.style.animation="unset";const l=window.getComputedStyle(n).transform;if(l==="none")return 1;{const h=l.match(/matrix\(([^)]+)\)/);if(h){const f=h[1].split(", ");return parseFloat(f[0])}}return 1};function uo(n){let l=!1,h=!1,f=0,v=0,S=0,C=0;const w=n.parentElement;if(!w){console.error("Parent element not found.");return}const y=u=>{tn(n),h=!0,u instanceof MouseEvent?(f=u.clientX,v=u.clientY):(f=u.touches[0].clientX,v=u.touches[0].clientY),n.style.opacity="0.8",n.style.cursor="grabbing";const U=window.getComputedStyle(n).transform;if(U!=="none"){const st=U.match(/matrix\(([^)]+)\)/);if(st){const W=st[1].split(", ");S=parseFloat(W[4]),C=parseFloat(W[5])}}else S=0,C=0;w.getBoundingClientRect(),n.getBoundingClientRect(),document.addEventListener("mousemove",E),document.addEventListener("mouseup",k),document.addEventListener("touchmove",E),document.addEventListener("touchend",k)},P=new MutationObserver(u=>{for(const U of u)U.type==="attributes"&&U.attributeName==="style"&&(w.getBoundingClientRect(),n.getBoundingClientRect())}),A={attributes:!0,attributeFilter:["style"]};P.observe(w,A);const E=u=>{if(!h)return;const U=Mn(w);let st=0,W=0;u instanceof MouseEvent?(st=(u.clientX-f)/U,W=(u.clientY-v)/U):(st=(u.touches[0].clientX-f)/U,W=(u.touches[0].clientY-v)/U);const Y=S+st,nt=C+W,$=w.getBoundingClientRect(),B=n.getBoundingClientRect(),D=n.style.transform.match(/-?\d+(\.\d+)?/g).map(Number),yt=B.left/U-D[0],rt=B.top-D[1],Ct=B.right/U-D[0],ht=B.bottom-D[1],Ht=$.right-Ct,ft=$.left-yt,It=$.top-rt,xt=$.bottom-ht,Wt=Y+yt<=$.left?ft:Math.min(Y,Ht),Bt=nt+rt<=$.top?It:Math.min(nt,xt);n.style.transform=`translate(${Wt}px, ${Bt}px)`;let lt=Tn(n,"slide");if(lt&&lt!=n){const Xt=n.parentElement,_t=lt.parentElement;if(Xt&&_t){const ct=document.createComment("element-placeholder"),At=document.createComment("overlapped-placeholder");Xt.replaceChild(ct,n),_t.replaceChild(At,lt),Xt.replaceChild(lt,ct),_t.replaceChild(n,At),n.style.transform="translate(0, 0)",f=u instanceof MouseEvent?u.clientX:u.touches[0].clientX,v=u instanceof MouseEvent?u.clientY:u.touches[0].clientY,S=0,C=0,l=!0}}},k=u=>{h=!1,document.removeEventListener("mousemove",E),document.removeEventListener("mouseup",k),document.removeEventListener("touchmove",E),document.removeEventListener("touchend",k),n.style.opacity="",n.style.cursor="move",n.style.transform="translate(0, 0)",l&&(ho(n),l=!1)};n.style.cursor="move",n.style.transform="translate(0, 0)",n.addEventListener("mousedown",y),n.addEventListener("touchstart",y),n.addEventListener("click",u=>{ii(n,"drag")})}const ho=n=>{const l=JSON.parse(localStorage.getItem(jt))||[],h=document.querySelectorAll("[type='slide']");let f=0;h.forEach(y=>{l[f++]=y.value}),localStorage.setItem(jt,JSON.stringify(l));const S=document.querySelector("#lido-container").objective.split(","),C=l.indexOf(n.value),w=ni(n.value,[S[C].trim()]);Qe(w),en()};function fo(n){let l=!1,h=!1,f=0,v=0,S=0,C=0,w=null;const y=document.querySelector("#lido-container");if(!y){console.error('Container with ID "container" not found.');return}oi(n,"drag");let P,A;const E=$=>{var B;if(le.getI().stop(),tn(n),l=!0,h=!0,$ instanceof MouseEvent?(f=$.clientX,v=$.clientY):(f=$.touches[0].clientX,v=$.touches[0].clientY),n.style.opacity="0.8",n.style.cursor="grabbing",((B=n.getAttribute("dropAttr"))===null||B===void 0?void 0:B.toLowerCase())===Qt.Diagonal){const D=window.getComputedStyle(n),yt=n.getBoundingClientRect();w||(w=n.cloneNode(!0),w.style.left=`${yt.left}px`,w.style.top=`${yt.top}px`,w.style.width=`${yt.width}px`,w.style.height=`${yt.height}px`,w.style.transform=D.transform,w.style.zIndex="0",w.setAttribute("visible","true"),w.classList.add("cloned-element"),document.body.appendChild(w))}const Z=window.getComputedStyle(n).transform;if(Z!=="none"){const D=Z.match(/matrix\(([^)]+)\)/);if(D){const yt=D[1].split(", ");S=parseFloat(yt[4]),C=parseFloat(yt[5])}}else S=0,C=0;document.addEventListener("mousemove",W),document.addEventListener("mouseup",nt),document.addEventListener("touchmove",W),document.addEventListener("touchend",nt)},k=y.getBoundingClientRect(),u=n.getBoundingClientRect();P=k.top-u.top,A=k.left-u.left;const U=new MutationObserver($=>{for(const B of $)if(B.type==="attributes"&&B.attributeName==="style"){const Z=y.getBoundingClientRect(),D=n.getBoundingClientRect();P=Z.top-D.top,A=Z.left-D.left}}),st={attributes:!0,attributeFilter:["style"]};U.observe(y,st);const W=$=>{if(!l)return;h=!1,n.style.transition="none";const B=Mn(y);let Z=0,D=0;$ instanceof MouseEvent?(Z=($.clientX-f)/B,D=($.clientY-v)/B):(Z=($.touches[0].clientX-f)/B,D=($.touches[0].clientY-v)/B);const yt=S+Z,rt=C+D,Ct=y.getBoundingClientRect(),ht=n.getBoundingClientRect(),ft=n.style.transform.match(/-?\d+(\.\d+)?/g).map(Number),It=ht.left/B-ft[0],xt=ht.top-ft[1],Wt=Ct.width/B-Math.abs(A/B)-ht.width/B,Bt=Ct.left-It,lt=Ct.top-xt,Xt=Ct.height/B-Math.abs(P/B)-ht.height/B,_t=yt+It<=Ct.left?Bt:Math.min(yt,Wt),ct=rt+xt<=Ct.top?lt:Math.min(rt,Xt);n.style.transform=`translate(${_t}px, ${ct}px)`;let At=Tn(n,"drop");document.querySelectorAll("[type='drop']").forEach(K=>{var gt;const d=JSON.parse(localStorage.getItem(Lt))||{};Object.keys(d).map(Number).includes(K.tabIndex)?((gt=n.getAttribute("dropAttr"))===null||gt===void 0?void 0:gt.toLowerCase())!==Qt.Diagonal&&(K.tagName.toLowerCase()==="lido-text"&&(K.style.border="",K.style.backgroundColor="transparent"),K.tagName.toLowerCase()==="lido-image"&&(K.style.opacity="0")):(K.tagName.toLowerCase()==="lido-text"&&(K.style.border="",K.style.backgroundColor=""),K.tagName.toLowerCase()==="lido-image"&&(K.style.opacity="1"))}),At&&(At.tagName.toLowerCase()==="lido-text"?(At.style.border="2px dashed #ff0000",At.style.backgroundColor="rgba(255, 0, 0, 0.1)"):At.style.opacity="0.3")};let Y=null;const nt=$=>{var B;if(l=!1,h){w&&(w.remove(),w=null),n.style.opacity="1";return}document.removeEventListener("mousemove",W),document.removeEventListener("mouseup",nt),document.removeEventListener("touchmove",W),document.removeEventListener("touchend",nt),n.style.opacity="",n.style.cursor="move";const Z=document.querySelectorAll("[type='drop']");Z.forEach(yt=>{Z.forEach(rt=>{var Ct;const ht=JSON.parse(localStorage.getItem(Lt))||{};Object.keys(ht).map(Number).includes(rt.tabIndex)?((Ct=n.getAttribute("dropAttr"))===null||Ct===void 0?void 0:Ct.toLowerCase())!==Qt.Diagonal&&(rt.tagName.toLowerCase()==="lido-text"&&(rt.style.border="",rt.style.backgroundColor="transparent"),rt.tagName.toLowerCase()==="lido-image"&&(rt.style.opacity="0")):(rt.tagName.toLowerCase()==="lido-text"&&(rt.style.border="",rt.style.backgroundColor=""),rt.tagName.toLowerCase()==="lido-image"&&(rt.style.opacity="1"))})});let D=Tn(n,"drop");Rn(n,D),((B=n.getAttribute("dropAttr"))===null||B===void 0?void 0:B.toLowerCase())===Qt.Diagonal&&(D?n&&(n.classList.add("diagonal-drop"),D.classList.add("diagonal-target"),Y=D):(Y&&(Y.classList.remove("diagonal-target"),Y=null),n==null||n.classList.remove("diagonal-drop"),n.style.transform="translate(0, 0)",w&&(w.remove(),w=null)))};n.style.cursor="move",n.style.transform="translate(0, 0)",n.addEventListener("mousedown",E),n.addEventListener("touchstart",E),n.addEventListener("click",$=>{h&&ii(n,"drag")})}const Tn=(n,l)=>{const h=n.getBoundingClientRect(),f=document.querySelectorAll(`[type="${l}"]`);let v=null,S=0;return f.forEach(C=>{if(C===n)return;const w=C.getBoundingClientRect(),y=Math.max(0,Math.min(h.right,w.right)-Math.max(h.left,w.left)),P=Math.max(0,Math.min(h.bottom,w.bottom)-Math.max(h.top,w.top)),A=y*P;if(A!==0)if(l==="slide"){const E=h.width*h.height,k=w.width*w.height,u=Math.min(E,k)*.8;A>=u&&A>S&&(S=A,v=C)}else A>S&&(S=A,v=C)}),v};async function Rn(n,l){var h;const f=localStorage.getItem(jt)||"",v=localStorage.getItem(Lt);let S=JSON.parse(localStorage.getItem(ae)||" {}");if(l&&((h=l.getAttribute("dropAttr"))===null||h===void 0?void 0:h.toLowerCase())!==Qt.Diagonal&&(l.getAttribute("isAllowOnlyOneDrop")==="true"||!l.getAttribute("isAllowOnlyOneDrop"))){const y=Object.values(S).find(A=>document.getElementById(A.drop)===l);if(y?y.isFull=!0:console.warn("No matching drop item found for",l),localStorage.setItem(ae,JSON.stringify(S)),Tn(n,"drag")){if(n.style.transform="translate(0,0)",n.style.transition="transform 0.5s ease",v){let E=JSON.parse(v);for(const k in E)E[k].includes(n.value)&&delete E[k];localStorage.setItem(Lt,JSON.stringify(E))}document.querySelectorAll("[type='drop']").forEach(E=>{var k;const u=JSON.parse(localStorage.getItem(Lt))||{};Object.keys(u).map(Number).includes(E.tabIndex)?((k=E.getAttribute("dropAttr"))===null||k===void 0?void 0:k.toLowerCase())!==Qt.Diagonal&&(E.tagName.toLowerCase()==="lido-text"&&(E.style.border="",E.style.backgroundColor="transparent"),E.tagName.toLowerCase()==="lido-image"&&(E.style.opacity="0")):(E.tagName.toLowerCase()==="lido-text"&&(E.style.border="",E.style.backgroundColor=""),E.tagName.toLowerCase()==="lido-image"&&(E.style.opacity="1"))});return}}if(!l){n.style.transform="translate(0,0)",n.style.transition="transform 0.5s ease";let y=Pn.get(n);if(y){let A=Object.values(S).find(E=>document.getElementById(E.drop)===y);A&&(A.isFull=!1,localStorage.setItem(ae,JSON.stringify(S))),Pn.delete(n)}if(f){let A=JSON.parse(f);A=A.filter(E=>E!=n.value),localStorage.setItem(jt,JSON.stringify(A))}if(v){let A=JSON.parse(v);for(const E in A)A[E].includes(n.value)&&delete A[E];localStorage.setItem(Lt,JSON.stringify(A))}document.querySelectorAll("[type='drop']").forEach(A=>{var E;const k=JSON.parse(localStorage.getItem(Lt))||{};Object.keys(k).map(Number).includes(A.tabIndex)?((E=A.getAttribute("dropAttr"))===null||E===void 0?void 0:E.toLowerCase())!==Qt.Diagonal&&(A.tagName.toLowerCase()==="lido-text"&&(A.style.border="",A.style.backgroundColor="transparent"),A.tagName.toLowerCase()==="lido-image"&&(A.style.opacity="0")):(A.tagName.toLowerCase()==="lido-text"&&(A.style.border="",A.style.backgroundColor=""),A.tagName.toLowerCase()==="lido-image"&&(A.style.opacity="1"))}),en();return}if(v){let y=Pn.get(n);if(y){let A=Object.values(S).find(E=>document.getElementById(E.drop)===y);A&&(A.isFull=!1,localStorage.setItem(ae,JSON.stringify(S)))}let P=JSON.parse(v);for(const A in P)P[A].includes(n.value)&&delete P[A];localStorage.setItem(Lt,JSON.stringify(P))}let C=JSON.parse(localStorage.getItem(Ke))||0;if(C+=1,localStorage.setItem(Ke,JSON.stringify(C)),C===Ze(l.value)){const y=Object.values(S).find(P=>document.getElementById(P.drop)===l);y?y.isFull=!0:console.warn("No matching drop item found for",l),localStorage.setItem(ae,JSON.stringify(S)),C=0,localStorage.setItem(Ke,JSON.stringify(C))}Pn.set(n,l);const w=l.value.includes(n.value);if(so(n,l,w),w){const y=l.getAttribute("onCorrect");y&&await Ot(y,l,n)}else{const y=l.getAttribute("onInCorrect");await Ot(y,l,n)}Qe(w),n.style.opacity="1",await gr(n,l)}const Ot=async(n,l,h)=>{var f;const v=po(n);for(let S=0;S<v.length;S++){const C=v[S],w=document.querySelector(C.actor),y=C.actor==="this"?l:C.actor==="element"?h:w||document.getElementById(C.actor);if(y)switch(C.action){case"transform":{const P=window.getComputedStyle(y).transform;y.style.transform=P!=="none"?`${P} ${C.value}`:C.value;break}case"alignMatch":{const P=y,A=h,E=document.querySelector("#lido-container"),k=Mn(E);A.style.transform="translate(0,0)",A.style.transition="transform 0.5s ease";const u=P.getBoundingClientRect(),U=A.getBoundingClientRect(),st=u.left+u.width/2,W=u.top+u.height/2,Y=U.left+U.width/2,nt=U.top+U.height/2,$=(st-Y)/k,B=(W-nt)/k;((f=h.getAttribute("dropAttr"))===null||f===void 0?void 0:f.toLowerCase())===Qt.Diagonal?A.style.transform=`translate(${$-70}px, ${B-70}px)`:A.style.transform=`translate(${$}px, ${B}px)`;break}case"removeClone":{document.querySelectorAll(C.value).forEach(A=>A.remove());break}case"addClass":{y.classList.add(C.value);break}case"removeClass":{y.classList.remove(C.value);break}case"speak":{await le.getI().play(y);break}case"stop":{await le.getI().stop();break}case"sleep":{!isNaN(Number(C.value))&&await new Promise(A=>setTimeout(A,Number(C.value)));break}case"avatarAnimate":{const A=Re.getInstance().getRiveInstance();A&&C.value&&A.play(C.value);break}default:{y.style[C.action]=C.value;break}}}},po=n=>{var l;const h=[];return n&&((l=n.split(";"))===null||l===void 0?void 0:l.map(v=>v.trim())).forEach(v=>{if(v){const[S,C]=v.split("=").map(y=>y.trim()),w=S.lastIndexOf(".");if(w!==-1){const y=S.substring(0,w).trim(),P=S.substring(w+1).trim();h.push({actor:y,action:P,value:C.replace(/['"]/g,"")})}}}),h},ni=(n,l)=>{const h=n.split(",").map(S=>S.trim());let f=0,v=new Set;for(const S of h)if(S.startsWith("(")&&S.endsWith(")")){const C=S.slice(1,-1).split("|").map(y=>y.trim()),w=l[f].slice(1,-1).split("|").map(y=>y.trim());if(f>w.length)return!1;for(let y=0;y<C.length;y++)if(!C.includes(w[y]))return!1;f++}else if(S.includes("|")){const C=S.split("|").map(w=>w.trim());for(const w of C)v.add(w)}else{if(f>=l.length||l[f]!==S)return!1;f++}for(;f<l.length;){if(!v.has(l[f]))return!1;v.delete(l[f]),f++}return f===l.length},Ze=n=>{const l=n.split(",").map(f=>f.trim());let h=0;for(const f of l)f.startsWith("(")&&f.endsWith(")")?f.includes("|")?h+=f.split("|").length:h+=1:h+=f.split("|").length;return h};async function gr(n,l){var h;const f=document.querySelector("#lido-container");if(!f)return;if(f.getAttribute("isAllowOnlyCorrect")==="true"&&!l.value.includes(n.value)){n.style.transform="translate(0,0)",n.type==="option"&&Array.from(f.querySelectorAll(`[value="${n.value}"]`)).forEach(k=>{k!==n&&k.getAttribute("value")===n.getAttribute("value")&&k.replaceWith(n)});return}await Ot("this.alignMatch='true'",l,n);let S=JSON.parse((h=localStorage.getItem(Lt))!==null&&h!==void 0?h:"{}");const C=l.getAttribute("tabindex");S[C]||(S[C]=[]),S[C].push(n.value),localStorage.setItem(Lt,JSON.stringify(S));const y=Object.keys(S).sort((A,E)=>parseInt(A)-parseInt(E)).reduce((A,E)=>{const k=S[E];return k.length>1?A.push(`(${k.join("|")})`):A.push(k[0]),A},[]);localStorage.setItem(jt,JSON.stringify(y)),document.querySelectorAll("[type='drop']").forEach(A=>{var E;const k=JSON.parse(localStorage.getItem(Lt))||{};Object.keys(k).map(Number).includes(A.tabIndex)?((E=A.getAttribute("dropAttr"))===null||E===void 0?void 0:E.toLowerCase())!==Qt.Diagonal&&(A.tagName.toLowerCase()==="lido-text"&&(A.style.border="",A.style.backgroundColor="transparent"),A.tagName.toLowerCase()==="lido-image"&&(A.style.opacity="0")):(A.tagName.toLowerCase()==="lido-text"&&(A.style.border="",A.style.backgroundColor=""),A.tagName.toLowerCase()==="lido-image"&&(A.style.opacity="1"))}),en()}const Qe=n=>{n?ce.rightMoves+=1:ce.wrongMoves+=1,console.log("Right Moves : ",ce.rightMoves),console.log("Wrong Moves : ",ce.wrongMoves)},go=()=>{const n=ce.rightMoves,l=ce.wrongMoves;let h=Math.floor(n/(n+l)*100);vo(h),ce.rightMoves=0,ce.wrongMoves=0},vo=n=>{var l,h,f;const v=document.querySelector("lido-home");if(!v)return;const S=Number((l=v.getAttribute("index"))!==null&&l!==void 0?l:0),C=Number((h=v.getAttribute("totalIndex"))!==null&&h!==void 0?h:0),w=JSON.parse((f=localStorage.getItem(Zn))!==null&&f!==void 0?f:"{}"),y=S.toString();if(w[y]=n,no(S,C,n),localStorage.setItem(Zn,JSON.stringify(w)),C-1==S){const P=Object.values(w),A=P.reduce((E,k)=>E+k,0)/P.length;ce.finalScore=Math.floor(A),console.log("Total Score : ",ce.finalScore),io(A),localStorage.removeItem(Zn)}},en=()=>{var n;const l=document.querySelector("#lido-container"),h=l.objective,f=(n=localStorage.getItem(jt))!==null&&n!==void 0?n:"",v=document.querySelector("#lido-checkButton");if(!f||Ze(f)!==Ze(h)){Ot("this.addClass='lido-disable-check-button'",v);return}l.getAttribute("showCheck")=="true"?v.classList.remove("lido-disable-check-button"):ei()},ei=async()=>{var n;const l=document.querySelector("#lido-container");if(!l)return;const h=l.objective,f=(n=JSON.parse(localStorage.getItem(jt)))!==null&&n!==void 0?n:[];if(ni(h,f)){const S=l.getAttribute("onCorrect");S&&await Ot(S,l),kn()}else{const S=l.getAttribute("onInCorrect");await Ot(S,l),l.getAttribute("isContinueOnCorrect")==="true"||kn()}await go()},kn=()=>{le.getI().stop(),console.log("ðŸš€ ~ triggerNextContainer ~ event:",event),ro()},de=async(n,l)=>{const h=document.querySelector("#lido-container");if(!h)return;const f=n.getAttribute("onEntry");await Ot(f,n);const v=h.getAttribute("canplay");if(!(v!=null&&v==="false")){switch(l){case"drag":{fo(n);break}case"click":{yo(n);break}case"drop":{bo(n);break}case"slide":{uo(n);break}case"word":{cr(n);break}case"option":{cr(n);break}}mo(n)}};function mo(n){if(!n)return;const l=n.getAttribute("onTouch");l&&(n.onclick=async()=>{console.log("ðŸš€ ~ element.onclick= ~ onTouch:",l),l&&await Ot(l,n)})}function yo(n){if(oi(n,"click"),n.style.cursor="pointer",!n){console.error("No element provided.");return}const l=async()=>{le.getI().stop();const h=document.querySelector("#lido-container"),f=h.objective.split(","),v=document.querySelector("#lido-checkButton"),S=h.getAttribute("showCheck")==="true";if(n.getAttribute("id")=="lido-checkButton"){v.classList.add("lido-disable-check-button"),await ei();return}const C=n.classList.contains("lido-element-selected");let w=JSON.parse(localStorage.getItem(jt))||[];if(f.length===1){localStorage.setItem(jt,JSON.stringify([n.value]));const y=f.includes(n.value);if(ar(n,y),y){const P=n.getAttribute("onCorrect");n.style.pointerEvents="none",await Ot(P,n)}else{const P=n.getAttribute("onInCorrect");await Ot(P,n)}Qe(y),en();return}if(S&&v.classList.remove("lido-disable-check-button"),C){n.classList.remove("lido-element-selected"),Ot(n.getAttribute("onEntry"),n),w=w.filter(E=>E!=n.value),localStorage.setItem(jt,JSON.stringify(w));let y=JSON.parse(localStorage.getItem(Lt))||{};const P=n.value,A=Object.keys(y).find(E=>y[E].includes(P));if(A){y[A]=y[A].filter(u=>u!==P),y[A].length===0&&delete y[A],localStorage.setItem(Lt,JSON.stringify(y));const k=Object.keys(y).sort((u,U)=>parseInt(u)-parseInt(U)).reduce((u,U)=>u.concat(y[U]),[]);localStorage.setItem(jt,JSON.stringify(k))}S&&w.length===0&&v.classList.add("lido-disable-check-button");return}else{n.classList.add("lido-element-selected");const y=n.value,P=Object.keys(f).find(U=>f[U]===y);let A=JSON.parse(localStorage.getItem(Lt))||{};P?A[P]=[y]:A[f.length+w.length]=[y],localStorage.setItem(Lt,JSON.stringify(A));const k=Object.keys(A).sort((U,st)=>parseInt(U)-parseInt(st)).reduce((U,st)=>U.concat(A[st]),[]);localStorage.setItem(jt,JSON.stringify(k));const u=f.includes(n.value);if(ar(n,u),u){const U=n.getAttribute("onCorrect");await Ot(U,n)}else{const U=n.getAttribute("onInCorrect");await Ot(U,n)}Qe(u)}!S&&Ze(f)===Ze(w)&&ei()};n.addEventListener("click",l),n.addEventListener("pointerdown",()=>{n.getAttribute("animation")==="clickable"&&(n.classList.add("removeShadow"),n.style.top="40px",n.style.position="relative")}),n.addEventListener("pointerup",()=>{n.getAttribute("animation")==="clickable"&&setTimeout(()=>{n.classList.remove("removeShadow"),n.style.top="0px",n.style.position="relative"},50)})}function bo(n){let l=JSON.parse(localStorage.getItem(ae)||"{}");const h=n.getAttribute("tabIndex");(typeof l!="object"||l===null)&&(l={}),l[h]||(l[h]={drop:n.id,isFull:!1},localStorage.setItem(ae,JSON.stringify(l))),n.onclick=()=>{ii(n,"drop")},oi(n,"drop")}async function ii(n,l){if(document.querySelectorAll(`[type='${l}']`).forEach(S=>{tn(S)}),!document.querySelector("#dynamic-highlight-style")){const S=document.createElement("style");S.id="dynamic-highlight-style",S.innerHTML=`
      .highlight {
        // border: 4px solid #e74c3c; /* Thicker red border for more visibility */
        // border-radius: 12px; /* Larger rounded corners */
        // background-color: rgba(231, 76, 60, 0.3); /* Stronger, more noticeable background */
        // box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2), 0 12px 40px rgba(0, 0, 0, 0.2); /* Stronger shadow */
        // outline: 4px solid rgba(231, 76, 60, 0.6); /* Glow effect */
      }
    `,document.head.appendChild(S)}n==null||n.classList.add("highlight"),n.ariaPressed="true";const f=l==="drop"?n:document.querySelector("[type='drop'].highlight"),v=l==="drag"?n:document.querySelector("[type='drag'].highlight");if(f||wo(n),f&&v){v.style.transition="transform 0.5s ease",v.style.transform="";const S=document.querySelector("#lido-container"),C=Mn(S);console.log("ðŸš€ ~ onClickDropOrDragElement ~ containerScale:",C);const w=f.getBoundingClientRect(),y=v.getBoundingClientRect(),P=(w.left-y.left)/C,A=(w.top-y.top)/C;v.style.transform=`translate(${P}px, ${A}px)`,document.querySelectorAll("*").forEach(k=>{tn(k)}),await Rn(v,f)}}const Pn=new Map;async function wo(n){const l=JSON.parse(localStorage.getItem(ae)||"{}"),h=n;if(!h){console.error("Element not found");return}const f=getComputedStyle(h).transform;if(tn(n),f&&f!=="none"&&f!=="matrix(1, 0, 0, 1, 0, 0)"){h.style.transition="transform 0.5s ease",h.style.transform="translate(0px, 0px)",Rn(h,null);return}let v=Object.values(l).find(S=>!S.isFull);if(v){const S=document.querySelector(`#${v.drop}`);h.style.transition="transform 0.5s ease",Rn(h,S)}}function tn(n){n.classList.remove("highlight"),n.ariaPressed="false"}function fr(n){if(!n)return;n.classList.add("speaking-highlight");const l="#speaking-highlight-style";if(!document.querySelector(l)){const h=document.createElement("style");h.id=l,h.innerHTML=`
      .speaking-highlight {
        --base-transform: ${n.style.transform};
        box-shadow: 0 0 20px 10px rgba(255, 165, 0, 0.9) !important; /* Stronger orange glow effect */
        // border: 3px solid green !important;
        transition: box-shadow 0.5s ease-in-out, transform 0.5s ease-in-out;
        transform: scale(1.05); /* Subtle scale effect to pop the element */
        animation: pulseEffect 1.5s infinite; /* Pulsing animation */
      }

      @keyframes pulseEffect {
        0% {
          box-shadow: 0 0 20px 10px rgba(255, 165, 0, 0.9);
          transform: var(--base-transform) scale(1.05);
        }
        50% {
          box-shadow: 0 0 30px 15px rgba(255, 165, 0, 1);
          transform: var(--base-transform) scale(1.1);
        }
        100% {
          box-shadow: 0 0 20px 10px rgba(255, 165, 0, 0.9);
          transform: var(--base-transform) scale(1.05);
        }
      }
    `,document.head.appendChild(h)}}function Qn(n){n&&n.classList.remove("speaking-highlight")}function ue(n){const h=document.querySelector("#lido-container").getAttribute("baseUrl");return n!=null&&n.startsWith("http")||n!=null&&n.startsWith("blob")?n:h?h+n:pr(n)}async function Co(n,l){return new Promise((h,f)=>{if(!("speechSynthesis"in window)){f(new Error("Speech synthesis is not supported in this browser."));return}const v=window.speechSynthesis;setTimeout(()=>{const S=new SpeechSynthesisUtterance(n);S.onend=()=>{h(!0)},v.speak(S)},50)})}function ri(n,l,h,f,v){if(f===void 0)return;const S=Array.from(n.children);let C=f;l&&f<l&&(C=l),h&&f>h&&(C=h),S.forEach((w,y)=>{w.style.display=y<C?v:"none"})}const J=(n,l)=>!n||!n.includes(",")?n:n.split(",").reduce((f,v)=>{const[S,C]=v.split(".");return f[S.trim()]=C.trim(),f},{})[l]||"",oi=(n,l)=>{const h=document.querySelectorAll("[type='drag']"),f=document.querySelectorAll("[type='drop']"),v=document.querySelectorAll("[type='click']");let S=0;if(l==="click"){v.forEach(C=>{const w=C;let y=null;if(w.getAttribute("flexibleWidth"))y=w;else{const P=w.children;for(let A=0;A<P.length;A++){const E=P[A];if(E.getAttribute("flexibleWidth")){y=E;break}}}if(y){const P=y.style.width,A=y.style.padding;y.style.width="auto",y.style.padding="0 20px";const E=y.offsetWidth;y.style.width=P,y.style.padding=A,E>S&&(S=E)}}),v.forEach(C=>{const w=C;if(w.getAttribute("flexibleWidth")){if(w.getAttribute("flexibleWidth")==="true")return;w.style.width=`${S}px`}else{const y=w.children;for(let P=0;P<y.length;P++){const A=y[P];if(A.getAttribute("flexibleWidth")){if(A.getAttribute("flexibleWidth")==="true")return;A.style.width=`${S}px`;break}}}});return}h.forEach(C=>{const w=C,y=w.style.width,P=w.style.padding;w.style.width="auto",w.style.padding="0 20px";const A=w.offsetWidth;w.style.width=y,w.style.padding=P,A>S&&(S=A)}),h.forEach(C=>{const w=C,y=w.getAttribute("flexibleWidth");y==="false"?w.style.width=`${S}px`:y==="true"&&l==="drag"&&(w.style.width="auto",w.style.padding="0 20px")}),f.forEach(C=>{const w=C,y=w.getAttribute("flexibleWidth");if(y==="false"){const P=parseFloat(getComputedStyle(w).borderWidth);if(typeof P=="number"){const A=S-P*2,E=parseFloat(w.style.height)-P*2;w.style.height=`${E}px`,w.style.width=`${A}px`;return}}else y==="true"&&l==="drag"&&(w.style.width="auto",w.style.padding="0 20px")})};var xo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},vr={exports:{}};(function(n,l){(function(f,v){n.exports=v()})(xo,()=>(()=>{var h=[,(C,w,y)=>{y.r(w),y.d(w,{default:()=>A});var P=(()=>{var E=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return function(k={}){var u=k,U,st;u.ready=new Promise((t,e)=>{U=t,st=e});function W(){function t(p){const x=o;i=e=0,o=new Map,x.forEach(_=>{try{_(p)}catch(b){console.error(b)}}),this.ob(),s&&s.Tb()}let e=0,i=0,o=new Map,s=null,c=null;this.requestAnimationFrame=function(p){e||(e=requestAnimationFrame(t.bind(this)));const x=++i;return o.set(x,p),x},this.cancelAnimationFrame=function(p){o.delete(p),e&&o.size==0&&(cancelAnimationFrame(e),e=0)},this.Rb=function(p){c&&(document.body.remove(c),c=null),p||(c=document.createElement("div"),c.style.backgroundColor="black",c.style.position="fixed",c.style.right=0,c.style.top=0,c.style.color="white",c.style.padding="4px",c.innerHTML="RIVE FPS",p=function(x){c.innerHTML="RIVE FPS "+x.toFixed(1)},document.body.appendChild(c)),s=new function(){let x=0,_=0;this.Tb=function(){var b=performance.now();_?(++x,b-=_,1e3<b&&(p(1e3*x/b),x=_=0)):(_=b,x=0)}}},this.Ob=function(){c&&(document.body.remove(c),c=null),s=null},this.ob=function(){}}function Y(t){console.assert(!0);const e=new Map;let i=-1/0;this.push=function(o){return o=o+((1<<t)-1)>>t,e.has(o)&&clearTimeout(e.get(o)),e.set(o,setTimeout(function(){e.delete(o),e.length==0?i=-1/0:o==i&&(i=Math.max(...e.keys()),console.assert(i<o))},1e3)),i=Math.max(o,i),i<<t}}const nt=u.onRuntimeInitialized;u.onRuntimeInitialized=function(){nt&&nt();let t=u.decodeAudio;u.decodeAudio=function(s,c){s=t(s),c(s)};let e=u.decodeFont;u.decodeFont=function(s,c){s=e(s),c(s)};const i=u.FileAssetLoader;u.ptrToAsset=s=>{let c=u.ptrToFileAsset(s);return c.isImage?u.ptrToImageAsset(s):c.isFont?u.ptrToFontAsset(s):c.isAudio?u.ptrToAudioAsset(s):c},u.CustomFileAssetLoader=i.extend("CustomFileAssetLoader",{__construct:function({loadContents:s}){this.__parent.__construct.call(this),this.Gb=s},loadContents:function(s,c){return s=u.ptrToAsset(s),this.Gb(s,c)}}),u.CDNFileAssetLoader=i.extend("CDNFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this)},loadContents:function(s){let c=u.ptrToAsset(s);return s=c.cdnUuid,s===""?!1:(function(p,x){var _=new XMLHttpRequest;_.responseType="arraybuffer",_.onreadystatechange=function(){_.readyState==4&&_.status==200&&x(_)},_.open("GET",p,!0),_.send(null)}(c.cdnBaseUrl+"/"+s,p=>{c.decode(new Uint8Array(p.response))}),!0)}}),u.FallbackFileAssetLoader=i.extend("FallbackFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this),this.kb=[]},addLoader:function(s){this.kb.push(s)},loadContents:function(s,c){for(let p of this.kb)if(p.loadContents(s,c))return!0;return!1}});let o=u.computeAlignment;u.computeAlignment=function(s,c,p,x,_=1){return o.call(this,s,c,p,x,_)}};const $="createConicGradient createImageData createLinearGradient createPattern createRadialGradient getContextAttributes getImageData getLineDash getTransform isContextLost isPointInPath isPointInStroke measureText".split(" "),B=new function(){function t(){if(!e){let et=function(ot,N,St){if(N=R.createShader(N),R.shaderSource(N,St),R.compileShader(N),St=R.getShaderInfoLog(N),0<(St||"").length)throw St;R.attachShader(ot,N)};var g=document.createElement("canvas"),M={alpha:1,depth:0,stencil:0,antialias:0,premultipliedAlpha:1,preserveDrawingBuffer:0,powerPreference:"high-performance",failIfMajorPerformanceCaveat:0,enableExtensionsByDefault:1,explicitSwapControl:1,renderViaOffscreenBackBuffer:1};let R;if(/iPhone|iPad|iPod/i.test(navigator.userAgent)){if(R=g.getContext("webgl",M),i=1,!R)return console.log("No WebGL support. Image mesh will not be drawn."),!1}else if(R=g.getContext("webgl2",M))i=2;else if(R=g.getContext("webgl",M))i=1;else return console.log("No WebGL support. Image mesh will not be drawn."),!1;if(R=new Proxy(R,{get(ot,N){if(ot.isContextLost()){if(_||(console.error("Cannot render the mesh because the GL Context was lost. Tried to invoke ",N),_=!0),typeof ot[N]=="function")return function(){}}else return typeof ot[N]=="function"?function(...St){return ot[N].apply(ot,St)}:ot[N]},set(ot,N,St){if(ot.isContextLost())_||(console.error("Cannot render the mesh because the GL Context was lost. Tried to set property "+N),_=!0);else return ot[N]=St,!0}}),o=Math.min(R.getParameter(R.MAX_RENDERBUFFER_SIZE),R.getParameter(R.MAX_TEXTURE_SIZE)),g=R.createProgram(),et(g,R.VERTEX_SHADER,`attribute vec2 vertex;
                attribute vec2 uv;
                uniform vec4 mat;
                uniform vec2 translate;
                varying vec2 st;
                void main() {
                    st = uv;
                    gl_Position = vec4(mat2(mat) * vertex + translate, 0, 1);
                }`),et(g,R.FRAGMENT_SHADER,`precision highp float;
                uniform sampler2D image;
                varying vec2 st;
                void main() {
                    gl_FragColor = texture2D(image, st);
                }`),R.bindAttribLocation(g,0,"vertex"),R.bindAttribLocation(g,1,"uv"),R.linkProgram(g),M=R.getProgramInfoLog(g),0<(M||"").trim().length)throw M;s=R.getUniformLocation(g,"mat"),c=R.getUniformLocation(g,"translate"),R.useProgram(g),R.bindBuffer(R.ARRAY_BUFFER,R.createBuffer()),R.enableVertexAttribArray(0),R.enableVertexAttribArray(1),R.bindBuffer(R.ELEMENT_ARRAY_BUFFER,R.createBuffer()),R.uniform1i(R.getUniformLocation(g,"image"),0),R.pixelStorei(R.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),e=R}return!0}let e=null,i=0,o=0,s=null,c=null,p=0,x=0,_=!1;t(),this.hc=function(){return t(),o},this.Mb=function(g){e.deleteTexture&&e.deleteTexture(g)},this.Lb=function(g){if(!t())return null;const M=e.createTexture();return M?(e.bindTexture(e.TEXTURE_2D,M),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,g),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),i==2?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR_MIPMAP_LINEAR),e.generateMipmap(e.TEXTURE_2D)):e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),M):null};const b=new Y(8),O=new Y(8),j=new Y(10),H=new Y(10);this.Qb=function(g,M,R,et,ot){if(t()){var N=b.push(g),St=O.push(M);if(e.canvas){(e.canvas.width!=N||e.canvas.height!=St)&&(e.canvas.width=N,e.canvas.height=St),e.viewport(0,St-M,g,M),e.disable(e.SCISSOR_TEST),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),e.enable(e.SCISSOR_TEST),R.sort((pt,re)=>re.wb-pt.wb),N=j.push(et),p!=N&&(e.bufferData(e.ARRAY_BUFFER,8*N,e.DYNAMIC_DRAW),p=N),N=0;for(var Ft of R)e.bufferSubData(e.ARRAY_BUFFER,N,Ft.Ta),N+=4*Ft.Ta.length;console.assert(N==4*et);for(var ie of R)e.bufferSubData(e.ARRAY_BUFFER,N,ie.Db),N+=4*ie.Db.length;console.assert(N==8*et),N=H.push(ot),x!=N&&(e.bufferData(e.ELEMENT_ARRAY_BUFFER,2*N,e.DYNAMIC_DRAW),x=N),Ft=0;for(var Ee of R)e.bufferSubData(e.ELEMENT_ARRAY_BUFFER,Ft,Ee.indices),Ft+=2*Ee.indices.length;console.assert(Ft==2*ot),Ee=0,ie=!0,N=Ft=0;for(const pt of R){pt.image.Ka!=Ee&&(e.bindTexture(e.TEXTURE_2D,pt.image.Ja||null),Ee=pt.image.Ka),pt.mc?(e.scissor(pt.Ya,St-pt.Za-pt.jb,pt.Ac,pt.jb),ie=!0):ie&&(e.scissor(0,St-M,g,M),ie=!1),R=2/g;const re=-2/M;e.uniform4f(s,pt.ha[0]*R*pt.Ba,pt.ha[1]*re*pt.Ca,pt.ha[2]*R*pt.Ba,pt.ha[3]*re*pt.Ca),e.uniform2f(c,pt.ha[4]*R*pt.Ba+R*(pt.Ya-pt.ic*pt.Ba)-1,pt.ha[5]*re*pt.Ca+re*(pt.Za-pt.jc*pt.Ca)+1),e.vertexAttribPointer(0,2,e.FLOAT,!1,0,N),e.vertexAttribPointer(1,2,e.FLOAT,!1,0,N+4*et),e.drawElements(e.TRIANGLES,pt.indices.length,e.UNSIGNED_SHORT,Ft),N+=4*pt.Ta.length,Ft+=2*pt.indices.length}console.assert(N==4*et),console.assert(Ft==2*ot)}}},this.canvas=function(){return t()&&e.canvas}},Z=u.onRuntimeInitialized;u.onRuntimeInitialized=function(){function t(T){switch(T){case b.srcOver:return"source-over";case b.screen:return"screen";case b.overlay:return"overlay";case b.darken:return"darken";case b.lighten:return"lighten";case b.colorDodge:return"color-dodge";case b.colorBurn:return"color-burn";case b.hardLight:return"hard-light";case b.softLight:return"soft-light";case b.difference:return"difference";case b.exclusion:return"exclusion";case b.multiply:return"multiply";case b.hue:return"hue";case b.saturation:return"saturation";case b.color:return"color";case b.luminosity:return"luminosity"}}function e(T){return"rgba("+((16711680&T)>>>16)+","+((65280&T)>>>8)+","+((255&T)>>>0)+","+((4278190080&T)>>>24)/255+")"}function i(){0<St.length&&(B.Qb(N.drawWidth(),N.drawHeight(),St,Ft,ie),St=[],ie=Ft=0,N.reset(512,512));for(const T of ot){for(const z of T.H)z();T.H=[]}ot.clear()}Z&&Z();var o=u.RenderPaintStyle;const s=u.RenderPath,c=u.RenderPaint,p=u.Renderer,x=u.StrokeCap,_=u.StrokeJoin,b=u.BlendMode,O=o.fill,j=o.stroke,H=u.FillRule.evenOdd;let g=1;var M=u.RenderImage.extend("CanvasRenderImage",{__construct:function({la:T,xa:z}={}){this.__parent.__construct.call(this),this.Ka=g,g=g+1&2147483647||1,this.la=T,this.xa=z},__destruct:function(){this.Ja&&(B.Mb(this.Ja),URL.revokeObjectURL(this.Wa)),this.__parent.__destruct.call(this)},decode:function(T){var z=this;z.xa&&z.xa(z);var ut=new Image;z.Wa=URL.createObjectURL(new Blob([T],{type:"image/png"})),ut.onload=function(){z.Fb=ut,z.Ja=B.Lb(ut),z.size(ut.width,ut.height),z.la&&z.la(z)},ut.src=z.Wa}}),R=s.extend("CanvasRenderPath",{__construct:function(){this.__parent.__construct.call(this),this.T=new Path2D},rewind:function(){this.T=new Path2D},addPath:function(T,z,ut,dt,Q,vt,mt){var wt=this.T,qt=wt.addPath;T=T.T;const Pt=new DOMMatrix;Pt.a=z,Pt.b=ut,Pt.c=dt,Pt.d=Q,Pt.e=vt,Pt.f=mt,qt.call(wt,T,Pt)},fillRule:function(T){this.Va=T},moveTo:function(T,z){this.T.moveTo(T,z)},lineTo:function(T,z){this.T.lineTo(T,z)},cubicTo:function(T,z,ut,dt,Q,vt){this.T.bezierCurveTo(T,z,ut,dt,Q,vt)},close:function(){this.T.closePath()}}),et=c.extend("CanvasRenderPaint",{color:function(T){this.Xa=e(T)},thickness:function(T){this.Ib=T},join:function(T){switch(T){case _.miter:this.Ia="miter";break;case _.round:this.Ia="round";break;case _.bevel:this.Ia="bevel"}},cap:function(T){switch(T){case x.butt:this.Ha="butt";break;case x.round:this.Ha="round";break;case x.square:this.Ha="square"}},style:function(T){this.Hb=T},blendMode:function(T){this.Eb=t(T)},clearGradient:function(){this.ja=null},linearGradient:function(T,z,ut,dt){this.ja={yb:T,zb:z,bb:ut,cb:dt,Ra:[]}},radialGradient:function(T,z,ut,dt){this.ja={yb:T,zb:z,bb:ut,cb:dt,Ra:[],ec:!0}},addStop:function(T,z){this.ja.Ra.push({color:T,stop:z})},completeGradient:function(){},draw:function(T,z,ut){let dt=this.Hb;var Q=this.Xa,vt=this.ja;if(T.globalCompositeOperation=this.Eb,vt!=null){Q=vt.yb;var mt=vt.zb;const qt=vt.bb;var wt=vt.cb;const Pt=vt.Ra;vt.ec?(vt=qt-Q,wt-=mt,Q=T.createRadialGradient(Q,mt,0,Q,mt,Math.sqrt(vt*vt+wt*wt))):Q=T.createLinearGradient(Q,mt,qt,wt);for(let oe=0,Mt=Pt.length;oe<Mt;oe++)mt=Pt[oe],Q.addColorStop(mt.stop,e(mt.color));this.Xa=Q,this.ja=null}switch(dt){case j:T.strokeStyle=Q,T.lineWidth=this.Ib,T.lineCap=this.Ha,T.lineJoin=this.Ia,T.stroke(z);break;case O:T.fillStyle=Q,T.fill(z,ut)}}});const ot=new Set;let N=null,St=[],Ft=0,ie=0;var Ee=u.CanvasRenderer=p.extend("Renderer",{__construct:function(T){this.__parent.__construct.call(this),this.S=[1,0,0,1,0,0],this.C=T.getContext("2d"),this.Ua=T,this.H=[]},save:function(){this.S.push(...this.S.slice(this.S.length-6)),this.H.push(this.C.save.bind(this.C))},restore:function(){const T=this.S.length-6;if(6>T)throw"restore() called without matching save().";this.S.splice(T),this.H.push(this.C.restore.bind(this.C))},transform:function(T,z,ut,dt,Q,vt){const mt=this.S,wt=mt.length-6;mt.splice(wt,6,mt[wt]*T+mt[wt+2]*z,mt[wt+1]*T+mt[wt+3]*z,mt[wt]*ut+mt[wt+2]*dt,mt[wt+1]*ut+mt[wt+3]*dt,mt[wt]*Q+mt[wt+2]*vt+mt[wt+4],mt[wt+1]*Q+mt[wt+3]*vt+mt[wt+5]),this.H.push(this.C.transform.bind(this.C,T,z,ut,dt,Q,vt))},rotate:function(T){const z=Math.sin(T);T=Math.cos(T),this.transform(T,z,-z,T,0,0)},_drawPath:function(T,z){this.H.push(z.draw.bind(z,this.C,T.T,T.Va===H?"evenodd":"nonzero"))},_drawRiveImage:function(T,z,ut){var dt=T.Fb;if(dt){var Q=this.C,vt=t(z);this.H.push(function(){Q.globalCompositeOperation=vt,Q.globalAlpha=ut,Q.drawImage(dt,0,0),Q.globalAlpha=1})}},_getMatrix:function(T){const z=this.S,ut=z.length-6;for(let dt=0;6>dt;++dt)T[dt]=z[ut+dt]},_drawImageMesh:function(T,z,ut,dt,Q,vt,mt,wt,qt,Pt){var oe=this.C.canvas.width,Mt=this.C.canvas.height;const er=qt-mt,nr=Pt-wt;mt=Math.max(mt,0),wt=Math.max(wt,0),qt=Math.min(qt,oe),Pt=Math.min(Pt,Mt);const Ge=qt-mt,Je=Pt-wt;if(console.assert(Ge<=Math.min(er,oe)),console.assert(Je<=Math.min(nr,Mt)),!(0>=Ge||0>=Je)){qt=Ge<er||Je<nr,oe=Pt=1;var Ie=Math.ceil(Ge*Pt),Pe=Math.ceil(Je*oe);Mt=B.hc(),Ie>Mt&&(Pt*=Mt/Ie,Ie=Mt),Pe>Mt&&(oe*=Mt/Pe,Pe=Mt),N||(N=new u.DynamicRectanizer(Mt),N.reset(512,512)),Mt=N.addRect(Ie,Pe),0>Mt&&(i(),ot.add(this),Mt=N.addRect(Ie,Pe),console.assert(0<=Mt));var ir=Mt&65535,rr=Mt>>16;St.push({ha:this.S.slice(this.S.length-6),image:T,Ya:ir,Za:rr,ic:mt,jc:wt,Ac:Ie,jb:Pe,Ba:Pt,Ca:oe,Ta:new Float32Array(dt),Db:new Float32Array(Q),indices:new Uint16Array(vt),mc:qt,wb:T.Ka<<1|(qt?1:0)}),Ft+=dt.length,ie+=vt.length;var Ne=this.C,qr=t(z);this.H.push(function(){Ne.save(),Ne.resetTransform(),Ne.globalCompositeOperation=qr,Ne.globalAlpha=ut;const or=B.canvas();or&&Ne.drawImage(or,ir,rr,Ie,Pe,mt,wt,Ge,Je),Ne.restore()})}},_clipPath:function(T){this.H.push(this.C.clip.bind(this.C,T.T,T.Va===H?"evenodd":"nonzero"))},clear:function(){ot.add(this),this.H.push(this.C.clearRect.bind(this.C,0,0,this.Ua.width,this.Ua.height))},flush:function(){},translate:function(T,z){this.transform(1,0,0,1,T,z)}});u.makeRenderer=function(T){const z=new Ee(T),ut=z.C;return new Proxy(z,{get(dt,Q){if(typeof dt[Q]=="function")return function(...vt){return dt[Q].apply(dt,vt)};if(typeof ut[Q]=="function"){if(-1<$.indexOf(Q))throw Error("RiveException: Method call to '"+Q+"()' is not allowed, as the renderer cannot immediately pass through the return                 values of any canvas 2d context methods.");return function(...vt){z.H.push(ut[Q].bind(ut,...vt))}}return dt[Q]},set(dt,Q,vt){if(Q in ut)return z.H.push(()=>{ut[Q]=vt}),!0}})},u.decodeImage=function(T,z){new M({la:z}).decode(T)},u.renderFactory={makeRenderPaint:function(){return new et},makeRenderPath:function(){return new R},makeRenderImage:function(){let T=re;return new M({xa:()=>{T.total++},la:()=>{if(T.loaded++,T.loaded===T.total){const z=T.ready;z&&(z(),T.ready=null)}}})}};let pt=u.load,re=null;u.load=function(T,z,ut=!0){const dt=new u.FallbackFileAssetLoader;return z!==void 0&&dt.addLoader(z),ut&&(z=new u.CDNFileAssetLoader,dt.addLoader(z)),new Promise(function(Q){let vt=null;re={total:0,loaded:0,ready:function(){Q(vt)}},vt=pt(T,dt),re.total==0&&Q(vt)})};let Vr=u.RendererWrapper.prototype.align;u.RendererWrapper.prototype.align=function(T,z,ut,dt,Q=1){Vr.call(this,T,z,ut,dt,Q)},o=new W,u.requestAnimationFrame=o.requestAnimationFrame.bind(o),u.cancelAnimationFrame=o.cancelAnimationFrame.bind(o),u.enableFPSCounter=o.Rb.bind(o),u.disableFPSCounter=o.Ob,o.ob=i,u.resolveAnimationFrame=i,u.cleanup=function(){N&&N.delete()}};var D=Object.assign({},u),yt="./this.program",rt=typeof window=="object",Ct=typeof importScripts=="function",ht="",Ht,ft;(rt||Ct)&&(Ct?ht=self.location.href:typeof document<"u"&&document.currentScript&&(ht=document.currentScript.src),E&&(ht=E),ht.indexOf("blob:")!==0?ht=ht.substr(0,ht.replace(/[?#].*/,"").lastIndexOf("/")+1):ht="",Ct&&(ft=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),Ht=(t,e,i)=>{var o=new XMLHttpRequest;o.open("GET",t,!0),o.responseType="arraybuffer",o.onload=()=>{o.status==200||o.status==0&&o.response?e(o.response):i()},o.onerror=i,o.send(null)});var It=u.print||console.log.bind(console),xt=u.printErr||console.error.bind(console);Object.assign(u,D),D=null,u.thisProgram&&(yt=u.thisProgram);var Wt;u.wasmBinary&&(Wt=u.wasmBinary),typeof WebAssembly!="object"&&bt("no native wasm support detected");var Bt,lt,Xt=!1,_t,ct,At,Gt,K,gt,d,r;function a(){var t=Bt.buffer;u.HEAP8=_t=new Int8Array(t),u.HEAP16=At=new Int16Array(t),u.HEAP32=K=new Int32Array(t),u.HEAPU8=ct=new Uint8Array(t),u.HEAPU16=Gt=new Uint16Array(t),u.HEAPU32=gt=new Uint32Array(t),u.HEAPF32=d=new Float32Array(t),u.HEAPF64=r=new Float64Array(t)}var m,L=[],I=[],F=[];function q(){var t=u.preRun.shift();L.unshift(t)}var it=0,V=null;function bt(t){throw u.onAbort&&u.onAbort(t),t="Aborted("+t+")",xt(t),Xt=!0,t=new WebAssembly.RuntimeError(t+". Build with -sASSERTIONS for more info."),st(t),t}function Tt(t){return t.startsWith("data:application/octet-stream;base64,")}var Rt;if(Rt="canvas_advanced.wasm",!Tt(Rt)){var kt=Rt;Rt=u.locateFile?u.locateFile(kt,ht):ht+kt}function be(t){if(t==Rt&&Wt)return new Uint8Array(Wt);if(ft)return ft(t);throw"both async and sync fetching of the wasm failed"}function Jt(t){if(!Wt&&(rt||Ct)){if(typeof fetch=="function"&&!t.startsWith("file://"))return fetch(t,{credentials:"same-origin"}).then(e=>{if(!e.ok)throw"failed to load wasm binary file at '"+t+"'";return e.arrayBuffer()}).catch(()=>be(t));if(Ht)return new Promise((e,i)=>{Ht(t,o=>e(new Uint8Array(o)),i)})}return Promise.resolve().then(()=>be(t))}function we(t,e,i){return Jt(t).then(o=>WebAssembly.instantiate(o,e)).then(o=>o).then(i,o=>{xt("failed to asynchronously prepare wasm: "+o),bt(o)})}function nn(t,e){var i=Rt;return Wt||typeof WebAssembly.instantiateStreaming!="function"||Tt(i)||i.startsWith("file://")||typeof fetch!="function"?we(i,t,e):fetch(i,{credentials:"same-origin"}).then(o=>WebAssembly.instantiateStreaming(o,t).then(e,function(s){return xt("wasm streaming compile failed: "+s),xt("falling back to ArrayBuffer instantiation"),we(i,t,e)}))}var he,Me,We={446236:(t,e,i,o,s)=>{if(typeof window>"u"||(window.AudioContext||window.webkitAudioContext)===void 0)return 0;if(typeof window.h>"u"){window.h={Aa:0},window.h.I={},window.h.I.ya=t,window.h.I.capture=e,window.h.I.La=i,window.h.ga={},window.h.ga.stopped=o,window.h.ga.xb=s;let c=window.h;c.D=[],c.yc=function(p){for(var x=0;x<c.D.length;++x)if(c.D[x]==null)return c.D[x]=p,x;return c.D.push(p),c.D.length-1},c.Cb=function(p){for(c.D[p]=null;0<c.D.length&&c.D[c.D.length-1]==null;)c.D.pop()},c.Sc=function(p){for(var x=0;x<c.D.length;++x)if(c.D[x]==p)return c.Cb(x)},c.ra=function(p){return c.D[p]},c.Bb=["touchend","click"],c.unlock=function(){for(var p=0;p<c.D.length;++p){var x=c.D[p];x!=null&&x.J!=null&&x.state===c.ga.xb&&x.J.resume().then(()=>{Gi(x.pb)},_=>{console.error("Failed to resume audiocontext",_)})}c.Bb.map(function(_){document.removeEventListener(_,c.unlock,!0)})},c.Bb.map(function(p){document.addEventListener(p,c.unlock,!0)})}return window.h.Aa+=1,1},448414:()=>{typeof window.h<"u"&&(--window.h.Aa,window.h.Aa===0&&delete window.h)},448578:()=>navigator.mediaDevices!==void 0&&navigator.mediaDevices.getUserMedia!==void 0,448682:()=>{try{var t=new(window.AudioContext||window.webkitAudioContext),e=t.sampleRate;return t.close(),e}catch{return 0}},448853:(t,e,i,o,s,c)=>{if(typeof window.h>"u")return-1;var p={},x={};return t==window.h.I.ya&&i!=0&&(x.sampleRate=i),p.J=new(window.AudioContext||window.webkitAudioContext)(x),p.J.suspend(),p.state=window.h.ga.stopped,i=0,t!=window.h.I.ya&&(i=e),p.Z=p.J.createScriptProcessor(o,i,e),p.Z.onaudioprocess=function(_){if((p.sa==null||p.sa.length==0)&&(p.sa=new Float32Array(d.buffer,s,o*e)),t==window.h.I.capture||t==window.h.I.La){for(var b=0;b<e;b+=1)for(var O=_.inputBuffer.getChannelData(b),j=p.sa,H=0;H<o;H+=1)j[H*e+b]=O[H];Ji(c,o,s)}if(t==window.h.I.ya||t==window.h.I.La)for(Ki(c,o,s),b=0;b<_.outputBuffer.numberOfChannels;++b)for(O=_.outputBuffer.getChannelData(b),j=p.sa,H=0;H<o;H+=1)O[H]=j[H*e+b];else for(b=0;b<_.outputBuffer.numberOfChannels;++b)_.outputBuffer.getChannelData(b).fill(0)},t!=window.h.I.capture&&t!=window.h.I.La||navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(_){p.Da=p.J.createMediaStreamSource(_),p.Da.connect(p.Z),p.Z.connect(p.J.destination)}).catch(function(_){console.log("Failed to get user media: "+_)}),t==window.h.I.ya&&p.Z.connect(p.J.destination),p.pb=c,window.h.yc(p)},451730:t=>window.h.ra(t).J.sampleRate,451803:t=>{t=window.h.ra(t),t.Z!==void 0&&(t.Z.onaudioprocess=function(){},t.Z.disconnect(),t.Z=void 0),t.Da!==void 0&&(t.Da.disconnect(),t.Da=void 0),t.J.close(),t.J=void 0,t.pb=void 0},452203:t=>{window.h.Cb(t)},452253:t=>{t=window.h.ra(t),t.J.resume(),t.state=window.h.ga.xb},452392:t=>{t=window.h.ra(t),t.J.suspend(),t.state=window.h.ga.stopped}},fe=t=>{for(;0<t.length;)t.shift()(u)},Oe=(t,e)=>{for(var i=0,o=t.length-1;0<=o;o--){var s=t[o];s==="."?t.splice(o,1):s===".."?(t.splice(o,1),i++):i&&(t.splice(o,1),i--)}if(e)for(;i;i--)t.unshift("..");return t},Yt=t=>{var e=t.charAt(0)==="/",i=t.substr(-1)==="/";return(t=Oe(t.split("/").filter(o=>!!o),!e).join("/"))||e||(t="."),t&&i&&(t+="/"),(e?"/":"")+t},mr=t=>{var e=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(t).slice(1);return t=e[0],e=e[1],!t&&!e?".":(e&&(e=e.substr(0,e.length-1)),t+e)},si=t=>{if(t==="/")return"/";t=Yt(t),t=t.replace(/\/$/,"");var e=t.lastIndexOf("/");return e===-1?t:t.substr(e+1)},yr=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return t=>crypto.getRandomValues(t);bt("initRandomDevice")},ai=t=>(ai=yr())(t);function rn(){for(var t="",e=!1,i=arguments.length-1;-1<=i&&!e;i--){if(e=0<=i?arguments[i]:"/",typeof e!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!e)return"";t=e+"/"+t,e=e.charAt(0)==="/"}return t=Oe(t.split("/").filter(o=>!!o),!e).join("/"),(e?"/":"")+t||"."}var li=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Ce=(t,e,i)=>{var o=e+i;for(i=e;t[i]&&!(i>=o);)++i;if(16<i-e&&t.buffer&&li)return li.decode(t.subarray(e,i));for(o="";e<i;){var s=t[e++];if(s&128){var c=t[e++]&63;if((s&224)==192)o+=String.fromCharCode((s&31)<<6|c);else{var p=t[e++]&63;s=(s&240)==224?(s&15)<<12|c<<6|p:(s&7)<<18|c<<12|p<<6|t[e++]&63,65536>s?o+=String.fromCharCode(s):(s-=65536,o+=String.fromCharCode(55296|s>>10,56320|s&1023))}}else o+=String.fromCharCode(s)}return o},On=[],ci=t=>{for(var e=0,i=0;i<t.length;++i){var o=t.charCodeAt(i);127>=o?e++:2047>=o?e+=2:55296<=o&&57343>=o?(e+=4,++i):e+=3}return e},ui=(t,e,i,o)=>{if(!(0<o))return 0;var s=i;o=i+o-1;for(var c=0;c<t.length;++c){var p=t.charCodeAt(c);if(55296<=p&&57343>=p){var x=t.charCodeAt(++c);p=65536+((p&1023)<<10)|x&1023}if(127>=p){if(i>=o)break;e[i++]=p}else{if(2047>=p){if(i+1>=o)break;e[i++]=192|p>>6}else{if(65535>=p){if(i+2>=o)break;e[i++]=224|p>>12}else{if(i+3>=o)break;e[i++]=240|p>>18,e[i++]=128|p>>12&63}e[i++]=128|p>>6&63}e[i++]=128|p&63}}return e[i]=0,i-s};function di(t,e){var i=Array(ci(t)+1);return t=ui(t,i,0,i.length),e&&(i.length=t),i}var hi=[];function fi(t,e){hi[t]={input:[],F:[],V:e},jn(t,br)}var br={open:function(t){var e=hi[t.node.za];if(!e)throw new X(43);t.s=e,t.seekable=!1},close:function(t){t.s.V.qa(t.s)},qa:function(t){t.s.V.qa(t.s)},read:function(t,e,i,o){if(!t.s||!t.s.V.ib)throw new X(60);for(var s=0,c=0;c<o;c++){try{var p=t.s.V.ib(t.s)}catch{throw new X(29)}if(p===void 0&&s===0)throw new X(6);if(p==null)break;s++,e[i+c]=p}return s&&(t.node.timestamp=Date.now()),s},write:function(t,e,i,o){if(!t.s||!t.s.V.Oa)throw new X(60);try{for(var s=0;s<o;s++)t.s.V.Oa(t.s,e[i+s])}catch{throw new X(29)}return o&&(t.node.timestamp=Date.now()),s}},wr={ib:function(){t:{if(!On.length){var t=null;if(typeof window<"u"&&typeof window.prompt=="function"?(t=window.prompt("Input: "),t!==null&&(t+=`
`)):typeof readline=="function"&&(t=readline(),t!==null&&(t+=`
`)),!t){t=null;break t}On=di(t,!0)}t=On.shift()}return t},Oa:function(t,e){e===null||e===10?(It(Ce(t.F,0)),t.F=[]):e!=0&&t.F.push(e)},qa:function(t){t.F&&0<t.F.length&&(It(Ce(t.F,0)),t.F=[])},bc:function(){return{Fc:25856,Hc:5,Ec:191,Gc:35387,Dc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},cc:function(){return 0},dc:function(){return[24,80]}},Cr={Oa:function(t,e){e===null||e===10?(xt(Ce(t.F,0)),t.F=[]):e!=0&&t.F.push(e)},qa:function(t){t.F&&0<t.F.length&&(xt(Ce(t.F,0)),t.F=[])}};function pi(t,e){var i=t.j?t.j.length:0;i>=e||(e=Math.max(e,i*(1048576>i?2:1.125)>>>0),i!=0&&(e=Math.max(e,256)),i=t.j,t.j=new Uint8Array(e),0<t.v&&t.j.set(i.subarray(0,t.v),0))}var at={O:null,U(){return at.createNode(null,"/",16895,0)},createNode(t,e,i,o){if((i&61440)===24576||(i&61440)===4096)throw new X(63);return at.O||(at.O={dir:{node:{Y:at.l.Y,P:at.l.P,ka:at.l.ka,va:at.l.va,ub:at.l.ub,Ab:at.l.Ab,vb:at.l.vb,sb:at.l.sb,Ea:at.l.Ea},stream:{ba:at.m.ba}},file:{node:{Y:at.l.Y,P:at.l.P},stream:{ba:at.m.ba,read:at.m.read,write:at.m.write,pa:at.m.pa,lb:at.m.lb,nb:at.m.nb}},link:{node:{Y:at.l.Y,P:at.l.P,ma:at.l.ma},stream:{}},$a:{node:{Y:at.l.Y,P:at.l.P},stream:_r}}),i=bi(t,e,i,o),(i.mode&61440)===16384?(i.l=at.O.dir.node,i.m=at.O.dir.stream,i.j={}):(i.mode&61440)===32768?(i.l=at.O.file.node,i.m=at.O.file.stream,i.v=0,i.j=null):(i.mode&61440)===40960?(i.l=at.O.link.node,i.m=at.O.link.stream):(i.mode&61440)===8192&&(i.l=at.O.$a.node,i.m=at.O.$a.stream),i.timestamp=Date.now(),t&&(t.j[e]=i,t.timestamp=i.timestamp),i},Kc(t){return t.j?t.j.subarray?t.j.subarray(0,t.v):new Uint8Array(t.j):new Uint8Array(0)},l:{Y(t){var e={};return e.Jc=(t.mode&61440)===8192?t.id:1,e.Mc=t.id,e.mode=t.mode,e.Oc=1,e.uid=0,e.Lc=0,e.za=t.za,(t.mode&61440)===16384?e.size=4096:(t.mode&61440)===32768?e.size=t.v:(t.mode&61440)===40960?e.size=t.link.length:e.size=0,e.Bc=new Date(t.timestamp),e.Nc=new Date(t.timestamp),e.Ic=new Date(t.timestamp),e.Jb=4096,e.Cc=Math.ceil(e.size/e.Jb),e},P(t,e){if(e.mode!==void 0&&(t.mode=e.mode),e.timestamp!==void 0&&(t.timestamp=e.timestamp),e.size!==void 0&&(e=e.size,t.v!=e))if(e==0)t.j=null,t.v=0;else{var i=t.j;t.j=new Uint8Array(e),i&&t.j.set(i.subarray(0,Math.min(e,t.v))),t.v=e}},ka(){throw Dn[44]},va(t,e,i,o){return at.createNode(t,e,i,o)},ub(t,e,i){if((t.mode&61440)===16384){try{var o=sn(e,i)}catch{}if(o)for(var s in o.j)throw new X(55)}delete t.parent.j[t.name],t.parent.timestamp=Date.now(),t.name=i,e.j[i]=t,e.timestamp=t.parent.timestamp,t.parent=e},Ab(t,e){delete t.j[e],t.timestamp=Date.now()},vb(t,e){var i=sn(t,e),o;for(o in i.j)throw new X(55);delete t.j[e],t.timestamp=Date.now()},sb(t){var e=[".",".."],i;for(i in t.j)t.j.hasOwnProperty(i)&&e.push(i);return e},Ea(t,e,i){return t=at.createNode(t,e,41471,0),t.link=i,t},ma(t){if((t.mode&61440)!==40960)throw new X(28);return t.link}},m:{read(t,e,i,o,s){var c=t.node.j;if(s>=t.node.v)return 0;if(t=Math.min(t.node.v-s,o),8<t&&c.subarray)e.set(c.subarray(s,s+t),i);else for(o=0;o<t;o++)e[i+o]=c[s+o];return t},write(t,e,i,o,s,c){if(e.buffer===_t.buffer&&(c=!1),!o)return 0;if(t=t.node,t.timestamp=Date.now(),e.subarray&&(!t.j||t.j.subarray)){if(c)return t.j=e.subarray(i,i+o),t.v=o;if(t.v===0&&s===0)return t.j=e.slice(i,i+o),t.v=o;if(s+o<=t.v)return t.j.set(e.subarray(i,i+o),s),o}if(pi(t,s+o),t.j.subarray&&e.subarray)t.j.set(e.subarray(i,i+o),s);else for(c=0;c<o;c++)t.j[s+c]=e[i+c];return t.v=Math.max(t.v,s+o),o},ba(t,e,i){if(i===1?e+=t.position:i===2&&(t.node.mode&61440)===32768&&(e+=t.node.v),0>e)throw new X(28);return e},pa(t,e,i){pi(t.node,e+i),t.node.v=Math.max(t.node.v,e+i)},lb(t,e,i,o,s){if((t.node.mode&61440)!==32768)throw new X(43);if(t=t.node.j,s&2||t.buffer!==_t.buffer){if((0<i||i+e<t.length)&&(t.subarray?t=t.subarray(i,i+e):t=Array.prototype.slice.call(t,i,i+e)),i=!0,bt(),e=void 0,!e)throw new X(48);_t.set(t,e)}else i=!1,e=t.byteOffset;return{o:e,M:i}},nb(t,e,i,o){return at.m.write(t,e,0,o,i,!1),0}}};function xr(t,e){var i=0;return t&&(i|=365),e&&(i|=146),i}var Fn=null,gi={},on=[],Ar=1,Be=null,vi=!0,X=null,Dn={},Se=(t,e={})=>{if(t=rn(t),!t)return{path:"",node:null};if(e=Object.assign({gb:!0,Qa:0},e),8<e.Qa)throw new X(32);t=t.split("/").filter(p=>!!p);for(var i=Fn,o="/",s=0;s<t.length;s++){var c=s===t.length-1;if(c&&e.parent)break;if(i=sn(i,t[s]),o=Yt(o+"/"+t[s]),i.wa&&(!c||c&&e.gb)&&(i=i.wa.root),!c||e.fb){for(c=0;(i.mode&61440)===40960;)if(i=Lr(o),o=rn(mr(o),i),i=Se(o,{Qa:e.Qa+1}).node,40<c++)throw new X(32)}}return{path:o,node:i}},mi=t=>{for(var e;;){if(t===t.parent)return t=t.U.mb,e?t[t.length-1]!=="/"?`${t}/${e}`:t+e:t;e=e?`${t.name}/${e}`:t.name,t=t.parent}},yi=(t,e)=>{for(var i=0,o=0;o<e.length;o++)i=(i<<5)-i+e.charCodeAt(o)|0;return(t+i>>>0)%Be.length},sn=(t,e)=>{var i;if(i=(i=an(t,"x"))?i:t.l.ka?0:2)throw new X(i,t);for(i=Be[yi(t.id,e)];i;i=i.lc){var o=i.name;if(i.parent.id===t.id&&o===e)return i}return t.l.ka(t,e)},bi=(t,e,i,o)=>(t=new Yi(t,e,i,o),e=yi(t.parent.id,t.name),t.lc=Be[e],Be[e]=t),wi=t=>{var e=["r","w","rw"][t&3];return t&512&&(e+="w"),e},an=(t,e)=>{if(vi)return 0;if(!e.includes("r")||t.mode&292){if(e.includes("w")&&!(t.mode&146)||e.includes("x")&&!(t.mode&73))return 2}else return 2;return 0},Ci=(t,e)=>{try{return sn(t,e),20}catch{}return an(t,"wx")},Sr=()=>{for(var t=0;4096>=t;t++)if(!on[t])return t;throw new X(33)},xe=t=>{if(t=on[t],!t)throw new X(8);return t},xi=(t,e=-1)=>(Ue||(Ue=function(){this.h={}},Ue.prototype={},Object.defineProperties(Ue.prototype,{object:{get(){return this.node},set(i){this.node=i}},flags:{get(){return this.h.flags},set(i){this.h.flags=i}},position:{get(){return this.h.position},set(i){this.h.position=i}}})),t=Object.assign(new Ue,t),e==-1&&(e=Sr()),t.X=e,on[e]=t),_r={open:t=>{t.m=gi[t.node.za].m,t.m.open&&t.m.open(t)},ba:()=>{throw new X(70)}},jn=(t,e)=>{gi[t]={m:e}},Ai=(t,e)=>{var i=e==="/",o=!e;if(i&&Fn)throw new X(10);if(!i&&!o){var s=Se(e,{gb:!1});if(e=s.path,s=s.node,s.wa)throw new X(10);if((s.mode&61440)!==16384)throw new X(54)}e={type:t,Qc:{},mb:e,kc:[]},t=t.U(e),t.U=e,e.root=t,i?Fn=t:s&&(s.wa=e,s.U&&s.U.kc.push(e))},Kt=(t,e,i)=>{var o=Se(t,{parent:!0}).node;if(t=si(t),!t||t==="."||t==="..")throw new X(28);var s=Ci(o,t);if(s)throw new X(s);if(!o.l.va)throw new X(63);return o.l.va(o,t,e,i)},ln=(t,e,i)=>{typeof i>"u"&&(i=e,e=438),Kt(t,e|8192,i)},Nn=(t,e)=>{if(!rn(t))throw new X(44);var i=Se(e,{parent:!0}).node;if(!i)throw new X(44);e=si(e);var o=Ci(i,e);if(o)throw new X(o);if(!i.l.Ea)throw new X(63);i.l.Ea(i,e,t)},Lr=t=>{if(t=Se(t).node,!t)throw new X(44);if(!t.l.ma)throw new X(28);return rn(mi(t.parent),t.l.ma(t))},cn=(t,e,i)=>{if(t==="")throw new X(44);if(typeof e=="string"){var o={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[e];if(typeof o>"u")throw Error(`Unknown file open mode: ${e}`);e=o}if(i=e&64?(typeof i>"u"?438:i)&4095|32768:0,typeof t=="object")var s=t;else{t=Yt(t);try{s=Se(t,{fb:!(e&131072)}).node}catch{}}if(o=!1,e&64)if(s){if(e&128)throw new X(20)}else s=Kt(t,i,0),o=!0;if(!s)throw new X(44);if((s.mode&61440)===8192&&(e&=-513),e&65536&&(s.mode&61440)!==16384)throw new X(54);if(!o&&(i=s?(s.mode&61440)===40960?32:(s.mode&61440)===16384&&(wi(e)!=="r"||e&512)?31:an(s,wi(e)):44))throw new X(i);if(e&512&&!o){if(i=s,i=typeof i=="string"?Se(i,{fb:!0}).node:i,!i.l.P)throw new X(63);if((i.mode&61440)===16384)throw new X(31);if((i.mode&61440)!==32768)throw new X(28);if(o=an(i,"w"))throw new X(o);i.l.P(i,{size:0,timestamp:Date.now()})}return e&=-131713,s=xi({node:s,path:mi(s),flags:e,seekable:!0,position:0,m:s.m,zc:[],error:!1}),s.m.open&&s.m.open(s),!u.logReadFiles||e&1||(un||(un={}),t in un||(un[t]=1)),s},Si=(t,e,i)=>{if(t.X===null)throw new X(8);if(!t.seekable||!t.m.ba)throw new X(70);if(i!=0&&i!=1&&i!=2)throw new X(28);t.position=t.m.ba(t,e,i),t.zc=[]},_i=()=>{X||(X=function(t,e){this.name="ErrnoError",this.node=e,this.pc=function(i){this.aa=i},this.pc(t),this.message="FS error"},X.prototype=Error(),X.prototype.constructor=X,[44].forEach(t=>{Dn[t]=new X(t),Dn[t].stack="<generic error, no stack>"}))},Li,$e=(t,e,i)=>{t=Yt("/dev/"+t);var o=xr(!!e,!!i);Wn||(Wn=64);var s=Wn++<<8|0;jn(s,{open:c=>{c.seekable=!1},close:()=>{i&&i.buffer&&i.buffer.length&&i(10)},read:(c,p,x,_)=>{for(var b=0,O=0;O<_;O++){try{var j=e()}catch{throw new X(29)}if(j===void 0&&b===0)throw new X(6);if(j==null)break;b++,p[x+O]=j}return b&&(c.node.timestamp=Date.now()),b},write:(c,p,x,_)=>{for(var b=0;b<_;b++)try{i(p[x+b])}catch{throw new X(29)}return _&&(c.node.timestamp=Date.now()),b}}),ln(t,o,s)},Wn,_e={},Ue,un,He=void 0;function pe(){return He+=4,K[He-4>>2]}function Ei(t){if(t===void 0)return"_unknown";t=t.replace(/[^a-zA-Z0-9_]/g,"$");var e=t.charCodeAt(0);return 48<=e&&57>=e?`_${t}`:t}function dn(t,e){return t=Ei(t),{[t]:function(){return e.apply(this,arguments)}}[t]}function Ii(){this.M=[void 0],this.hb=[]}var Vt=new Ii,Fe=void 0;function tt(t){throw new Fe(t)}var Zt=t=>(t||tt("Cannot use deleted val. handle = "+t),Vt.get(t).value),ee=t=>{switch(t){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return Vt.pa({tb:1,value:t})}};function Pi(t){var e=Error,i=dn(t,function(o){this.name=t,this.message=o,o=Error(o).stack,o!==void 0&&(this.stack=this.toString()+`
`+o.replace(/^Error(:[^\n]*)?\n/,""))});return i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},i}var Ti=void 0,Ri=void 0;function Et(t){for(var e="";ct[t];)e+=Ri[ct[t++]];return e}var ze=[];function Bn(){for(;ze.length;){var t=ze.pop();t.g.fa=!1,t.delete()}}var Xe=void 0,ge={};function $n(t,e){for(e===void 0&&tt("ptr should not be undefined");t.A;)e=t.na(e),t=t.A;return e}var Le={};function ki(t){t=Qi(t);var e=Et(t);return ye(t),e}function Ye(t,e){var i=Le[t];return i===void 0&&tt(e+" has unknown type "+ki(t)),i}function hn(){}var Un=!1;function Mi(t){--t.count.value,t.count.value===0&&(t.G?t.L.W(t.G):t.u.i.W(t.o))}function Oi(t,e,i){return e===i?t:i.A===void 0?null:(t=Oi(t,e,i.A),t===null?null:i.Pb(t))}var Fi={};function Er(t,e){return e=$n(t,e),ge[e]}var Di=void 0;function fn(t){throw new Di(t)}function pn(t,e){return e.u&&e.o||fn("makeClassHandle requires ptr and ptrType"),!!e.L!=!!e.G&&fn("Both smartPtrType and smartPtr must be specified"),e.count={value:1},De(Object.create(t,{g:{value:e}}))}function De(t){return typeof FinalizationRegistry>"u"?(De=e=>e,t):(Un=new FinalizationRegistry(e=>{Mi(e.g)}),De=e=>{var i=e.g;return i.G&&Un.register(e,{g:i},e),e},hn=e=>{Un.unregister(e)},De(t))}var gn={};function Ve(t){for(;t.length;){var e=t.pop();t.pop()(e)}}function qe(t){return this.fromWireType(K[t>>2])}var je={},vn={};function zt(t,e,i){function o(x){x=i(x),x.length!==t.length&&fn("Mismatched type converter count");for(var _=0;_<t.length;++_)ne(t[_],x[_])}t.forEach(function(x){vn[x]=e});var s=Array(e.length),c=[],p=0;e.forEach((x,_)=>{Le.hasOwnProperty(x)?s[_]=Le[x]:(c.push(x),je.hasOwnProperty(x)||(je[x]=[]),je[x].push(()=>{s[_]=Le[x],++p,p===c.length&&o(s)}))}),c.length===0&&o(s)}function mn(t){switch(t){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError(`Unknown type size: ${t}`)}}function Ir(t,e,i={}){var o=e.name;if(t||tt(`type "${o}" must have a positive integer typeid pointer`),Le.hasOwnProperty(t)){if(i.$b)return;tt(`Cannot register type '${o}' twice`)}Le[t]=e,delete vn[t],je.hasOwnProperty(t)&&(e=je[t],delete je[t],e.forEach(s=>s()))}function ne(t,e,i={}){if(!("argPackAdvance"in e))throw new TypeError("registerType registeredInstance requires argPackAdvance");Ir(t,e,i)}function Hn(t){tt(t.g.u.i.name+" instance already deleted")}function Ae(){}function zn(t,e,i){if(t[e].B===void 0){var o=t[e];t[e]=function(){return t[e].B.hasOwnProperty(arguments.length)||tt(`Function '${i}' called with an invalid number of arguments (${arguments.length}) - expects one of (${t[e].B})!`),t[e].B[arguments.length].apply(this,arguments)},t[e].B=[],t[e].B[o.ea]=o}}function Xn(t,e,i){u.hasOwnProperty(t)?((i===void 0||u[t].B!==void 0&&u[t].B[i]!==void 0)&&tt(`Cannot register public name '${t}' twice`),zn(u,t,t),u.hasOwnProperty(i)&&tt(`Cannot register multiple overloads of a function with the same number of arguments (${i})!`),u[t].B[i]=e):(u[t]=e,i!==void 0&&(u[t].Pc=i))}function Pr(t,e,i,o,s,c,p,x){this.name=t,this.constructor=e,this.N=i,this.W=o,this.A=s,this.Ub=c,this.na=p,this.Pb=x,this.qb=[]}function yn(t,e,i){for(;e!==i;)e.na||tt(`Expected null or instance of ${i.name}, got an instance of ${e.name}`),t=e.na(t),e=e.A;return t}function Tr(t,e){return e===null?(this.Na&&tt(`null is not a valid ${this.name}`),0):(e.g||tt(`Cannot pass "${Vn(e)}" as a ${this.name}`),e.g.o||tt(`Cannot pass deleted object as a pointer of type ${this.name}`),yn(e.g.o,e.g.u.i,this.i))}function Rr(t,e){if(e===null){if(this.Na&&tt(`null is not a valid ${this.name}`),this.ua){var i=this.Pa();return t!==null&&t.push(this.W,i),i}return 0}if(e.g||tt(`Cannot pass "${Vn(e)}" as a ${this.name}`),e.g.o||tt(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.ta&&e.g.u.ta&&tt(`Cannot convert argument of type ${e.g.L?e.g.L.name:e.g.u.name} to parameter type ${this.name}`),i=yn(e.g.o,e.g.u.i,this.i),this.ua)switch(e.g.G===void 0&&tt("Passing raw pointer to smart pointer is illegal"),this.tc){case 0:e.g.L===this?i=e.g.G:tt(`Cannot convert argument of type ${e.g.L?e.g.L.name:e.g.u.name} to parameter type ${this.name}`);break;case 1:i=e.g.G;break;case 2:if(e.g.L===this)i=e.g.G;else{var o=e.clone();i=this.oc(i,ee(function(){o.delete()})),t!==null&&t.push(this.W,i)}break;default:tt("Unsupporting sharing policy")}return i}function kr(t,e){return e===null?(this.Na&&tt(`null is not a valid ${this.name}`),0):(e.g||tt(`Cannot pass "${Vn(e)}" as a ${this.name}`),e.g.o||tt(`Cannot pass deleted object as a pointer of type ${this.name}`),e.g.u.ta&&tt(`Cannot convert argument of type ${e.g.u.name} to parameter type ${this.name}`),yn(e.g.o,e.g.u.i,this.i))}function ve(t,e,i,o){this.name=t,this.i=e,this.Na=i,this.ta=o,this.ua=!1,this.W=this.oc=this.Pa=this.rb=this.tc=this.nc=void 0,e.A!==void 0?this.toWireType=Rr:(this.toWireType=o?Tr:kr,this.K=null)}function ji(t,e,i){u.hasOwnProperty(t)||fn("Replacing nonexistant public symbol"),u[t].B!==void 0&&i!==void 0?u[t].B[i]=e:(u[t]=e,u[t].ea=i)}var bn=[],Ni=t=>{var e=bn[t];return e||(t>=bn.length&&(bn.length=t+1),bn[t]=e=m.get(t)),e},Mr=(t,e)=>{var i=[];return function(){if(i.length=0,Object.assign(i,arguments),t.includes("j")){var o=u["dynCall_"+t];o=i&&i.length?o.apply(null,[e].concat(i)):o.call(null,e)}else o=Ni(e).apply(null,i);return o}};function Dt(t,e){t=Et(t);var i=t.includes("j")?Mr(t,e):Ni(e);return typeof i!="function"&&tt(`unknown function pointer with signature ${t}: ${e}`),i}var Wi=void 0;function me(t,e){function i(c){s[c]||Le[c]||(vn[c]?vn[c].forEach(i):(o.push(c),s[c]=!0))}var o=[],s={};throw e.forEach(i),new Wi(`${t}: `+o.map(ki).join([", "]))}function wn(t,e,i,o,s){var c=e.length;2>c&&tt("argTypes array size mismatch! Must at least get return value and 'this' types!");var p=e[1]!==null&&i!==null,x=!1;for(i=1;i<e.length;++i)if(e[i]!==null&&e[i].K===void 0){x=!0;break}var _=e[0].name!=="void",b=c-2,O=Array(b),j=[],H=[];return function(){if(arguments.length!==b&&tt(`function ${t} called with ${arguments.length} arguments, expected ${b} args!`),H.length=0,j.length=p?2:1,j[0]=s,p){var g=e[1].toWireType(H,this);j[1]=g}for(var M=0;M<b;++M)O[M]=e[M+2].toWireType(H,arguments[M]),j.push(O[M]);if(M=o.apply(null,j),x)Ve(H);else for(var R=p?1:2;R<e.length;R++){var et=R===1?g:O[R-2];e[R].K!==null&&e[R].K(et)}return g=_?e[0].fromWireType(M):void 0,g}}function Cn(t,e){for(var i=[],o=0;o<t;o++)i.push(gt[e+4*o>>2]);return i}function Bi(t,e,i){return t instanceof Object||tt(`${i} with invalid "this": ${t}`),t instanceof e.i.constructor||tt(`${i} incompatible with "this" of type ${t.constructor.name}`),t.g.o||tt(`cannot call emscripten binding method ${i} on deleted object`),yn(t.g.o,t.g.u.i,e.i)}function Yn(t){t>=Vt.h&&--Vt.get(t).tb===0&&Vt.Zb(t)}function Or(t,e,i){switch(e){case 0:return function(o){return this.fromWireType((i?_t:ct)[o])};case 1:return function(o){return this.fromWireType((i?At:Gt)[o>>1])};case 2:return function(o){return this.fromWireType((i?K:gt)[o>>2])};default:throw new TypeError("Unknown integer type: "+t)}}function Vn(t){if(t===null)return"null";var e=typeof t;return e==="object"||e==="array"||e==="function"?t.toString():""+t}function Fr(t,e){switch(e){case 2:return function(i){return this.fromWireType(d[i>>2])};case 3:return function(i){return this.fromWireType(r[i>>3])};default:throw new TypeError("Unknown float type: "+t)}}function Dr(t,e,i){switch(e){case 0:return i?function(o){return _t[o]}:function(o){return ct[o]};case 1:return i?function(o){return At[o>>1]}:function(o){return Gt[o>>1]};case 2:return i?function(o){return K[o>>2]}:function(o){return gt[o>>2]};default:throw new TypeError("Unknown integer type: "+t)}}var $i=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,jr=(t,e)=>{for(var i=t>>1,o=i+e/2;!(i>=o)&&Gt[i];)++i;if(i<<=1,32<i-t&&$i)return $i.decode(ct.subarray(t,i));for(i="",o=0;!(o>=e/2);++o){var s=At[t+2*o>>1];if(s==0)break;i+=String.fromCharCode(s)}return i},Nr=(t,e,i)=>{if(i===void 0&&(i=2147483647),2>i)return 0;i-=2;var o=e;i=i<2*t.length?i/2:t.length;for(var s=0;s<i;++s)At[e>>1]=t.charCodeAt(s),e+=2;return At[e>>1]=0,e-o},Wr=t=>2*t.length,Br=(t,e)=>{for(var i=0,o="";!(i>=e/4);){var s=K[t+4*i>>2];if(s==0)break;++i,65536<=s?(s-=65536,o+=String.fromCharCode(55296|s>>10,56320|s&1023)):o+=String.fromCharCode(s)}return o},$r=(t,e,i)=>{if(i===void 0&&(i=2147483647),4>i)return 0;var o=e;i=o+i-4;for(var s=0;s<t.length;++s){var c=t.charCodeAt(s);if(55296<=c&&57343>=c){var p=t.charCodeAt(++s);c=65536+((c&1023)<<10)|p&1023}if(K[e>>2]=c,e+=4,e+4>i)break}return K[e>>2]=0,e-o},Ur=t=>{for(var e=0,i=0;i<t.length;++i){var o=t.charCodeAt(i);55296<=o&&57343>=o&&++i,e+=4}return e},Hr={};function xn(t){var e=Hr[t];return e===void 0?Et(t):e}var An=[];function zr(t){var e=An.length;return An.push(t),e}function Xr(t,e){for(var i=Array(t),o=0;o<t;++o)i[o]=Ye(gt[e+4*o>>2],"parameter "+o);return i}var Ui=[],qn=[],Gn={},Hi=()=>{if(!Jn){var t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:yt||"./this.program"},e;for(e in Gn)Gn[e]===void 0?delete t[e]:t[e]=Gn[e];var i=[];for(e in t)i.push(`${e}=${t[e]}`);Jn=i}return Jn},Jn,Sn=t=>t%4===0&&(t%100!==0||t%400===0),zi=[31,29,31,30,31,30,31,31,30,31,30,31],Xi=[31,28,31,30,31,30,31,31,30,31,30,31],Yr=(t,e,i,o)=>{function s(g,M,R){for(g=typeof g=="number"?g.toString():g||"";g.length<M;)g=R[0]+g;return g}function c(g,M){return s(g,M,"0")}function p(g,M){function R(ot){return 0>ot?-1:0<ot?1:0}var et;return(et=R(g.getFullYear()-M.getFullYear()))===0&&(et=R(g.getMonth()-M.getMonth()))===0&&(et=R(g.getDate()-M.getDate())),et}function x(g){switch(g.getDay()){case 0:return new Date(g.getFullYear()-1,11,29);case 1:return g;case 2:return new Date(g.getFullYear(),0,3);case 3:return new Date(g.getFullYear(),0,2);case 4:return new Date(g.getFullYear(),0,1);case 5:return new Date(g.getFullYear()-1,11,31);case 6:return new Date(g.getFullYear()-1,11,30)}}function _(g){var M=g.ca;for(g=new Date(new Date(g.da+1900,0,1).getTime());0<M;){var R=g.getMonth(),et=(Sn(g.getFullYear())?zi:Xi)[R];if(M>et-g.getDate())M-=et-g.getDate()+1,g.setDate(1),11>R?g.setMonth(R+1):(g.setMonth(0),g.setFullYear(g.getFullYear()+1));else{g.setDate(g.getDate()+M);break}}return R=new Date(g.getFullYear()+1,0,4),M=x(new Date(g.getFullYear(),0,4)),R=x(R),0>=p(M,g)?0>=p(R,g)?g.getFullYear()+1:g.getFullYear():g.getFullYear()-1}var b=K[o+40>>2];o={wc:K[o>>2],vc:K[o+4>>2],Fa:K[o+8>>2],Sa:K[o+12>>2],Ga:K[o+16>>2],da:K[o+20>>2],R:K[o+24>>2],ca:K[o+28>>2],Rc:K[o+32>>2],uc:K[o+36>>2],xc:b&&b?Ce(ct,b):""},i=i?Ce(ct,i):"",b={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var O in b)i=i.replace(new RegExp(O,"g"),b[O]);var j="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),H="January February March April May June July August September October November December".split(" ");b={"%a":g=>j[g.R].substring(0,3),"%A":g=>j[g.R],"%b":g=>H[g.Ga].substring(0,3),"%B":g=>H[g.Ga],"%C":g=>c((g.da+1900)/100|0,2),"%d":g=>c(g.Sa,2),"%e":g=>s(g.Sa,2," "),"%g":g=>_(g).toString().substring(2),"%G":g=>_(g),"%H":g=>c(g.Fa,2),"%I":g=>(g=g.Fa,g==0?g=12:12<g&&(g-=12),c(g,2)),"%j":g=>{for(var M=0,R=0;R<=g.Ga-1;M+=(Sn(g.da+1900)?zi:Xi)[R++]);return c(g.Sa+M,3)},"%m":g=>c(g.Ga+1,2),"%M":g=>c(g.vc,2),"%n":()=>`
`,"%p":g=>0<=g.Fa&&12>g.Fa?"AM":"PM","%S":g=>c(g.wc,2),"%t":()=>"	","%u":g=>g.R||7,"%U":g=>c(Math.floor((g.ca+7-g.R)/7),2),"%V":g=>{var M=Math.floor((g.ca+7-(g.R+6)%7)/7);if(2>=(g.R+371-g.ca-2)%7&&M++,M)M==53&&(R=(g.R+371-g.ca)%7,R==4||R==3&&Sn(g.da)||(M=1));else{M=52;var R=(g.R+7-g.ca-1)%7;(R==4||R==5&&Sn(g.da%400-1))&&M++}return c(M,2)},"%w":g=>g.R,"%W":g=>c(Math.floor((g.ca+7-(g.R+6)%7)/7),2),"%y":g=>(g.da+1900).toString().substring(2),"%Y":g=>g.da+1900,"%z":g=>{g=g.uc;var M=0<=g;return g=Math.abs(g)/60,(M?"+":"-")+("0000"+(g/60*100+g%60)).slice(-4)},"%Z":g=>g.xc,"%%":()=>"%"},i=i.replace(/%%/g,"\0\0");for(O in b)i.includes(O)&&(i=i.replace(new RegExp(O,"g"),b[O](o)));return i=i.replace(/\0\0/g,"%"),O=di(i,!1),O.length>e?0:(_t.set(O,t),O.length-1)};function Yi(t,e,i,o){t||(t=this),this.parent=t,this.U=t.U,this.wa=null,this.id=Ar++,this.name=e,this.mode=i,this.l={},this.m={},this.za=o}Object.defineProperties(Yi.prototype,{read:{get:function(){return(this.mode&365)===365},set:function(t){t?this.mode|=365:this.mode&=-366}},write:{get:function(){return(this.mode&146)===146},set:function(t){t?this.mode|=146:this.mode&=-147}}}),_i(),Be=Array(4096),Ai(at,"/"),Kt("/tmp",16895,0),Kt("/home",16895,0),Kt("/home/web_user",16895,0),(()=>{Kt("/dev",16895,0),jn(259,{read:()=>0,write:(o,s,c,p)=>p}),ln("/dev/null",259),fi(1280,wr),fi(1536,Cr),ln("/dev/tty",1280),ln("/dev/tty1",1536);var t=new Uint8Array(1024),e=0,i=()=>(e===0&&(e=ai(t).byteLength),t[--e]);$e("random",i),$e("urandom",i),Kt("/dev/shm",16895,0),Kt("/dev/shm/tmp",16895,0)})(),(()=>{Kt("/proc",16895,0);var t=Kt("/proc/self",16895,0);Kt("/proc/self/fd",16895,0),Ai({U:()=>{var e=bi(t,"fd",16895,73);return e.l={ka:(i,o)=>{var s=xe(+o);return i={parent:null,U:{mb:"fake"},l:{ma:()=>s.path}},i.parent=i}},e}},"/proc/self/fd")})(),Object.assign(Ii.prototype,{get(t){return this.M[t]},has(t){return this.M[t]!==void 0},pa(t){var e=this.hb.pop()||this.M.length;return this.M[e]=t,e},Zb(t){this.M[t]=void 0,this.hb.push(t)}}),Fe=u.BindingError=class extends Error{constructor(t){super(t),this.name="BindingError"}},Vt.M.push({value:void 0},{value:null},{value:!0},{value:!1}),Vt.h=Vt.M.length,u.count_emval_handles=function(){for(var t=0,e=Vt.h;e<Vt.M.length;++e)Vt.M[e]!==void 0&&++t;return t},Ti=u.PureVirtualError=Pi("PureVirtualError");for(var Vi=Array(256),_n=0;256>_n;++_n)Vi[_n]=String.fromCharCode(_n);Ri=Vi,u.getInheritedInstanceCount=function(){return Object.keys(ge).length},u.getLiveInheritedInstances=function(){var t=[],e;for(e in ge)ge.hasOwnProperty(e)&&t.push(ge[e]);return t},u.flushPendingDeletes=Bn,u.setDelayFunction=function(t){Xe=t,ze.length&&Xe&&Xe(Bn)},Di=u.InternalError=class extends Error{constructor(t){super(t),this.name="InternalError"}},Ae.prototype.isAliasOf=function(t){if(!(this instanceof Ae&&t instanceof Ae))return!1;var e=this.g.u.i,i=this.g.o,o=t.g.u.i;for(t=t.g.o;e.A;)i=e.na(i),e=e.A;for(;o.A;)t=o.na(t),o=o.A;return e===o&&i===t},Ae.prototype.clone=function(){if(this.g.o||Hn(this),this.g.ia)return this.g.count.value+=1,this;var t=De,e=Object,i=e.create,o=Object.getPrototypeOf(this),s=this.g;return t=t(i.call(e,o,{g:{value:{count:s.count,fa:s.fa,ia:s.ia,o:s.o,u:s.u,G:s.G,L:s.L}}})),t.g.count.value+=1,t.g.fa=!1,t},Ae.prototype.delete=function(){this.g.o||Hn(this),this.g.fa&&!this.g.ia&&tt("Object already scheduled for deletion"),hn(this),Mi(this.g),this.g.ia||(this.g.G=void 0,this.g.o=void 0)},Ae.prototype.isDeleted=function(){return!this.g.o},Ae.prototype.deleteLater=function(){return this.g.o||Hn(this),this.g.fa&&!this.g.ia&&tt("Object already scheduled for deletion"),ze.push(this),ze.length===1&&Xe&&Xe(Bn),this.g.fa=!0,this},ve.prototype.Vb=function(t){return this.rb&&(t=this.rb(t)),t},ve.prototype.ab=function(t){this.W&&this.W(t)},ve.prototype.argPackAdvance=8,ve.prototype.readValueFromPointer=qe,ve.prototype.deleteObject=function(t){t!==null&&t.delete()},ve.prototype.fromWireType=function(t){function e(){return this.ua?pn(this.i.N,{u:this.nc,o:i,L:this,G:t}):pn(this.i.N,{u:this,o:t})}var i=this.Vb(t);if(!i)return this.ab(t),null;var o=Er(this.i,i);if(o!==void 0)return o.g.count.value===0?(o.g.o=i,o.g.G=t,o.clone()):(o=o.clone(),this.ab(t),o);if(o=this.i.Ub(i),o=Fi[o],!o)return e.call(this);o=this.ta?o.Kb:o.pointerType;var s=Oi(i,this.i,o.i);return s===null?e.call(this):this.ua?pn(o.i.N,{u:o,o:s,L:this,G:t}):pn(o.i.N,{u:o,o:s})},Wi=u.UnboundTypeError=Pi("UnboundTypeError");var qi={__syscall_fcntl64:function(t,e,i){He=i;try{var o=xe(t);switch(e){case 0:var s=pe();return 0>s?-28:xi(o,s).X;case 1:case 2:return 0;case 3:return o.flags;case 4:return s=pe(),o.flags|=s,0;case 5:return s=pe(),At[s+0>>1]=2,0;case 6:case 7:return 0;case 16:case 8:return-28;case 9:return K[Zi()>>2]=28,-1;default:return-28}}catch(c){if(typeof _e>"u"||c.name!=="ErrnoError")throw c;return-c.aa}},__syscall_ioctl:function(t,e,i){He=i;try{var o=xe(t);switch(e){case 21509:return o.s?0:-59;case 21505:if(!o.s)return-59;if(o.s.V.bc){e=[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];var s=pe();K[s>>2]=25856,K[s+4>>2]=5,K[s+8>>2]=191,K[s+12>>2]=35387;for(var c=0;32>c;c++)_t[s+c+17>>0]=e[c]||0}return 0;case 21510:case 21511:case 21512:return o.s?0:-59;case 21506:case 21507:case 21508:if(!o.s)return-59;if(o.s.V.cc)for(s=pe(),e=[],c=0;32>c;c++)e.push(_t[s+c+17>>0]);return 0;case 21519:return o.s?(s=pe(),K[s>>2]=0):-59;case 21520:return o.s?-28:-59;case 21531:if(s=pe(),!o.m.ac)throw new X(59);return o.m.ac(o,e,s);case 21523:return o.s?(o.s.V.dc&&(c=[24,80],s=pe(),At[s>>1]=c[0],At[s+2>>1]=c[1]),0):-59;case 21524:return o.s?0:-59;case 21515:return o.s?0:-59;default:return-28}}catch(p){if(typeof _e>"u"||p.name!=="ErrnoError")throw p;return-p.aa}},__syscall_openat:function(t,e,i,o){He=o;try{e=e?Ce(ct,e):"";var s=e;if(s.charAt(0)==="/")e=s;else{var c=t===-100?"/":xe(t).path;if(s.length==0)throw new X(44);e=Yt(c+"/"+s)}var p=o?pe():0;return cn(e,i,p).X}catch(x){if(typeof _e>"u"||x.name!=="ErrnoError")throw x;return-x.aa}},_embind_create_inheriting_constructor:function(t,e,i){t=Et(t),e=Ye(e,"wrapper"),i=Zt(i);var o=[].slice,s=e.i,c=s.N,p=s.A.N,x=s.A.constructor;t=dn(t,function(){s.A.qb.forEach((function(b){if(this[b]===p[b])throw new Ti(`Pure virtual function ${b} must be implemented in JavaScript`)}).bind(this)),Object.defineProperty(this,"__parent",{value:c}),this.__construct.apply(this,o.call(arguments))}),c.__construct=function(){this===c&&tt("Pass correct 'this' to __construct");var b=x.implement.apply(void 0,[this].concat(o.call(arguments)));hn(b);var O=b.g;b.notifyOnDestruction(),O.ia=!0,Object.defineProperties(this,{g:{value:O}}),De(this),b=O.o,b=$n(s,b),ge.hasOwnProperty(b)?tt(`Tried to register registered instance: ${b}`):ge[b]=this},c.__destruct=function(){this===c&&tt("Pass correct 'this' to __destruct"),hn(this);var b=this.g.o;b=$n(s,b),ge.hasOwnProperty(b)?delete ge[b]:tt(`Tried to unregister unregistered instance: ${b}`)},t.prototype=Object.create(c);for(var _ in i)t.prototype[_]=i[_];return ee(t)},_embind_finalize_value_object:function(t){var e=gn[t];delete gn[t];var i=e.Pa,o=e.W,s=e.eb,c=s.map(p=>p.Yb).concat(s.map(p=>p.rc));zt([t],c,p=>{var x={};return s.forEach((_,b)=>{var O=p[b],j=_.Wb,H=_.Xb,g=p[b+s.length],M=_.qc,R=_.sc;x[_.Sb]={read:et=>O.fromWireType(j(H,et)),write:(et,ot)=>{var N=[];M(R,et,g.toWireType(N,ot)),Ve(N)}}}),[{name:e.name,fromWireType:function(_){var b={},O;for(O in x)b[O]=x[O].read(_);return o(_),b},toWireType:function(_,b){for(var O in x)if(!(O in b))throw new TypeError(`Missing field: "${O}"`);var j=i();for(O in x)x[O].write(j,b[O]);return _!==null&&_.push(o,j),j},argPackAdvance:8,readValueFromPointer:qe,K:o}]})},_embind_register_bigint:function(){},_embind_register_bool:function(t,e,i,o,s){var c=mn(i);e=Et(e),ne(t,{name:e,fromWireType:function(p){return!!p},toWireType:function(p,x){return x?o:s},argPackAdvance:8,readValueFromPointer:function(p){if(i===1)var x=_t;else if(i===2)x=At;else if(i===4)x=K;else throw new TypeError("Unknown boolean type size: "+e);return this.fromWireType(x[p>>c])},K:null})},_embind_register_class:function(t,e,i,o,s,c,p,x,_,b,O,j,H){O=Et(O),c=Dt(s,c),x&&(x=Dt(p,x)),b&&(b=Dt(_,b)),H=Dt(j,H);var g=Ei(O);Xn(g,function(){me(`Cannot construct ${O} due to unbound types`,[o])}),zt([t,e,i],o?[o]:[],function(M){if(M=M[0],o)var R=M.i,et=R.N;else et=Ae.prototype;M=dn(g,function(){if(Object.getPrototypeOf(this)!==ot)throw new Fe("Use 'new' to construct "+O);if(N.$===void 0)throw new Fe(O+" has no accessible constructor");var Ft=N.$[arguments.length];if(Ft===void 0)throw new Fe(`Tried to invoke ctor of ${O} with invalid number of parameters (${arguments.length}) - expected (${Object.keys(N.$).toString()}) parameters instead!`);return Ft.apply(this,arguments)});var ot=Object.create(et,{constructor:{value:M}});M.prototype=ot;var N=new Pr(O,M,ot,H,R,c,x,b);N.A&&(N.A.oa===void 0&&(N.A.oa=[]),N.A.oa.push(N)),R=new ve(O,N,!0,!1),et=new ve(O+"*",N,!1,!1);var St=new ve(O+" const*",N,!1,!0);return Fi[t]={pointerType:et,Kb:St},ji(g,M),[R,et,St]})},_embind_register_class_class_function:function(t,e,i,o,s,c,p){var x=Cn(i,o);e=Et(e),c=Dt(s,c),zt([],[t],function(_){function b(){me(`Cannot call ${O} due to unbound types`,x)}_=_[0];var O=`${_.name}.${e}`;e.startsWith("@@")&&(e=Symbol[e.substring(2)]);var j=_.i.constructor;return j[e]===void 0?(b.ea=i-1,j[e]=b):(zn(j,e,O),j[e].B[i-1]=b),zt([],x,function(H){if(H=wn(O,[H[0],null].concat(H.slice(1)),null,c,p),j[e].B===void 0?(H.ea=i-1,j[e]=H):j[e].B[i-1]=H,_.i.oa)for(const g of _.i.oa)g.constructor.hasOwnProperty(e)||(g.constructor[e]=H);return[]}),[]})},_embind_register_class_class_property:function(t,e,i,o,s,c,p,x){e=Et(e),c=Dt(s,c),zt([],[t],function(_){_=_[0];var b=`${_.name}.${e}`,O={get(){me(`Cannot access ${b} due to unbound types`,[i])},enumerable:!0,configurable:!0};return O.set=x?()=>{me(`Cannot access ${b} due to unbound types`,[i])}:()=>{tt(`${b} is a read-only property`)},Object.defineProperty(_.i.constructor,e,O),zt([],[i],function(j){j=j[0];var H={get(){return j.fromWireType(c(o))},enumerable:!0};return x&&(x=Dt(p,x),H.set=g=>{var M=[];x(o,j.toWireType(M,g)),Ve(M)}),Object.defineProperty(_.i.constructor,e,H),[]}),[]})},_embind_register_class_constructor:function(t,e,i,o,s,c){var p=Cn(e,i);s=Dt(o,s),zt([],[t],function(x){x=x[0];var _=`constructor ${x.name}`;if(x.i.$===void 0&&(x.i.$=[]),x.i.$[e-1]!==void 0)throw new Fe(`Cannot register multiple constructors with identical number of parameters (${e-1}) for class '${x.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return x.i.$[e-1]=()=>{me(`Cannot construct ${x.name} due to unbound types`,p)},zt([],p,function(b){return b.splice(1,0,null),x.i.$[e-1]=wn(_,b,null,s,c),[]}),[]})},_embind_register_class_function:function(t,e,i,o,s,c,p,x){var _=Cn(i,o);e=Et(e),c=Dt(s,c),zt([],[t],function(b){function O(){me(`Cannot call ${j} due to unbound types`,_)}b=b[0];var j=`${b.name}.${e}`;e.startsWith("@@")&&(e=Symbol[e.substring(2)]),x&&b.i.qb.push(e);var H=b.i.N,g=H[e];return g===void 0||g.B===void 0&&g.className!==b.name&&g.ea===i-2?(O.ea=i-2,O.className=b.name,H[e]=O):(zn(H,e,j),H[e].B[i-2]=O),zt([],_,function(M){return M=wn(j,M,b,c,p),H[e].B===void 0?(M.ea=i-2,H[e]=M):H[e].B[i-2]=M,[]}),[]})},_embind_register_class_property:function(t,e,i,o,s,c,p,x,_,b){e=Et(e),s=Dt(o,s),zt([],[t],function(O){O=O[0];var j=`${O.name}.${e}`,H={get(){me(`Cannot access ${j} due to unbound types`,[i,p])},enumerable:!0,configurable:!0};return H.set=_?()=>{me(`Cannot access ${j} due to unbound types`,[i,p])}:()=>{tt(j+" is a read-only property")},Object.defineProperty(O.i.N,e,H),zt([],_?[i,p]:[i],function(g){var M=g[0],R={get(){var ot=Bi(this,O,j+" getter");return M.fromWireType(s(c,ot))},enumerable:!0};if(_){_=Dt(x,_);var et=g[1];R.set=function(ot){var N=Bi(this,O,j+" setter"),St=[];_(b,N,et.toWireType(St,ot)),Ve(St)}}return Object.defineProperty(O.i.N,e,R),[]}),[]})},_embind_register_emval:function(t,e){e=Et(e),ne(t,{name:e,fromWireType:function(i){var o=Zt(i);return Yn(i),o},toWireType:function(i,o){return ee(o)},argPackAdvance:8,readValueFromPointer:qe,K:null})},_embind_register_enum:function(t,e,i,o){function s(){}i=mn(i),e=Et(e),s.values={},ne(t,{name:e,constructor:s,fromWireType:function(c){return this.constructor.values[c]},toWireType:function(c,p){return p.value},argPackAdvance:8,readValueFromPointer:Or(e,i,o),K:null}),Xn(e,s)},_embind_register_enum_value:function(t,e,i){var o=Ye(t,"enum");e=Et(e),t=o.constructor,o=Object.create(o.constructor.prototype,{value:{value:i},constructor:{value:dn(`${o.name}_${e}`,function(){})}}),t.values[i]=o,t[e]=o},_embind_register_float:function(t,e,i){i=mn(i),e=Et(e),ne(t,{name:e,fromWireType:function(o){return o},toWireType:function(o,s){return s},argPackAdvance:8,readValueFromPointer:Fr(e,i),K:null})},_embind_register_function:function(t,e,i,o,s,c){var p=Cn(e,i);t=Et(t),s=Dt(o,s),Xn(t,function(){me(`Cannot call ${t} due to unbound types`,p)},e-1),zt([],p,function(x){return ji(t,wn(t,[x[0],null].concat(x.slice(1)),null,s,c),e-1),[]})},_embind_register_integer:function(t,e,i,o,s){e=Et(e),s===-1&&(s=4294967295),s=mn(i);var c=x=>x;if(o===0){var p=32-8*i;c=x=>x<<p>>>p}i=e.includes("unsigned")?function(x,_){return _>>>0}:function(x,_){return _},ne(t,{name:e,fromWireType:c,toWireType:i,argPackAdvance:8,readValueFromPointer:Dr(e,s,o!==0),K:null})},_embind_register_memory_view:function(t,e,i){function o(c){c>>=2;var p=gt;return new s(p.buffer,p[c+1],p[c])}var s=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][e];i=Et(i),ne(t,{name:i,fromWireType:o,argPackAdvance:8,readValueFromPointer:o},{$b:!0})},_embind_register_std_string:function(t,e){e=Et(e);var i=e==="std::string";ne(t,{name:e,fromWireType:function(o){var s=gt[o>>2],c=o+4;if(i)for(var p=c,x=0;x<=s;++x){var _=c+x;if(x==s||ct[_]==0){if(p=p?Ce(ct,p,_-p):"",b===void 0)var b=p;else b+="\0",b+=p;p=_+1}}else{for(b=Array(s),x=0;x<s;++x)b[x]=String.fromCharCode(ct[c+x]);b=b.join("")}return ye(o),b},toWireType:function(o,s){s instanceof ArrayBuffer&&(s=new Uint8Array(s));var c=typeof s=="string";c||s instanceof Uint8Array||s instanceof Uint8ClampedArray||s instanceof Int8Array||tt("Cannot pass non-string to std::string");var p=i&&c?ci(s):s.length,x=Kn(4+p+1),_=x+4;if(gt[x>>2]=p,i&&c)ui(s,ct,_,p+1);else if(c)for(c=0;c<p;++c){var b=s.charCodeAt(c);255<b&&(ye(_),tt("String has UTF-16 code units that do not fit in 8 bits")),ct[_+c]=b}else for(c=0;c<p;++c)ct[_+c]=s[c];return o!==null&&o.push(ye,x),x},argPackAdvance:8,readValueFromPointer:qe,K:function(o){ye(o)}})},_embind_register_std_wstring:function(t,e,i){if(i=Et(i),e===2)var o=jr,s=Nr,c=Wr,p=()=>Gt,x=1;else e===4&&(o=Br,s=$r,c=Ur,p=()=>gt,x=2);ne(t,{name:i,fromWireType:function(_){for(var b=gt[_>>2],O=p(),j,H=_+4,g=0;g<=b;++g){var M=_+4+g*e;(g==b||O[M>>x]==0)&&(H=o(H,M-H),j===void 0?j=H:(j+="\0",j+=H),H=M+e)}return ye(_),j},toWireType:function(_,b){typeof b!="string"&&tt(`Cannot pass non-string to C++ string type ${i}`);var O=c(b),j=Kn(4+O+e);return gt[j>>2]=O>>x,s(b,j+4,O+e),_!==null&&_.push(ye,j),j},argPackAdvance:8,readValueFromPointer:qe,K:function(_){ye(_)}})},_embind_register_value_object:function(t,e,i,o,s,c){gn[t]={name:Et(e),Pa:Dt(i,o),W:Dt(s,c),eb:[]}},_embind_register_value_object_field:function(t,e,i,o,s,c,p,x,_,b){gn[t].eb.push({Sb:Et(e),Yb:i,Wb:Dt(o,s),Xb:c,rc:p,qc:Dt(x,_),sc:b})},_embind_register_void:function(t,e){e=Et(e),ne(t,{fc:!0,name:e,argPackAdvance:0,fromWireType:function(){},toWireType:function(){}})},_emscripten_get_now_is_monotonic:()=>!0,_emval_as:function(t,e,i){t=Zt(t),e=Ye(e,"emval::as");var o=[],s=ee(o);return gt[i>>2]=s,e.toWireType(o,t)},_emval_call_method:function(t,e,i,o,s){t=An[t],e=Zt(e),i=xn(i);var c=[];return gt[o>>2]=ee(c),t(e,i,c,s)},_emval_call_void_method:function(t,e,i,o){t=An[t],e=Zt(e),i=xn(i),t(e,i,null,o)},_emval_decref:Yn,_emval_get_method_caller:function(t,e){var i=Xr(t,e),o=i[0];e=o.name+"_$"+i.slice(1).map(function(p){return p.name}).join("_")+"$";var s=Ui[e];if(s!==void 0)return s;var c=Array(t-1);return s=zr((p,x,_,b)=>{for(var O=0,j=0;j<t-1;++j)c[j]=i[j+1].readValueFromPointer(b+O),O+=i[j+1].argPackAdvance;for(p=p[x].apply(p,c),j=0;j<t-1;++j)i[j+1].Nb&&i[j+1].Nb(c[j]);if(!o.fc)return o.toWireType(_,p)}),Ui[e]=s},_emval_get_module_property:function(t){return t=xn(t),ee(u[t])},_emval_get_property:function(t,e){return t=Zt(t),e=Zt(e),ee(t[e])},_emval_incref:function(t){4<t&&(Vt.get(t).tb+=1)},_emval_new_cstring:function(t){return ee(xn(t))},_emval_new_object:function(){return ee({})},_emval_run_destructors:function(t){var e=Zt(t);Ve(e),Yn(t)},_emval_set_property:function(t,e,i){t=Zt(t),e=Zt(e),i=Zt(i),t[e]=i},_emval_take_value:function(t,e){return t=Ye(t,"_emval_take_value"),t=t.readValueFromPointer(e),ee(t)},abort:()=>{bt("")},emscripten_asm_const_int:(t,e,i)=>{qn.length=0;var o;for(i>>=2;o=ct[e++];)i+=o!=105&i,qn.push(o==105?K[i]:r[i++>>1]),++i;return We[t].apply(null,qn)},emscripten_date_now:function(){return Date.now()},emscripten_get_now:()=>performance.now(),emscripten_memcpy_big:(t,e,i)=>ct.copyWithin(t,e,e+i),emscripten_resize_heap:t=>{var e=ct.length;if(t>>>=0,2147483648<t)return!1;for(var i=1;4>=i;i*=2){var o=e*(1+.2/i);o=Math.min(o,t+100663296);var s=Math;o=Math.max(t,o);t:{s=s.min.call(s,2147483648,o+(65536-o%65536)%65536)-Bt.buffer.byteLength+65535>>>16;try{Bt.grow(s),a();var c=1;break t}catch{}c=void 0}if(c)return!0}return!1},environ_get:(t,e)=>{var i=0;return Hi().forEach(function(o,s){var c=e+i;for(s=gt[t+4*s>>2]=c,c=0;c<o.length;++c)_t[s++>>0]=o.charCodeAt(c);_t[s>>0]=0,i+=o.length+1}),0},environ_sizes_get:(t,e)=>{var i=Hi();gt[t>>2]=i.length;var o=0;return i.forEach(function(s){o+=s.length+1}),gt[e>>2]=o,0},fd_close:function(t){try{var e=xe(t);if(e.X===null)throw new X(8);e.Ma&&(e.Ma=null);try{e.m.close&&e.m.close(e)}catch(i){throw i}finally{on[e.X]=null}return e.X=null,0}catch(i){if(typeof _e>"u"||i.name!=="ErrnoError")throw i;return i.aa}},fd_read:function(t,e,i,o){try{t:{var s=xe(t);t=e;for(var c,p=e=0;p<i;p++){var x=gt[t>>2],_=gt[t+4>>2];t+=8;var b=s,O=x,j=_,H=c,g=_t;if(0>j||0>H)throw new X(28);if(b.X===null)throw new X(8);if((b.flags&2097155)===1)throw new X(8);if((b.node.mode&61440)===16384)throw new X(31);if(!b.m.read)throw new X(28);var M=typeof H<"u";if(!M)H=b.position;else if(!b.seekable)throw new X(70);var R=b.m.read(b,g,O,j,H);M||(b.position+=R);var et=R;if(0>et){var ot=-1;break t}if(e+=et,et<_)break;typeof c<"u"&&(c+=et)}ot=e}return gt[o>>2]=ot,0}catch(N){if(typeof _e>"u"||N.name!=="ErrnoError")throw N;return N.aa}},fd_seek:function(t,e,i,o,s){e=i+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*i:NaN;try{if(isNaN(e))return 61;var c=xe(t);return Si(c,e,o),Me=[c.position>>>0,(he=c.position,1<=+Math.abs(he)?0<he?+Math.floor(he/4294967296)>>>0:~~+Math.ceil((he-+(~~he>>>0))/4294967296)>>>0:0)],K[s>>2]=Me[0],K[s+4>>2]=Me[1],c.Ma&&e===0&&o===0&&(c.Ma=null),0}catch(p){if(typeof _e>"u"||p.name!=="ErrnoError")throw p;return p.aa}},fd_write:function(t,e,i,o){try{t:{var s=xe(t);t=e;for(var c,p=e=0;p<i;p++){var x=gt[t>>2],_=gt[t+4>>2];t+=8;var b=s,O=x,j=_,H=c,g=_t;if(0>j||0>H)throw new X(28);if(b.X===null)throw new X(8);if((b.flags&2097155)===0)throw new X(8);if((b.node.mode&61440)===16384)throw new X(31);if(!b.m.write)throw new X(28);b.seekable&&b.flags&1024&&Si(b,0,2);var M=typeof H<"u";if(!M)H=b.position;else if(!b.seekable)throw new X(70);var R=b.m.write(b,g,O,j,H,void 0);M||(b.position+=R);var et=R;if(0>et){var ot=-1;break t}e+=et,typeof c<"u"&&(c+=et)}ot=e}return gt[o>>2]=ot,0}catch(N){if(typeof _e>"u"||N.name!=="ErrnoError")throw N;return N.aa}},strftime_l:(t,e,i,o)=>Yr(t,e,i,o)};(function(){function t(i){if(lt=i=i.exports,Bt=lt.memory,a(),m=lt.__indirect_function_table,I.unshift(lt.__wasm_call_ctors),it--,u.monitorRunDependencies&&u.monitorRunDependencies(it),it==0&&V){var o=V;V=null,o()}return i}var e={env:qi,wasi_snapshot_preview1:qi};if(it++,u.monitorRunDependencies&&u.monitorRunDependencies(it),u.instantiateWasm)try{return u.instantiateWasm(e,t)}catch(i){xt("Module.instantiateWasm callback failed with error: "+i),st(i)}return nn(e,function(i){t(i.instance)}).catch(st),{}})();var ye=t=>(ye=lt.free)(t),Kn=t=>(Kn=lt.malloc)(t),Gi=u._ma_device__on_notification_unlocked=t=>(Gi=u._ma_device__on_notification_unlocked=lt.ma_device__on_notification_unlocked)(t);u._ma_malloc_emscripten=(t,e)=>(u._ma_malloc_emscripten=lt.ma_malloc_emscripten)(t,e),u._ma_free_emscripten=(t,e)=>(u._ma_free_emscripten=lt.ma_free_emscripten)(t,e);var Ji=u._ma_device_process_pcm_frames_capture__webaudio=(t,e,i)=>(Ji=u._ma_device_process_pcm_frames_capture__webaudio=lt.ma_device_process_pcm_frames_capture__webaudio)(t,e,i),Ki=u._ma_device_process_pcm_frames_playback__webaudio=(t,e,i)=>(Ki=u._ma_device_process_pcm_frames_playback__webaudio=lt.ma_device_process_pcm_frames_playback__webaudio)(t,e,i),Zi=()=>(Zi=lt.__errno_location)(),Qi=t=>(Qi=lt.__getTypeName)(t);u.__embind_initialize_bindings=()=>(u.__embind_initialize_bindings=lt._embind_initialize_bindings)(),u.dynCall_iiji=(t,e,i,o,s)=>(u.dynCall_iiji=lt.dynCall_iiji)(t,e,i,o,s),u.dynCall_jiji=(t,e,i,o,s)=>(u.dynCall_jiji=lt.dynCall_jiji)(t,e,i,o,s),u.dynCall_iiiji=(t,e,i,o,s,c)=>(u.dynCall_iiiji=lt.dynCall_iiiji)(t,e,i,o,s,c),u.dynCall_iij=(t,e,i,o)=>(u.dynCall_iij=lt.dynCall_iij)(t,e,i,o),u.dynCall_jii=(t,e,i)=>(u.dynCall_jii=lt.dynCall_jii)(t,e,i),u.dynCall_viijii=(t,e,i,o,s,c,p)=>(u.dynCall_viijii=lt.dynCall_viijii)(t,e,i,o,s,c,p),u.dynCall_iiiiij=(t,e,i,o,s,c,p)=>(u.dynCall_iiiiij=lt.dynCall_iiiiij)(t,e,i,o,s,c,p),u.dynCall_iiiiijj=(t,e,i,o,s,c,p,x,_)=>(u.dynCall_iiiiijj=lt.dynCall_iiiiijj)(t,e,i,o,s,c,p,x,_),u.dynCall_iiiiiijj=(t,e,i,o,s,c,p,x,_,b)=>(u.dynCall_iiiiiijj=lt.dynCall_iiiiiijj)(t,e,i,o,s,c,p,x,_,b);var Ln;V=function t(){Ln||tr(),Ln||(V=t)};function tr(){function t(){if(!Ln&&(Ln=!0,u.calledRun=!0,!Xt)){if(u.noFSInit||Li||(Li=!0,_i(),u.stdin=u.stdin,u.stdout=u.stdout,u.stderr=u.stderr,u.stdin?$e("stdin",u.stdin):Nn("/dev/tty","/dev/stdin"),u.stdout?$e("stdout",null,u.stdout):Nn("/dev/tty","/dev/stdout"),u.stderr?$e("stderr",null,u.stderr):Nn("/dev/tty1","/dev/stderr"),cn("/dev/stdin",0),cn("/dev/stdout",1),cn("/dev/stderr",1)),vi=!1,fe(I),U(u),u.onRuntimeInitialized&&u.onRuntimeInitialized(),u.postRun)for(typeof u.postRun=="function"&&(u.postRun=[u.postRun]);u.postRun.length;){var e=u.postRun.shift();F.unshift(e)}fe(F)}}if(!(0<it)){if(u.preRun)for(typeof u.preRun=="function"&&(u.preRun=[u.preRun]);u.preRun.length;)q();fe(L),0<it||(u.setStatus?(u.setStatus("Running..."),setTimeout(function(){setTimeout(function(){u.setStatus("")},1),t()},1)):t())}}if(u.preInit)for(typeof u.preInit=="function"&&(u.preInit=[u.preInit]);0<u.preInit.length;)u.preInit.pop()();return tr(),k.ready}})();const A=P},C=>{C.exports=JSON.parse(`{"name":"@rive-app/canvas","version":"2.25.7","description":"Rive's canvas based web api.","main":"rive.js","homepage":"https://rive.app","repository":{"type":"git","url":"https://github.com/rive-app/rive-wasm/tree/master/js"},"keywords":["rive","animation"],"author":"Rive","contributors":["Luigi Rosso <luigi@rive.app> (https://rive.app)","Maxwell Talbot <max@rive.app> (https://rive.app)","Arthur Vivian <arthur@rive.app> (https://rive.app)","Umberto Sonnino <umberto@rive.app> (https://rive.app)","Matthew Sullivan <matt.j.sullivan@gmail.com> (mailto:matt.j.sullivan@gmail.com)"],"license":"MIT","files":["rive.js","rive.js.map","rive.wasm","rive_fallback.wasm","rive.d.ts","rive_advanced.mjs.d.ts"],"typings":"rive.d.ts","dependencies":{},"browser":{"fs":false,"path":false}}`)},(C,w,y)=>{y.r(w),y.d(w,{Animation:()=>P.Animation});var P=y(4)},(C,w,y)=>{y.r(w),y.d(w,{Animation:()=>P});var P=function(){function A(E,k,u,U){this.animation=E,this.artboard=k,this.playing=U,this.loopCount=0,this.scrubTo=null,this.instance=new u.LinearAnimationInstance(E,k)}return Object.defineProperty(A.prototype,"name",{get:function(){return this.animation.name},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"time",{get:function(){return this.instance.time},set:function(E){this.instance.time=E},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"loopValue",{get:function(){return this.animation.loopValue},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"needsScrub",{get:function(){return this.scrubTo!==null},enumerable:!1,configurable:!0}),A.prototype.advance=function(E){this.scrubTo===null?this.instance.advance(E):(this.instance.time=0,this.instance.advance(this.scrubTo),this.scrubTo=null)},A.prototype.apply=function(E){this.instance.apply(E)},A.prototype.cleanup=function(){this.instance.delete()},A}()},(C,w,y)=>{y.r(w),y.d(w,{BLANK_URL:()=>A.BLANK_URL,registerTouchInteractions:()=>P.registerTouchInteractions,sanitizeUrl:()=>A.sanitizeUrl});var P=y(6),A=y(7)},(C,w,y)=>{y.r(w),y.d(w,{registerTouchInteractions:()=>E});var P=void 0,A=function(k,u){var U,st;return["touchstart","touchmove"].indexOf(k.type)>-1&&(!((U=k.touches)===null||U===void 0)&&U.length)?(u||k.preventDefault(),{clientX:k.touches[0].clientX,clientY:k.touches[0].clientY}):k.type==="touchend"&&(!((st=k.changedTouches)===null||st===void 0)&&st.length)?{clientX:k.changedTouches[0].clientX,clientY:k.changedTouches[0].clientY}:{clientX:k.clientX,clientY:k.clientY}},E=function(k){var u=k.canvas,U=k.artboard,st=k.stateMachines,W=st===void 0?[]:st,Y=k.renderer,nt=k.rive,$=k.fit,B=k.alignment,Z=k.isTouchScrollEnabled,D=Z===void 0?!1:Z,yt=k.layoutScaleFactor,rt=yt===void 0?1:yt;if(!u||!W.length||!Y||!nt||!U||typeof window>"u")return null;var Ct=null,ht=!1,Ht=function(It){if(ht&&It instanceof MouseEvent){It.type=="mouseup"&&(ht=!1);return}ht=D&&It.type==="touchend"&&Ct==="touchstart",Ct=It.type;var xt=It.currentTarget.getBoundingClientRect(),Wt=A(It,D),Bt=Wt.clientX,lt=Wt.clientY;if(!(!Bt&&!lt)){var Xt=Bt-xt.left,_t=lt-xt.top,ct=nt.computeAlignment($,B,{minX:0,minY:0,maxX:xt.width,maxY:xt.height},U.bounds,rt),At=new nt.Mat2D;ct.invert(At);var Gt=new nt.Vec2D(Xt,_t),K=nt.mapXY(At,Gt),gt=K.x(),d=K.y();switch(K.delete(),At.delete(),Gt.delete(),ct.delete(),It.type){case"mouseout":for(var r=0,a=W;r<a.length;r++){var m=a[r];m.pointerMove(gt,d)}break;case"touchmove":case"mouseover":case"mousemove":{for(var L=0,I=W;L<I.length;L++){var m=I[L];m.pointerMove(gt,d)}break}case"touchstart":case"mousedown":{for(var F=0,q=W;F<q.length;F++){var m=q[F];m.pointerDown(gt,d)}break}case"touchend":case"mouseup":{for(var it=0,V=W;it<V.length;it++){var m=V[it];m.pointerUp(gt,d)}break}}}},ft=Ht.bind(P);return u.addEventListener("mouseover",ft),u.addEventListener("mouseout",ft),u.addEventListener("mousemove",ft),u.addEventListener("mousedown",ft),u.addEventListener("mouseup",ft),u.addEventListener("touchmove",ft,{passive:D}),u.addEventListener("touchstart",ft,{passive:D}),u.addEventListener("touchend",ft),function(){u.removeEventListener("mouseover",ft),u.removeEventListener("mouseout",ft),u.removeEventListener("mousemove",ft),u.removeEventListener("mousedown",ft),u.removeEventListener("mouseup",ft),u.removeEventListener("touchmove",ft),u.removeEventListener("touchstart",ft),u.removeEventListener("touchend",ft)}}},(C,w,y)=>{y.r(w),y.d(w,{BLANK_URL:()=>st,sanitizeUrl:()=>nt});var P=/^([^\w]*)(javascript|data|vbscript)/im,A=/&#(\w+)(^\w|;)?/g,E=/&(newline|tab);/gi,k=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,u=/^.+(:|&colon;)/gim,U=[".","/"],st="about:blank";function W($){return U.indexOf($[0])>-1}function Y($){var B=$.replace(k,"");return B.replace(A,function(Z,D){return String.fromCharCode(D)})}function nt($){if(!$)return st;var B=Y($).replace(E,"").replace(k,"").trim();if(!B)return st;if(W(B))return B;var Z=B.match(u);if(!Z)return B;var D=Z[0];return P.test(D)?st:B}}],f={};function v(C){var w=f[C];if(w!==void 0)return w.exports;var y=f[C]={exports:{}};return h[C](y,y.exports,v),y.exports}v.d=(C,w)=>{for(var y in w)v.o(w,y)&&!v.o(C,y)&&Object.defineProperty(C,y,{enumerable:!0,get:w[y]})},v.o=(C,w)=>Object.prototype.hasOwnProperty.call(C,w),v.r=C=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(C,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(C,"__esModule",{value:!0})};var S={};return(()=>{v.r(S),v.d(S,{Alignment:()=>U,EventType:()=>D,Fit:()=>u,Layout:()=>st,LoopType:()=>yt,Rive:()=>Xt,RiveEventType:()=>$,RiveFile:()=>lt,RuntimeLoader:()=>W,StateMachineInput:()=>nt,StateMachineInputType:()=>Y,Testing:()=>At,decodeAudio:()=>Gt,decodeFont:()=>gt,decodeImage:()=>K});var C=v(1),w=v(2),y=v(3),P=v(5),A=function(){var d=function(r,a){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,L){m.__proto__=L}||function(m,L){for(var I in L)Object.prototype.hasOwnProperty.call(L,I)&&(m[I]=L[I])},d(r,a)};return function(r,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");d(r,a);function m(){this.constructor=r}r.prototype=a===null?Object.create(a):(m.prototype=a.prototype,new m)}}(),E=function(d,r,a,m){function L(I){return I instanceof a?I:new a(function(F){F(I)})}return new(a||(a=Promise))(function(I,F){function q(bt){try{V(m.next(bt))}catch(Tt){F(Tt)}}function it(bt){try{V(m.throw(bt))}catch(Tt){F(Tt)}}function V(bt){bt.done?I(bt.value):L(bt.value).then(q,it)}V((m=m.apply(d,[])).next())})},k=function(d,r){var a={label:0,sent:function(){if(I[0]&1)throw I[1];return I[1]},trys:[],ops:[]},m,L,I,F=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return F.next=q(0),F.throw=q(1),F.return=q(2),typeof Symbol=="function"&&(F[Symbol.iterator]=function(){return this}),F;function q(V){return function(bt){return it([V,bt])}}function it(V){if(m)throw new TypeError("Generator is already executing.");for(;F&&(F=0,V[0]&&(a=0)),a;)try{if(m=1,L&&(I=V[0]&2?L.return:V[0]?L.throw||((I=L.return)&&I.call(L),0):L.next)&&!(I=I.call(L,V[1])).done)return I;switch(L=0,I&&(V=[V[0]&2,I.value]),V[0]){case 0:case 1:I=V;break;case 4:return a.label++,{value:V[1],done:!1};case 5:a.label++,L=V[1],V=[0];continue;case 7:V=a.ops.pop(),a.trys.pop();continue;default:if(I=a.trys,!(I=I.length>0&&I[I.length-1])&&(V[0]===6||V[0]===2)){a=0;continue}if(V[0]===3&&(!I||V[1]>I[0]&&V[1]<I[3])){a.label=V[1];break}if(V[0]===6&&a.label<I[1]){a.label=I[1],I=V;break}if(I&&a.label<I[2]){a.label=I[2],a.ops.push(V);break}I[2]&&a.ops.pop(),a.trys.pop();continue}V=r.call(d,a)}catch(bt){V=[6,bt],L=0}finally{m=I=0}if(V[0]&5)throw V[1];return{value:V[0]?V[1]:void 0,done:!0}}},u;(function(d){d.Cover="cover",d.Contain="contain",d.Fill="fill",d.FitWidth="fitWidth",d.FitHeight="fitHeight",d.None="none",d.ScaleDown="scaleDown",d.Layout="layout"})(u||(u={}));var U;(function(d){d.Center="center",d.TopLeft="topLeft",d.TopCenter="topCenter",d.TopRight="topRight",d.CenterLeft="centerLeft",d.CenterRight="centerRight",d.BottomLeft="bottomLeft",d.BottomCenter="bottomCenter",d.BottomRight="bottomRight"})(U||(U={}));var st=function(){function d(r){var a,m,L,I,F,q,it;this.fit=(a=r==null?void 0:r.fit)!==null&&a!==void 0?a:u.Contain,this.alignment=(m=r==null?void 0:r.alignment)!==null&&m!==void 0?m:U.Center,this.layoutScaleFactor=(L=r==null?void 0:r.layoutScaleFactor)!==null&&L!==void 0?L:1,this.minX=(I=r==null?void 0:r.minX)!==null&&I!==void 0?I:0,this.minY=(F=r==null?void 0:r.minY)!==null&&F!==void 0?F:0,this.maxX=(q=r==null?void 0:r.maxX)!==null&&q!==void 0?q:0,this.maxY=(it=r==null?void 0:r.maxY)!==null&&it!==void 0?it:0}return d.new=function(r){var a=r.fit,m=r.alignment,L=r.minX,I=r.minY,F=r.maxX,q=r.maxY;return console.warn("This function is deprecated: please use `new Layout({})` instead"),new d({fit:a,alignment:m,minX:L,minY:I,maxX:F,maxY:q})},d.prototype.copyWith=function(r){var a=r.fit,m=r.alignment,L=r.layoutScaleFactor,I=r.minX,F=r.minY,q=r.maxX,it=r.maxY;return new d({fit:a??this.fit,alignment:m??this.alignment,layoutScaleFactor:L??this.layoutScaleFactor,minX:I??this.minX,minY:F??this.minY,maxX:q??this.maxX,maxY:it??this.maxY})},d.prototype.runtimeFit=function(r){if(this.cachedRuntimeFit)return this.cachedRuntimeFit;var a;return this.fit===u.Cover?a=r.Fit.cover:this.fit===u.Contain?a=r.Fit.contain:this.fit===u.Fill?a=r.Fit.fill:this.fit===u.FitWidth?a=r.Fit.fitWidth:this.fit===u.FitHeight?a=r.Fit.fitHeight:this.fit===u.ScaleDown?a=r.Fit.scaleDown:this.fit===u.Layout?a=r.Fit.layout:a=r.Fit.none,this.cachedRuntimeFit=a,a},d.prototype.runtimeAlignment=function(r){if(this.cachedRuntimeAlignment)return this.cachedRuntimeAlignment;var a;return this.alignment===U.TopLeft?a=r.Alignment.topLeft:this.alignment===U.TopCenter?a=r.Alignment.topCenter:this.alignment===U.TopRight?a=r.Alignment.topRight:this.alignment===U.CenterLeft?a=r.Alignment.centerLeft:this.alignment===U.CenterRight?a=r.Alignment.centerRight:this.alignment===U.BottomLeft?a=r.Alignment.bottomLeft:this.alignment===U.BottomCenter?a=r.Alignment.bottomCenter:this.alignment===U.BottomRight?a=r.Alignment.bottomRight:a=r.Alignment.center,this.cachedRuntimeAlignment=a,a},d}(),W=function(){function d(){}return d.loadRuntime=function(){C.default({locateFile:function(){return d.wasmURL}}).then(function(r){var a;for(d.runtime=r;d.callBackQueue.length>0;)(a=d.callBackQueue.shift())===null||a===void 0||a(d.runtime)}).catch(function(r){var a={message:(r==null?void 0:r.message)||"Unknown error",type:(r==null?void 0:r.name)||"Error",wasmError:r instanceof WebAssembly.CompileError||r instanceof WebAssembly.RuntimeError,originalError:r};console.debug("Rive WASM load error details:",a);var m="https://cdn.jsdelivr.net/npm/".concat(w.name,"@").concat(w.version,"/rive_fallback.wasm");if(d.wasmURL.toLowerCase()!==m)console.warn("Failed to load WASM from ".concat(d.wasmURL," (").concat(a.message,"), trying jsdelivr as a backup")),d.setWasmUrl(m),d.loadRuntime();else{var L=["Could not load Rive WASM file from ".concat(d.wasmURL," or ").concat(m,"."),"Possible reasons:","- Network connection is down","- WebAssembly is not supported in this environment","- The WASM file is corrupted or incompatible",`
Error details:`,"- Type: ".concat(a.type),"- Message: ".concat(a.message),"- WebAssembly-specific error: ".concat(a.wasmError),`
To resolve, you may need to:`,"1. Check your network connection","2. Set a new WASM source via RuntimeLoader.setWasmUrl()","3. Call RuntimeLoader.loadRuntime() again"].join(`
`);console.error(L)}})},d.getInstance=function(r){d.isLoading||(d.isLoading=!0,d.loadRuntime()),d.runtime?r(d.runtime):d.callBackQueue.push(r)},d.awaitInstance=function(){return new Promise(function(r){return d.getInstance(function(a){return r(a)})})},d.setWasmUrl=function(r){d.wasmURL=r},d.getWasmUrl=function(){return d.wasmURL},d.isLoading=!1,d.callBackQueue=[],d.wasmURL="https://unpkg.com/".concat(w.name,"@").concat(w.version,"/rive.wasm"),d}(),Y;(function(d){d[d.Number=56]="Number",d[d.Trigger=58]="Trigger",d[d.Boolean=59]="Boolean"})(Y||(Y={}));var nt=function(){function d(r,a){this.type=r,this.runtimeInput=a}return Object.defineProperty(d.prototype,"name",{get:function(){return this.runtimeInput.name},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"value",{get:function(){return this.runtimeInput.value},set:function(r){this.runtimeInput.value=r},enumerable:!1,configurable:!0}),d.prototype.fire=function(){this.type===Y.Trigger&&this.runtimeInput.fire()},d.prototype.delete=function(){this.runtimeInput=null},d}(),$;(function(d){d[d.General=128]="General",d[d.OpenUrl=131]="OpenUrl"})($||($={}));var B=function(){function d(r,a,m,L){this.stateMachine=r,this.playing=m,this.artboard=L,this.inputs=[],this.instance=new a.StateMachineInstance(r,L),this.initInputs(a)}return Object.defineProperty(d.prototype,"name",{get:function(){return this.stateMachine.name},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"statesChanged",{get:function(){for(var r=[],a=0;a<this.instance.stateChangedCount();a++)r.push(this.instance.stateChangedNameByIndex(a));return r},enumerable:!1,configurable:!0}),d.prototype.advance=function(r){this.instance.advance(r)},d.prototype.advanceAndApply=function(r){this.instance.advanceAndApply(r)},d.prototype.reportedEventCount=function(){return this.instance.reportedEventCount()},d.prototype.reportedEventAt=function(r){return this.instance.reportedEventAt(r)},d.prototype.initInputs=function(r){for(var a=0;a<this.instance.inputCount();a++){var m=this.instance.input(a);this.inputs.push(this.mapRuntimeInput(m,r))}},d.prototype.mapRuntimeInput=function(r,a){if(r.type===a.SMIInput.bool)return new nt(Y.Boolean,r.asBool());if(r.type===a.SMIInput.number)return new nt(Y.Number,r.asNumber());if(r.type===a.SMIInput.trigger)return new nt(Y.Trigger,r.asTrigger())},d.prototype.cleanup=function(){this.inputs.forEach(function(r){r.delete()}),this.inputs.length=0,this.instance.delete()},d}(),Z=function(){function d(r,a,m,L,I){L===void 0&&(L=[]),I===void 0&&(I=[]),this.runtime=r,this.artboard=a,this.eventManager=m,this.animations=L,this.stateMachines=I}return d.prototype.add=function(r,a,m){if(m===void 0&&(m=!0),r=ct(r),r.length===0)this.animations.forEach(function(kt){return kt.playing=a}),this.stateMachines.forEach(function(kt){return kt.playing=a});else for(var L=this.animations.map(function(kt){return kt.name}),I=this.stateMachines.map(function(kt){return kt.name}),F=0;F<r.length;F++){var q=L.indexOf(r[F]),it=I.indexOf(r[F]);if(q>=0||it>=0)q>=0?this.animations[q].playing=a:this.stateMachines[it].playing=a;else{var V=this.artboard.animationByName(r[F]);if(V){var bt=new y.Animation(V,this.artboard,this.runtime,a);bt.advance(0),bt.apply(1),this.animations.push(bt)}else{var Tt=this.artboard.stateMachineByName(r[F]);if(Tt){var Rt=new B(Tt,this.runtime,a,this.artboard);this.stateMachines.push(Rt)}}}}return m&&(a?this.eventManager.fire({type:D.Play,data:this.playing}):this.eventManager.fire({type:D.Pause,data:this.paused})),a?this.playing:this.paused},d.prototype.initLinearAnimations=function(r,a){for(var m=this.animations.map(function(it){return it.name}),L=0;L<r.length;L++){var I=m.indexOf(r[L]);if(I>=0)this.animations[I].playing=a;else{var F=this.artboard.animationByName(r[L]);if(F){var q=new y.Animation(F,this.artboard,this.runtime,a);q.advance(0),q.apply(1),this.animations.push(q)}}}},d.prototype.initStateMachines=function(r,a){for(var m=this.stateMachines.map(function(it){return it.name}),L=0;L<r.length;L++){var I=m.indexOf(r[L]);if(I>=0)this.stateMachines[I].playing=a;else{var F=this.artboard.stateMachineByName(r[L]);if(F){var q=new B(F,this.runtime,a,this.artboard);this.stateMachines.push(q)}else this.initLinearAnimations([r[L]],a)}}},d.prototype.play=function(r){return this.add(r,!0)},d.prototype.pause=function(r){return this.add(r,!1)},d.prototype.scrub=function(r,a){var m=this.animations.filter(function(L){return r.includes(L.name)});return m.forEach(function(L){return L.scrubTo=a}),m.map(function(L){return L.name})},Object.defineProperty(d.prototype,"playing",{get:function(){return this.animations.filter(function(r){return r.playing}).map(function(r){return r.name}).concat(this.stateMachines.filter(function(r){return r.playing}).map(function(r){return r.name}))},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"paused",{get:function(){return this.animations.filter(function(r){return!r.playing}).map(function(r){return r.name}).concat(this.stateMachines.filter(function(r){return!r.playing}).map(function(r){return r.name}))},enumerable:!1,configurable:!0}),d.prototype.stop=function(r){var a=this;r=ct(r);var m=[];if(r.length===0)m=this.animations.map(function(F){return F.name}).concat(this.stateMachines.map(function(F){return F.name})),this.animations.forEach(function(F){return F.cleanup()}),this.stateMachines.forEach(function(F){return F.cleanup()}),this.animations.splice(0,this.animations.length),this.stateMachines.splice(0,this.stateMachines.length);else{var L=this.animations.filter(function(F){return r.includes(F.name)});L.forEach(function(F){F.cleanup(),a.animations.splice(a.animations.indexOf(F),1)});var I=this.stateMachines.filter(function(F){return r.includes(F.name)});I.forEach(function(F){F.cleanup(),a.stateMachines.splice(a.stateMachines.indexOf(F),1)}),m=L.map(function(F){return F.name}).concat(I.map(function(F){return F.name}))}return this.eventManager.fire({type:D.Stop,data:m}),m},Object.defineProperty(d.prototype,"isPlaying",{get:function(){return this.animations.reduce(function(r,a){return r||a.playing},!1)||this.stateMachines.reduce(function(r,a){return r||a.playing},!1)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"isPaused",{get:function(){return!this.isPlaying&&(this.animations.length>0||this.stateMachines.length>0)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"isStopped",{get:function(){return this.animations.length===0&&this.stateMachines.length===0},enumerable:!1,configurable:!0}),d.prototype.atLeastOne=function(r,a){a===void 0&&(a=!0);var m;return this.animations.length===0&&this.stateMachines.length===0&&(this.artboard.animationCount()>0?this.add([m=this.artboard.animationByIndex(0).name],r,a):this.artboard.stateMachineCount()>0&&this.add([m=this.artboard.stateMachineByIndex(0).name],r,a)),m},d.prototype.handleLooping=function(){for(var r=0,a=this.animations.filter(function(L){return L.playing});r<a.length;r++){var m=a[r];m.loopValue===0&&m.loopCount?(m.loopCount=0,this.stop(m.name)):m.loopValue===1&&m.loopCount?(this.eventManager.fire({type:D.Loop,data:{animation:m.name,type:yt.Loop}}),m.loopCount=0):m.loopValue===2&&m.loopCount>1&&(this.eventManager.fire({type:D.Loop,data:{animation:m.name,type:yt.PingPong}}),m.loopCount=0)}},d.prototype.handleStateChanges=function(){for(var r=[],a=0,m=this.stateMachines.filter(function(I){return I.playing});a<m.length;a++){var L=m[a];r.push.apply(r,L.statesChanged)}r.length>0&&this.eventManager.fire({type:D.StateChange,data:r})},d.prototype.handleAdvancing=function(r){this.eventManager.fire({type:D.Advance,data:r})},d}(),D;(function(d){d.Load="load",d.LoadError="loaderror",d.Play="play",d.Pause="pause",d.Stop="stop",d.Loop="loop",d.Draw="draw",d.Advance="advance",d.StateChange="statechange",d.RiveEvent="riveevent",d.AudioStatusChange="audiostatuschange"})(D||(D={}));var yt;(function(d){d.OneShot="oneshot",d.Loop="loop",d.PingPong="pingpong"})(yt||(yt={}));var rt=function(){function d(r){r===void 0&&(r=[]),this.listeners=r}return d.prototype.getListeners=function(r){return this.listeners.filter(function(a){return a.type===r})},d.prototype.add=function(r){this.listeners.includes(r)||this.listeners.push(r)},d.prototype.remove=function(r){for(var a=0;a<this.listeners.length;a++){var m=this.listeners[a];if(m.type===r.type&&m.callback===r.callback){this.listeners.splice(a,1);break}}},d.prototype.removeAll=function(r){var a=this;r?this.listeners.filter(function(m){return m.type===r}).forEach(function(m){return a.remove(m)}):this.listeners.splice(0,this.listeners.length)},d.prototype.fire=function(r){var a=this.getListeners(r.type);a.forEach(function(m){return m.callback(r)})},d}(),Ct=function(){function d(r){this.eventManager=r,this.queue=[]}return d.prototype.add=function(r){this.queue.push(r)},d.prototype.process=function(){for(;this.queue.length>0;){var r=this.queue.shift();r!=null&&r.action&&r.action(),r!=null&&r.event&&this.eventManager.fire(r.event)}},d}(),ht;(function(d){d[d.AVAILABLE=0]="AVAILABLE",d[d.UNAVAILABLE=1]="UNAVAILABLE"})(ht||(ht={}));var Ht=function(d){A(r,d);function r(){var a=d!==null&&d.apply(this,arguments)||this;return a._started=!1,a._enabled=!1,a._status=ht.UNAVAILABLE,a}return r.prototype.delay=function(a){return E(this,void 0,void 0,function(){return k(this,function(m){return[2,new Promise(function(L){return setTimeout(L,a)})]})})},r.prototype.timeout=function(){return E(this,void 0,void 0,function(){return k(this,function(a){return[2,new Promise(function(m,L){return setTimeout(L,50)})]})})},r.prototype.reportToListeners=function(){this.fire({type:D.AudioStatusChange}),this.removeAll()},r.prototype.enableAudio=function(){return E(this,void 0,void 0,function(){return k(this,function(a){return this._enabled||(this._enabled=!0,this._status=ht.AVAILABLE,this.reportToListeners()),[2]})})},r.prototype.testAudio=function(){return E(this,void 0,void 0,function(){return k(this,function(a){switch(a.label){case 0:if(!(this._status===ht.UNAVAILABLE&&this._audioContext!==null))return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,Promise.race([this._audioContext.resume(),this.timeout()])];case 2:return a.sent(),this.enableAudio(),[3,4];case 3:return a.sent(),[3,4];case 4:return[2]}})})},r.prototype._establishAudio=function(){return E(this,void 0,void 0,function(){return k(this,function(a){switch(a.label){case 0:return this._started?[3,5]:(this._started=!0,typeof window>"u"?(this.enableAudio(),[3,5]):[3,1]);case 1:this._audioContext=new AudioContext,this.listenForUserAction(),a.label=2;case 2:return this._status!==ht.UNAVAILABLE?[3,5]:[4,this.testAudio()];case 3:return a.sent(),[4,this.delay(1e3)];case 4:return a.sent(),[3,2];case 5:return[2]}})})},r.prototype.listenForUserAction=function(){var a=this,m=function(){return E(a,void 0,void 0,function(){return k(this,function(L){return this.enableAudio(),[2]})})};document.addEventListener("pointerdown",m,{once:!0})},r.prototype.establishAudio=function(){return E(this,void 0,void 0,function(){return k(this,function(a){return this._establishAudio(),[2]})})},Object.defineProperty(r.prototype,"systemVolume",{get:function(){return this._status===ht.UNAVAILABLE?(this.testAudio(),0):1},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),r}(rt),ft=new Ht,It=function(){function d(){}return d.prototype.observe=function(){},d.prototype.unobserve=function(){},d.prototype.disconnect=function(){},d}(),xt=globalThis.ResizeObserver||It,Wt=function(){function d(){var r=this;this._elementsMap=new Map,this._onObservedEntry=function(a){var m=r._elementsMap.get(a.target);m!==null?m.onResize(a.target.clientWidth==0||a.target.clientHeight==0):r._resizeObserver.unobserve(a.target)},this._onObserved=function(a){a.forEach(r._onObservedEntry)},this._resizeObserver=new xt(this._onObserved)}return d.prototype.add=function(r,a){var m={onResize:a,element:r};return this._elementsMap.set(r,m),this._resizeObserver.observe(r),m},d.prototype.remove=function(r){this._resizeObserver.unobserve(r.element),this._elementsMap.delete(r.element)},d}(),Bt=new Wt,lt=function(){function d(r){this.enableRiveAssetCDN=!0,this.referenceCount=0,this.src=r.src,this.buffer=r.buffer,r.assetLoader&&(this.assetLoader=r.assetLoader),this.enableRiveAssetCDN=typeof r.enableRiveAssetCDN=="boolean"?r.enableRiveAssetCDN:!0,this.eventManager=new rt,r.onLoad&&this.on(D.Load,r.onLoad),r.onLoadError&&this.on(D.LoadError,r.onLoadError)}return d.prototype.initData=function(){return E(this,void 0,void 0,function(){var r,a,m;return k(this,function(L){switch(L.label){case 0:return this.src?(r=this,[4,_t(this.src)]):[3,2];case 1:r.buffer=L.sent(),L.label=2;case 2:return this.assetLoader&&(a=new this.runtime.CustomFileAssetLoader({loadContents:this.assetLoader})),m=this,[4,this.runtime.load(new Uint8Array(this.buffer),a,this.enableRiveAssetCDN)];case 3:if(m.file=L.sent(),this.file!==null)this.eventManager.fire({type:D.Load,data:this});else throw this.eventManager.fire({type:D.LoadError,data:null}),new Error(d.fileLoadErrorMessage);return[2]}})})},d.prototype.init=function(){return E(this,void 0,void 0,function(){var r;return k(this,function(a){switch(a.label){case 0:if(!this.src&&!this.buffer)throw new Error(d.missingErrorMessage);return r=this,[4,W.awaitInstance()];case 1:return r.runtime=a.sent(),[4,this.initData()];case 2:return a.sent(),[2]}})})},d.prototype.on=function(r,a){this.eventManager.add({type:r,callback:a})},d.prototype.off=function(r,a){this.eventManager.remove({type:r,callback:a})},d.prototype.cleanup=function(){var r;this.referenceCount-=1,this.referenceCount<=0&&(this.removeAllRiveEventListeners(),(r=this.file)===null||r===void 0||r.delete())},d.prototype.removeAllRiveEventListeners=function(r){this.eventManager.removeAll(r)},d.prototype.getInstance=function(){if(this.file!==null)return this.referenceCount+=1,this.file},d.missingErrorMessage="Rive source file or data buffer required",d.fileLoadErrorMessage="The file failed to load",d}(),Xt=function(){function d(r){var a=this,m;this.loaded=!1,this._observed=null,this.readyForPlaying=!1,this.artboard=null,this.eventCleanup=null,this.shouldDisableRiveListeners=!1,this.automaticallyHandleEvents=!1,this.enableRiveAssetCDN=!0,this._volume=1,this._artboardWidth=void 0,this._artboardHeight=void 0,this._devicePixelRatioUsed=1,this._hasZeroSize=!1,this._audioEventListener=null,this.durations=[],this.frameTimes=[],this.frameCount=0,this.isTouchScrollEnabled=!1,this.onCanvasResize=function(L){a._hasZeroSize=L,(!a._layout.maxX||!a._layout.maxY)&&a.resizeToCanvas()},this.renderSecondTimer=0,this.canvas=r.canvas,r.canvas.constructor===HTMLCanvasElement&&(this._observed=Bt.add(this.canvas,this.onCanvasResize)),this.src=r.src,this.buffer=r.buffer,this.riveFile=r.riveFile,this.layout=(m=r.layout)!==null&&m!==void 0?m:new st,this.shouldDisableRiveListeners=!!r.shouldDisableRiveListeners,this.isTouchScrollEnabled=!!r.isTouchScrollEnabled,this.automaticallyHandleEvents=!!r.automaticallyHandleEvents,this.enableRiveAssetCDN=r.enableRiveAssetCDN===void 0?!0:r.enableRiveAssetCDN,this.eventManager=new rt,r.onLoad&&this.on(D.Load,r.onLoad),r.onLoadError&&this.on(D.LoadError,r.onLoadError),r.onPlay&&this.on(D.Play,r.onPlay),r.onPause&&this.on(D.Pause,r.onPause),r.onStop&&this.on(D.Stop,r.onStop),r.onLoop&&this.on(D.Loop,r.onLoop),r.onStateChange&&this.on(D.StateChange,r.onStateChange),r.onAdvance&&this.on(D.Advance,r.onAdvance),r.onload&&!r.onLoad&&this.on(D.Load,r.onload),r.onloaderror&&!r.onLoadError&&this.on(D.LoadError,r.onloaderror),r.onplay&&!r.onPlay&&this.on(D.Play,r.onplay),r.onpause&&!r.onPause&&this.on(D.Pause,r.onpause),r.onstop&&!r.onStop&&this.on(D.Stop,r.onstop),r.onloop&&!r.onLoop&&this.on(D.Loop,r.onloop),r.onstatechange&&!r.onStateChange&&this.on(D.StateChange,r.onstatechange),r.assetLoader&&(this.assetLoader=r.assetLoader),this.taskQueue=new Ct(this.eventManager),this.init({src:this.src,buffer:this.buffer,riveFile:this.riveFile,autoplay:r.autoplay,animations:r.animations,stateMachines:r.stateMachines,artboard:r.artboard,useOffscreenRenderer:r.useOffscreenRenderer})}return d.new=function(r){return console.warn("This function is deprecated: please use `new Rive({})` instead"),new d(r)},d.prototype.onSystemAudioChanged=function(){this.volume=this._volume},d.prototype.init=function(r){var a=this,m=r.src,L=r.buffer,I=r.riveFile,F=r.animations,q=r.stateMachines,it=r.artboard,V=r.autoplay,bt=V===void 0?!1:V,Tt=r.useOffscreenRenderer,Rt=Tt===void 0?!1:Tt;if(this.src=m,this.buffer=L,this.riveFile=I,!this.src&&!this.buffer&&!this.riveFile)throw new Error(d.missingErrorMessage);var kt=ct(F),be=ct(q);this.loaded=!1,this.readyForPlaying=!1,W.awaitInstance().then(function(Jt){a.runtime=Jt,a.removeRiveListeners(),a.deleteRiveRenderer(),a.renderer=a.runtime.makeRenderer(a.canvas,Rt),a.canvas.width||a.canvas.height||a.resizeDrawingSurfaceToCanvas(),a.initData(it,kt,be,bt).then(function(){return a.setupRiveListeners()}).catch(function(we){console.error(we)})}).catch(function(Jt){console.error(Jt)})},d.prototype.setupRiveListeners=function(r){var a=this;if(this.eventCleanup&&this.eventCleanup(),!this.shouldDisableRiveListeners){var m=(this.animator.stateMachines||[]).filter(function(I){return I.playing&&a.runtime.hasListeners(I.instance)}).map(function(I){return I.instance}),L=this.isTouchScrollEnabled;r&&"isTouchScrollEnabled"in r&&(L=r.isTouchScrollEnabled),this.eventCleanup=(0,P.registerTouchInteractions)({canvas:this.canvas,artboard:this.artboard,stateMachines:m,renderer:this.renderer,rive:this.runtime,fit:this._layout.runtimeFit(this.runtime),alignment:this._layout.runtimeAlignment(this.runtime),isTouchScrollEnabled:L,layoutScaleFactor:this._layout.layoutScaleFactor})}},d.prototype.removeRiveListeners=function(){this.eventCleanup&&(this.eventCleanup(),this.eventCleanup=null)},d.prototype.initializeAudio=function(){var r=this,a;ft.status==ht.UNAVAILABLE&&!((a=this.artboard)===null||a===void 0)&&a.hasAudio&&this._audioEventListener===null&&(this._audioEventListener={type:D.AudioStatusChange,callback:function(){return r.onSystemAudioChanged()}},ft.add(this._audioEventListener),ft.establishAudio())},d.prototype.initArtboardSize=function(){this.artboard&&(this._artboardWidth=this.artboard.width=this._artboardWidth||this.artboard.width,this._artboardHeight=this.artboard.height=this._artboardHeight||this.artboard.height)},d.prototype.initData=function(r,a,m,L){return E(this,void 0,void 0,function(){var I,F;return k(this,function(q){switch(q.label){case 0:return q.trys.push([0,3,,4]),this.riveFile!=null?[3,2]:(this.riveFile=new lt({src:this.src,buffer:this.buffer,enableRiveAssetCDN:this.enableRiveAssetCDN,assetLoader:this.assetLoader}),[4,this.riveFile.init()]);case 1:q.sent(),q.label=2;case 2:return this.file=this.riveFile.getInstance(),this.initArtboard(r,a,m,L),this.initArtboardSize(),this.initializeAudio(),this.loaded=!0,this.eventManager.fire({type:D.Load,data:(F=this.src)!==null&&F!==void 0?F:"buffer"}),this.readyForPlaying=!0,this.taskQueue.process(),this.drawFrame(),[2,Promise.resolve()];case 3:return q.sent(),I="Problem loading file; may be corrupt!",console.warn(I),this.eventManager.fire({type:D.LoadError,data:I}),[2,Promise.reject(I)];case 4:return[2]}})})},d.prototype.initArtboard=function(r,a,m,L){if(this.file){var I=r?this.file.artboardByName(r):this.file.defaultArtboard();if(!I){var F="Invalid artboard name or no default artboard";console.warn(F),this.eventManager.fire({type:D.LoadError,data:F});return}if(this.artboard=I,I.volume=this._volume*ft.systemVolume,this.artboard.animationCount()<1){var F="Artboard has no animations";throw this.eventManager.fire({type:D.LoadError,data:F}),F}this.animator=new Z(this.runtime,this.artboard,this.eventManager);var q;a.length>0||m.length>0?(q=a.concat(m),this.animator.initLinearAnimations(a,L),this.animator.initStateMachines(m,L)):q=[this.animator.atLeastOne(L,!1)],this.taskQueue.add({event:{type:L?D.Play:D.Pause,data:q}})}},d.prototype.drawFrame=function(){this.startRendering()},d.prototype.draw=function(r,a){this.frameRequestId=null;var m=performance.now();this.lastRenderTime||(this.lastRenderTime=r),this.renderSecondTimer+=r-this.lastRenderTime,this.renderSecondTimer>5e3&&(this.renderSecondTimer=0,a==null||a());var L=(r-this.lastRenderTime)/1e3;this.lastRenderTime=r;for(var I=this.animator.animations.filter(function(Yt){return Yt.playing||Yt.needsScrub}).sort(function(Yt){return Yt.needsScrub?-1:1}),F=0,q=I;F<q.length;F++){var it=q[F];it.advance(L),it.instance.didLoop&&(it.loopCount+=1),it.apply(1)}for(var V=this.animator.stateMachines.filter(function(Yt){return Yt.playing}),bt=0,Tt=V;bt<Tt.length;bt++){var Rt=Tt[bt],kt=Rt.reportedEventCount();if(kt)for(var be=0;be<kt;be++){var Jt=Rt.reportedEventAt(be);if(Jt)if(Jt.type===$.OpenUrl){if(this.eventManager.fire({type:D.RiveEvent,data:Jt}),this.automaticallyHandleEvents){var we=document.createElement("a"),nn=Jt,he=nn.url,Me=nn.target,We=(0,P.sanitizeUrl)(he);he&&we.setAttribute("href",We),Me&&we.setAttribute("target",Me),We&&We!==P.BLANK_URL&&we.click()}}else this.eventManager.fire({type:D.RiveEvent,data:Jt})}Rt.advanceAndApply(L)}this.animator.stateMachines.length==0&&this.artboard.advance(L);var fe=this.renderer;fe.clear(),fe.save(),this.alignRenderer(),this._hasZeroSize||this.artboard.draw(fe),fe.restore(),fe.flush(),this.animator.handleLooping(),this.animator.handleStateChanges(),this.animator.handleAdvancing(L),this.frameCount++;var Oe=performance.now();for(this.frameTimes.push(Oe),this.durations.push(Oe-m);this.frameTimes[0]<=Oe-1e3;)this.frameTimes.shift(),this.durations.shift();this.animator.isPlaying?this.startRendering():this.animator.isPaused?this.lastRenderTime=0:this.animator.isStopped&&(this.lastRenderTime=0)},d.prototype.alignRenderer=function(){var r=this,a=r.renderer,m=r.runtime,L=r._layout,I=r.artboard;a.align(L.runtimeFit(m),L.runtimeAlignment(m),{minX:L.minX,minY:L.minY,maxX:L.maxX,maxY:L.maxY},I.bounds,this._devicePixelRatioUsed*L.layoutScaleFactor)},Object.defineProperty(d.prototype,"fps",{get:function(){return this.durations.length},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"frameTime",{get:function(){return this.durations.length===0?0:(this.durations.reduce(function(r,a){return r+a},0)/this.durations.length).toFixed(4)},enumerable:!1,configurable:!0}),d.prototype.cleanup=function(){var r;this.stopRendering(),this.cleanupInstances(),this._observed!==null&&Bt.remove(this._observed),this.removeRiveListeners(),(r=this.riveFile)===null||r===void 0||r.cleanup(),this.riveFile=null,this.file=null,this.deleteRiveRenderer(),this._audioEventListener!==null&&(ft.remove(this._audioEventListener),this._audioEventListener=null)},d.prototype.deleteRiveRenderer=function(){var r;(r=this.renderer)===null||r===void 0||r.delete(),this.renderer=null},d.prototype.cleanupInstances=function(){this.eventCleanup!==null&&this.eventCleanup(),this.stop(),this.artboard&&(this.artboard.delete(),this.artboard=null)},d.prototype.retrieveTextRun=function(r){var a;if(!r){console.warn("No text run name provided");return}if(!this.artboard){console.warn("Tried to access text run, but the Artboard is null");return}var m=this.artboard.textRun(r);if(!m){console.warn("Could not access a text run with name '".concat(r,"' in the '").concat((a=this.artboard)===null||a===void 0?void 0:a.name,"' Artboard. Note that you must rename a text run node in the Rive editor to make it queryable at runtime."));return}return m},d.prototype.getTextRunValue=function(r){var a=this.retrieveTextRun(r);return a?a.text:void 0},d.prototype.setTextRunValue=function(r,a){var m=this.retrieveTextRun(r);m&&(m.text=a)},d.prototype.play=function(r,a){var m=this;if(r=ct(r),!this.readyForPlaying){this.taskQueue.add({action:function(){return m.play(r,a)}});return}this.animator.play(r),this.eventCleanup&&this.eventCleanup(),this.setupRiveListeners(),this.startRendering()},d.prototype.pause=function(r){var a=this;if(r=ct(r),!this.readyForPlaying){this.taskQueue.add({action:function(){return a.pause(r)}});return}this.eventCleanup&&this.eventCleanup(),this.animator.pause(r)},d.prototype.scrub=function(r,a){var m=this;if(r=ct(r),!this.readyForPlaying){this.taskQueue.add({action:function(){return m.scrub(r,a)}});return}this.animator.scrub(r,a||0),this.drawFrame()},d.prototype.stop=function(r){var a=this;if(r=ct(r),!this.readyForPlaying){this.taskQueue.add({action:function(){return a.stop(r)}});return}this.animator&&this.animator.stop(r),this.eventCleanup&&this.eventCleanup()},d.prototype.reset=function(r){var a,m=r==null?void 0:r.artboard,L=ct(r==null?void 0:r.animations),I=ct(r==null?void 0:r.stateMachines),F=(a=r==null?void 0:r.autoplay)!==null&&a!==void 0?a:!1;this.cleanupInstances(),this.initArtboard(m,L,I,F),this.taskQueue.process()},d.prototype.load=function(r){this.file=null,this.stop(),this.init(r)},Object.defineProperty(d.prototype,"layout",{get:function(){return this._layout},set:function(r){this._layout=r,(!r.maxX||!r.maxY)&&this.resizeToCanvas(),this.loaded&&!this.animator.isPlaying&&this.drawFrame()},enumerable:!1,configurable:!0}),d.prototype.resizeToCanvas=function(){this._layout=this.layout.copyWith({minX:0,minY:0,maxX:this.canvas.width,maxY:this.canvas.height})},d.prototype.resizeDrawingSurfaceToCanvas=function(r){if(this.canvas instanceof HTMLCanvasElement&&window){var a=this.canvas.getBoundingClientRect(),m=a.width,L=a.height,I=r||window.devicePixelRatio||1;if(this.devicePixelRatioUsed=I,this.canvas.width=I*m,this.canvas.height=I*L,this.startRendering(),this.resizeToCanvas(),this.layout.fit===u.Layout){var F=this._layout.layoutScaleFactor;this.artboard.width=m/F,this.artboard.height=L/F}}},Object.defineProperty(d.prototype,"source",{get:function(){return this.src},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"activeArtboard",{get:function(){return this.artboard?this.artboard.name:""},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"animationNames",{get:function(){if(!this.loaded||!this.artboard)return[];for(var r=[],a=0;a<this.artboard.animationCount();a++)r.push(this.artboard.animationByIndex(a).name);return r},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"stateMachineNames",{get:function(){if(!this.loaded||!this.artboard)return[];for(var r=[],a=0;a<this.artboard.stateMachineCount();a++)r.push(this.artboard.stateMachineByIndex(a).name);return r},enumerable:!1,configurable:!0}),d.prototype.stateMachineInputs=function(r){if(this.loaded){var a=this.animator.stateMachines.find(function(m){return m.name===r});return a==null?void 0:a.inputs}},d.prototype.retrieveInputAtPath=function(r,a){if(!r){console.warn("No input name provided for path '".concat(a,"'"));return}if(!this.artboard){console.warn("Tried to access input: '".concat(r,"', at path: '").concat(a,"', but the Artboard is null"));return}var m=this.artboard.inputByPath(r,a);if(!m){console.warn("Could not access an input with name: '".concat(r,"', at path:'").concat(a,"'"));return}return m},d.prototype.setBooleanStateAtPath=function(r,a,m){var L=this.retrieveInputAtPath(r,m);L&&(L.type===Y.Boolean?L.asBool().value=a:console.warn("Input with name: '".concat(r,"', at path:'").concat(m,"' is not a boolean")))},d.prototype.setNumberStateAtPath=function(r,a,m){var L=this.retrieveInputAtPath(r,m);L&&(L.type===Y.Number?L.asNumber().value=a:console.warn("Input with name: '".concat(r,"', at path:'").concat(m,"' is not a number")))},d.prototype.fireStateAtPath=function(r,a){var m=this.retrieveInputAtPath(r,a);m&&(m.type===Y.Trigger?m.asTrigger().fire():console.warn("Input with name: '".concat(r,"', at path:'").concat(a,"' is not a trigger")))},d.prototype.retrieveTextAtPath=function(r,a){if(!r){console.warn("No text name provided for path '".concat(a,"'"));return}if(!a){console.warn("No path provided for text '".concat(r,"'"));return}if(!this.artboard){console.warn("Tried to access text: '".concat(r,"', at path: '").concat(a,"', but the Artboard is null"));return}var m=this.artboard.textByPath(r,a);if(!m){console.warn("Could not access text with name: '".concat(r,"', at path:'").concat(a,"'"));return}return m},d.prototype.getTextRunValueAtPath=function(r,a){var m=this.retrieveTextAtPath(r,a);if(!m){console.warn("Could not get text with name: '".concat(r,"', at path:'").concat(a,"'"));return}return m.text},d.prototype.setTextRunValueAtPath=function(r,a,m){var L=this.retrieveTextAtPath(r,m);if(!L){console.warn("Could not set text with name: '".concat(r,"', at path:'").concat(m,"'"));return}L.text=a},Object.defineProperty(d.prototype,"playingStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(r){return r.playing}).map(function(r){return r.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"playingAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(r){return r.playing}).map(function(r){return r.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"pausedAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(r){return!r.playing}).map(function(r){return r.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"pausedStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(r){return!r.playing}).map(function(r){return r.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"isPlaying",{get:function(){return this.animator.isPlaying},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"isPaused",{get:function(){return this.animator.isPaused},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"isStopped",{get:function(){return this.animator.isStopped},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"bounds",{get:function(){return this.artboard?this.artboard.bounds:void 0},enumerable:!1,configurable:!0}),d.prototype.on=function(r,a){this.eventManager.add({type:r,callback:a})},d.prototype.off=function(r,a){this.eventManager.remove({type:r,callback:a})},d.prototype.unsubscribe=function(r,a){console.warn("This function is deprecated: please use `off()` instead."),this.off(r,a)},d.prototype.removeAllRiveEventListeners=function(r){this.eventManager.removeAll(r)},d.prototype.unsubscribeAll=function(r){console.warn("This function is deprecated: please use `removeAllRiveEventListeners()` instead."),this.removeAllRiveEventListeners(r)},d.prototype.stopRendering=function(){this.loaded&&this.frameRequestId&&(this.runtime.cancelAnimationFrame?this.runtime.cancelAnimationFrame(this.frameRequestId):cancelAnimationFrame(this.frameRequestId),this.frameRequestId=null)},d.prototype.startRendering=function(){this.loaded&&this.artboard&&!this.frameRequestId&&(this.runtime.requestAnimationFrame?this.frameRequestId=this.runtime.requestAnimationFrame(this.draw.bind(this)):this.frameRequestId=requestAnimationFrame(this.draw.bind(this)))},d.prototype.enableFPSCounter=function(r){this.runtime.enableFPSCounter(r)},d.prototype.disableFPSCounter=function(){this.runtime.disableFPSCounter()},Object.defineProperty(d.prototype,"contents",{get:function(){if(this.loaded){for(var r={artboards:[]},a=0;a<this.file.artboardCount();a++){for(var m=this.file.artboardByIndex(a),L={name:m.name,animations:[],stateMachines:[]},I=0;I<m.animationCount();I++){var F=m.animationByIndex(I);L.animations.push(F.name)}for(var q=0;q<m.stateMachineCount();q++){for(var it=m.stateMachineByIndex(q),V=it.name,bt=new this.runtime.StateMachineInstance(it,m),Tt=[],Rt=0;Rt<bt.inputCount();Rt++){var kt=bt.input(Rt);Tt.push({name:kt.name,type:kt.type})}L.stateMachines.push({name:V,inputs:Tt})}r.artboards.push(L)}return r}},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"volume",{get:function(){return this.artboard&&this.artboard.volume!==this._volume&&(this._volume=this.artboard.volume),this._volume},set:function(r){this._volume=r,this.artboard&&(this.artboard.volume=r*ft.systemVolume)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"artboardWidth",{get:function(){var r;return this.artboard?this.artboard.width:(r=this._artboardWidth)!==null&&r!==void 0?r:0},set:function(r){this._artboardWidth=r,this.artboard&&(this.artboard.width=r)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"artboardHeight",{get:function(){var r;return this.artboard?this.artboard.height:(r=this._artboardHeight)!==null&&r!==void 0?r:0},set:function(r){this._artboardHeight=r,this.artboard&&(this.artboard.height=r)},enumerable:!1,configurable:!0}),d.prototype.resetArtboardSize=function(){this.artboard?(this.artboard.resetArtboardSize(),this._artboardWidth=this.artboard.width,this._artboardHeight=this.artboard.height):(this._artboardWidth=void 0,this._artboardHeight=void 0)},Object.defineProperty(d.prototype,"devicePixelRatioUsed",{get:function(){return this._devicePixelRatioUsed},set:function(r){this._devicePixelRatioUsed=r},enumerable:!1,configurable:!0}),d.missingErrorMessage="Rive source file or data buffer required",d}(),_t=function(d){return E(void 0,void 0,void 0,function(){var r,a,m;return k(this,function(L){switch(L.label){case 0:return r=new Request(d),[4,fetch(r)];case 1:return a=L.sent(),[4,a.arrayBuffer()];case 2:return m=L.sent(),[2,m]}})})},ct=function(d){return typeof d=="string"?[d]:d instanceof Array?d:[]},At={EventManager:rt,TaskQueueManager:Ct},Gt=function(d){return new Promise(function(r){return W.getInstance(function(a){a.decodeAudio(d,r)})})},K=function(d){return new Promise(function(r){return W.getInstance(function(a){a.decodeImage(d,r)})})},gt=function(d){return new Promise(function(r){return W.getInstance(function(a){a.decodeFont(d,r)})})}})(),S})())})(vr);const Ao=".lido-canvas{height:100%;width:100%}",So=Ao,_o=class{constructor(n){Ut(this,n),this.initializeRive=l=>{const h=Re.getInstance(),f=this.el.querySelector("canvas");this.riveInstance=new vr.exports.Rive({src:l,canvas:f,stateMachines:"Idle",autoplay:!0,onLoad:()=>{this.riveInstance.resizeDrawingSurfaceToCanvas(),h.setRiveInstance(this.riveInstance)}})},this.id=void 0,this.value=void 0,this.height=void 0,this.width=void 0,this.ariaLabel=void 0,this.ariaHidden=void 0,this.x=void 0,this.y=void 0,this.z=void 0,this.bgColor=void 0,this.type=void 0,this.tabIndex=void 0,this.visible=void 0,this.audio=void 0,this.src=void 0,this.onTouch=void 0,this.onInCorrect=void 0,this.onCorrect=void 0,this.onEntry=void 0}async componentDidLoad(){de(this.el,this.type),this.initializeRive(ue(this.src))}render(){const n={height:this.height,width:this.width,backgroundColor:this.bgColor,top:this.y,left:this.x,display:this.visible?"flex":"none",zIndex:this.z};return G($t,{key:"7cbafd15e6ffab907fb5ce58446971a5681de60c",id:this.id,type:this.type,tabindex:this.tabIndex,value:this.value,style:n,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,audio:this.audio,onTouch:this.onTouch,onCorrect:this.onCorrect,onInCorrect:this.onInCorrect,onEntry:this.onEntry},G("canvas",{key:"e4809a9cbe812db6aace7dc00dd21f748d0170b5",class:"lido-canvas"}))}get el(){return te(this)}};_o.style=So;const Lo=".lido-col{top:var(--y, 0);left:var(--x, 0);height:var(--height, 100%);width:var(--width, 100%);background-color:var(--bgColor, #eeeeee);padding:15px;border-radius:10px;display:flex;justify-content:space-around;flex-direction:column;align-items:center}.lido-col>*{}",Eo=Lo,Io=class{constructor(n){Ut(this,n),this.id=void 0,this.value=void 0,this.height=void 0,this.width=void 0,this.ariaLabel=void 0,this.ariaHidden=void 0,this.x=void 0,this.y=void 0,this.z=void 0,this.bgColor=void 0,this.type=void 0,this.tabIndex=void 0,this.visible=void 0,this.audio=void 0,this.onTouch=void 0,this.onInCorrect=void 0,this.onCorrect=void 0,this.onEntry=void 0,this.childElementsLength=void 0,this.minLength=void 0,this.maxLength=void 0,this.direction=void 0,this.borderImage=void 0,this.boxShadow=void 0,this.style={}}componentDidLoad(){de(this.el,this.type),ri(this.el,this.minLength,this.maxLength,this.childElementsLength,"flex")}componentWillLoad(){this.updateStyles(),window.addEventListener("resize",this.updateStyles.bind(this)),window.addEventListener("load",this.updateStyles.bind(this))}disconnectedCallback(){window.removeEventListener("resize",this.updateStyles.bind(this)),window.removeEventListener("load",this.updateStyles.bind(this))}updateStyles(){const n=this.borderImage?ue(this.borderImage):"",l=window.innerHeight>window.innerWidth?"portrait":"landscape";this.style={height:J(this.height,l),width:J(this.width,l),backgroundColor:J(this.bgColor,l),top:J(this.y,l),left:J(this.x,l),zIndex:this.z,display:this.visible?"flex":"none",flexDirection:this.direction?J(this.direction,l):"column",borderImage:`url(${n})`,borderImageSlice:n?"0 fill":"",boxShadow:this.boxShadow?this.boxShadow:"unset"}}render(){return G($t,{key:"be4d40df66b299db3f50b61bb17d9344156f3e1c",id:this.id,class:"lido-col",type:this.type,tabindex:this.tabIndex,value:this.value,style:this.style,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,audio:this.audio,onTouch:this.onTouch,onCorrect:this.onCorrect,onInCorrect:this.onInCorrect,onEntry:this.onEntry},G("slot",{key:"858fcdd47cfd7872a55ffb2d86eaa9c64077a3e2"}))}get el(){return te(this)}};Io.style=Eo;const Po=".lido-container{position:relative;height:100%;width:100%;background-color:var(--bgColor, #ffffff);display:flex;flex-direction:column;justify-content:center;align-items:center}",To=Po,Ro=class{constructor(n){Ut(this,n),this.id=void 0,this.objective=void 0,this.customStyle=void 0,this.value=void 0,this.height=void 0,this.width=void 0,this.ariaLabel=void 0,this.ariaHidden=void 0,this.x=void 0,this.y=void 0,this.z=void 0,this.bgColor=void 0,this.bgImage=void 0,this.type=void 0,this.tabIndex=void 0,this.visible=void 0,this.audio=void 0,this.onTouch=void 0,this.onInCorrect=void 0,this.onCorrect=void 0,this.onEntry=void 0,this.canplay=!0,this.showCheck=!1,this.isContinueOnCorrect=!1,this.isAllowOnlyCorrect=!1,this.baseUrl=""}convertToPixels(n,l=document.body){if(!n)return 0;if(n.endsWith("px"))return parseFloat(n);const h=document.createElement("div");h.style.position="absolute",h.style.visibility="hidden",h.style.height=n,l.appendChild(h);const f=h.offsetHeight;return l.removeChild(h),f}scaleContainer(n){var l;const h=[window.innerWidth],f=[window.innerHeight];!((l=window.screen)===null||l===void 0)&&l.width&&(h.push(window.screen.width),f.push(window.screen.height));const v=Math.min(...h),S=Math.min(...f),C=S>v;let w,y;C?(w=v/900,y=S/1600):(w=v/1600,y=S/900);const P=Math.min(w,y);n.style.transform=`translate(-50%, -50%) scale(${P})`,n.style.left="50%",n.style.top="50%",n.style.position="absolute",this.screenOrientation()}screenOrientation(){window.innerHeight>window.innerWidth?(this.el.style.height="1600px",this.el.style.width="900px"):(this.el.style.height="900px",this.el.style.width="1600px")}componentDidLoad(){this.scaleContainer(this.el);const n=this.bgImage?ue(this.bgImage):"";if(document.body.style.backgroundColor=this.bgColor,document.body.style.backgroundImage=`url(${n})`,window.addEventListener("resize",()=>this.scaleContainer(this.el)),window.addEventListener("load",()=>this.scaleContainer(this.el)),de(this.el,this.type),this.customStyle){const l=document.createElement("style");l.innerHTML=this.customStyle,document.head.appendChild(l)}}disconnectedCallback(){window.removeEventListener("resize",()=>this.scaleContainer(this.el)),window.removeEventListener("load",()=>this.scaleContainer(this.el)),document.body.style.backgroundColor="",document.body.style.backgroundImage=""}render(){const n={backgroundColor:this.bgColor,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"};return console.log("ðŸš€ ~ LidoContainer ~ canplay:",this.canplay),G($t,{key:"1405439fb38afbedb8c29062766d9fb8358fe72a",id:"lido-container",tabindex:0,class:"lido-container",objective:this.objective,baseUrl:this.baseUrl,style:n,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,onTouch:this.onTouch,onInCorrect:this.onInCorrect,onCorrect:this.onCorrect,onEntry:this.onEntry,showCheck:`${this.showCheck}`,isContinueOnCorrect:`${this.isContinueOnCorrect}`,isAllowOnlyCorrect:`${this.isAllowOnlyCorrect}`,canplay:`${this.canplay}`},G("slot",{key:"eeb15e63789bff68b699893793dd4e59e3f96678"}))}get el(){return te(this)}};Ro.style=To;const ko=".card{position:relative;width:100%;height:100%;transform-style:preserve-3d;transition:transform 0.6s ease;cursor:pointer}.card.flipped{transform:rotateY(180deg)}.card-face{position:absolute;width:100%;height:100%;backface-visibility:hidden;display:flex;align-items:center;justify-content:center}.card-back{transform:rotateY(180deg)}",Mo=ko,Oo=class{constructor(n){Ut(this,n),this.updateStyles=()=>{const l=window.innerHeight>window.innerWidth?"portrait":"landscape";this.style={height:J(this.height,l)||"200px",width:J(this.width,l)||"200px",backgroundColor:J(this.bgColor,l),top:J(this.y,l),left:J(this.x,l),zIndex:this.z,display:this.visible?this.display?J(this.display,l):"inline-block":"none",flexDirection:this.direction?J(this.direction,l):void 0}},this.handleFlip=()=>{this.flipped=!this.flipped},this.value=void 0,this.height=void 0,this.width=void 0,this.ariaLabel=void 0,this.ariaHidden=void 0,this.x=void 0,this.y=void 0,this.z=void 0,this.bgColor=void 0,this.type=void 0,this.tabIndex=void 0,this.visible=!0,this.audio=void 0,this.onTouch=void 0,this.onInCorrect=void 0,this.onCorrect=void 0,this.onEntry=void 0,this.direction=void 0,this.display=void 0,this.front=void 0,this.back=void 0,this.flipped=!1,this.style={}}handleFlippedChange(){}componentWillLoad(){this.updateStyles(),window.addEventListener("resize",this.updateStyles),window.addEventListener("load",this.updateStyles)}componentDidLoad(){de(this.el,this.type)}disconnectedCallback(){window.removeEventListener("resize",this.updateStyles),window.removeEventListener("load",this.updateStyles)}render(){return G($t,{key:"d0e9d0dcfbb4d6d2d837b166cbc4bfe6753ccd32",value:this.value,tabindex:this.tabIndex,style:this.style,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,audio:this.audio,onTouch:this.onTouch,onCorrect:this.onCorrect,onInCorrect:this.onInCorrect,onEntry:this.onEntry,type:this.type,onClick:this.handleFlip},G("div",{key:"cdf4b99d30d9f89c402ed906eacafac3f205d50b",class:`card ${this.flipped?"flipped":""}`},G("div",{key:"ec806340797c0bf6309f1af8e11fa1111f8445bd",class:"card-face card-front"},this.front!=null?this.front:G("slot",{name:"front"})),G("div",{key:"a9eb84dd8ff7093f3353618d9a698c85e5e3ead7",class:"card-face card-back"},this.back!=null?this.back:G("slot",{name:"back"}))))}get el(){return te(this)}static get watchers(){return{flipped:["handleFlippedChange"]}}};Oo.style=Mo;const Fo="@import url('https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap'); @import url('https://fonts.googleapis.com/css2?family=Baloo+2:wght@400..800&display=swap'); body{overflow:hidden;background-position:center;background-size:cover;background-repeat:no-repeat;height:100vh}.lido-disable-check-button{pointer-events:none;background-color:#9393935c !important;color:white}.lido-element-selected{border:2px solid;background-color:#ffdf7d !important}.diagonal-target,.diagonal-drop *{transform:scale(0.8) !important;opacity:1 !important}.cloned-element{display:flex !important;position:absolute !important;filter:grayscale(100%);pointer-events:none}.removeShadow{box-shadow:0px 0px 0px 0px #FF8900 !important}.highlight-element{border:2px solid white !important;box-shadow:0 2px 4px rgba(151, 150, 150, 0.1) !important}",Do=Fo,jo="@keyframes rightToPlace{from{transform:translateX(2000px)}to{transform:translateX(0)}}@keyframes topToPlace{from{transform:translateY(-1000px)}to{transform:translateY(0)}}@keyframes bottomToPlace{from{transform:translateY(1000px)}to{transform:translateY(0)}}@keyframes placeToLeft{from{}to{transform:translateX(-2000px)}}@keyframes leftToPlace{from{transform:translateX(-2000px)}to{transform:translateX(0)}}@keyframes shake{0%{transform:translateX(0)}10%{transform:translateX(-5px)}20%{transform:translateX(5px)}30%{transform:translateX(-5px)}40%{transform:translateX(5px)}50%{transform:translateX(-5px)}60%{transform:translateX(5px)}70%{transform:translateX(-5px)}80%{transform:translateX(5px)}90%{transform:translateX(-5px)}100%{transform:translateX(0)}}@keyframes fallAndBounce{0%{transform:translateY(-1000px)}25%{transform:translateY(0px)}50%{transform:translateY(-200px)}75%{transform:translateY(0)}90%{transform:translateY(-100px)}100%{transform:translateY(0)}}@keyframes placeToDown{0%{transform:translateY(0)}100%{transform:translateY(1000px)}}",No=jo,Wo=".lido-snackbar{visibility:visible;min-width:250px;background-color:#333;color:#fff;text-align:center;border-radius:2px;padding:16px;position:fixed;z-index:1;bottom:30px;left:50%;transform:translateX(-50%);font-size:17px}.lido-dot-container{text-align:center;position:fixed;z-index:1;width:fit-content;top:1%;left:50%;transform:translate(-50%)}.lido-dot{height:15px;width:15px;margin:0 4px;background-color:#bbb;border-radius:50%;display:inline-block;transition:background-color 0.3s;cursor:pointer}.lido-dot.completed{background-color:grey}.lido-dot.current{background-color:green}.lido-dot:not(.completed):not(.current){background-color:#bbb}",Bo=Wo,$o=class{constructor(n){Ut(this,n),this.NextContainerKey=l=>{l!=null&&l==this.currentContainerIndex||(localStorage.removeItem(jt),localStorage.removeItem(Lt),localStorage.removeItem(Ke),localStorage.removeItem(ae),l!=null&&l<this.containers.length?(this.currentContainerIndex=l,sr(this.currentContainerIndex)):this.currentContainerIndex<this.containers.length-1?(this.currentContainerIndex++,sr(this.currentContainerIndex)):this.currentContainerIndex>=this.containers.length-1&&(this.showCompletionMessage=!0,oo(),this.currentContainerIndex=0,setTimeout(()=>{this.showCompletionMessage=!1},3e3)),this.containers=[...this.containers])},this.xmlData=void 0,this.initialIndex=0,this.canplay=!0,this.baseUrl="",this.height="",this.currentContainerIndex=this.initialIndex,this.showCompletionMessage=!1,this.containers=[]}componentWillLoad(){window.addEventListener(ti,()=>{this.NextContainerKey()}),window.addEventListener("changeContainer",n=>{this.NextContainerKey(n.detail.index)}),this.parseXMLData(this.xmlData),window.addEventListener("beforeunload",()=>{localStorage.removeItem(jt),localStorage.removeItem(Lt),localStorage.removeItem(Ke),localStorage.removeItem(ae)})}disconnectedCallback(){window.removeEventListener(ti,()=>{this.NextContainerKey()}),window.removeEventListener("changeContainer",n=>{this.NextContainerKey(n.detail.index)})}parseXMLData(n){if(n){const f=new DOMParser().parseFromString(n,"text/xml").documentElement;this.parseContainers(f)}}onXmlDataChange(n){this.parseXMLData(n)}parseElement(n){const l=n.nodeName.toLowerCase(),h={};Array.from(n.attributes).forEach(S=>{h[S.name]=S.value});const f=Array.from(n.childNodes).map(S=>S.nodeType===1?this.parseElement(S):S.nodeType===3&&S.textContent.trim()!==""?S.textContent:null).filter(Boolean),v={"lido-container":G("lido-container",Object.assign({},h,{canplay:this.canplay,baseUrl:this.baseUrl,height:this.height}),f),"lido-flash-card":G("lido-flash-card",Object.assign({},h),f),"lido-col":G("lido-col",Object.assign({},h),f),"lido-trace":G("lido-trace",Object.assign({},h),f),"lido-image":G("lido-image",Object.assign({},h),f),"lido-row":G("lido-row",Object.assign({},h),f),"lido-text":G("lido-text",Object.assign({},h),f),"lido-pos":G("lido-pos",Object.assign({},h),f),"lido-shape":G("lido-shape",Object.assign({},h),f),"lido-wrap":G("lido-wrap",Object.assign({},h),f),"lido-random":G("lido-random",Object.assign({},h),f),"lido-avatar":G("lido-avatar",Object.assign({},h),f)};return v[l]?v[l]:(console.warn(`Unknown tag: ${l}`),null)}parseContainers(n){const l=[];n.querySelectorAll("lido-container").forEach(f=>{const v=this.parseElement(f);v&&l.push(v)}),this.containers=l}renderDots(){const n={pointerEvents:this.canplay?"none":""};return G("div",{id:"lido-dot-indicator",class:"lido-dot-container",style:n},this.containers.map((l,h)=>G("span",{class:`lido-dot ${h<this.currentContainerIndex?"completed":h===this.currentContainerIndex?"current":""}`,onClick:()=>this.jumpToContainer(h)})))}jumpToContainer(n){this.NextContainerKey(n)}render(){return console.log("ðŸš€ ~ LidoHome ~ render ~ this.containers:",this),this.xmlData?G($t,{index:this.currentContainerIndex,totalIndex:this.containers.length},G("div",{key:this.currentContainerIndex},this.containers[this.currentContainerIndex]),this.renderDots(),this.showCompletionMessage&&G("div",{class:"lido-snackbar"},"All containers have been displayed!")):G("div",null,"Please provide XML data.")}static get watchers(){return{xmlData:["onXmlDataChange"]}}};$o.style=Do+(No+Bo);const Uo=".lido-image{user-select:none;-webkit-user-drag:none;object-fit:contain;width:100% !important;height:100% !important;aspect-ratio:1 / 1;}.slice{background-repeat:no-repeat;background-position:center;background-size:100% 100%}",Ho=Uo,zo=class{constructor(n){Ut(this,n),this.id=void 0,this.value=void 0,this.height=void 0,this.width=void 0,this.ariaLabel=void 0,this.ariaHidden=void 0,this.x=void 0,this.y=void 0,this.z=void 0,this.bgColor=void 0,this.type=void 0,this.tabIndex=void 0,this.visible=void 0,this.audio=void 0,this.onTouch=void 0,this.onInCorrect=void 0,this.onCorrect=void 0,this.onEntry=void 0,this.src=void 0,this.isSlice=void 0,this.sliceWidth="30px",this.style=void 0}componentDidLoad(){de(this.el,this.type)}componentWillLoad(){this.updateStyles(),window.addEventListener("resize",this.updateStyles.bind(this)),window.addEventListener("load",this.updateStyles.bind(this))}disconnectedCallback(){window.removeEventListener("resize",this.updateStyles.bind(this)),window.removeEventListener("load",this.updateStyles.bind(this))}updateStyles(){const n=window.innerHeight>window.innerWidth?"portrait":"landscape";this.style={height:J(this.height,n),width:J(this.width,n),backgroundColor:J(this.bgColor,n),top:J(this.y,n),left:J(this.x,n),zIndex:this.z,display:J(`${this.visible}`,n)?"flex":"none",alignItems:"center",justifyContent:"center",borderImageSource:this.isSlice==="true"?`url(${ue(this.src)})`:"none",borderImageSlice:this.isSlice==="true"?`${parseInt(this.sliceWidth)} fill`:"unset",borderImageRepeat:this.isSlice==="true"?"round":"unset",borderImageWidth:this.isSlice==="true"?`${this.sliceWidth}`:"unset",backgroundImage:this.isSlice==="true"?`url(${ue(this.src)})`:"none"}}render(){return this.isSlice==="true"?G($t,{class:"slice",id:this.id,type:this.type,tabIndex:this.tabIndex,onEntry:this.onEntry,style:this.style}):G($t,{type:this.type,tabindex:this.tabIndex,style:this.style,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,value:this.value,audio:this.audio,onTouch:this.onTouch,onCorrect:this.onCorrect,onInCorrect:this.onInCorrect,onEntry:this.onEntry},G("img",{class:"lido-image",src:ue(this.src),alt:"",style:this.style}))}get el(){return te(this)}};zo.style=Ho;const Xo=".lido-pos{top:var(--y, 0);left:var(--x, 0);height:var(--height, 100%);width:var(--width, 100%);background-color:var(--bgColor, #eeeeee);display:flex;justify-content:space-around;flex-direction:column;position:fixed}.lido-pos>*{position:absolute}",Yo=Xo,Vo=class{constructor(n){Ut(this,n),this.id=void 0,this.value=void 0,this.height=void 0,this.width=void 0,this.ariaLabel=void 0,this.ariaHidden=void 0,this.x=void 0,this.y=void 0,this.z=void 0,this.bgColor=void 0,this.type=void 0,this.tabIndex=void 0,this.visible=void 0,this.audio=void 0,this.onTouch=void 0,this.onInCorrect=void 0,this.onCorrect=void 0,this.onEntry=void 0,this.style=void 0}componentDidLoad(){de(this.el,this.type)}componentWillLoad(){this.updateStyles(),window.addEventListener("resize",this.updateStyles.bind(this)),window.addEventListener("load",this.updateStyles.bind(this))}disconnectedCallback(){window.removeEventListener("resize",this.updateStyles.bind(this)),window.removeEventListener("load",this.updateStyles.bind(this))}updateStyles(){const n=window.innerHeight>window.innerWidth?"portrait":"landscape";this.style={height:J(this.height,n),width:J(this.width,n),backgroundColor:J(this.bgColor,n),top:J(this.y,n),left:J(this.x,n),zIndex:this.z,display:JSON.parse(J(`${this.visible}`,n))?"block":"none"}}render(){return G($t,{key:"f3ef3116312bfd29096c0677d1b7e249b9cfc657",id:this.id,class:"lido-pos",type:this.type,tabindex:this.tabIndex,style:this.style,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,value:this.value,audio:this.audio,onTouch:this.onTouch,onCorrect:this.onCorrect,onInCorrect:this.onInCorrect,onEntry:this.onEntry},G("slot",{key:"e15efa205e87f4ffc272898ceddfc88129fb335b"}))}get el(){return te(this)}};Vo.style=Yo;const qo=".lido-random{display:flex;justify-content:space-between;align-items:center;position:absolute;}.lido-random>*{position:absolute}",Go=qo,Jo=class{constructor(n){Ut(this,n),this.id=void 0,this.value=void 0,this.height=void 0,this.width=void 0,this.ariaLabel=void 0,this.ariaHidden=void 0,this.x=void 0,this.y=void 0,this.z=void 0,this.bgColor=void 0,this.type=void 0,this.tabIndex=void 0,this.visible=void 0,this.audio=void 0,this.onTouch=void 0,this.onInCorrect=void 0,this.onCorrect=void 0,this.onEntry=void 0}componentDidLoad(){this.el.querySelectorAll(".lido-random > *").forEach(l=>{const h=Math.random()*100,f=Math.random()*100;l.style.top=`${h}%`,l.style.left=`${f}%`})}render(){const n={height:this.height,width:this.width,top:this.y,left:this.x,display:this.visible?"block":"none",zIndex:this.z,backgroundColor:this.bgColor};return G($t,{key:"374ad57172eb72fcf4276c157d3f8eae069e811b",class:"lido-random",type:this.type,tabindex:this.tabIndex,value:this.value,style:n,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,audio:this.audio,onTouch:this.onTouch,onCorrect:this.onCorrect,onInCorrect:this.onInCorrect,onEntry:this.onEntry},G("slot",{key:"16adb6749a2db657aebb03be422c82413768ff85"}))}get el(){return te(this)}};Jo.style=Go;const ps=class{constructor(n){Ut(this,n),this.xmlPath=void 0,this.initialIndex=0,this.canplay=!0,this.baseUrl="",this.xmlData=void 0}async componentWillLoad(){var n;const l=(n=this.xmlPath)!==null&&n!==void 0?n:this.baseUrl+"/index.xml";console.log("ðŸš€ ~ LidoRoot ~ componentWillLoad ~ this.baseUrl:",this.baseUrl),console.log("ðŸš€ ~ LidoRoot ~ componentWillLoad ~ this.xmlPath:",this.xmlPath),console.log("ðŸš€ ~ LidoRoot ~ componentWillLoad ~ xmlPath:",l);try{const h=l.startsWith("http")?l:pr(l),f=await fetch(h);if(!f.ok)throw new Error(`Failed to fetch XML data: ${f.statusText}`);const v=await f.text();this.xmlData=v}catch(h){console.error("Error fetching XML data:",h),this.xmlData=null}}render(){return this.xmlData===void 0?G("div",null,"Loading..."):this.xmlData===null?G("div",null,"Error loading XML data. Please check the path or URL."):G("lido-home",{initialIndex:this.initialIndex,canplay:this.canplay,xmlData:this.xmlData,baseUrl:this.baseUrl})}static get assetsDirs(){return["assets"]}},Ko=".lido-row{display:flex;justify-content:space-around;align-items:center;}.lido-row>*{}",Zo=Ko,Qo=class{constructor(n){Ut(this,n),this.value=void 0,this.height=void 0,this.width=void 0,this.ariaLabel=void 0,this.ariaHidden=void 0,this.x=void 0,this.y=void 0,this.z=void 0,this.bgColor=void 0,this.type=void 0,this.tabIndex=void 0,this.visible=void 0,this.audio=void 0,this.onTouch=void 0,this.onInCorrect=void 0,this.onCorrect=void 0,this.onEntry=void 0,this.childElementsLength=void 0,this.minLength=void 0,this.maxLength=void 0,this.direction=void 0,this.style={},this.display=void 0}componentDidLoad(){de(this.el,this.type),ri(this.el,this.minLength,this.maxLength,this.childElementsLength,"flex")}componentWillLoad(){this.updateStyles(),window.addEventListener("resize",this.updateStyles.bind(this)),window.addEventListener("load",this.updateStyles.bind(this))}disconnectedCallback(){window.removeEventListener("resize",this.updateStyles.bind(this)),window.removeEventListener("load",this.updateStyles.bind(this))}updateStyles(){const n=window.innerHeight>window.innerWidth?"portrait":"landscape";this.style={height:J(this.height,n),width:J(this.width,n),backgroundColor:J(this.bgColor,n),top:J(this.y,n),left:J(this.x,n),zIndex:this.z,display:this.visible?this.display?J(this.display,n):"flex":"none",flexDirection:this.direction?J(this.direction,n):"row",gridTemplateColumns:this.display&&J(this.display,n)==="grid"?"repeat(auto-fill, minmax(186px, auto))":void 0,gap:this.display&&J(this.display,n)==="grid"?"20px":void 0}}render(){return G($t,{key:"c2e10671506922558e6372efbdea455989bf40aa",class:"lido-row",type:this.type,tabindex:this.tabIndex,value:this.value,style:this.style,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,audio:this.audio,onTouch:this.onTouch,onCorrect:this.onCorrect,onInCorrect:this.onInCorrect,onEntry:this.onEntry},G("slot",{key:"428c886ff017bafce29a4550b5cc73b8e89ecdaf"}))}get el(){return te(this)}};Qo.style=Zo;const ts=".lido-shape{position:absolute;top:var(--y);left:var(--x);display:var(--display);z-index:var(--z)}.lido-rectangle{border-radius:0}.lido-circle{width:var(--width);height:var(--width);border-radius:50%;background-color:var(--bgColor)}.lido-ellipse{width:var(--width);height:var(--height);border-radius:50%;background-color:var(--bgColor)}.lido-triangle{width:var(--triangleWidth);height:var(--triangleHeight);background-color:var(--bgColor);clip-path:polygon(50% 0%, 100% 100%, 0% 100%)}.lido-rightTriangle{width:var(--triangleWidth);height:var(--triangleHeight);background-color:var(--bgColor);clip-path:polygon(100% 0%, 100% 100%, 0% 100%)}.lido-leftTriangle{width:var(--triangleWidth);height:var(--triangleHeight);background-color:var(--triangleBgColor);clip-path:polygon(0% 0%, 100% 100%, 0% 100%)}.lido-parallelogram{width:var(--paralleWidth);height:var(--paralleHeight);transform:skew(20deg)}.lido-star{width:var(--starWidth);height:var(--starHeight);background-color:var(--starBgColor);clip-path:polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%)}.lido-pentagon{width:var(--pentagonWidth);height:var(--pentagonHeight);background-color:var(--pentagonBgColor);clip-path:polygon(50% 0%, 100% 38%, 82% 100%, 18% 100%, 0% 38%)}.lido-heptagon{width:var(--heptagonWidth);height:var(--heptagonHeight);background-color:var(--heptagonBgColor);clip-path:polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%)}.lido-octagon{width:var(--octagonWidth);height:var(--octagonHeight);background-color:var(--octagonBgColor);clip-path:polygon(25% 0%, 75% 0%, 100% 25%, 100% 75%, 75% 100%, 25% 100%, 0% 75%, 0% 25%)}.lido-rhombus{width:var(--rhombusWidth);height:var(--rhombusHeight);background-color:var(--rhombusBgColor);clip-path:polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%)}.lido-heart{height:var(--heartHeight);width:var(--heartWidth);border-image:radial-gradient(var(--heartBgColor) 69%, #0000 70%) 84.5%/50%;clip-path:polygon(-41% 0, 50% 91%, 141% 0)}",es=ts,ns=class{constructor(n){Ut(this,n),this.id=void 0,this.value=void 0,this.height=void 0,this.width=void 0,this.ariaLabel=void 0,this.ariaHidden=void 0,this.x=void 0,this.y=void 0,this.z=void 0,this.bgColor=void 0,this.type=void 0,this.tabIndex=void 0,this.shapeType=void 0,this.visible=void 0,this.audio=void 0,this.onTouch=void 0,this.onInCorrect=void 0,this.onCorrect=void 0,this.onEntry=void 0}componentDidLoad(){de(this.el,this.type)}render(){const n={height:this.shapeType!=="polygon"?this.height:void 0,width:this.shapeType!=="polygon"?this.width:void 0,top:this.y,left:this.x,display:this.visible?"block":"none",zIndex:this.z,backgroundColor:this.shapeType!=="polygon"?this.bgColor:"transparent"};return G($t,{key:"903298aa735d0b487dab776a152e347a06b136dc",class:`lido-shape ${this.shapeType}`,value:this.value,type:this.type,tabindex:this.tabIndex,style:n,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,audio:this.audio,onTouch:this.onTouch,onCorrect:this.onCorrect,onInCorrect:this.onInCorrect,onEntry:this.onEntry})}get el(){return te(this)}};ns.style=es;const is=".lido-text{background-color:#fff;box-shadow:0 2px 4px rgba(0, 0, 0, 0.1);transition:background-color 0.3s ease;user-select:none;align-items:center;justify-content:center;text-align:center;border-radius:8px;color:#333;cursor:pointer}.lido-text:hover{background-color:#f0f0f0}",rs=is,os=class{constructor(n){Ut(this,n),this.id=void 0,this.value=void 0,this.string=void 0,this.font=void 0,this.fontSize=void 0,this.fontColor=void 0,this.highlightWhileSpeaking=void 0,this.height=void 0,this.width=void 0,this.ariaLabel=void 0,this.ariaHidden=void 0,this.x=void 0,this.y=void 0,this.z=void 0,this.bgColor=void 0,this.borderImage=void 0,this.type=void 0,this.tabIndex=void 0,this.visible=void 0,this.audio=void 0,this.onTouch=void 0,this.onInCorrect=void 0,this.onCorrect=void 0,this.onEntry=void 0,this.style={}}componentDidLoad(){de(this.el,this.type)}componentWillLoad(){this.updateStyles(),window.addEventListener("resize",this.updateStyles.bind(this)),window.addEventListener("load",this.updateStyles.bind(this))}disconnectedCallback(){window.removeEventListener("resize",this.updateStyles.bind(this)),window.removeEventListener("load",this.updateStyles.bind(this))}updateStyles(){const n=this.borderImage?ue(this.borderImage):"",l=window.innerHeight>window.innerWidth?"portrait":"landscape";this.style={height:J(this.height,l),width:J(this.width,l),backgroundColor:J(this.bgColor,l),top:J(this.y,l),left:J(this.x,l),zIndex:this.z,fontSize:J(this.fontSize,l),fontFamily:this.font,color:J(this.fontColor,l),display:J(`${this.visible}`,l)?"flex":"none",borderImage:`url(${n})`,borderImageSlice:n?"0 fill":""}}render(){return G($t,{key:"bba9e2f16a6adbffbcf3652d8c9c7e0897a16ef6",class:"lido-text",value:this.value,type:this.type,tabindex:this.tabIndex,audio:this.audio,onTouch:this.onTouch,onCorrect:this.onCorrect,onInCorrect:this.onInCorrect,onEntry:this.onEntry,id:this.id,style:this.style,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden},this.string)}get el(){return te(this)}};os.style=rs;const ss=":host{display:block;position:relative}#lido-svgContainer{position:absolute;top:0;left:0;right:0;bottom:50px;display:flex;justify-content:center;align-items:center;overflow:hidden}svg{width:100%;height:100%;max-height:calc(100vh - 50px);touch-action:none}#lido-draggableCircle{cursor:pointer;fill:red;transition:fill 0.2s, r 0.2s}.lido-blindTracing{stroke:none !important}.lido-blindFreeTrace{stroke:none !important}.lido-hovered{cursor:grab;fill:darkred}#lido-controls{position:fixed;bottom:0;left:0;right:0;display:flex;justify-content:space-between;padding:10px;background-color:#f0f0f0;border-top:1px solid #ccc}button{padding:10px;font-size:16px}@media (max-width: 600px){button{padding:8px;font-size:14px}}.lido-trace-path-green{}",as=ss,ls=class{constructor(n){Ut(this,n),this.id=void 0,this.svgSource=void 0,this.value=void 0,this.height=void 0,this.width=void 0,this.x=void 0,this.y=void 0,this.z=void 0,this.ariaLabel=void 0,this.ariaHidden=void 0,this.tabIndex=void 0,this.mode=Nt.ShowFlow,this.fingerHintUrl="https://aeakbcdznktpsbrfsgys.supabase.co/storage/v1/object/public/template-assets/trace/finger.png",this.fileIndex=-1,this.isDragging=!1,this.activePointerId=null,this.idleTimer=null,this.fingerImg=null}async initializeSVG(){let n={fileIndex:-1,currentPathIndex:0,lastLength:0,totalPathLength:0,isDragging:!1,circle:null,paths:[],svg:null,proximityThreshold:100,freeTraceProximityThreshold:50,rafId:null,pointerMoveEvent:null,activePointerId:null,mode:this.mode,flowMarkers:[],freeTraceLines:[],currentFreePath:[],lastPointerPos:null};await this.loadAnotherSVG(n,!0)}componentWillLoad(){this.initializeSVG()}resetIdleTimer(n){this.idleTimer!==null&&(clearTimeout(this.idleTimer),this.idleTimer=null),this.idleTimer=window.setTimeout(()=>{this.showFingerHint(n)},3e3)}showFingerHint(n){var l;if(this.fingerImg)return;const h=n.paths[n.currentPathIndex];if(!h)return;const f=40,v=document.createElementNS("http://www.w3.org/2000/svg","image");v.setAttributeNS("http://www.w3.org/1999/xlink","href",ue(this.fingerHintUrl)),v.setAttribute("width",`${f}`),v.setAttribute("height",`${f}`),v.setAttribute("id","lido-finger-hint"),v.style.pointerEvents="none",v.style.opacity="0.8",v.setAttribute("x","0"),v.setAttribute("y","0");const S=document.createElementNS("http://www.w3.org/2000/svg","animateMotion");S.setAttribute("dur","2s"),S.setAttribute("repeatCount","indefinite");const C=document.createElementNS("http://www.w3.org/2000/svg","mpath");C.setAttributeNS("http://www.w3.org/1999/xlink","href",`#${h.id}`),S.appendChild(C),v.appendChild(S),(l=n.svg)===null||l===void 0||l.appendChild(v),this.fingerImg=v}hideFingerHint(){this.fingerImg&&this.fingerImg.parentNode&&this.fingerImg.parentNode.removeChild(this.fingerImg),this.fingerImg=null}async fetchSVG(n){const l=await fetch(n);if(!l.ok)throw new Error(`Failed to fetch SVG (${n}): ${l.statusText}`);return await l.text()}calculateBoundingBox(n,l=22){let h=1/0,f=1/0,v=-1/0,S=-1/0;return n.forEach(C=>{const w=C.getTotalLength(),y=100;for(let P=0;P<=y;P++){const A=C.getPointAtLength(P/y*w);A.x<h&&(h=A.x),A.y<f&&(f=A.y),A.x>v&&(v=A.x),A.y>S&&(S=A.y)}}),h-=l,f-=l,v+=l,S+=l,{minX:h,minY:f,maxX:v,maxY:S}}insertSVG(n){const l=document.getElementById("lido-svgContainer");l.innerHTML=n;const h=l.querySelector("svg");h.removeAttribute("width"),h.removeAttribute("height");const f=h.querySelectorAll("path, line"),v=this.calculateBoundingBox(Array.from(f)),S=v.maxX-v.minX,C=v.maxY-v.minY;h.setAttribute("viewBox",`${v.minX} ${v.minY} ${S} ${C}`)}getSVGElement(){return document.getElementById("lido-svgContainer").querySelector("svg")}getPaths(n){return Array.from(n.querySelectorAll("path, line"))}createFlowMarkersForPath(n,l=10){var h;const v=n.getTotalLength()/(l+1),S=[];for(let C=1;C<=l;C++){const w=n.getPointAtLength(C*v),y=n.getPointAtLength((C+.5)*v),P=Math.atan2(y.y-w.y,y.x-w.x),A=document.createElementNS("http://www.w3.org/2000/svg","polygon");A.setAttribute("points","-5,-5 0,0 -5,5"),A.setAttribute("fill","blue"),A.setAttribute("transform",`translate(${w.x},${w.y}) rotate(${P*180/Math.PI})`),A.setAttribute("class","lido-flow-indicator"),S.push(A),(h=n.parentNode)===null||h===void 0||h.appendChild(A)}return S}updateFlowIndicators(n){n.svg.querySelectorAll(".lido-flow-indicator").forEach(h=>{n.mode===Nt.NoFlow?h.style.display="none":n.mode===Nt.ShowFlow&&(h.style.display="block")})}setupDrawingPath(n){n.paths.forEach((l,h)=>{const f=l.getTotalLength();l.setAttribute("id","lido-path-"+h);const v=l.cloneNode();v.style.opacity="100",v.style["stroke-opacity"]="100";const S=l.style["stroke-width"]||l.getAttribute("stroke-width");v.setAttribute("stroke-width",S),v.setAttribute("stroke-dasharray",f.toString()),v.setAttribute("stroke-dashoffset",f.toString()),l.parentNode.appendChild(v,l),l.setAttribute("class","lido-trace-path"),v.setAttribute("class","lido-trace-path-green"),l.greenPath=v,l.classList.add(n.mode),n.mode===Nt.BlindTracing||n.mode===Nt.BlindFreeTrace?l.setAttribute("stroke","none"):(l.setAttribute("stroke","#000"),l.setAttribute("stroke-width",S),l.setAttribute("fill","none"),l.setAttribute("stroke-dasharray",f.toString()),l.setAttribute("stroke-dashoffset","0")),h===n.currentPathIndex&&n.mode===Nt.ShowFlow&&(n.flowMarkers=this.createFlowMarkersForPath(l))}),n.totalPathLength=n.paths[n.currentPathIndex].getTotalLength()}setupDraggableCircle(n){var l;const h=n.paths[0].getPointAtLength(0),f=document.createElementNS("http://www.w3.org/2000/svg","circle"),v=n.paths[n.currentPathIndex].style["stroke-width"]||n.paths[n.currentPathIndex].getAttribute("stroke-width");f.setAttribute("id","lido-draggableCircle"),f.setAttribute("cx",h.x.toString()),f.setAttribute("cy",h.y.toString()),f.setAttribute("r",`calc(${v||10} / 2)`),f.setAttribute("fill","red"),(l=n.svg)===null||l===void 0||l.appendChild(f),n.circle=f,this.resetIdleTimer(n)}addEventListeners(n){var l,h,f,v;if(!n.circle||!n.paths||n.paths.length===0)return;n.circle.addEventListener("pointerdown",C=>{C.preventDefault();const w=this.getPointerPosition(C,n.svg),y={x:parseFloat(n.circle.getAttribute("cx")),y:parseFloat(n.circle.getAttribute("cy"))};this.getDistanceSquared(w,y)<=n.proximityThreshold*n.proximityThreshold&&(n.isDragging=!0,n.activePointerId=C.pointerId,n.circle.setPointerCapture(C.pointerId)),this.hideFingerHint(),this.resetIdleTimer(n)}),(l=n.svg)===null||l===void 0||l.addEventListener("pointermove",C=>{!n.isDragging||C.pointerId!==n.activePointerId||(n.pointerMoveEvent=C,n.rafId||(n.rafId=requestAnimationFrame(()=>{this.handlePointerMove(n),n.rafId=null})))});const S=C=>{C.pointerId===n.activePointerId&&(n.isDragging=!1,n.activePointerId=null,this.hideFingerHint(),this.resetIdleTimer(n))};(h=n.svg)===null||h===void 0||h.addEventListener("pointerup",S),(f=n.svg)===null||f===void 0||f.addEventListener("pointercancel",S),(v=n.svg)===null||v===void 0||v.addEventListener("contextmenu",C=>{C.preventDefault()})}handlePointerMove(n){var l,h,f,v;if(!n.isDragging||!n.circle||!n.paths||n.paths.length===0)return;this.hideFingerHint();const S=n.pointerMoveEvent,C=this.getPointerPosition(S,n.svg),w={x:parseFloat(n.circle.getAttribute("cx")),y:parseFloat(n.circle.getAttribute("cy"))},y=n.paths[n.currentPathIndex];if(!y){console.error("No valid path found at the current index");return}let P;if(n.mode===Nt.FreeTrace||n.mode===Nt.BlindFreeTrace?P=n.freeTraceProximityThreshold*n.freeTraceProximityThreshold:P=n.proximityThreshold*n.proximityThreshold,this.getDistanceSquared(C,w)>P)return;const E=this.getClosestPointOnPath(y,C);if(!(this.getDistanceSquared(C,E)>P)){if(n.mode===Nt.FreeTrace||n.mode===Nt.BlindFreeTrace){if(n.currentFreePath||(n.currentFreePath=[]),!n.currentFreePath[n.currentPathIndex]){const B=document.createElementNS("http://www.w3.org/2000/svg","path"),Z=n.paths[n.currentPathIndex].style["stroke-width"]||n.paths[n.currentPathIndex].getAttribute("stroke-width");B.setAttribute("stroke-width",Z),B.setAttribute("fill","none"),B.setAttribute("stroke-linecap","round"),B.setAttribute("stroke","lightgreen"),B.setAttribute("d",`M${C.x},${C.y}`),(l=n.svg)===null||l===void 0||l.appendChild(B),n.currentFreePath[n.currentPathIndex]=B,n.lastPointerPos=C}const u=n.lastPointerPos||C,U=n.currentFreePath[n.currentPathIndex].getAttribute("d"),st=(u.x+C.x)/2,W=(u.y+C.y)/2,Y=`${U} Q ${u.x},${u.y} ${st},${W}`;n.currentFreePath[n.currentPathIndex].setAttribute("d",Y),n.circle.setAttribute("cx",C.x.toString()),n.circle.setAttribute("cy",C.y.toString()),(h=n.svg)===null||h===void 0||h.appendChild(n.circle),n.lastPointerPos=C,y.getTotalLength()-E.length<5&&(this.moveToNextPath(n),n.currentFreePath[n.currentPathIndex]=null);return}n.isDragging&&E.length>=n.lastLength&&(n.lastLength=E.length,n.circle.setAttribute("cx",E.x.toString()),n.circle.setAttribute("cy",E.y.toString()),(f=n.svg)===null||f===void 0||f.appendChild(n.circle),(v=y.greenPath)===null||v===void 0||v.setAttribute("stroke-dashoffset",(n.totalPathLength-n.lastLength).toString())),n.totalPathLength-1-n.lastLength<5&&n.currentPathIndex<n.paths.length-1?this.moveToNextPath(n):n.totalPathLength-1-n.lastLength<5&&n.currentPathIndex===n.paths.length-1&&kn()}}getPointerPosition(n,l){var h;const f=l.createSVGPoint();f.x=n.clientX,f.y=n.clientY;const v=(h=l.getScreenCTM())===null||h===void 0?void 0:h.inverse();return v?f.matrixTransform(v):{x:n.clientX,y:n.clientY}}getDistanceSquared(n,l){const h=n.x-l.x,f=n.y-l.y;return h*h+f*f}getClosestPointOnPath(n,l){const h=n.getTotalLength();let f={x:0,y:0,length:0},v=1/0;const S=20;let C={length:0},w=1/0;for(let E=0;E<=h;E+=S){const k=n.getPointAtLength(E),u=this.getDistanceSquared(l,k);u<w&&(w=u,C={x:k.x,y:k.y,length:E})}const y=2,P=Math.max(C.length-S,0),A=Math.min(C.length+S,h);for(let E=P;E<=A;E+=y){const k=n.getPointAtLength(E),u=this.getDistanceSquared(l,k);u<v&&(v=u,f={x:k.x,y:k.y,length:E})}return f}async loadAnotherSVG(n,l){n.isDragging=!1;try{n.svg&&this.cleanupPreviousSVG(n);const h=await this.fetchSVG(ue(this.svgSource));this.insertSVG(h),n.svg=this.getSVGElement(),(this.mode===Nt.BlindTracing||this.mode===Nt.BlindFreeTrace)&&n.svg.querySelectorAll("image").forEach(f=>{f.style.display="none"}),n.paths=this.getPaths(n.svg),this.setupDrawingPath(n),this.setupDraggableCircle(n),this.addEventListeners(n)}catch(h){console.error(`Error loading SVG (${this.svgSource}):`,h)}}cleanupPreviousSVG(n){var l,h;n.circle&&((l=n.svg)===null||l===void 0||l.removeChild(n.circle),n.circle=null),((h=n.svg)===null||h===void 0?void 0:h.querySelectorAll(".lido-flow-indicator")).forEach(v=>{v.remove()}),n.currentPathIndex=0,n.lastLength=0,n.totalPathLength=n.paths[0].getTotalLength(),this.hideFingerHint(),this.resetIdleTimer(n)}moveToNextPath(n){var l,h;if(n.isDragging=!1,n.currentPathIndex++,n.lastLength=0,this.hideFingerHint(),n.currentPathIndex>=n.paths.length){kn();return}const f=n.paths[n.currentPathIndex];if(!f){console.error("No valid path found at the next index");return}n.totalPathLength=f.getTotalLength();const v=f.getPointAtLength(0);(l=n.circle)===null||l===void 0||l.setAttribute("cx",v.x.toString()),(h=n.circle)===null||h===void 0||h.setAttribute("cy",v.y.toString()),n.mode===Nt.ShowFlow&&(n.flowMarkers=this.createFlowMarkersForPath(f)),this.resetIdleTimer(n)}render(){const n={height:this.height,width:this.width,top:this.y,left:this.x,zIndex:this.z,position:"absolute"};return G($t,{key:"c8d6165800527cefe832cc94cb40db81bf2369c2",class:"lido-trace",id:this.id,style:n,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,tabindex:this.tabIndex},G("div",{key:"bae61d2714bd2e0e79bdcb777f8e68b9ca97cd13",id:"lido-svgContainer"}))}static get assetsDirs(){return["svg","images"]}static get watchers(){return{svgSource:["initializeSVG"],mode:["initializeSVG"]}}};ls.style=as;const cs=".lido-wrap{display:grid;grid-gap:10px;grid-template-columns:repeat(auto-fill, minmax(186px, auto))}.lido-wrap>*{padding:10px;background-color:var(--child-bg-color, #f0f0f0);box-sizing:border-box}.lido-flex{display:flex;flex-wrap:wrap;align-content:flex-start;gap:10px}",us=cs,ds=class{constructor(n){Ut(this,n),this.id=void 0,this.value=void 0,this.height=void 0,this.width=void 0,this.ariaLabel=void 0,this.ariaHidden=void 0,this.x=void 0,this.y=void 0,this.z=void 0,this.bgColor=void 0,this.type=void 0,this.tabIndex=void 0,this.visible=void 0,this.audio=void 0,this.onTouch=void 0,this.onInCorrect=void 0,this.onCorrect=void 0,this.onEntry=void 0,this.childElementsLength=void 0,this.minLength=void 0,this.maxLength=void 0,this.flex=void 0,this.style=void 0}componentDidLoad(){de(this.el,this.type),ri(this.el,this.minLength,this.maxLength,this.childElementsLength,"grid"),this.flex==="true"&&(this.el.classList.remove("lido-wrap"),this.el.classList.add("lido-flex"))}componentWillLoad(){this.updateStyles(),window.addEventListener("resize",this.updateStyles.bind(this)),window.addEventListener("load",this.updateStyles.bind(this))}disconnectedCallback(){window.removeEventListener("resize",this.updateStyles.bind(this)),window.removeEventListener("load",this.updateStyles.bind(this))}updateStyles(){const n=window.innerHeight>window.innerWidth?"portrait":"landscape";this.style={height:J(this.height,n),width:J(this.width,n),backgroundColor:J(this.bgColor,n),top:J(this.y,n),left:J(this.x,n),zIndex:this.z,display:JSON.parse(J(`${this.visible}`,n))?this.flex==="true"?"flex":"grid":"none"}}render(){return G($t,{key:"c35d09ef5deed0966ca5146574ff111e00f3d58d",class:"lido-wrap",value:this.value,type:this.type,tabindex:this.tabIndex,style:this.style,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,audio:this.audio,onTouch:this.onTouch,onCorrect:this.onCorrect,onInCorrect:this.onInCorrect,onEntry:this.onEntry},G("slot",{key:"7416cd25cb393a0413e686085f211ccfd2c1986b"}))}get el(){return te(this)}};ds.style=us;export{_o as lido_avatar,Io as lido_col,Ro as lido_container,Oo as lido_flash_card,$o as lido_home,zo as lido_image,Vo as lido_pos,Jo as lido_random,ps as lido_root,Qo as lido_row,ns as lido_shape,os as lido_text,ls as lido_trace,ds as lido_wrap};
