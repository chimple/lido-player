import{g as dr,r as Ut,h as Y,H as $t,a as te}from"./preview-D19czn3g.js";import"./iframe-CByXgOhi.js";const Ot="lidoDragSelectedMap",Dt="lidoSelectedValues",Gn="lidoActivityScore",zr="lidoActivityEnd",Xr="lidoLessonEnd",Kn="lidoNextContainer",Yr="lidoActivityChange",Vr="lidoGameCompleted",qr="lidoElementDrop",Gr="lidoElementClick",Ge="dropLength",se="dropHasDrag";var jt;(function(n){n.NoFlow="noFlow",n.ShowFlow="showFlow",n.FreeTrace="freeTrace",n.BlindTracing="blindTracing",n.BlindFreeTrace="blindFreeTrace"})(jt||(jt={}));class Jr{constructor(){this.rightMoves=0,this.wrongMoves=0,this.finalScore=0}}var Qt;(function(n){n.Diagonal="diagonal"})(Qt||(Qt={}));function Te(n,l){const h=new CustomEvent(n,{detail:l});window.dispatchEvent(h)}function Kr(n,l,h){Te(zr,{index:n,totalIndex:l,score:h})}function Zr(n){Te(Xr,{score:n})}function Qr(){Te(Kn,{})}function to(){Te(Vr,{})}function rr(n){Te(Yr,{index:n})}function eo(n,l,h){Te(qr,{dragElement:n,dropElement:l,isCorrect:h,createdAt:new Date().toISOString()})}function or(n,l){Te(Gr,{element:n,isCorrect:l,createdAt:new Date().toISOString()})}class Pe{constructor(){}static getInstance(){return Pe.instance||(Pe.instance=new Pe),Pe.instance}setRiveInstance(l){this.riveInstance=l}getRiveInstance(){return this.riveInstance}}class ae{constructor(){this.audioElement=document.createElement("audio"),this.audioElement.id="audio",document.body.appendChild(this.audioElement)}static getI(){return ae.instance||(ae.instance=new ae),ae.instance}stop(){window!=null&&window.speechSynthesis&&window.speechSynthesis.cancel(),this.audioElement.pause(),this.audioElement.currentTime=0,this.audioElement.src="",document.querySelectorAll(".speaking-highlight").forEach(v=>Jn(v));const h=document.querySelector("#play"),f=document.querySelector("#pause");h&&f&&(h.style.visibility="visible",f.style.visibility="hidden")}async play(l){let h=l.getAttribute("audio")||"";if(!h){const f=l.children;for(let v=0;v<f.length;v++){const A=f[v].getAttribute("audio");A&&(h=A)}}if(h){h=ce(h),this.audioElement.src=h,console.log("ðŸš€ Playing audio:",this.audioElement.src);try{await this.audioElement.play(),cr(l),await new Promise(f=>{this.audioElement.onended=()=>{Jn(l),f()}})}catch(f){console.log("ðŸš€ Audio play error:",f)}}else if(l.textContent)try{cr(l),await yo(l.textContent),Jn(l)}catch(f){console.log("ðŸš€ TTS Error:",f)}}}let _n;function sr(n){const l=window.getComputedStyle(n).transform;if(l&&l!=="none"){const h=l.match(/matrix\(([^)]+)\)/);if(h)return h[1].split(",").map(v=>parseFloat(v.trim()))[0]}return 1}function no(n){let l=!1,h=!1,f=0,v=0,A=0,S=0;const w=document.querySelector("#lido-container"),m=document.querySelector('[type="blank"]'),T=n.parentElement!==m?n.parentElement:null;if(!w){console.error('Container with ID "lido-container" not found.');return}const x=d=>{h=!0,l=!1;const D=ar(d);A=D.clientX,S=D.clientY,document.addEventListener("mousemove",E),document.addEventListener("mouseup",M),document.addEventListener("touchmove",E,{passive:!1}),document.addEventListener("touchend",M)},E=d=>{const D=ar(d),q=Math.abs(D.clientX-A),K=Math.abs(D.clientY-S);if(!l&&(q>5||K>5)){if(l=!0,h=!1,n.parentElement!==m){const Ht=n.style.width,ut=n.style.padding,xt=document.createElement("div");n.style.width="auto",n.style.padding="0 20px",xt.style.width=`${n.offsetWidth+20}px`,xt.style.height=`${n.offsetHeight+20}px`,xt.style.border="1px solid",xt.style.backgroundColor="#00000021",xt.style.borderRadius="10px",n.style.width=Ht,n.style.padding=ut,xt.setAttribute("value",`${n.getAttribute("value")}`),n.parentElement.insertBefore(xt,n.nextElementSibling)}const N=w.getBoundingClientRect(),bt=sr(w),wt=(D.clientX-N.left-f)/bt,Ct=(D.clientY-N.top-v)/bt;n.style.left=`${wt}px`,n.style.top=`${Ct}px`;const dt=n.getBoundingClientRect();f=D.clientX-dt.left,v=D.clientY-dt.top,n.style.opacity="0.8",n.style.cursor="grabbing",n.style.position="absolute",n.style.zIndex="1000",n.style.touchAction="none",n.style.transition="none"}if(!l)return;d.preventDefault();const Z=w.getBoundingClientRect(),yt=sr(w),J=(D.clientX-Z.left-f)/yt,H=(D.clientY-Z.top-v)/yt;n.style.left=`${J}px`,n.style.top=`${H}px`;const ct=Zn(n,"word")||Zn(n,"dummy");ct&&ct.parentElement!==document.querySelector('[type="blank"]')||ct&&ct.getAttribute("type")==="dummy"||_n!==null&&_n===ct||(oo(n,ct),_n=ct)},M=()=>{if(l=!1,document.removeEventListener("mousemove",E),document.removeEventListener("mouseup",M),document.removeEventListener("touchmove",E),document.removeEventListener("touchend",M),h){if(h=!1,n.parentElement===T){const D=document.createElement("div"),q=n.style.width,K=n.style.padding;n.style.width="auto",n.style.padding="0 20px",D.style.width=`${n.offsetWidth+20}px`,D.style.height=`${n.offsetHeight+20}px`,n.style.width=q,n.style.padding=K,m.appendChild(D),n.style.transition="transform 0.5s ease",Nt("this.alignMatch=true",D,n),setTimeout(()=>{const Z=document.createElement("div");n.style.width="auto",n.style.padding="0 20px",Z.style.width=`${n.offsetWidth+20}px`,Z.style.height=`${n.offsetHeight+20}px`,Z.style.border="1px solid",Z.style.backgroundColor="#00000021",Z.style.borderRadius="10px",n.style.width=q,n.style.padding=K,Z.setAttribute("value",`${n.getAttribute("value")}`),n.parentElement.insertBefore(Z,n.nextElementSibling),n.style.transform="translate(0,0)",D.replaceWith(n),lr(m,n)},500)}else{const q=Array.from(T.children).find(K=>K.getAttribute("value")===n.getAttribute("value"));n.style.transition="transform 0.5s ease",Nt("this.alignMatch=true",q,n),setTimeout(()=>{n.style.transform="translate(0,0)",q.replaceWith(n)},500)}return}const d=document.querySelector('[type="dummy"]');if(d&&d.replaceWith(n),T){const D=Array.from(T.children),q=io(n,T);console.log("overlap : ",q),(q||n.parentElement===T)&&D.forEach(K=>{K!==n&&K.getAttribute("value")===n.getAttribute("value")&&K.replaceWith(n)})}n.style.opacity="",n.style.cursor="move",n.style.zIndex="",n.style.transform="",n.style.transition="",n.style.position="",n.style.left="",n.style.top="",_n=null,lr(m,n)};n.style.cursor="move",n.addEventListener("mousedown",x),n.addEventListener("touchstart",x)}function io(n,l){const h=n.getBoundingClientRect(),f=l.getBoundingClientRect();return!(h.right<f.left||h.left>f.right||h.bottom<f.top||h.top>f.bottom)}function Zn(n,l){const h=Array.from(document.querySelectorAll(`[type="${l}"]`));let f=0,v=null;const A=n.getBoundingClientRect();for(const S of h){if(S===n)continue;const w=S.getBoundingClientRect(),m=ro(A,w);m>f&&(f=m,v=S)}return v}function ar(n){return n instanceof MouseEvent?{clientX:n.clientX,clientY:n.clientY}:{clientX:n.touches[0].clientX,clientY:n.touches[0].clientY}}function ro(n,l){const h=Math.max(0,Math.min(n.right,l.right)-Math.max(n.left,l.left)),f=Math.max(0,Math.min(n.bottom,l.bottom)-Math.max(n.top,l.top));return h*f}function oo(n,l){var h,f;if(n===l||!Zn(n,"blank"))return;const v=document.querySelector('[type="blank"]'),A=document.querySelector('[type="dummy"]');if(A)l?(h=l.parentNode)===null||h===void 0||h.insertBefore(A,l):v.appendChild(A);else{const S=n.style.width,w=n.style.padding,m=document.createElement("div");n.style.width="auto",n.style.padding="0 20px",m.style.width="0px",m.style.height="0px",n.style.width=S,n.style.padding=w,m.setAttribute("type","dummy");const T=`
      @keyframes widthIncrease {
        0% { width: 0px; height: 0px; }
        100% { width: ${n.offsetWidth}px; height: ${n.offsetHeight}px;}
      }
    `;l?(f=l.parentNode)===null||f===void 0||f.insertBefore(m,l):v.appendChild(m);const x=document.styleSheets[0];x.insertRule(T,x.cssRules.length),m.style.animation="widthIncrease 0.3s",m.addEventListener("animationend",()=>{m.style.width=`${n.offsetWidth}px`,m.style.height=`${n.offsetHeight}px`})}}const lr=(n,l)=>{const v=document.querySelector("#lido-container").getAttribute("objective").split(",");let A=JSON.parse(localStorage.getItem(Dt))||[];const S=n.children;A=Array.from(S).map(m=>m.getAttribute("value")),localStorage.setItem(Dt,JSON.stringify(A));const w=A.indexOf(l.value);if(w>=0){const m=ti(l.value,[v[w].trim()]);Ke(m),Qe()}},le=new Jr,Tn=n=>{n.style.animation="unset";const l=window.getComputedStyle(n).transform;if(l==="none")return 1;{const h=l.match(/matrix\(([^)]+)\)/);if(h){const f=h[1].split(", ");return parseFloat(f[0])}}return 1};function so(n){let l=!1,h=!1,f=0,v=0,A=0,S=0;const w=n.parentElement;if(!w){console.error("Parent element not found.");return}const m=d=>{Ze(n),h=!0,d instanceof MouseEvent?(f=d.clientX,v=d.clientY):(f=d.touches[0].clientX,v=d.touches[0].clientY),n.style.opacity="0.8",n.style.cursor="grabbing";const D=window.getComputedStyle(n).transform;if(D!=="none"){const q=D.match(/matrix\(([^)]+)\)/);if(q){const K=q[1].split(", ");A=parseFloat(K[4]),S=parseFloat(K[5])}}else A=0,S=0;w.getBoundingClientRect(),n.getBoundingClientRect(),document.addEventListener("mousemove",E),document.addEventListener("mouseup",M),document.addEventListener("touchmove",E),document.addEventListener("touchend",M)},T=new MutationObserver(d=>{for(const D of d)D.type==="attributes"&&D.attributeName==="style"&&(w.getBoundingClientRect(),n.getBoundingClientRect())}),x={attributes:!0,attributeFilter:["style"]};T.observe(w,x);const E=d=>{if(!h)return;const D=Tn(w);let q=0,K=0;d instanceof MouseEvent?(q=(d.clientX-f)/D,K=(d.clientY-v)/D):(q=(d.touches[0].clientX-f)/D,K=(d.touches[0].clientY-v)/D);const Z=A+q,yt=S+K,J=w.getBoundingClientRect(),H=n.getBoundingClientRect(),N=n.style.transform.match(/-?\d+(\.\d+)?/g).map(Number),bt=H.left/D-N[0],wt=H.top-N[1],Ct=H.right/D-N[0],dt=H.bottom-N[1],Ht=J.right-Ct,ut=J.left-bt,xt=J.top-wt,Et=J.bottom-dt,Wt=Z+bt<=J.left?ut:Math.min(Z,Ht),Bt=yt+wt<=J.top?xt:Math.min(yt,Et);n.style.transform=`translate(${Wt}px, ${Bt}px)`;let ot=En(n,"slide");if(ot&&ot!=n){const Xt=n.parentElement,_t=ot.parentElement;if(Xt&&_t){const st=document.createComment("element-placeholder"),St=document.createComment("overlapped-placeholder");Xt.replaceChild(st,n),_t.replaceChild(St,ot),Xt.replaceChild(ot,st),_t.replaceChild(n,St),n.style.transform="translate(0, 0)",f=d instanceof MouseEvent?d.clientX:d.touches[0].clientX,v=d instanceof MouseEvent?d.clientY:d.touches[0].clientY,A=0,S=0,l=!0}}},M=d=>{h=!1,document.removeEventListener("mousemove",E),document.removeEventListener("mouseup",M),document.removeEventListener("touchmove",E),document.removeEventListener("touchend",M),n.style.opacity="",n.style.cursor="move",n.style.transform="translate(0, 0)",l&&(ao(n),l=!1)};n.style.cursor="move",n.style.transform="translate(0, 0)",n.addEventListener("mousedown",m),n.addEventListener("touchstart",m),n.addEventListener("click",d=>{ei(n,"drag")})}const ao=n=>{const l=JSON.parse(localStorage.getItem(Dt))||[],h=document.querySelectorAll("[type='slide']");let f=0;h.forEach(m=>{l[f++]=m.value}),localStorage.setItem(Dt,JSON.stringify(l));const A=document.querySelector("#lido-container").objective.split(","),S=l.indexOf(n.value),w=ti(n.value,[A[S].trim()]);Ke(w),Qe()};function lo(n){let l=!1,h=!1,f=0,v=0,A=0,S=0,w=null;const m=document.querySelector("#lido-container");if(!m){console.error('Container with ID "container" not found.');return}ii(n,"drag");let T,x;const E=J=>{var H;if(ae.getI().stop(),Ze(n),l=!0,h=!0,J instanceof MouseEvent?(f=J.clientX,v=J.clientY):(f=J.touches[0].clientX,v=J.touches[0].clientY),n.style.opacity="0.8",n.style.cursor="grabbing",((H=n.getAttribute("dropAttr"))===null||H===void 0?void 0:H.toLowerCase())===Qt.Diagonal){const N=window.getComputedStyle(n),bt=n.getBoundingClientRect();w||(w=n.cloneNode(!0),w.style.left=`${bt.left}px`,w.style.top=`${bt.top}px`,w.style.width=`${bt.width}px`,w.style.height=`${bt.height}px`,w.style.transform=N.transform,w.style.zIndex="0",w.setAttribute("visible","true"),w.classList.add("cloned-element"),document.body.appendChild(w))}const ct=window.getComputedStyle(n).transform;if(ct!=="none"){const N=ct.match(/matrix\(([^)]+)\)/);if(N){const bt=N[1].split(", ");A=parseFloat(bt[4]),S=parseFloat(bt[5])}}else A=0,S=0;document.addEventListener("mousemove",K),document.addEventListener("mouseup",yt),document.addEventListener("touchmove",K),document.addEventListener("touchend",yt)},M=m.getBoundingClientRect(),d=n.getBoundingClientRect();T=M.top-d.top,x=M.left-d.left;const D=new MutationObserver(J=>{for(const H of J)if(H.type==="attributes"&&H.attributeName==="style"){const ct=m.getBoundingClientRect(),N=n.getBoundingClientRect();T=ct.top-N.top,x=ct.left-N.left}}),q={attributes:!0,attributeFilter:["style"]};D.observe(m,q);const K=J=>{if(!l)return;h=!1,n.style.transition="none";const H=Tn(m);let ct=0,N=0;J instanceof MouseEvent?(ct=(J.clientX-f)/H,N=(J.clientY-v)/H):(ct=(J.touches[0].clientX-f)/H,N=(J.touches[0].clientY-v)/H);const bt=A+ct,wt=S+N,Ct=m.getBoundingClientRect(),dt=n.getBoundingClientRect(),ut=n.style.transform.match(/-?\d+(\.\d+)?/g).map(Number),xt=dt.left/H-ut[0],Et=dt.top-ut[1],Wt=Ct.width/H-Math.abs(x/H)-dt.width/H,Bt=Ct.left-xt,ot=Ct.top-Et,Xt=Ct.height/H-Math.abs(T/H)-dt.height/H,_t=bt+xt<=Ct.left?Bt:Math.min(bt,Wt),st=wt+Et<=Ct.top?ot:Math.min(wt,Xt);n.style.transform=`translate(${_t}px, ${st}px)`;let St=En(n,"drop");document.querySelectorAll("[type='drop']").forEach(G=>{var ft;const u=JSON.parse(localStorage.getItem(Ot))||{};Object.keys(u).map(Number).includes(G.tabIndex)?((ft=n.getAttribute("dropAttr"))===null||ft===void 0?void 0:ft.toLowerCase())!==Qt.Diagonal&&(G.tagName.toLowerCase()==="lido-text"&&(G.style.border="",G.style.backgroundColor="transparent"),G.tagName.toLowerCase()==="lido-image"&&(G.style.opacity="0")):(G.tagName.toLowerCase()==="lido-text"&&(G.style.border="",G.style.backgroundColor=""),G.tagName.toLowerCase()==="lido-image"&&(G.style.opacity="1"))}),St&&(St.tagName.toLowerCase()==="lido-text"?(St.style.border="2px dashed #ff0000",St.style.backgroundColor="rgba(255, 0, 0, 0.1)"):St.style.opacity="0.3")};let Z=null;const yt=J=>{var H;if(l=!1,h){w&&(w.remove(),w=null),n.style.opacity="1";return}document.removeEventListener("mousemove",K),document.removeEventListener("mouseup",yt),document.removeEventListener("touchmove",K),document.removeEventListener("touchend",yt),n.style.opacity="",n.style.cursor="move";const ct=document.querySelectorAll("[type='drop']");ct.forEach(bt=>{ct.forEach(wt=>{var Ct;const dt=JSON.parse(localStorage.getItem(Ot))||{};Object.keys(dt).map(Number).includes(wt.tabIndex)?((Ct=n.getAttribute("dropAttr"))===null||Ct===void 0?void 0:Ct.toLowerCase())!==Qt.Diagonal&&(wt.tagName.toLowerCase()==="lido-text"&&(wt.style.border="",wt.style.backgroundColor="transparent"),wt.tagName.toLowerCase()==="lido-image"&&(wt.style.opacity="0")):(wt.tagName.toLowerCase()==="lido-text"&&(wt.style.border="",wt.style.backgroundColor=""),wt.tagName.toLowerCase()==="lido-image"&&(wt.style.opacity="1"))})});let N=En(n,"drop");In(n,N),((H=n.getAttribute("dropAttr"))===null||H===void 0?void 0:H.toLowerCase())===Qt.Diagonal&&(N?n&&(n.classList.add("diagonal-drop"),N.classList.add("diagonal-target"),Z=N):(Z&&(Z.classList.remove("diagonal-target"),Z=null),n==null||n.classList.remove("diagonal-drop"),n.style.transform="translate(0, 0)",w&&(w.remove(),w=null)))};n.style.cursor="move",n.style.transform="translate(0, 0)",n.addEventListener("mousedown",E),n.addEventListener("touchstart",E),n.addEventListener("click",J=>{h&&ei(n,"drag")})}const En=(n,l)=>{const h=n.getBoundingClientRect(),f=document.querySelectorAll(`[type="${l}"]`);let v=null,A=0;return f.forEach(S=>{if(S===n)return;const w=S.getBoundingClientRect(),m=Math.max(0,Math.min(h.right,w.right)-Math.max(h.left,w.left)),T=Math.max(0,Math.min(h.bottom,w.bottom)-Math.max(h.top,w.top)),x=m*T;if(x!==0)if(l==="slide"){const E=h.width*h.height,M=w.width*w.height,d=Math.min(E,M)*.8;x>=d&&x>A&&(A=x,v=S)}else x>A&&(A=x,v=S)}),v};async function In(n,l){var h;const f=localStorage.getItem(Dt)||"",v=localStorage.getItem(Ot);let A=JSON.parse(localStorage.getItem(se)||" {}");if(l&&((h=l.getAttribute("dropAttr"))===null||h===void 0?void 0:h.toLowerCase())!==Qt.Diagonal&&(l.getAttribute("isAllowOnlyOneDrop")==="true"||!l.getAttribute("isAllowOnlyOneDrop"))){const m=Object.values(A).find(x=>document.getElementById(x.drop)===l);if(m?m.isFull=!0:console.warn("No matching drop item found for",l),localStorage.setItem(se,JSON.stringify(A)),En(n,"drag")){if(n.style.transform="translate(0,0)",n.style.transition="transform 0.5s ease",v){let E=JSON.parse(v);for(const M in E)E[M].includes(n.value)&&delete E[M];localStorage.setItem(Ot,JSON.stringify(E))}document.querySelectorAll("[type='drop']").forEach(E=>{var M;const d=JSON.parse(localStorage.getItem(Ot))||{};Object.keys(d).map(Number).includes(E.tabIndex)?((M=E.getAttribute("dropAttr"))===null||M===void 0?void 0:M.toLowerCase())!==Qt.Diagonal&&(E.tagName.toLowerCase()==="lido-text"&&(E.style.border="",E.style.backgroundColor="transparent"),E.tagName.toLowerCase()==="lido-image"&&(E.style.opacity="0")):(E.tagName.toLowerCase()==="lido-text"&&(E.style.border="",E.style.backgroundColor=""),E.tagName.toLowerCase()==="lido-image"&&(E.style.opacity="1"))});return}}if(!l){n.style.transform="translate(0,0)",n.style.transition="transform 0.5s ease";let m=Ln.get(n);if(m){let x=Object.values(A).find(E=>document.getElementById(E.drop)===m);x&&(x.isFull=!1,localStorage.setItem(se,JSON.stringify(A))),Ln.delete(n)}if(f){let x=JSON.parse(f);x=x.filter(E=>E!=n.value),localStorage.setItem(Dt,JSON.stringify(x))}if(v){let x=JSON.parse(v);for(const E in x)x[E].includes(n.value)&&delete x[E];localStorage.setItem(Ot,JSON.stringify(x))}document.querySelectorAll("[type='drop']").forEach(x=>{var E;const M=JSON.parse(localStorage.getItem(Ot))||{};Object.keys(M).map(Number).includes(x.tabIndex)?((E=x.getAttribute("dropAttr"))===null||E===void 0?void 0:E.toLowerCase())!==Qt.Diagonal&&(x.tagName.toLowerCase()==="lido-text"&&(x.style.border="",x.style.backgroundColor="transparent"),x.tagName.toLowerCase()==="lido-image"&&(x.style.opacity="0")):(x.tagName.toLowerCase()==="lido-text"&&(x.style.border="",x.style.backgroundColor=""),x.tagName.toLowerCase()==="lido-image"&&(x.style.opacity="1"))}),Qe();return}if(v){let m=Ln.get(n);if(m){let x=Object.values(A).find(E=>document.getElementById(E.drop)===m);x&&(x.isFull=!1,localStorage.setItem(se,JSON.stringify(A)))}let T=JSON.parse(v);for(const x in T)T[x].includes(n.value)&&delete T[x];localStorage.setItem(Ot,JSON.stringify(T))}let S=JSON.parse(localStorage.getItem(Ge))||0;if(S+=1,localStorage.setItem(Ge,JSON.stringify(S)),S===Je(l.value)){const m=Object.values(A).find(T=>document.getElementById(T.drop)===l);m?m.isFull=!0:console.warn("No matching drop item found for",l),localStorage.setItem(se,JSON.stringify(A)),S=0,localStorage.setItem(Ge,JSON.stringify(S))}Ln.set(n,l);const w=l.value.includes(n.value);if(eo(n,l,w),w){const m=l.getAttribute("onCorrect");m&&await Nt(m,l,n)}else{const m=l.getAttribute("onInCorrect");await Nt(m,l,n)}Ke(w),n.style.opacity="1",await uo(n,l)}const Nt=async(n,l,h)=>{var f;const v=co(n);for(let A=0;A<v.length;A++){const S=v[A],w=document.querySelector(S.actor),m=S.actor==="this"?l:S.actor==="element"?h:w||document.getElementById(S.actor);if(m)switch(S.action){case"transform":{const T=window.getComputedStyle(m).transform;m.style.transform=T!=="none"?`${T} ${S.value}`:S.value;break}case"alignMatch":{const T=m,x=h,E=document.querySelector("#lido-container"),M=Tn(E);x.style.transform="translate(0,0)";const d=T.getBoundingClientRect(),D=x.getBoundingClientRect(),q=d.left+d.width/2,K=d.top+d.height/2,Z=D.left+D.width/2,yt=D.top+D.height/2,J=(q-Z)/M,H=(K-yt)/M;((f=h.getAttribute("dropAttr"))===null||f===void 0?void 0:f.toLowerCase())===Qt.Diagonal?x.style.transform=`translate(${J-70}px, ${H-70}px)`:x.style.transform=`translate(${J}px, ${H}px)`;break}case"removeClone":{document.querySelectorAll(S.value).forEach(x=>x.remove());break}case"addClass":{m.classList.add(S.value);break}case"speak":{await ae.getI().play(m);break}case"stop":{await ae.getI().stop();break}case"sleep":{!isNaN(Number(S.value))&&await new Promise(x=>setTimeout(x,Number(S.value)));break}case"avatarAnimate":{const x=Pe.getInstance().getRiveInstance();x&&S.value&&x.play(S.value);break}default:{m.style[S.action]=S.value;break}}}},co=n=>{var l;const h=[];return n&&((l=n.split(";"))===null||l===void 0?void 0:l.map(v=>v.trim())).forEach(v=>{if(v){const[A,S]=v.split("=").map(m=>m.trim()),w=A.lastIndexOf(".");if(w!==-1){const m=A.substring(0,w).trim(),T=A.substring(w+1).trim();h.push({actor:m,action:T,value:S.replace(/['"]/g,"")})}}}),h},ti=(n,l)=>{const h=n.split(",").map(A=>A.trim());let f=0,v=new Set;for(const A of h)if(A.startsWith("(")&&A.endsWith(")")){const S=A.slice(1,-1).split("|").map(m=>m.trim()),w=l[f].slice(1,-1).split("|").map(m=>m.trim());if(f>=w.length)return!1;for(let m=0;m<S.length;m++)if(!S.includes(w[m]))return!1;f++}else if(A.includes("|")){const S=A.split("|").map(w=>w.trim());for(const w of S)v.add(w)}else{if(f>=l.length||l[f]!==A)return!1;f++}for(;f<l.length;){if(!v.has(l[f]))return!1;v.delete(l[f]),f++}return f===l.length},Je=n=>{const l=n.split(",").map(f=>f.trim());let h=0;for(const f of l)f.startsWith("(")&&f.endsWith(")")?f.includes("|")?h+=f.split("|").length:h+=1:h+=f.split("|").length;return h};async function uo(n,l){var h;const f=document.querySelector("#lido-container");if(!f)return;if(f.getAttribute("isAllowOnlyCorrect")==="true"&&!l.value.includes(n.value)){n.style.transform="translate(0,0)";return}await Nt("this.alignMatch='true'",l,n);let A=JSON.parse((h=localStorage.getItem(Ot))!==null&&h!==void 0?h:"{}");const S=l.getAttribute("tabindex");A[S]||(A[S]=[]),A[S].push(n.value),localStorage.setItem(Ot,JSON.stringify(A));const m=Object.keys(A).sort((x,E)=>parseInt(x)-parseInt(E)).reduce((x,E)=>{const M=A[E];return M.length>1?x.push(`(${M.join("|")})`):x.push(M[0]),x},[]);localStorage.setItem(Dt,JSON.stringify(m)),document.querySelectorAll("[type='drop']").forEach(x=>{var E;const M=JSON.parse(localStorage.getItem(Ot))||{};Object.keys(M).map(Number).includes(x.tabIndex)?((E=x.getAttribute("dropAttr"))===null||E===void 0?void 0:E.toLowerCase())!==Qt.Diagonal&&(x.tagName.toLowerCase()==="lido-text"&&(x.style.border="",x.style.backgroundColor="transparent"),x.tagName.toLowerCase()==="lido-image"&&(x.style.opacity="0")):(x.tagName.toLowerCase()==="lido-text"&&(x.style.border="",x.style.backgroundColor=""),x.tagName.toLowerCase()==="lido-image"&&(x.style.opacity="1"))}),Qe()}const Ke=n=>{n?le.rightMoves+=1:le.wrongMoves+=1,console.log("Right Moves : ",le.rightMoves),console.log("Wrong Moves : ",le.wrongMoves)},ho=()=>{const n=le.rightMoves,l=le.wrongMoves;let h=Math.floor(n/(n+l)*100);fo(h),le.rightMoves=0,le.wrongMoves=0},fo=n=>{var l,h,f;const v=document.querySelector("lido-home");if(!v)return;const A=Number((l=v.getAttribute("index"))!==null&&l!==void 0?l:0),S=Number((h=v.getAttribute("totalIndex"))!==null&&h!==void 0?h:0),w=JSON.parse((f=localStorage.getItem(Gn))!==null&&f!==void 0?f:"{}"),m=A.toString();if(w[m]=n,Kr(A,S,n),localStorage.setItem(Gn,JSON.stringify(w)),S-1==A){const T=Object.values(w),x=T.reduce((E,M)=>E+M,0)/T.length;le.finalScore=Math.floor(x),console.log("Total Score : ",le.finalScore),Zr(x),localStorage.removeItem(Gn)}},Qe=()=>{var n;const l=document.querySelector("#lido-container"),h=l.objective,f=(n=localStorage.getItem(Dt))!==null&&n!==void 0?n:"",v=document.querySelector("#lido-checkButton");if(!f||Je(f)!==Je(h)){Nt("this.addClass='lido-disable-check-button'",v);return}l.getAttribute("showCheck")=="true"?v.classList.remove("lido-disable-check-button"):Qn()},Qn=async()=>{var n;const l=document.querySelector("#lido-container");if(!l)return;const h=l.objective,f=(n=JSON.parse(localStorage.getItem(Dt)))!==null&&n!==void 0?n:[];if(ti(h,f)){const A=l.getAttribute("onCorrect");A&&await Nt(A,l),Pn()}else{const A=l.getAttribute("onInCorrect");await Nt(A,l),l.getAttribute("isContinueOnCorrect")==="true"||Pn()}await ho()},Pn=()=>{ae.getI().stop(),console.log("ðŸš€ ~ triggerNextContainer ~ event:",event),Qr()},de=async(n,l)=>{const h=document.querySelector("#lido-container");if(!h)return;const f=n.getAttribute("onEntry");await Nt(f,n);const v=h.getAttribute("canplay");if(!(v!=null&&v==="false")){switch(l){case"drag":{lo(n);break}case"click":{go(n);break}case"drop":{vo(n);break}case"slide":{so(n);break}case"word":{no(n);break}}po(n)}};function po(n){if(!n)return;const l=n.getAttribute("onTouch");l&&(n.onclick=async()=>{console.log("ðŸš€ ~ element.onclick= ~ onTouch:",l),l&&await Nt(l,n)})}function go(n){if(ii(n,"click"),n.style.cursor="pointer",!n){console.error("No element provided.");return}const l=async()=>{ae.getI().stop();const h=document.querySelector("#lido-container"),f=h.objective.split(","),v=document.querySelector("#lido-checkButton"),A=h.getAttribute("showCheck")==="true";if(n.getAttribute("id")=="lido-checkButton"){v.classList.add("lido-disable-check-button"),await Qn();return}const S=n.classList.contains("lido-element-selected");let w=JSON.parse(localStorage.getItem(Dt))||[];if(f.length===1){localStorage.setItem(Dt,JSON.stringify([n.value]));const m=f.includes(n.value);if(or(n,m),m){const T=n.getAttribute("onCorrect");n.style.pointerEvents="none",await Nt(T,n)}else{const T=n.getAttribute("onInCorrect");await Nt(T,n)}Ke(m),Qe();return}if(A&&v.classList.remove("lido-disable-check-button"),S){n.classList.remove("lido-element-selected"),Nt(n.getAttribute("onEntry"),n),w=w.filter(E=>E!=n.value),localStorage.setItem(Dt,JSON.stringify(w));let m=JSON.parse(localStorage.getItem(Ot))||{};const T=n.value,x=Object.keys(m).find(E=>m[E].includes(T));if(x){m[x]=m[x].filter(d=>d!==T),m[x].length===0&&delete m[x],localStorage.setItem(Ot,JSON.stringify(m));const M=Object.keys(m).sort((d,D)=>parseInt(d)-parseInt(D)).reduce((d,D)=>d.concat(m[D]),[]);localStorage.setItem(Dt,JSON.stringify(M))}A&&w.length===0&&v.classList.add("lido-disable-check-button");return}else{n.classList.add("lido-element-selected");const m=n.value,T=Object.keys(f).find(D=>f[D]===m);let x=JSON.parse(localStorage.getItem(Ot))||{};T?x[T]=[m]:x[f.length+w.length]=[m],localStorage.setItem(Ot,JSON.stringify(x));const M=Object.keys(x).sort((D,q)=>parseInt(D)-parseInt(q)).reduce((D,q)=>D.concat(x[q]),[]);localStorage.setItem(Dt,JSON.stringify(M));const d=f.includes(n.value);if(or(n,d),d){const D=n.getAttribute("onCorrect");await Nt(D,n)}else{const D=n.getAttribute("onInCorrect");await Nt(D,n)}Ke(d)}!A&&Je(f)===Je(w)&&Qn()};n.addEventListener("click",l),n.addEventListener("pointerdown",()=>{n.getAttribute("animation")==="clickable"&&(n.classList.add("removeShadow"),n.style.top="40px",n.style.position="relative")}),n.addEventListener("pointerup",()=>{n.getAttribute("animation")==="clickable"&&setTimeout(()=>{n.classList.remove("removeShadow"),n.style.top="0px",n.style.position="relative"},50)})}function vo(n){let l=JSON.parse(localStorage.getItem(se)||"{}");const h=n.getAttribute("tabIndex");(typeof l!="object"||l===null)&&(l={}),l[h]||(l[h]={drop:n.id,isFull:!1},localStorage.setItem(se,JSON.stringify(l))),n.onclick=()=>{ei(n,"drop")},ii(n,"drop")}async function ei(n,l){if(document.querySelectorAll(`[type='${l}']`).forEach(A=>{Ze(A)}),!document.querySelector("#dynamic-highlight-style")){const A=document.createElement("style");A.id="dynamic-highlight-style",A.innerHTML=`
      .highlight {
        // border: 4px solid #e74c3c; /* Thicker red border for more visibility */
        // border-radius: 12px; /* Larger rounded corners */
        // background-color: rgba(231, 76, 60, 0.3); /* Stronger, more noticeable background */
        // box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2), 0 12px 40px rgba(0, 0, 0, 0.2); /* Stronger shadow */
        // outline: 4px solid rgba(231, 76, 60, 0.6); /* Glow effect */
      }
    `,document.head.appendChild(A)}n==null||n.classList.add("highlight"),n.ariaPressed="true";const f=l==="drop"?n:document.querySelector("[type='drop'].highlight"),v=l==="drag"?n:document.querySelector("[type='drag'].highlight");if(f||mo(n),f&&v){v.style.transition="transform 0.5s ease",v.style.transform="";const A=document.querySelector("#lido-container"),S=Tn(A);console.log("ðŸš€ ~ onClickDropOrDragElement ~ containerScale:",S);const w=f.getBoundingClientRect(),m=v.getBoundingClientRect(),T=(w.left-m.left)/S,x=(w.top-m.top)/S;v.style.transform=`translate(${T}px, ${x}px)`,document.querySelectorAll("*").forEach(M=>{Ze(M)}),await In(v,f)}}const Ln=new Map;async function mo(n){const l=JSON.parse(localStorage.getItem(se)||"{}"),h=n;if(!h){console.error("Element not found");return}const f=getComputedStyle(h).transform;if(Ze(n),f&&f!=="none"&&f!=="matrix(1, 0, 0, 1, 0, 0)"){h.style.transition="transform 0.5s ease",h.style.transform="translate(0px, 0px)",In(h,null);return}let v=Object.values(l).find(A=>!A.isFull);if(v){const A=document.querySelector(`#${v.drop}`);h.style.transition="transform 0.5s ease",In(h,A)}}function Ze(n){n.classList.remove("highlight"),n.ariaPressed="false"}function cr(n){if(!n)return;n.classList.add("speaking-highlight");const l="#speaking-highlight-style";if(!document.querySelector(l)){const h=document.createElement("style");h.id=l,h.innerHTML=`
      .speaking-highlight {
        --base-transform: ${n.style.transform};
        box-shadow: 0 0 20px 10px rgba(255, 165, 0, 0.9) !important; /* Stronger orange glow effect */
        // border: 3px solid green !important;
        transition: box-shadow 0.5s ease-in-out, transform 0.5s ease-in-out;
        transform: scale(1.05); /* Subtle scale effect to pop the element */
        animation: pulseEffect 1.5s infinite; /* Pulsing animation */
      }

      @keyframes pulseEffect {
        0% {
          box-shadow: 0 0 20px 10px rgba(255, 165, 0, 0.9);
          transform: var(--base-transform) scale(1.05);
        }
        50% {
          box-shadow: 0 0 30px 15px rgba(255, 165, 0, 1);
          transform: var(--base-transform) scale(1.1);
        }
        100% {
          box-shadow: 0 0 20px 10px rgba(255, 165, 0, 0.9);
          transform: var(--base-transform) scale(1.05);
        }
      }
    `,document.head.appendChild(h)}}function Jn(n){n&&n.classList.remove("speaking-highlight")}function ce(n){const h=document.querySelector("#lido-container").getAttribute("baseUrl");return n!=null&&n.startsWith("http")||n!=null&&n.startsWith("blob")?n:h?h+n:dr(n)}async function yo(n,l){return new Promise((h,f)=>{if(!("speechSynthesis"in window)){f(new Error("Speech synthesis is not supported in this browser."));return}const v=window.speechSynthesis;setTimeout(()=>{const A=new SpeechSynthesisUtterance(n);A.onend=()=>{h(!0)},v.speak(A)},50)})}function ni(n,l,h,f,v){if(f===void 0)return;const A=Array.from(n.children);let S=f;l&&f<l&&(S=l),h&&f>h&&(S=h),A.forEach((w,m)=>{w.style.display=m<S?v:"none"})}const V=(n,l)=>!n||!n.includes(",")?n:n.split(",").reduce((f,v)=>{const[A,S]=v.split(".");return f[A.trim()]=S.trim(),f},{})[l]||"",ii=(n,l)=>{const h=document.querySelectorAll("[type='drag']"),f=document.querySelectorAll("[type='drop']"),v=document.querySelectorAll("[type='click']");let A=0;if(l==="click"){v.forEach(S=>{const w=S;let m=null;if(w.getAttribute("flexibleWidth"))m=w;else{const T=w.children;for(let x=0;x<T.length;x++){const E=T[x];if(E.getAttribute("flexibleWidth")){m=E;break}}}if(m){const T=m.style.width,x=m.style.padding;m.style.width="auto",m.style.padding="0 20px";const E=m.offsetWidth;m.style.width=T,m.style.padding=x,E>A&&(A=E)}}),v.forEach(S=>{const w=S;if(w.getAttribute("flexibleWidth")){if(w.getAttribute("flexibleWidth")==="true")return;w.style.width=`${A}px`}else{const m=w.children;for(let T=0;T<m.length;T++){const x=m[T];if(x.getAttribute("flexibleWidth")){if(x.getAttribute("flexibleWidth")==="true")return;x.style.width=`${A}px`;break}}}});return}h.forEach(S=>{const w=S,m=w.style.width,T=w.style.padding;w.style.width="auto",w.style.padding="0 20px";const x=w.offsetWidth;w.style.width=m,w.style.padding=T,x>A&&(A=x)}),h.forEach(S=>{const w=S,m=w.getAttribute("flexibleWidth");m==="false"?w.style.width=`${A}px`:m==="true"&&l==="drag"&&(w.style.width="auto",w.style.padding="0 20px")}),f.forEach(S=>{const w=S,m=w.getAttribute("flexibleWidth");if(m==="false"){const T=parseFloat(getComputedStyle(w).borderWidth);if(typeof T=="number"){const x=A-T*2,E=parseFloat(w.style.height)-T*2;w.style.height=`${E}px`,w.style.width=`${x}px`;return}}else m==="true"&&l==="drag"&&(w.style.width="auto",w.style.padding="0 20px")})};var bo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ur={exports:{}};(function(n,l){(function(f,v){n.exports=v()})(bo,()=>(()=>{var h=[,(S,w,m)=>{m.r(w),m.d(w,{default:()=>x});var T=(()=>{var E=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return function(M={}){var d=M,D,q;d.ready=new Promise((t,e)=>{D=t,q=e});function K(){function t(p){const C=o;i=e=0,o=new Map,C.forEach(_=>{try{_(p)}catch(b){console.error(b)}}),this.ob(),s&&s.Tb()}let e=0,i=0,o=new Map,s=null,c=null;this.requestAnimationFrame=function(p){e||(e=requestAnimationFrame(t.bind(this)));const C=++i;return o.set(C,p),C},this.cancelAnimationFrame=function(p){o.delete(p),e&&o.size==0&&(cancelAnimationFrame(e),e=0)},this.Rb=function(p){c&&(document.body.remove(c),c=null),p||(c=document.createElement("div"),c.style.backgroundColor="black",c.style.position="fixed",c.style.right=0,c.style.top=0,c.style.color="white",c.style.padding="4px",c.innerHTML="RIVE FPS",p=function(C){c.innerHTML="RIVE FPS "+C.toFixed(1)},document.body.appendChild(c)),s=new function(){let C=0,_=0;this.Tb=function(){var b=performance.now();_?(++C,b-=_,1e3<b&&(p(1e3*C/b),C=_=0)):(_=b,C=0)}}},this.Ob=function(){c&&(document.body.remove(c),c=null),s=null},this.ob=function(){}}function Z(t){console.assert(!0);const e=new Map;let i=-1/0;this.push=function(o){return o=o+((1<<t)-1)>>t,e.has(o)&&clearTimeout(e.get(o)),e.set(o,setTimeout(function(){e.delete(o),e.length==0?i=-1/0:o==i&&(i=Math.max(...e.keys()),console.assert(i<o))},1e3)),i=Math.max(o,i),i<<t}}const yt=d.onRuntimeInitialized;d.onRuntimeInitialized=function(){yt&&yt();let t=d.decodeAudio;d.decodeAudio=function(s,c){s=t(s),c(s)};let e=d.decodeFont;d.decodeFont=function(s,c){s=e(s),c(s)};const i=d.FileAssetLoader;d.ptrToAsset=s=>{let c=d.ptrToFileAsset(s);return c.isImage?d.ptrToImageAsset(s):c.isFont?d.ptrToFontAsset(s):c.isAudio?d.ptrToAudioAsset(s):c},d.CustomFileAssetLoader=i.extend("CustomFileAssetLoader",{__construct:function({loadContents:s}){this.__parent.__construct.call(this),this.Gb=s},loadContents:function(s,c){return s=d.ptrToAsset(s),this.Gb(s,c)}}),d.CDNFileAssetLoader=i.extend("CDNFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this)},loadContents:function(s){let c=d.ptrToAsset(s);return s=c.cdnUuid,s===""?!1:(function(p,C){var _=new XMLHttpRequest;_.responseType="arraybuffer",_.onreadystatechange=function(){_.readyState==4&&_.status==200&&C(_)},_.open("GET",p,!0),_.send(null)}(c.cdnBaseUrl+"/"+s,p=>{c.decode(new Uint8Array(p.response))}),!0)}}),d.FallbackFileAssetLoader=i.extend("FallbackFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this),this.kb=[]},addLoader:function(s){this.kb.push(s)},loadContents:function(s,c){for(let p of this.kb)if(p.loadContents(s,c))return!0;return!1}});let o=d.computeAlignment;d.computeAlignment=function(s,c,p,C,_=1){return o.call(this,s,c,p,C,_)}};const J="createConicGradient createImageData createLinearGradient createPattern createRadialGradient getContextAttributes getImageData getLineDash getTransform isContextLost isPointInPath isPointInStroke measureText".split(" "),H=new function(){function t(){if(!e){let et=function(it,W,At){if(W=R.createShader(W),R.shaderSource(W,At),R.compileShader(W),At=R.getShaderInfoLog(W),0<(At||"").length)throw At;R.attachShader(it,W)};var g=document.createElement("canvas"),k={alpha:1,depth:0,stencil:0,antialias:0,premultipliedAlpha:1,preserveDrawingBuffer:0,powerPreference:"high-performance",failIfMajorPerformanceCaveat:0,enableExtensionsByDefault:1,explicitSwapControl:1,renderViaOffscreenBackBuffer:1};let R;if(/iPhone|iPad|iPod/i.test(navigator.userAgent)){if(R=g.getContext("webgl",k),i=1,!R)return console.log("No WebGL support. Image mesh will not be drawn."),!1}else if(R=g.getContext("webgl2",k))i=2;else if(R=g.getContext("webgl",k))i=1;else return console.log("No WebGL support. Image mesh will not be drawn."),!1;if(R=new Proxy(R,{get(it,W){if(it.isContextLost()){if(_||(console.error("Cannot render the mesh because the GL Context was lost. Tried to invoke ",W),_=!0),typeof it[W]=="function")return function(){}}else return typeof it[W]=="function"?function(...At){return it[W].apply(it,At)}:it[W]},set(it,W,At){if(it.isContextLost())_||(console.error("Cannot render the mesh because the GL Context was lost. Tried to set property "+W),_=!0);else return it[W]=At,!0}}),o=Math.min(R.getParameter(R.MAX_RENDERBUFFER_SIZE),R.getParameter(R.MAX_TEXTURE_SIZE)),g=R.createProgram(),et(g,R.VERTEX_SHADER,`attribute vec2 vertex;
                attribute vec2 uv;
                uniform vec4 mat;
                uniform vec2 translate;
                varying vec2 st;
                void main() {
                    st = uv;
                    gl_Position = vec4(mat2(mat) * vertex + translate, 0, 1);
                }`),et(g,R.FRAGMENT_SHADER,`precision highp float;
                uniform sampler2D image;
                varying vec2 st;
                void main() {
                    gl_FragColor = texture2D(image, st);
                }`),R.bindAttribLocation(g,0,"vertex"),R.bindAttribLocation(g,1,"uv"),R.linkProgram(g),k=R.getProgramInfoLog(g),0<(k||"").trim().length)throw k;s=R.getUniformLocation(g,"mat"),c=R.getUniformLocation(g,"translate"),R.useProgram(g),R.bindBuffer(R.ARRAY_BUFFER,R.createBuffer()),R.enableVertexAttribArray(0),R.enableVertexAttribArray(1),R.bindBuffer(R.ELEMENT_ARRAY_BUFFER,R.createBuffer()),R.uniform1i(R.getUniformLocation(g,"image"),0),R.pixelStorei(R.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),e=R}return!0}let e=null,i=0,o=0,s=null,c=null,p=0,C=0,_=!1;t(),this.hc=function(){return t(),o},this.Mb=function(g){e.deleteTexture&&e.deleteTexture(g)},this.Lb=function(g){if(!t())return null;const k=e.createTexture();return k?(e.bindTexture(e.TEXTURE_2D,k),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,g),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),i==2?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR_MIPMAP_LINEAR),e.generateMipmap(e.TEXTURE_2D)):e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),k):null};const b=new Z(8),O=new Z(8),j=new Z(10),B=new Z(10);this.Qb=function(g,k,R,et,it){if(t()){var W=b.push(g),At=O.push(k);if(e.canvas){(e.canvas.width!=W||e.canvas.height!=At)&&(e.canvas.width=W,e.canvas.height=At),e.viewport(0,At-k,g,k),e.disable(e.SCISSOR_TEST),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),e.enable(e.SCISSOR_TEST),R.sort((ht,re)=>re.wb-ht.wb),W=j.push(et),p!=W&&(e.bufferData(e.ARRAY_BUFFER,8*W,e.DYNAMIC_DRAW),p=W),W=0;for(var kt of R)e.bufferSubData(e.ARRAY_BUFFER,W,kt.Ta),W+=4*kt.Ta.length;console.assert(W==4*et);for(var ie of R)e.bufferSubData(e.ARRAY_BUFFER,W,ie.Db),W+=4*ie.Db.length;console.assert(W==8*et),W=B.push(it),C!=W&&(e.bufferData(e.ELEMENT_ARRAY_BUFFER,2*W,e.DYNAMIC_DRAW),C=W),kt=0;for(var Le of R)e.bufferSubData(e.ELEMENT_ARRAY_BUFFER,kt,Le.indices),kt+=2*Le.indices.length;console.assert(kt==2*it),Le=0,ie=!0,W=kt=0;for(const ht of R){ht.image.Ka!=Le&&(e.bindTexture(e.TEXTURE_2D,ht.image.Ja||null),Le=ht.image.Ka),ht.mc?(e.scissor(ht.Ya,At-ht.Za-ht.jb,ht.Ac,ht.jb),ie=!0):ie&&(e.scissor(0,At-k,g,k),ie=!1),R=2/g;const re=-2/k;e.uniform4f(s,ht.ha[0]*R*ht.Ba,ht.ha[1]*re*ht.Ca,ht.ha[2]*R*ht.Ba,ht.ha[3]*re*ht.Ca),e.uniform2f(c,ht.ha[4]*R*ht.Ba+R*(ht.Ya-ht.ic*ht.Ba)-1,ht.ha[5]*re*ht.Ca+re*(ht.Za-ht.jc*ht.Ca)+1),e.vertexAttribPointer(0,2,e.FLOAT,!1,0,W),e.vertexAttribPointer(1,2,e.FLOAT,!1,0,W+4*et),e.drawElements(e.TRIANGLES,ht.indices.length,e.UNSIGNED_SHORT,kt),W+=4*ht.Ta.length,kt+=2*ht.indices.length}console.assert(W==4*et),console.assert(kt==2*it)}}},this.canvas=function(){return t()&&e.canvas}},ct=d.onRuntimeInitialized;d.onRuntimeInitialized=function(){function t(P){switch(P){case b.srcOver:return"source-over";case b.screen:return"screen";case b.overlay:return"overlay";case b.darken:return"darken";case b.lighten:return"lighten";case b.colorDodge:return"color-dodge";case b.colorBurn:return"color-burn";case b.hardLight:return"hard-light";case b.softLight:return"soft-light";case b.difference:return"difference";case b.exclusion:return"exclusion";case b.multiply:return"multiply";case b.hue:return"hue";case b.saturation:return"saturation";case b.color:return"color";case b.luminosity:return"luminosity"}}function e(P){return"rgba("+((16711680&P)>>>16)+","+((65280&P)>>>8)+","+((255&P)>>>0)+","+((4278190080&P)>>>24)/255+")"}function i(){0<At.length&&(H.Qb(W.drawWidth(),W.drawHeight(),At,kt,ie),At=[],ie=kt=0,W.reset(512,512));for(const P of it){for(const $ of P.H)$();P.H=[]}it.clear()}ct&&ct();var o=d.RenderPaintStyle;const s=d.RenderPath,c=d.RenderPaint,p=d.Renderer,C=d.StrokeCap,_=d.StrokeJoin,b=d.BlendMode,O=o.fill,j=o.stroke,B=d.FillRule.evenOdd;let g=1;var k=d.RenderImage.extend("CanvasRenderImage",{__construct:function({la:P,xa:$}={}){this.__parent.__construct.call(this),this.Ka=g,g=g+1&2147483647||1,this.la=P,this.xa=$},__destruct:function(){this.Ja&&(H.Mb(this.Ja),URL.revokeObjectURL(this.Wa)),this.__parent.__destruct.call(this)},decode:function(P){var $=this;$.xa&&$.xa($);var at=new Image;$.Wa=URL.createObjectURL(new Blob([P],{type:"image/png"})),at.onload=function(){$.Fb=at,$.Ja=H.Lb(at),$.size(at.width,at.height),$.la&&$.la($)},at.src=$.Wa}}),R=s.extend("CanvasRenderPath",{__construct:function(){this.__parent.__construct.call(this),this.T=new Path2D},rewind:function(){this.T=new Path2D},addPath:function(P,$,at,lt,Q,pt,gt){var mt=this.T,qt=mt.addPath;P=P.T;const It=new DOMMatrix;It.a=$,It.b=at,It.c=lt,It.d=Q,It.e=pt,It.f=gt,qt.call(mt,P,It)},fillRule:function(P){this.Va=P},moveTo:function(P,$){this.T.moveTo(P,$)},lineTo:function(P,$){this.T.lineTo(P,$)},cubicTo:function(P,$,at,lt,Q,pt){this.T.bezierCurveTo(P,$,at,lt,Q,pt)},close:function(){this.T.closePath()}}),et=c.extend("CanvasRenderPaint",{color:function(P){this.Xa=e(P)},thickness:function(P){this.Ib=P},join:function(P){switch(P){case _.miter:this.Ia="miter";break;case _.round:this.Ia="round";break;case _.bevel:this.Ia="bevel"}},cap:function(P){switch(P){case C.butt:this.Ha="butt";break;case C.round:this.Ha="round";break;case C.square:this.Ha="square"}},style:function(P){this.Hb=P},blendMode:function(P){this.Eb=t(P)},clearGradient:function(){this.ja=null},linearGradient:function(P,$,at,lt){this.ja={yb:P,zb:$,bb:at,cb:lt,Ra:[]}},radialGradient:function(P,$,at,lt){this.ja={yb:P,zb:$,bb:at,cb:lt,Ra:[],ec:!0}},addStop:function(P,$){this.ja.Ra.push({color:P,stop:$})},completeGradient:function(){},draw:function(P,$,at){let lt=this.Hb;var Q=this.Xa,pt=this.ja;if(P.globalCompositeOperation=this.Eb,pt!=null){Q=pt.yb;var gt=pt.zb;const qt=pt.bb;var mt=pt.cb;const It=pt.Ra;pt.ec?(pt=qt-Q,mt-=gt,Q=P.createRadialGradient(Q,gt,0,Q,gt,Math.sqrt(pt*pt+mt*mt))):Q=P.createLinearGradient(Q,gt,qt,mt);for(let oe=0,Mt=It.length;oe<Mt;oe++)gt=It[oe],Q.addColorStop(gt.stop,e(gt.color));this.Xa=Q,this.ja=null}switch(lt){case j:P.strokeStyle=Q,P.lineWidth=this.Ib,P.lineCap=this.Ha,P.lineJoin=this.Ia,P.stroke($);break;case O:P.fillStyle=Q,P.fill($,at)}}});const it=new Set;let W=null,At=[],kt=0,ie=0;var Le=d.CanvasRenderer=p.extend("Renderer",{__construct:function(P){this.__parent.__construct.call(this),this.S=[1,0,0,1,0,0],this.C=P.getContext("2d"),this.Ua=P,this.H=[]},save:function(){this.S.push(...this.S.slice(this.S.length-6)),this.H.push(this.C.save.bind(this.C))},restore:function(){const P=this.S.length-6;if(6>P)throw"restore() called without matching save().";this.S.splice(P),this.H.push(this.C.restore.bind(this.C))},transform:function(P,$,at,lt,Q,pt){const gt=this.S,mt=gt.length-6;gt.splice(mt,6,gt[mt]*P+gt[mt+2]*$,gt[mt+1]*P+gt[mt+3]*$,gt[mt]*at+gt[mt+2]*lt,gt[mt+1]*at+gt[mt+3]*lt,gt[mt]*Q+gt[mt+2]*pt+gt[mt+4],gt[mt+1]*Q+gt[mt+3]*pt+gt[mt+5]),this.H.push(this.C.transform.bind(this.C,P,$,at,lt,Q,pt))},rotate:function(P){const $=Math.sin(P);P=Math.cos(P),this.transform(P,$,-$,P,0,0)},_drawPath:function(P,$){this.H.push($.draw.bind($,this.C,P.T,P.Va===B?"evenodd":"nonzero"))},_drawRiveImage:function(P,$,at){var lt=P.Fb;if(lt){var Q=this.C,pt=t($);this.H.push(function(){Q.globalCompositeOperation=pt,Q.globalAlpha=at,Q.drawImage(lt,0,0),Q.globalAlpha=1})}},_getMatrix:function(P){const $=this.S,at=$.length-6;for(let lt=0;6>lt;++lt)P[lt]=$[at+lt]},_drawImageMesh:function(P,$,at,lt,Q,pt,gt,mt,qt,It){var oe=this.C.canvas.width,Mt=this.C.canvas.height;const Qi=qt-gt,tr=It-mt;gt=Math.max(gt,0),mt=Math.max(mt,0),qt=Math.min(qt,oe),It=Math.min(It,Mt);const Ve=qt-gt,qe=It-mt;if(console.assert(Ve<=Math.min(Qi,oe)),console.assert(qe<=Math.min(tr,Mt)),!(0>=Ve||0>=qe)){qt=Ve<Qi||qe<tr,oe=It=1;var Ee=Math.ceil(Ve*It),Ie=Math.ceil(qe*oe);Mt=H.hc(),Ee>Mt&&(It*=Mt/Ee,Ee=Mt),Ie>Mt&&(oe*=Mt/Ie,Ie=Mt),W||(W=new d.DynamicRectanizer(Mt),W.reset(512,512)),Mt=W.addRect(Ee,Ie),0>Mt&&(i(),it.add(this),Mt=W.addRect(Ee,Ie),console.assert(0<=Mt));var er=Mt&65535,nr=Mt>>16;At.push({ha:this.S.slice(this.S.length-6),image:P,Ya:er,Za:nr,ic:gt,jc:mt,Ac:Ee,jb:Ie,Ba:It,Ca:oe,Ta:new Float32Array(lt),Db:new Float32Array(Q),indices:new Uint16Array(pt),mc:qt,wb:P.Ka<<1|(qt?1:0)}),kt+=lt.length,ie+=pt.length;var De=this.C,Hr=t($);this.H.push(function(){De.save(),De.resetTransform(),De.globalCompositeOperation=Hr,De.globalAlpha=at;const ir=H.canvas();ir&&De.drawImage(ir,er,nr,Ee,Ie,gt,mt,Ve,qe),De.restore()})}},_clipPath:function(P){this.H.push(this.C.clip.bind(this.C,P.T,P.Va===B?"evenodd":"nonzero"))},clear:function(){it.add(this),this.H.push(this.C.clearRect.bind(this.C,0,0,this.Ua.width,this.Ua.height))},flush:function(){},translate:function(P,$){this.transform(1,0,0,1,P,$)}});d.makeRenderer=function(P){const $=new Le(P),at=$.C;return new Proxy($,{get(lt,Q){if(typeof lt[Q]=="function")return function(...pt){return lt[Q].apply(lt,pt)};if(typeof at[Q]=="function"){if(-1<J.indexOf(Q))throw Error("RiveException: Method call to '"+Q+"()' is not allowed, as the renderer cannot immediately pass through the return                 values of any canvas 2d context methods.");return function(...pt){$.H.push(at[Q].bind(at,...pt))}}return lt[Q]},set(lt,Q,pt){if(Q in at)return $.H.push(()=>{at[Q]=pt}),!0}})},d.decodeImage=function(P,$){new k({la:$}).decode(P)},d.renderFactory={makeRenderPaint:function(){return new et},makeRenderPath:function(){return new R},makeRenderImage:function(){let P=re;return new k({xa:()=>{P.total++},la:()=>{if(P.loaded++,P.loaded===P.total){const $=P.ready;$&&($(),P.ready=null)}}})}};let ht=d.load,re=null;d.load=function(P,$,at=!0){const lt=new d.FallbackFileAssetLoader;return $!==void 0&&lt.addLoader($),at&&($=new d.CDNFileAssetLoader,lt.addLoader($)),new Promise(function(Q){let pt=null;re={total:0,loaded:0,ready:function(){Q(pt)}},pt=ht(P,lt),re.total==0&&Q(pt)})};let Ur=d.RendererWrapper.prototype.align;d.RendererWrapper.prototype.align=function(P,$,at,lt,Q=1){Ur.call(this,P,$,at,lt,Q)},o=new K,d.requestAnimationFrame=o.requestAnimationFrame.bind(o),d.cancelAnimationFrame=o.cancelAnimationFrame.bind(o),d.enableFPSCounter=o.Rb.bind(o),d.disableFPSCounter=o.Ob,o.ob=i,d.resolveAnimationFrame=i,d.cleanup=function(){W&&W.delete()}};var N=Object.assign({},d),bt="./this.program",wt=typeof window=="object",Ct=typeof importScripts=="function",dt="",Ht,ut;(wt||Ct)&&(Ct?dt=self.location.href:typeof document<"u"&&document.currentScript&&(dt=document.currentScript.src),E&&(dt=E),dt.indexOf("blob:")!==0?dt=dt.substr(0,dt.replace(/[?#].*/,"").lastIndexOf("/")+1):dt="",Ct&&(ut=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),Ht=(t,e,i)=>{var o=new XMLHttpRequest;o.open("GET",t,!0),o.responseType="arraybuffer",o.onload=()=>{o.status==200||o.status==0&&o.response?e(o.response):i()},o.onerror=i,o.send(null)});var xt=d.print||console.log.bind(console),Et=d.printErr||console.error.bind(console);Object.assign(d,N),N=null,d.thisProgram&&(bt=d.thisProgram);var Wt;d.wasmBinary&&(Wt=d.wasmBinary),typeof WebAssembly!="object"&&vt("no native wasm support detected");var Bt,ot,Xt=!1,_t,st,St,Gt,G,ft,u,r;function a(){var t=Bt.buffer;d.HEAP8=_t=new Int8Array(t),d.HEAP16=St=new Int16Array(t),d.HEAP32=G=new Int32Array(t),d.HEAPU8=st=new Uint8Array(t),d.HEAPU16=Gt=new Uint16Array(t),d.HEAPU32=ft=new Uint32Array(t),d.HEAPF32=u=new Float32Array(t),d.HEAPF64=r=new Float64Array(t)}var y,L=[],I=[],F=[];function X(){var t=d.preRun.shift();L.unshift(t)}var nt=0,z=null;function vt(t){throw d.onAbort&&d.onAbort(t),t="Aborted("+t+")",Et(t),Xt=!0,t=new WebAssembly.RuntimeError(t+". Build with -sASSERTIONS for more info."),q(t),t}function Pt(t){return t.startsWith("data:application/octet-stream;base64,")}var Tt;if(Tt="canvas_advanced.wasm",!Pt(Tt)){var Rt=Tt;Tt=d.locateFile?d.locateFile(Rt,dt):dt+Rt}function ye(t){if(t==Tt&&Wt)return new Uint8Array(Wt);if(ut)return ut(t);throw"both async and sync fetching of the wasm failed"}function Jt(t){if(!Wt&&(wt||Ct)){if(typeof fetch=="function"&&!t.startsWith("file://"))return fetch(t,{credentials:"same-origin"}).then(e=>{if(!e.ok)throw"failed to load wasm binary file at '"+t+"'";return e.arrayBuffer()}).catch(()=>ye(t));if(Ht)return new Promise((e,i)=>{Ht(t,o=>e(new Uint8Array(o)),i)})}return Promise.resolve().then(()=>ye(t))}function be(t,e,i){return Jt(t).then(o=>WebAssembly.instantiate(o,e)).then(o=>o).then(i,o=>{Et("failed to asynchronously prepare wasm: "+o),vt(o)})}function tn(t,e){var i=Tt;return Wt||typeof WebAssembly.instantiateStreaming!="function"||Pt(i)||i.startsWith("file://")||typeof fetch!="function"?be(i,t,e):fetch(i,{credentials:"same-origin"}).then(o=>WebAssembly.instantiateStreaming(o,t).then(e,function(s){return Et("wasm streaming compile failed: "+s),Et("falling back to ArrayBuffer instantiation"),be(i,t,e)}))}var ue,Re,je={446236:(t,e,i,o,s)=>{if(typeof window>"u"||(window.AudioContext||window.webkitAudioContext)===void 0)return 0;if(typeof window.h>"u"){window.h={Aa:0},window.h.I={},window.h.I.ya=t,window.h.I.capture=e,window.h.I.La=i,window.h.ga={},window.h.ga.stopped=o,window.h.ga.xb=s;let c=window.h;c.D=[],c.yc=function(p){for(var C=0;C<c.D.length;++C)if(c.D[C]==null)return c.D[C]=p,C;return c.D.push(p),c.D.length-1},c.Cb=function(p){for(c.D[p]=null;0<c.D.length&&c.D[c.D.length-1]==null;)c.D.pop()},c.Sc=function(p){for(var C=0;C<c.D.length;++C)if(c.D[C]==p)return c.Cb(C)},c.ra=function(p){return c.D[p]},c.Bb=["touchend","click"],c.unlock=function(){for(var p=0;p<c.D.length;++p){var C=c.D[p];C!=null&&C.J!=null&&C.state===c.ga.xb&&C.J.resume().then(()=>{Vi(C.pb)},_=>{console.error("Failed to resume audiocontext",_)})}c.Bb.map(function(_){document.removeEventListener(_,c.unlock,!0)})},c.Bb.map(function(p){document.addEventListener(p,c.unlock,!0)})}return window.h.Aa+=1,1},448414:()=>{typeof window.h<"u"&&(--window.h.Aa,window.h.Aa===0&&delete window.h)},448578:()=>navigator.mediaDevices!==void 0&&navigator.mediaDevices.getUserMedia!==void 0,448682:()=>{try{var t=new(window.AudioContext||window.webkitAudioContext),e=t.sampleRate;return t.close(),e}catch{return 0}},448853:(t,e,i,o,s,c)=>{if(typeof window.h>"u")return-1;var p={},C={};return t==window.h.I.ya&&i!=0&&(C.sampleRate=i),p.J=new(window.AudioContext||window.webkitAudioContext)(C),p.J.suspend(),p.state=window.h.ga.stopped,i=0,t!=window.h.I.ya&&(i=e),p.Z=p.J.createScriptProcessor(o,i,e),p.Z.onaudioprocess=function(_){if((p.sa==null||p.sa.length==0)&&(p.sa=new Float32Array(u.buffer,s,o*e)),t==window.h.I.capture||t==window.h.I.La){for(var b=0;b<e;b+=1)for(var O=_.inputBuffer.getChannelData(b),j=p.sa,B=0;B<o;B+=1)j[B*e+b]=O[B];qi(c,o,s)}if(t==window.h.I.ya||t==window.h.I.La)for(Gi(c,o,s),b=0;b<_.outputBuffer.numberOfChannels;++b)for(O=_.outputBuffer.getChannelData(b),j=p.sa,B=0;B<o;B+=1)O[B]=j[B*e+b];else for(b=0;b<_.outputBuffer.numberOfChannels;++b)_.outputBuffer.getChannelData(b).fill(0)},t!=window.h.I.capture&&t!=window.h.I.La||navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(_){p.Da=p.J.createMediaStreamSource(_),p.Da.connect(p.Z),p.Z.connect(p.J.destination)}).catch(function(_){console.log("Failed to get user media: "+_)}),t==window.h.I.ya&&p.Z.connect(p.J.destination),p.pb=c,window.h.yc(p)},451730:t=>window.h.ra(t).J.sampleRate,451803:t=>{t=window.h.ra(t),t.Z!==void 0&&(t.Z.onaudioprocess=function(){},t.Z.disconnect(),t.Z=void 0),t.Da!==void 0&&(t.Da.disconnect(),t.Da=void 0),t.J.close(),t.J=void 0,t.pb=void 0},452203:t=>{window.h.Cb(t)},452253:t=>{t=window.h.ra(t),t.J.resume(),t.state=window.h.ga.xb},452392:t=>{t=window.h.ra(t),t.J.suspend(),t.state=window.h.ga.stopped}},he=t=>{for(;0<t.length;)t.shift()(d)},Me=(t,e)=>{for(var i=0,o=t.length-1;0<=o;o--){var s=t[o];s==="."?t.splice(o,1):s===".."?(t.splice(o,1),i++):i&&(t.splice(o,1),i--)}if(e)for(;i;i--)t.unshift("..");return t},Yt=t=>{var e=t.charAt(0)==="/",i=t.substr(-1)==="/";return(t=Me(t.split("/").filter(o=>!!o),!e).join("/"))||e||(t="."),t&&i&&(t+="/"),(e?"/":"")+t},hr=t=>{var e=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(t).slice(1);return t=e[0],e=e[1],!t&&!e?".":(e&&(e=e.substr(0,e.length-1)),t+e)},ri=t=>{if(t==="/")return"/";t=Yt(t),t=t.replace(/\/$/,"");var e=t.lastIndexOf("/");return e===-1?t:t.substr(e+1)},fr=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return t=>crypto.getRandomValues(t);vt("initRandomDevice")},oi=t=>(oi=fr())(t);function en(){for(var t="",e=!1,i=arguments.length-1;-1<=i&&!e;i--){if(e=0<=i?arguments[i]:"/",typeof e!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!e)return"";t=e+"/"+t,e=e.charAt(0)==="/"}return t=Me(t.split("/").filter(o=>!!o),!e).join("/"),(e?"/":"")+t||"."}var si=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,we=(t,e,i)=>{var o=e+i;for(i=e;t[i]&&!(i>=o);)++i;if(16<i-e&&t.buffer&&si)return si.decode(t.subarray(e,i));for(o="";e<i;){var s=t[e++];if(s&128){var c=t[e++]&63;if((s&224)==192)o+=String.fromCharCode((s&31)<<6|c);else{var p=t[e++]&63;s=(s&240)==224?(s&15)<<12|c<<6|p:(s&7)<<18|c<<12|p<<6|t[e++]&63,65536>s?o+=String.fromCharCode(s):(s-=65536,o+=String.fromCharCode(55296|s>>10,56320|s&1023))}}else o+=String.fromCharCode(s)}return o},Rn=[],ai=t=>{for(var e=0,i=0;i<t.length;++i){var o=t.charCodeAt(i);127>=o?e++:2047>=o?e+=2:55296<=o&&57343>=o?(e+=4,++i):e+=3}return e},li=(t,e,i,o)=>{if(!(0<o))return 0;var s=i;o=i+o-1;for(var c=0;c<t.length;++c){var p=t.charCodeAt(c);if(55296<=p&&57343>=p){var C=t.charCodeAt(++c);p=65536+((p&1023)<<10)|C&1023}if(127>=p){if(i>=o)break;e[i++]=p}else{if(2047>=p){if(i+1>=o)break;e[i++]=192|p>>6}else{if(65535>=p){if(i+2>=o)break;e[i++]=224|p>>12}else{if(i+3>=o)break;e[i++]=240|p>>18,e[i++]=128|p>>12&63}e[i++]=128|p>>6&63}e[i++]=128|p&63}}return e[i]=0,i-s};function ci(t,e){var i=Array(ai(t)+1);return t=li(t,i,0,i.length),e&&(i.length=t),i}var di=[];function ui(t,e){di[t]={input:[],F:[],V:e},On(t,pr)}var pr={open:function(t){var e=di[t.node.za];if(!e)throw new U(43);t.s=e,t.seekable=!1},close:function(t){t.s.V.qa(t.s)},qa:function(t){t.s.V.qa(t.s)},read:function(t,e,i,o){if(!t.s||!t.s.V.ib)throw new U(60);for(var s=0,c=0;c<o;c++){try{var p=t.s.V.ib(t.s)}catch{throw new U(29)}if(p===void 0&&s===0)throw new U(6);if(p==null)break;s++,e[i+c]=p}return s&&(t.node.timestamp=Date.now()),s},write:function(t,e,i,o){if(!t.s||!t.s.V.Oa)throw new U(60);try{for(var s=0;s<o;s++)t.s.V.Oa(t.s,e[i+s])}catch{throw new U(29)}return o&&(t.node.timestamp=Date.now()),s}},gr={ib:function(){t:{if(!Rn.length){var t=null;if(typeof window<"u"&&typeof window.prompt=="function"?(t=window.prompt("Input: "),t!==null&&(t+=`
`)):typeof readline=="function"&&(t=readline(),t!==null&&(t+=`
`)),!t){t=null;break t}Rn=ci(t,!0)}t=Rn.shift()}return t},Oa:function(t,e){e===null||e===10?(xt(we(t.F,0)),t.F=[]):e!=0&&t.F.push(e)},qa:function(t){t.F&&0<t.F.length&&(xt(we(t.F,0)),t.F=[])},bc:function(){return{Fc:25856,Hc:5,Ec:191,Gc:35387,Dc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},cc:function(){return 0},dc:function(){return[24,80]}},vr={Oa:function(t,e){e===null||e===10?(Et(we(t.F,0)),t.F=[]):e!=0&&t.F.push(e)},qa:function(t){t.F&&0<t.F.length&&(Et(we(t.F,0)),t.F=[])}};function hi(t,e){var i=t.j?t.j.length:0;i>=e||(e=Math.max(e,i*(1048576>i?2:1.125)>>>0),i!=0&&(e=Math.max(e,256)),i=t.j,t.j=new Uint8Array(e),0<t.v&&t.j.set(i.subarray(0,t.v),0))}var rt={O:null,U(){return rt.createNode(null,"/",16895,0)},createNode(t,e,i,o){if((i&61440)===24576||(i&61440)===4096)throw new U(63);return rt.O||(rt.O={dir:{node:{Y:rt.l.Y,P:rt.l.P,ka:rt.l.ka,va:rt.l.va,ub:rt.l.ub,Ab:rt.l.Ab,vb:rt.l.vb,sb:rt.l.sb,Ea:rt.l.Ea},stream:{ba:rt.m.ba}},file:{node:{Y:rt.l.Y,P:rt.l.P},stream:{ba:rt.m.ba,read:rt.m.read,write:rt.m.write,pa:rt.m.pa,lb:rt.m.lb,nb:rt.m.nb}},link:{node:{Y:rt.l.Y,P:rt.l.P,ma:rt.l.ma},stream:{}},$a:{node:{Y:rt.l.Y,P:rt.l.P},stream:wr}}),i=mi(t,e,i,o),(i.mode&61440)===16384?(i.l=rt.O.dir.node,i.m=rt.O.dir.stream,i.j={}):(i.mode&61440)===32768?(i.l=rt.O.file.node,i.m=rt.O.file.stream,i.v=0,i.j=null):(i.mode&61440)===40960?(i.l=rt.O.link.node,i.m=rt.O.link.stream):(i.mode&61440)===8192&&(i.l=rt.O.$a.node,i.m=rt.O.$a.stream),i.timestamp=Date.now(),t&&(t.j[e]=i,t.timestamp=i.timestamp),i},Kc(t){return t.j?t.j.subarray?t.j.subarray(0,t.v):new Uint8Array(t.j):new Uint8Array(0)},l:{Y(t){var e={};return e.Jc=(t.mode&61440)===8192?t.id:1,e.Mc=t.id,e.mode=t.mode,e.Oc=1,e.uid=0,e.Lc=0,e.za=t.za,(t.mode&61440)===16384?e.size=4096:(t.mode&61440)===32768?e.size=t.v:(t.mode&61440)===40960?e.size=t.link.length:e.size=0,e.Bc=new Date(t.timestamp),e.Nc=new Date(t.timestamp),e.Ic=new Date(t.timestamp),e.Jb=4096,e.Cc=Math.ceil(e.size/e.Jb),e},P(t,e){if(e.mode!==void 0&&(t.mode=e.mode),e.timestamp!==void 0&&(t.timestamp=e.timestamp),e.size!==void 0&&(e=e.size,t.v!=e))if(e==0)t.j=null,t.v=0;else{var i=t.j;t.j=new Uint8Array(e),i&&t.j.set(i.subarray(0,Math.min(e,t.v))),t.v=e}},ka(){throw kn[44]},va(t,e,i,o){return rt.createNode(t,e,i,o)},ub(t,e,i){if((t.mode&61440)===16384){try{var o=rn(e,i)}catch{}if(o)for(var s in o.j)throw new U(55)}delete t.parent.j[t.name],t.parent.timestamp=Date.now(),t.name=i,e.j[i]=t,e.timestamp=t.parent.timestamp,t.parent=e},Ab(t,e){delete t.j[e],t.timestamp=Date.now()},vb(t,e){var i=rn(t,e),o;for(o in i.j)throw new U(55);delete t.j[e],t.timestamp=Date.now()},sb(t){var e=[".",".."],i;for(i in t.j)t.j.hasOwnProperty(i)&&e.push(i);return e},Ea(t,e,i){return t=rt.createNode(t,e,41471,0),t.link=i,t},ma(t){if((t.mode&61440)!==40960)throw new U(28);return t.link}},m:{read(t,e,i,o,s){var c=t.node.j;if(s>=t.node.v)return 0;if(t=Math.min(t.node.v-s,o),8<t&&c.subarray)e.set(c.subarray(s,s+t),i);else for(o=0;o<t;o++)e[i+o]=c[s+o];return t},write(t,e,i,o,s,c){if(e.buffer===_t.buffer&&(c=!1),!o)return 0;if(t=t.node,t.timestamp=Date.now(),e.subarray&&(!t.j||t.j.subarray)){if(c)return t.j=e.subarray(i,i+o),t.v=o;if(t.v===0&&s===0)return t.j=e.slice(i,i+o),t.v=o;if(s+o<=t.v)return t.j.set(e.subarray(i,i+o),s),o}if(hi(t,s+o),t.j.subarray&&e.subarray)t.j.set(e.subarray(i,i+o),s);else for(c=0;c<o;c++)t.j[s+c]=e[i+c];return t.v=Math.max(t.v,s+o),o},ba(t,e,i){if(i===1?e+=t.position:i===2&&(t.node.mode&61440)===32768&&(e+=t.node.v),0>e)throw new U(28);return e},pa(t,e,i){hi(t.node,e+i),t.node.v=Math.max(t.node.v,e+i)},lb(t,e,i,o,s){if((t.node.mode&61440)!==32768)throw new U(43);if(t=t.node.j,s&2||t.buffer!==_t.buffer){if((0<i||i+e<t.length)&&(t.subarray?t=t.subarray(i,i+e):t=Array.prototype.slice.call(t,i,i+e)),i=!0,vt(),e=void 0,!e)throw new U(48);_t.set(t,e)}else i=!1,e=t.byteOffset;return{o:e,M:i}},nb(t,e,i,o){return rt.m.write(t,e,0,o,i,!1),0}}};function mr(t,e){var i=0;return t&&(i|=365),e&&(i|=146),i}var Mn=null,fi={},nn=[],yr=1,Ne=null,pi=!0,U=null,kn={},Se=(t,e={})=>{if(t=en(t),!t)return{path:"",node:null};if(e=Object.assign({gb:!0,Qa:0},e),8<e.Qa)throw new U(32);t=t.split("/").filter(p=>!!p);for(var i=Mn,o="/",s=0;s<t.length;s++){var c=s===t.length-1;if(c&&e.parent)break;if(i=rn(i,t[s]),o=Yt(o+"/"+t[s]),i.wa&&(!c||c&&e.gb)&&(i=i.wa.root),!c||e.fb){for(c=0;(i.mode&61440)===40960;)if(i=Cr(o),o=en(hr(o),i),i=Se(o,{Qa:e.Qa+1}).node,40<c++)throw new U(32)}}return{path:o,node:i}},gi=t=>{for(var e;;){if(t===t.parent)return t=t.U.mb,e?t[t.length-1]!=="/"?`${t}/${e}`:t+e:t;e=e?`${t.name}/${e}`:t.name,t=t.parent}},vi=(t,e)=>{for(var i=0,o=0;o<e.length;o++)i=(i<<5)-i+e.charCodeAt(o)|0;return(t+i>>>0)%Ne.length},rn=(t,e)=>{var i;if(i=(i=on(t,"x"))?i:t.l.ka?0:2)throw new U(i,t);for(i=Ne[vi(t.id,e)];i;i=i.lc){var o=i.name;if(i.parent.id===t.id&&o===e)return i}return t.l.ka(t,e)},mi=(t,e,i,o)=>(t=new zi(t,e,i,o),e=vi(t.parent.id,t.name),t.lc=Ne[e],Ne[e]=t),yi=t=>{var e=["r","w","rw"][t&3];return t&512&&(e+="w"),e},on=(t,e)=>{if(pi)return 0;if(!e.includes("r")||t.mode&292){if(e.includes("w")&&!(t.mode&146)||e.includes("x")&&!(t.mode&73))return 2}else return 2;return 0},bi=(t,e)=>{try{return rn(t,e),20}catch{}return on(t,"wx")},br=()=>{for(var t=0;4096>=t;t++)if(!nn[t])return t;throw new U(33)},Ce=t=>{if(t=nn[t],!t)throw new U(8);return t},wi=(t,e=-1)=>(Be||(Be=function(){this.h={}},Be.prototype={},Object.defineProperties(Be.prototype,{object:{get(){return this.node},set(i){this.node=i}},flags:{get(){return this.h.flags},set(i){this.h.flags=i}},position:{get(){return this.h.position},set(i){this.h.position=i}}})),t=Object.assign(new Be,t),e==-1&&(e=br()),t.X=e,nn[e]=t),wr={open:t=>{t.m=fi[t.node.za].m,t.m.open&&t.m.open(t)},ba:()=>{throw new U(70)}},On=(t,e)=>{fi[t]={m:e}},Ci=(t,e)=>{var i=e==="/",o=!e;if(i&&Mn)throw new U(10);if(!i&&!o){var s=Se(e,{gb:!1});if(e=s.path,s=s.node,s.wa)throw new U(10);if((s.mode&61440)!==16384)throw new U(54)}e={type:t,Qc:{},mb:e,kc:[]},t=t.U(e),t.U=e,e.root=t,i?Mn=t:s&&(s.wa=e,s.U&&s.U.kc.push(e))},Kt=(t,e,i)=>{var o=Se(t,{parent:!0}).node;if(t=ri(t),!t||t==="."||t==="..")throw new U(28);var s=bi(o,t);if(s)throw new U(s);if(!o.l.va)throw new U(63);return o.l.va(o,t,e,i)},sn=(t,e,i)=>{typeof i>"u"&&(i=e,e=438),Kt(t,e|8192,i)},Fn=(t,e)=>{if(!en(t))throw new U(44);var i=Se(e,{parent:!0}).node;if(!i)throw new U(44);e=ri(e);var o=bi(i,e);if(o)throw new U(o);if(!i.l.Ea)throw new U(63);i.l.Ea(i,e,t)},Cr=t=>{if(t=Se(t).node,!t)throw new U(44);if(!t.l.ma)throw new U(28);return en(gi(t.parent),t.l.ma(t))},an=(t,e,i)=>{if(t==="")throw new U(44);if(typeof e=="string"){var o={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[e];if(typeof o>"u")throw Error(`Unknown file open mode: ${e}`);e=o}if(i=e&64?(typeof i>"u"?438:i)&4095|32768:0,typeof t=="object")var s=t;else{t=Yt(t);try{s=Se(t,{fb:!(e&131072)}).node}catch{}}if(o=!1,e&64)if(s){if(e&128)throw new U(20)}else s=Kt(t,i,0),o=!0;if(!s)throw new U(44);if((s.mode&61440)===8192&&(e&=-513),e&65536&&(s.mode&61440)!==16384)throw new U(54);if(!o&&(i=s?(s.mode&61440)===40960?32:(s.mode&61440)===16384&&(yi(e)!=="r"||e&512)?31:on(s,yi(e)):44))throw new U(i);if(e&512&&!o){if(i=s,i=typeof i=="string"?Se(i,{fb:!0}).node:i,!i.l.P)throw new U(63);if((i.mode&61440)===16384)throw new U(31);if((i.mode&61440)!==32768)throw new U(28);if(o=on(i,"w"))throw new U(o);i.l.P(i,{size:0,timestamp:Date.now()})}return e&=-131713,s=wi({node:s,path:gi(s),flags:e,seekable:!0,position:0,m:s.m,zc:[],error:!1}),s.m.open&&s.m.open(s),!d.logReadFiles||e&1||(ln||(ln={}),t in ln||(ln[t]=1)),s},xi=(t,e,i)=>{if(t.X===null)throw new U(8);if(!t.seekable||!t.m.ba)throw new U(70);if(i!=0&&i!=1&&i!=2)throw new U(28);t.position=t.m.ba(t,e,i),t.zc=[]},Si=()=>{U||(U=function(t,e){this.name="ErrnoError",this.node=e,this.pc=function(i){this.aa=i},this.pc(t),this.message="FS error"},U.prototype=Error(),U.prototype.constructor=U,[44].forEach(t=>{kn[t]=new U(t),kn[t].stack="<generic error, no stack>"}))},Ai,We=(t,e,i)=>{t=Yt("/dev/"+t);var o=mr(!!e,!!i);Dn||(Dn=64);var s=Dn++<<8|0;On(s,{open:c=>{c.seekable=!1},close:()=>{i&&i.buffer&&i.buffer.length&&i(10)},read:(c,p,C,_)=>{for(var b=0,O=0;O<_;O++){try{var j=e()}catch{throw new U(29)}if(j===void 0&&b===0)throw new U(6);if(j==null)break;b++,p[C+O]=j}return b&&(c.node.timestamp=Date.now()),b},write:(c,p,C,_)=>{for(var b=0;b<_;b++)try{i(p[C+b])}catch{throw new U(29)}return _&&(c.node.timestamp=Date.now()),b}}),sn(t,o,s)},Dn,Ae={},Be,ln,$e=void 0;function fe(){return $e+=4,G[$e-4>>2]}function _i(t){if(t===void 0)return"_unknown";t=t.replace(/[^a-zA-Z0-9_]/g,"$");var e=t.charCodeAt(0);return 48<=e&&57>=e?`_${t}`:t}function cn(t,e){return t=_i(t),{[t]:function(){return e.apply(this,arguments)}}[t]}function Li(){this.M=[void 0],this.hb=[]}var Vt=new Li,ke=void 0;function tt(t){throw new ke(t)}var Zt=t=>(t||tt("Cannot use deleted val. handle = "+t),Vt.get(t).value),ee=t=>{switch(t){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return Vt.pa({tb:1,value:t})}};function Ei(t){var e=Error,i=cn(t,function(o){this.name=t,this.message=o,o=Error(o).stack,o!==void 0&&(this.stack=this.toString()+`
`+o.replace(/^Error(:[^\n]*)?\n/,""))});return i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},i}var Ii=void 0,Pi=void 0;function Lt(t){for(var e="";st[t];)e+=Pi[st[t++]];return e}var Ue=[];function jn(){for(;Ue.length;){var t=Ue.pop();t.g.fa=!1,t.delete()}}var He=void 0,pe={};function Nn(t,e){for(e===void 0&&tt("ptr should not be undefined");t.A;)e=t.na(e),t=t.A;return e}var _e={};function Ti(t){t=Ki(t);var e=Lt(t);return me(t),e}function ze(t,e){var i=_e[t];return i===void 0&&tt(e+" has unknown type "+Ti(t)),i}function dn(){}var Wn=!1;function Ri(t){--t.count.value,t.count.value===0&&(t.G?t.L.W(t.G):t.u.i.W(t.o))}function Mi(t,e,i){return e===i?t:i.A===void 0?null:(t=Mi(t,e,i.A),t===null?null:i.Pb(t))}var ki={};function xr(t,e){return e=Nn(t,e),pe[e]}var Oi=void 0;function un(t){throw new Oi(t)}function hn(t,e){return e.u&&e.o||un("makeClassHandle requires ptr and ptrType"),!!e.L!=!!e.G&&un("Both smartPtrType and smartPtr must be specified"),e.count={value:1},Oe(Object.create(t,{g:{value:e}}))}function Oe(t){return typeof FinalizationRegistry>"u"?(Oe=e=>e,t):(Wn=new FinalizationRegistry(e=>{Ri(e.g)}),Oe=e=>{var i=e.g;return i.G&&Wn.register(e,{g:i},e),e},dn=e=>{Wn.unregister(e)},Oe(t))}var fn={};function Xe(t){for(;t.length;){var e=t.pop();t.pop()(e)}}function Ye(t){return this.fromWireType(G[t>>2])}var Fe={},pn={};function zt(t,e,i){function o(C){C=i(C),C.length!==t.length&&un("Mismatched type converter count");for(var _=0;_<t.length;++_)ne(t[_],C[_])}t.forEach(function(C){pn[C]=e});var s=Array(e.length),c=[],p=0;e.forEach((C,_)=>{_e.hasOwnProperty(C)?s[_]=_e[C]:(c.push(C),Fe.hasOwnProperty(C)||(Fe[C]=[]),Fe[C].push(()=>{s[_]=_e[C],++p,p===c.length&&o(s)}))}),c.length===0&&o(s)}function gn(t){switch(t){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError(`Unknown type size: ${t}`)}}function Sr(t,e,i={}){var o=e.name;if(t||tt(`type "${o}" must have a positive integer typeid pointer`),_e.hasOwnProperty(t)){if(i.$b)return;tt(`Cannot register type '${o}' twice`)}_e[t]=e,delete pn[t],Fe.hasOwnProperty(t)&&(e=Fe[t],delete Fe[t],e.forEach(s=>s()))}function ne(t,e,i={}){if(!("argPackAdvance"in e))throw new TypeError("registerType registeredInstance requires argPackAdvance");Sr(t,e,i)}function Bn(t){tt(t.g.u.i.name+" instance already deleted")}function xe(){}function $n(t,e,i){if(t[e].B===void 0){var o=t[e];t[e]=function(){return t[e].B.hasOwnProperty(arguments.length)||tt(`Function '${i}' called with an invalid number of arguments (${arguments.length}) - expects one of (${t[e].B})!`),t[e].B[arguments.length].apply(this,arguments)},t[e].B=[],t[e].B[o.ea]=o}}function Un(t,e,i){d.hasOwnProperty(t)?((i===void 0||d[t].B!==void 0&&d[t].B[i]!==void 0)&&tt(`Cannot register public name '${t}' twice`),$n(d,t,t),d.hasOwnProperty(i)&&tt(`Cannot register multiple overloads of a function with the same number of arguments (${i})!`),d[t].B[i]=e):(d[t]=e,i!==void 0&&(d[t].Pc=i))}function Ar(t,e,i,o,s,c,p,C){this.name=t,this.constructor=e,this.N=i,this.W=o,this.A=s,this.Ub=c,this.na=p,this.Pb=C,this.qb=[]}function vn(t,e,i){for(;e!==i;)e.na||tt(`Expected null or instance of ${i.name}, got an instance of ${e.name}`),t=e.na(t),e=e.A;return t}function _r(t,e){return e===null?(this.Na&&tt(`null is not a valid ${this.name}`),0):(e.g||tt(`Cannot pass "${zn(e)}" as a ${this.name}`),e.g.o||tt(`Cannot pass deleted object as a pointer of type ${this.name}`),vn(e.g.o,e.g.u.i,this.i))}function Lr(t,e){if(e===null){if(this.Na&&tt(`null is not a valid ${this.name}`),this.ua){var i=this.Pa();return t!==null&&t.push(this.W,i),i}return 0}if(e.g||tt(`Cannot pass "${zn(e)}" as a ${this.name}`),e.g.o||tt(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.ta&&e.g.u.ta&&tt(`Cannot convert argument of type ${e.g.L?e.g.L.name:e.g.u.name} to parameter type ${this.name}`),i=vn(e.g.o,e.g.u.i,this.i),this.ua)switch(e.g.G===void 0&&tt("Passing raw pointer to smart pointer is illegal"),this.tc){case 0:e.g.L===this?i=e.g.G:tt(`Cannot convert argument of type ${e.g.L?e.g.L.name:e.g.u.name} to parameter type ${this.name}`);break;case 1:i=e.g.G;break;case 2:if(e.g.L===this)i=e.g.G;else{var o=e.clone();i=this.oc(i,ee(function(){o.delete()})),t!==null&&t.push(this.W,i)}break;default:tt("Unsupporting sharing policy")}return i}function Er(t,e){return e===null?(this.Na&&tt(`null is not a valid ${this.name}`),0):(e.g||tt(`Cannot pass "${zn(e)}" as a ${this.name}`),e.g.o||tt(`Cannot pass deleted object as a pointer of type ${this.name}`),e.g.u.ta&&tt(`Cannot convert argument of type ${e.g.u.name} to parameter type ${this.name}`),vn(e.g.o,e.g.u.i,this.i))}function ge(t,e,i,o){this.name=t,this.i=e,this.Na=i,this.ta=o,this.ua=!1,this.W=this.oc=this.Pa=this.rb=this.tc=this.nc=void 0,e.A!==void 0?this.toWireType=Lr:(this.toWireType=o?_r:Er,this.K=null)}function Fi(t,e,i){d.hasOwnProperty(t)||un("Replacing nonexistant public symbol"),d[t].B!==void 0&&i!==void 0?d[t].B[i]=e:(d[t]=e,d[t].ea=i)}var mn=[],Di=t=>{var e=mn[t];return e||(t>=mn.length&&(mn.length=t+1),mn[t]=e=y.get(t)),e},Ir=(t,e)=>{var i=[];return function(){if(i.length=0,Object.assign(i,arguments),t.includes("j")){var o=d["dynCall_"+t];o=i&&i.length?o.apply(null,[e].concat(i)):o.call(null,e)}else o=Di(e).apply(null,i);return o}};function Ft(t,e){t=Lt(t);var i=t.includes("j")?Ir(t,e):Di(e);return typeof i!="function"&&tt(`unknown function pointer with signature ${t}: ${e}`),i}var ji=void 0;function ve(t,e){function i(c){s[c]||_e[c]||(pn[c]?pn[c].forEach(i):(o.push(c),s[c]=!0))}var o=[],s={};throw e.forEach(i),new ji(`${t}: `+o.map(Ti).join([", "]))}function yn(t,e,i,o,s){var c=e.length;2>c&&tt("argTypes array size mismatch! Must at least get return value and 'this' types!");var p=e[1]!==null&&i!==null,C=!1;for(i=1;i<e.length;++i)if(e[i]!==null&&e[i].K===void 0){C=!0;break}var _=e[0].name!=="void",b=c-2,O=Array(b),j=[],B=[];return function(){if(arguments.length!==b&&tt(`function ${t} called with ${arguments.length} arguments, expected ${b} args!`),B.length=0,j.length=p?2:1,j[0]=s,p){var g=e[1].toWireType(B,this);j[1]=g}for(var k=0;k<b;++k)O[k]=e[k+2].toWireType(B,arguments[k]),j.push(O[k]);if(k=o.apply(null,j),C)Xe(B);else for(var R=p?1:2;R<e.length;R++){var et=R===1?g:O[R-2];e[R].K!==null&&e[R].K(et)}return g=_?e[0].fromWireType(k):void 0,g}}function bn(t,e){for(var i=[],o=0;o<t;o++)i.push(ft[e+4*o>>2]);return i}function Ni(t,e,i){return t instanceof Object||tt(`${i} with invalid "this": ${t}`),t instanceof e.i.constructor||tt(`${i} incompatible with "this" of type ${t.constructor.name}`),t.g.o||tt(`cannot call emscripten binding method ${i} on deleted object`),vn(t.g.o,t.g.u.i,e.i)}function Hn(t){t>=Vt.h&&--Vt.get(t).tb===0&&Vt.Zb(t)}function Pr(t,e,i){switch(e){case 0:return function(o){return this.fromWireType((i?_t:st)[o])};case 1:return function(o){return this.fromWireType((i?St:Gt)[o>>1])};case 2:return function(o){return this.fromWireType((i?G:ft)[o>>2])};default:throw new TypeError("Unknown integer type: "+t)}}function zn(t){if(t===null)return"null";var e=typeof t;return e==="object"||e==="array"||e==="function"?t.toString():""+t}function Tr(t,e){switch(e){case 2:return function(i){return this.fromWireType(u[i>>2])};case 3:return function(i){return this.fromWireType(r[i>>3])};default:throw new TypeError("Unknown float type: "+t)}}function Rr(t,e,i){switch(e){case 0:return i?function(o){return _t[o]}:function(o){return st[o]};case 1:return i?function(o){return St[o>>1]}:function(o){return Gt[o>>1]};case 2:return i?function(o){return G[o>>2]}:function(o){return ft[o>>2]};default:throw new TypeError("Unknown integer type: "+t)}}var Wi=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,Mr=(t,e)=>{for(var i=t>>1,o=i+e/2;!(i>=o)&&Gt[i];)++i;if(i<<=1,32<i-t&&Wi)return Wi.decode(st.subarray(t,i));for(i="",o=0;!(o>=e/2);++o){var s=St[t+2*o>>1];if(s==0)break;i+=String.fromCharCode(s)}return i},kr=(t,e,i)=>{if(i===void 0&&(i=2147483647),2>i)return 0;i-=2;var o=e;i=i<2*t.length?i/2:t.length;for(var s=0;s<i;++s)St[e>>1]=t.charCodeAt(s),e+=2;return St[e>>1]=0,e-o},Or=t=>2*t.length,Fr=(t,e)=>{for(var i=0,o="";!(i>=e/4);){var s=G[t+4*i>>2];if(s==0)break;++i,65536<=s?(s-=65536,o+=String.fromCharCode(55296|s>>10,56320|s&1023)):o+=String.fromCharCode(s)}return o},Dr=(t,e,i)=>{if(i===void 0&&(i=2147483647),4>i)return 0;var o=e;i=o+i-4;for(var s=0;s<t.length;++s){var c=t.charCodeAt(s);if(55296<=c&&57343>=c){var p=t.charCodeAt(++s);c=65536+((c&1023)<<10)|p&1023}if(G[e>>2]=c,e+=4,e+4>i)break}return G[e>>2]=0,e-o},jr=t=>{for(var e=0,i=0;i<t.length;++i){var o=t.charCodeAt(i);55296<=o&&57343>=o&&++i,e+=4}return e},Nr={};function wn(t){var e=Nr[t];return e===void 0?Lt(t):e}var Cn=[];function Wr(t){var e=Cn.length;return Cn.push(t),e}function Br(t,e){for(var i=Array(t),o=0;o<t;++o)i[o]=ze(ft[e+4*o>>2],"parameter "+o);return i}var Bi=[],Xn=[],Yn={},$i=()=>{if(!Vn){var t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:bt||"./this.program"},e;for(e in Yn)Yn[e]===void 0?delete t[e]:t[e]=Yn[e];var i=[];for(e in t)i.push(`${e}=${t[e]}`);Vn=i}return Vn},Vn,xn=t=>t%4===0&&(t%100!==0||t%400===0),Ui=[31,29,31,30,31,30,31,31,30,31,30,31],Hi=[31,28,31,30,31,30,31,31,30,31,30,31],$r=(t,e,i,o)=>{function s(g,k,R){for(g=typeof g=="number"?g.toString():g||"";g.length<k;)g=R[0]+g;return g}function c(g,k){return s(g,k,"0")}function p(g,k){function R(it){return 0>it?-1:0<it?1:0}var et;return(et=R(g.getFullYear()-k.getFullYear()))===0&&(et=R(g.getMonth()-k.getMonth()))===0&&(et=R(g.getDate()-k.getDate())),et}function C(g){switch(g.getDay()){case 0:return new Date(g.getFullYear()-1,11,29);case 1:return g;case 2:return new Date(g.getFullYear(),0,3);case 3:return new Date(g.getFullYear(),0,2);case 4:return new Date(g.getFullYear(),0,1);case 5:return new Date(g.getFullYear()-1,11,31);case 6:return new Date(g.getFullYear()-1,11,30)}}function _(g){var k=g.ca;for(g=new Date(new Date(g.da+1900,0,1).getTime());0<k;){var R=g.getMonth(),et=(xn(g.getFullYear())?Ui:Hi)[R];if(k>et-g.getDate())k-=et-g.getDate()+1,g.setDate(1),11>R?g.setMonth(R+1):(g.setMonth(0),g.setFullYear(g.getFullYear()+1));else{g.setDate(g.getDate()+k);break}}return R=new Date(g.getFullYear()+1,0,4),k=C(new Date(g.getFullYear(),0,4)),R=C(R),0>=p(k,g)?0>=p(R,g)?g.getFullYear()+1:g.getFullYear():g.getFullYear()-1}var b=G[o+40>>2];o={wc:G[o>>2],vc:G[o+4>>2],Fa:G[o+8>>2],Sa:G[o+12>>2],Ga:G[o+16>>2],da:G[o+20>>2],R:G[o+24>>2],ca:G[o+28>>2],Rc:G[o+32>>2],uc:G[o+36>>2],xc:b&&b?we(st,b):""},i=i?we(st,i):"",b={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var O in b)i=i.replace(new RegExp(O,"g"),b[O]);var j="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),B="January February March April May June July August September October November December".split(" ");b={"%a":g=>j[g.R].substring(0,3),"%A":g=>j[g.R],"%b":g=>B[g.Ga].substring(0,3),"%B":g=>B[g.Ga],"%C":g=>c((g.da+1900)/100|0,2),"%d":g=>c(g.Sa,2),"%e":g=>s(g.Sa,2," "),"%g":g=>_(g).toString().substring(2),"%G":g=>_(g),"%H":g=>c(g.Fa,2),"%I":g=>(g=g.Fa,g==0?g=12:12<g&&(g-=12),c(g,2)),"%j":g=>{for(var k=0,R=0;R<=g.Ga-1;k+=(xn(g.da+1900)?Ui:Hi)[R++]);return c(g.Sa+k,3)},"%m":g=>c(g.Ga+1,2),"%M":g=>c(g.vc,2),"%n":()=>`
`,"%p":g=>0<=g.Fa&&12>g.Fa?"AM":"PM","%S":g=>c(g.wc,2),"%t":()=>"	","%u":g=>g.R||7,"%U":g=>c(Math.floor((g.ca+7-g.R)/7),2),"%V":g=>{var k=Math.floor((g.ca+7-(g.R+6)%7)/7);if(2>=(g.R+371-g.ca-2)%7&&k++,k)k==53&&(R=(g.R+371-g.ca)%7,R==4||R==3&&xn(g.da)||(k=1));else{k=52;var R=(g.R+7-g.ca-1)%7;(R==4||R==5&&xn(g.da%400-1))&&k++}return c(k,2)},"%w":g=>g.R,"%W":g=>c(Math.floor((g.ca+7-(g.R+6)%7)/7),2),"%y":g=>(g.da+1900).toString().substring(2),"%Y":g=>g.da+1900,"%z":g=>{g=g.uc;var k=0<=g;return g=Math.abs(g)/60,(k?"+":"-")+("0000"+(g/60*100+g%60)).slice(-4)},"%Z":g=>g.xc,"%%":()=>"%"},i=i.replace(/%%/g,"\0\0");for(O in b)i.includes(O)&&(i=i.replace(new RegExp(O,"g"),b[O](o)));return i=i.replace(/\0\0/g,"%"),O=ci(i,!1),O.length>e?0:(_t.set(O,t),O.length-1)};function zi(t,e,i,o){t||(t=this),this.parent=t,this.U=t.U,this.wa=null,this.id=yr++,this.name=e,this.mode=i,this.l={},this.m={},this.za=o}Object.defineProperties(zi.prototype,{read:{get:function(){return(this.mode&365)===365},set:function(t){t?this.mode|=365:this.mode&=-366}},write:{get:function(){return(this.mode&146)===146},set:function(t){t?this.mode|=146:this.mode&=-147}}}),Si(),Ne=Array(4096),Ci(rt,"/"),Kt("/tmp",16895,0),Kt("/home",16895,0),Kt("/home/web_user",16895,0),(()=>{Kt("/dev",16895,0),On(259,{read:()=>0,write:(o,s,c,p)=>p}),sn("/dev/null",259),ui(1280,gr),ui(1536,vr),sn("/dev/tty",1280),sn("/dev/tty1",1536);var t=new Uint8Array(1024),e=0,i=()=>(e===0&&(e=oi(t).byteLength),t[--e]);We("random",i),We("urandom",i),Kt("/dev/shm",16895,0),Kt("/dev/shm/tmp",16895,0)})(),(()=>{Kt("/proc",16895,0);var t=Kt("/proc/self",16895,0);Kt("/proc/self/fd",16895,0),Ci({U:()=>{var e=mi(t,"fd",16895,73);return e.l={ka:(i,o)=>{var s=Ce(+o);return i={parent:null,U:{mb:"fake"},l:{ma:()=>s.path}},i.parent=i}},e}},"/proc/self/fd")})(),Object.assign(Li.prototype,{get(t){return this.M[t]},has(t){return this.M[t]!==void 0},pa(t){var e=this.hb.pop()||this.M.length;return this.M[e]=t,e},Zb(t){this.M[t]=void 0,this.hb.push(t)}}),ke=d.BindingError=class extends Error{constructor(t){super(t),this.name="BindingError"}},Vt.M.push({value:void 0},{value:null},{value:!0},{value:!1}),Vt.h=Vt.M.length,d.count_emval_handles=function(){for(var t=0,e=Vt.h;e<Vt.M.length;++e)Vt.M[e]!==void 0&&++t;return t},Ii=d.PureVirtualError=Ei("PureVirtualError");for(var Xi=Array(256),Sn=0;256>Sn;++Sn)Xi[Sn]=String.fromCharCode(Sn);Pi=Xi,d.getInheritedInstanceCount=function(){return Object.keys(pe).length},d.getLiveInheritedInstances=function(){var t=[],e;for(e in pe)pe.hasOwnProperty(e)&&t.push(pe[e]);return t},d.flushPendingDeletes=jn,d.setDelayFunction=function(t){He=t,Ue.length&&He&&He(jn)},Oi=d.InternalError=class extends Error{constructor(t){super(t),this.name="InternalError"}},xe.prototype.isAliasOf=function(t){if(!(this instanceof xe&&t instanceof xe))return!1;var e=this.g.u.i,i=this.g.o,o=t.g.u.i;for(t=t.g.o;e.A;)i=e.na(i),e=e.A;for(;o.A;)t=o.na(t),o=o.A;return e===o&&i===t},xe.prototype.clone=function(){if(this.g.o||Bn(this),this.g.ia)return this.g.count.value+=1,this;var t=Oe,e=Object,i=e.create,o=Object.getPrototypeOf(this),s=this.g;return t=t(i.call(e,o,{g:{value:{count:s.count,fa:s.fa,ia:s.ia,o:s.o,u:s.u,G:s.G,L:s.L}}})),t.g.count.value+=1,t.g.fa=!1,t},xe.prototype.delete=function(){this.g.o||Bn(this),this.g.fa&&!this.g.ia&&tt("Object already scheduled for deletion"),dn(this),Ri(this.g),this.g.ia||(this.g.G=void 0,this.g.o=void 0)},xe.prototype.isDeleted=function(){return!this.g.o},xe.prototype.deleteLater=function(){return this.g.o||Bn(this),this.g.fa&&!this.g.ia&&tt("Object already scheduled for deletion"),Ue.push(this),Ue.length===1&&He&&He(jn),this.g.fa=!0,this},ge.prototype.Vb=function(t){return this.rb&&(t=this.rb(t)),t},ge.prototype.ab=function(t){this.W&&this.W(t)},ge.prototype.argPackAdvance=8,ge.prototype.readValueFromPointer=Ye,ge.prototype.deleteObject=function(t){t!==null&&t.delete()},ge.prototype.fromWireType=function(t){function e(){return this.ua?hn(this.i.N,{u:this.nc,o:i,L:this,G:t}):hn(this.i.N,{u:this,o:t})}var i=this.Vb(t);if(!i)return this.ab(t),null;var o=xr(this.i,i);if(o!==void 0)return o.g.count.value===0?(o.g.o=i,o.g.G=t,o.clone()):(o=o.clone(),this.ab(t),o);if(o=this.i.Ub(i),o=ki[o],!o)return e.call(this);o=this.ta?o.Kb:o.pointerType;var s=Mi(i,this.i,o.i);return s===null?e.call(this):this.ua?hn(o.i.N,{u:o,o:s,L:this,G:t}):hn(o.i.N,{u:o,o:s})},ji=d.UnboundTypeError=Ei("UnboundTypeError");var Yi={__syscall_fcntl64:function(t,e,i){$e=i;try{var o=Ce(t);switch(e){case 0:var s=fe();return 0>s?-28:wi(o,s).X;case 1:case 2:return 0;case 3:return o.flags;case 4:return s=fe(),o.flags|=s,0;case 5:return s=fe(),St[s+0>>1]=2,0;case 6:case 7:return 0;case 16:case 8:return-28;case 9:return G[Ji()>>2]=28,-1;default:return-28}}catch(c){if(typeof Ae>"u"||c.name!=="ErrnoError")throw c;return-c.aa}},__syscall_ioctl:function(t,e,i){$e=i;try{var o=Ce(t);switch(e){case 21509:return o.s?0:-59;case 21505:if(!o.s)return-59;if(o.s.V.bc){e=[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];var s=fe();G[s>>2]=25856,G[s+4>>2]=5,G[s+8>>2]=191,G[s+12>>2]=35387;for(var c=0;32>c;c++)_t[s+c+17>>0]=e[c]||0}return 0;case 21510:case 21511:case 21512:return o.s?0:-59;case 21506:case 21507:case 21508:if(!o.s)return-59;if(o.s.V.cc)for(s=fe(),e=[],c=0;32>c;c++)e.push(_t[s+c+17>>0]);return 0;case 21519:return o.s?(s=fe(),G[s>>2]=0):-59;case 21520:return o.s?-28:-59;case 21531:if(s=fe(),!o.m.ac)throw new U(59);return o.m.ac(o,e,s);case 21523:return o.s?(o.s.V.dc&&(c=[24,80],s=fe(),St[s>>1]=c[0],St[s+2>>1]=c[1]),0):-59;case 21524:return o.s?0:-59;case 21515:return o.s?0:-59;default:return-28}}catch(p){if(typeof Ae>"u"||p.name!=="ErrnoError")throw p;return-p.aa}},__syscall_openat:function(t,e,i,o){$e=o;try{e=e?we(st,e):"";var s=e;if(s.charAt(0)==="/")e=s;else{var c=t===-100?"/":Ce(t).path;if(s.length==0)throw new U(44);e=Yt(c+"/"+s)}var p=o?fe():0;return an(e,i,p).X}catch(C){if(typeof Ae>"u"||C.name!=="ErrnoError")throw C;return-C.aa}},_embind_create_inheriting_constructor:function(t,e,i){t=Lt(t),e=ze(e,"wrapper"),i=Zt(i);var o=[].slice,s=e.i,c=s.N,p=s.A.N,C=s.A.constructor;t=cn(t,function(){s.A.qb.forEach((function(b){if(this[b]===p[b])throw new Ii(`Pure virtual function ${b} must be implemented in JavaScript`)}).bind(this)),Object.defineProperty(this,"__parent",{value:c}),this.__construct.apply(this,o.call(arguments))}),c.__construct=function(){this===c&&tt("Pass correct 'this' to __construct");var b=C.implement.apply(void 0,[this].concat(o.call(arguments)));dn(b);var O=b.g;b.notifyOnDestruction(),O.ia=!0,Object.defineProperties(this,{g:{value:O}}),Oe(this),b=O.o,b=Nn(s,b),pe.hasOwnProperty(b)?tt(`Tried to register registered instance: ${b}`):pe[b]=this},c.__destruct=function(){this===c&&tt("Pass correct 'this' to __destruct"),dn(this);var b=this.g.o;b=Nn(s,b),pe.hasOwnProperty(b)?delete pe[b]:tt(`Tried to unregister unregistered instance: ${b}`)},t.prototype=Object.create(c);for(var _ in i)t.prototype[_]=i[_];return ee(t)},_embind_finalize_value_object:function(t){var e=fn[t];delete fn[t];var i=e.Pa,o=e.W,s=e.eb,c=s.map(p=>p.Yb).concat(s.map(p=>p.rc));zt([t],c,p=>{var C={};return s.forEach((_,b)=>{var O=p[b],j=_.Wb,B=_.Xb,g=p[b+s.length],k=_.qc,R=_.sc;C[_.Sb]={read:et=>O.fromWireType(j(B,et)),write:(et,it)=>{var W=[];k(R,et,g.toWireType(W,it)),Xe(W)}}}),[{name:e.name,fromWireType:function(_){var b={},O;for(O in C)b[O]=C[O].read(_);return o(_),b},toWireType:function(_,b){for(var O in C)if(!(O in b))throw new TypeError(`Missing field: "${O}"`);var j=i();for(O in C)C[O].write(j,b[O]);return _!==null&&_.push(o,j),j},argPackAdvance:8,readValueFromPointer:Ye,K:o}]})},_embind_register_bigint:function(){},_embind_register_bool:function(t,e,i,o,s){var c=gn(i);e=Lt(e),ne(t,{name:e,fromWireType:function(p){return!!p},toWireType:function(p,C){return C?o:s},argPackAdvance:8,readValueFromPointer:function(p){if(i===1)var C=_t;else if(i===2)C=St;else if(i===4)C=G;else throw new TypeError("Unknown boolean type size: "+e);return this.fromWireType(C[p>>c])},K:null})},_embind_register_class:function(t,e,i,o,s,c,p,C,_,b,O,j,B){O=Lt(O),c=Ft(s,c),C&&(C=Ft(p,C)),b&&(b=Ft(_,b)),B=Ft(j,B);var g=_i(O);Un(g,function(){ve(`Cannot construct ${O} due to unbound types`,[o])}),zt([t,e,i],o?[o]:[],function(k){if(k=k[0],o)var R=k.i,et=R.N;else et=xe.prototype;k=cn(g,function(){if(Object.getPrototypeOf(this)!==it)throw new ke("Use 'new' to construct "+O);if(W.$===void 0)throw new ke(O+" has no accessible constructor");var kt=W.$[arguments.length];if(kt===void 0)throw new ke(`Tried to invoke ctor of ${O} with invalid number of parameters (${arguments.length}) - expected (${Object.keys(W.$).toString()}) parameters instead!`);return kt.apply(this,arguments)});var it=Object.create(et,{constructor:{value:k}});k.prototype=it;var W=new Ar(O,k,it,B,R,c,C,b);W.A&&(W.A.oa===void 0&&(W.A.oa=[]),W.A.oa.push(W)),R=new ge(O,W,!0,!1),et=new ge(O+"*",W,!1,!1);var At=new ge(O+" const*",W,!1,!0);return ki[t]={pointerType:et,Kb:At},Fi(g,k),[R,et,At]})},_embind_register_class_class_function:function(t,e,i,o,s,c,p){var C=bn(i,o);e=Lt(e),c=Ft(s,c),zt([],[t],function(_){function b(){ve(`Cannot call ${O} due to unbound types`,C)}_=_[0];var O=`${_.name}.${e}`;e.startsWith("@@")&&(e=Symbol[e.substring(2)]);var j=_.i.constructor;return j[e]===void 0?(b.ea=i-1,j[e]=b):($n(j,e,O),j[e].B[i-1]=b),zt([],C,function(B){if(B=yn(O,[B[0],null].concat(B.slice(1)),null,c,p),j[e].B===void 0?(B.ea=i-1,j[e]=B):j[e].B[i-1]=B,_.i.oa)for(const g of _.i.oa)g.constructor.hasOwnProperty(e)||(g.constructor[e]=B);return[]}),[]})},_embind_register_class_class_property:function(t,e,i,o,s,c,p,C){e=Lt(e),c=Ft(s,c),zt([],[t],function(_){_=_[0];var b=`${_.name}.${e}`,O={get(){ve(`Cannot access ${b} due to unbound types`,[i])},enumerable:!0,configurable:!0};return O.set=C?()=>{ve(`Cannot access ${b} due to unbound types`,[i])}:()=>{tt(`${b} is a read-only property`)},Object.defineProperty(_.i.constructor,e,O),zt([],[i],function(j){j=j[0];var B={get(){return j.fromWireType(c(o))},enumerable:!0};return C&&(C=Ft(p,C),B.set=g=>{var k=[];C(o,j.toWireType(k,g)),Xe(k)}),Object.defineProperty(_.i.constructor,e,B),[]}),[]})},_embind_register_class_constructor:function(t,e,i,o,s,c){var p=bn(e,i);s=Ft(o,s),zt([],[t],function(C){C=C[0];var _=`constructor ${C.name}`;if(C.i.$===void 0&&(C.i.$=[]),C.i.$[e-1]!==void 0)throw new ke(`Cannot register multiple constructors with identical number of parameters (${e-1}) for class '${C.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return C.i.$[e-1]=()=>{ve(`Cannot construct ${C.name} due to unbound types`,p)},zt([],p,function(b){return b.splice(1,0,null),C.i.$[e-1]=yn(_,b,null,s,c),[]}),[]})},_embind_register_class_function:function(t,e,i,o,s,c,p,C){var _=bn(i,o);e=Lt(e),c=Ft(s,c),zt([],[t],function(b){function O(){ve(`Cannot call ${j} due to unbound types`,_)}b=b[0];var j=`${b.name}.${e}`;e.startsWith("@@")&&(e=Symbol[e.substring(2)]),C&&b.i.qb.push(e);var B=b.i.N,g=B[e];return g===void 0||g.B===void 0&&g.className!==b.name&&g.ea===i-2?(O.ea=i-2,O.className=b.name,B[e]=O):($n(B,e,j),B[e].B[i-2]=O),zt([],_,function(k){return k=yn(j,k,b,c,p),B[e].B===void 0?(k.ea=i-2,B[e]=k):B[e].B[i-2]=k,[]}),[]})},_embind_register_class_property:function(t,e,i,o,s,c,p,C,_,b){e=Lt(e),s=Ft(o,s),zt([],[t],function(O){O=O[0];var j=`${O.name}.${e}`,B={get(){ve(`Cannot access ${j} due to unbound types`,[i,p])},enumerable:!0,configurable:!0};return B.set=_?()=>{ve(`Cannot access ${j} due to unbound types`,[i,p])}:()=>{tt(j+" is a read-only property")},Object.defineProperty(O.i.N,e,B),zt([],_?[i,p]:[i],function(g){var k=g[0],R={get(){var it=Ni(this,O,j+" getter");return k.fromWireType(s(c,it))},enumerable:!0};if(_){_=Ft(C,_);var et=g[1];R.set=function(it){var W=Ni(this,O,j+" setter"),At=[];_(b,W,et.toWireType(At,it)),Xe(At)}}return Object.defineProperty(O.i.N,e,R),[]}),[]})},_embind_register_emval:function(t,e){e=Lt(e),ne(t,{name:e,fromWireType:function(i){var o=Zt(i);return Hn(i),o},toWireType:function(i,o){return ee(o)},argPackAdvance:8,readValueFromPointer:Ye,K:null})},_embind_register_enum:function(t,e,i,o){function s(){}i=gn(i),e=Lt(e),s.values={},ne(t,{name:e,constructor:s,fromWireType:function(c){return this.constructor.values[c]},toWireType:function(c,p){return p.value},argPackAdvance:8,readValueFromPointer:Pr(e,i,o),K:null}),Un(e,s)},_embind_register_enum_value:function(t,e,i){var o=ze(t,"enum");e=Lt(e),t=o.constructor,o=Object.create(o.constructor.prototype,{value:{value:i},constructor:{value:cn(`${o.name}_${e}`,function(){})}}),t.values[i]=o,t[e]=o},_embind_register_float:function(t,e,i){i=gn(i),e=Lt(e),ne(t,{name:e,fromWireType:function(o){return o},toWireType:function(o,s){return s},argPackAdvance:8,readValueFromPointer:Tr(e,i),K:null})},_embind_register_function:function(t,e,i,o,s,c){var p=bn(e,i);t=Lt(t),s=Ft(o,s),Un(t,function(){ve(`Cannot call ${t} due to unbound types`,p)},e-1),zt([],p,function(C){return Fi(t,yn(t,[C[0],null].concat(C.slice(1)),null,s,c),e-1),[]})},_embind_register_integer:function(t,e,i,o,s){e=Lt(e),s===-1&&(s=4294967295),s=gn(i);var c=C=>C;if(o===0){var p=32-8*i;c=C=>C<<p>>>p}i=e.includes("unsigned")?function(C,_){return _>>>0}:function(C,_){return _},ne(t,{name:e,fromWireType:c,toWireType:i,argPackAdvance:8,readValueFromPointer:Rr(e,s,o!==0),K:null})},_embind_register_memory_view:function(t,e,i){function o(c){c>>=2;var p=ft;return new s(p.buffer,p[c+1],p[c])}var s=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][e];i=Lt(i),ne(t,{name:i,fromWireType:o,argPackAdvance:8,readValueFromPointer:o},{$b:!0})},_embind_register_std_string:function(t,e){e=Lt(e);var i=e==="std::string";ne(t,{name:e,fromWireType:function(o){var s=ft[o>>2],c=o+4;if(i)for(var p=c,C=0;C<=s;++C){var _=c+C;if(C==s||st[_]==0){if(p=p?we(st,p,_-p):"",b===void 0)var b=p;else b+="\0",b+=p;p=_+1}}else{for(b=Array(s),C=0;C<s;++C)b[C]=String.fromCharCode(st[c+C]);b=b.join("")}return me(o),b},toWireType:function(o,s){s instanceof ArrayBuffer&&(s=new Uint8Array(s));var c=typeof s=="string";c||s instanceof Uint8Array||s instanceof Uint8ClampedArray||s instanceof Int8Array||tt("Cannot pass non-string to std::string");var p=i&&c?ai(s):s.length,C=qn(4+p+1),_=C+4;if(ft[C>>2]=p,i&&c)li(s,st,_,p+1);else if(c)for(c=0;c<p;++c){var b=s.charCodeAt(c);255<b&&(me(_),tt("String has UTF-16 code units that do not fit in 8 bits")),st[_+c]=b}else for(c=0;c<p;++c)st[_+c]=s[c];return o!==null&&o.push(me,C),C},argPackAdvance:8,readValueFromPointer:Ye,K:function(o){me(o)}})},_embind_register_std_wstring:function(t,e,i){if(i=Lt(i),e===2)var o=Mr,s=kr,c=Or,p=()=>Gt,C=1;else e===4&&(o=Fr,s=Dr,c=jr,p=()=>ft,C=2);ne(t,{name:i,fromWireType:function(_){for(var b=ft[_>>2],O=p(),j,B=_+4,g=0;g<=b;++g){var k=_+4+g*e;(g==b||O[k>>C]==0)&&(B=o(B,k-B),j===void 0?j=B:(j+="\0",j+=B),B=k+e)}return me(_),j},toWireType:function(_,b){typeof b!="string"&&tt(`Cannot pass non-string to C++ string type ${i}`);var O=c(b),j=qn(4+O+e);return ft[j>>2]=O>>C,s(b,j+4,O+e),_!==null&&_.push(me,j),j},argPackAdvance:8,readValueFromPointer:Ye,K:function(_){me(_)}})},_embind_register_value_object:function(t,e,i,o,s,c){fn[t]={name:Lt(e),Pa:Ft(i,o),W:Ft(s,c),eb:[]}},_embind_register_value_object_field:function(t,e,i,o,s,c,p,C,_,b){fn[t].eb.push({Sb:Lt(e),Yb:i,Wb:Ft(o,s),Xb:c,rc:p,qc:Ft(C,_),sc:b})},_embind_register_void:function(t,e){e=Lt(e),ne(t,{fc:!0,name:e,argPackAdvance:0,fromWireType:function(){},toWireType:function(){}})},_emscripten_get_now_is_monotonic:()=>!0,_emval_as:function(t,e,i){t=Zt(t),e=ze(e,"emval::as");var o=[],s=ee(o);return ft[i>>2]=s,e.toWireType(o,t)},_emval_call_method:function(t,e,i,o,s){t=Cn[t],e=Zt(e),i=wn(i);var c=[];return ft[o>>2]=ee(c),t(e,i,c,s)},_emval_call_void_method:function(t,e,i,o){t=Cn[t],e=Zt(e),i=wn(i),t(e,i,null,o)},_emval_decref:Hn,_emval_get_method_caller:function(t,e){var i=Br(t,e),o=i[0];e=o.name+"_$"+i.slice(1).map(function(p){return p.name}).join("_")+"$";var s=Bi[e];if(s!==void 0)return s;var c=Array(t-1);return s=Wr((p,C,_,b)=>{for(var O=0,j=0;j<t-1;++j)c[j]=i[j+1].readValueFromPointer(b+O),O+=i[j+1].argPackAdvance;for(p=p[C].apply(p,c),j=0;j<t-1;++j)i[j+1].Nb&&i[j+1].Nb(c[j]);if(!o.fc)return o.toWireType(_,p)}),Bi[e]=s},_emval_get_module_property:function(t){return t=wn(t),ee(d[t])},_emval_get_property:function(t,e){return t=Zt(t),e=Zt(e),ee(t[e])},_emval_incref:function(t){4<t&&(Vt.get(t).tb+=1)},_emval_new_cstring:function(t){return ee(wn(t))},_emval_new_object:function(){return ee({})},_emval_run_destructors:function(t){var e=Zt(t);Xe(e),Hn(t)},_emval_set_property:function(t,e,i){t=Zt(t),e=Zt(e),i=Zt(i),t[e]=i},_emval_take_value:function(t,e){return t=ze(t,"_emval_take_value"),t=t.readValueFromPointer(e),ee(t)},abort:()=>{vt("")},emscripten_asm_const_int:(t,e,i)=>{Xn.length=0;var o;for(i>>=2;o=st[e++];)i+=o!=105&i,Xn.push(o==105?G[i]:r[i++>>1]),++i;return je[t].apply(null,Xn)},emscripten_date_now:function(){return Date.now()},emscripten_get_now:()=>performance.now(),emscripten_memcpy_big:(t,e,i)=>st.copyWithin(t,e,e+i),emscripten_resize_heap:t=>{var e=st.length;if(t>>>=0,2147483648<t)return!1;for(var i=1;4>=i;i*=2){var o=e*(1+.2/i);o=Math.min(o,t+100663296);var s=Math;o=Math.max(t,o);t:{s=s.min.call(s,2147483648,o+(65536-o%65536)%65536)-Bt.buffer.byteLength+65535>>>16;try{Bt.grow(s),a();var c=1;break t}catch{}c=void 0}if(c)return!0}return!1},environ_get:(t,e)=>{var i=0;return $i().forEach(function(o,s){var c=e+i;for(s=ft[t+4*s>>2]=c,c=0;c<o.length;++c)_t[s++>>0]=o.charCodeAt(c);_t[s>>0]=0,i+=o.length+1}),0},environ_sizes_get:(t,e)=>{var i=$i();ft[t>>2]=i.length;var o=0;return i.forEach(function(s){o+=s.length+1}),ft[e>>2]=o,0},fd_close:function(t){try{var e=Ce(t);if(e.X===null)throw new U(8);e.Ma&&(e.Ma=null);try{e.m.close&&e.m.close(e)}catch(i){throw i}finally{nn[e.X]=null}return e.X=null,0}catch(i){if(typeof Ae>"u"||i.name!=="ErrnoError")throw i;return i.aa}},fd_read:function(t,e,i,o){try{t:{var s=Ce(t);t=e;for(var c,p=e=0;p<i;p++){var C=ft[t>>2],_=ft[t+4>>2];t+=8;var b=s,O=C,j=_,B=c,g=_t;if(0>j||0>B)throw new U(28);if(b.X===null)throw new U(8);if((b.flags&2097155)===1)throw new U(8);if((b.node.mode&61440)===16384)throw new U(31);if(!b.m.read)throw new U(28);var k=typeof B<"u";if(!k)B=b.position;else if(!b.seekable)throw new U(70);var R=b.m.read(b,g,O,j,B);k||(b.position+=R);var et=R;if(0>et){var it=-1;break t}if(e+=et,et<_)break;typeof c<"u"&&(c+=et)}it=e}return ft[o>>2]=it,0}catch(W){if(typeof Ae>"u"||W.name!=="ErrnoError")throw W;return W.aa}},fd_seek:function(t,e,i,o,s){e=i+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*i:NaN;try{if(isNaN(e))return 61;var c=Ce(t);return xi(c,e,o),Re=[c.position>>>0,(ue=c.position,1<=+Math.abs(ue)?0<ue?+Math.floor(ue/4294967296)>>>0:~~+Math.ceil((ue-+(~~ue>>>0))/4294967296)>>>0:0)],G[s>>2]=Re[0],G[s+4>>2]=Re[1],c.Ma&&e===0&&o===0&&(c.Ma=null),0}catch(p){if(typeof Ae>"u"||p.name!=="ErrnoError")throw p;return p.aa}},fd_write:function(t,e,i,o){try{t:{var s=Ce(t);t=e;for(var c,p=e=0;p<i;p++){var C=ft[t>>2],_=ft[t+4>>2];t+=8;var b=s,O=C,j=_,B=c,g=_t;if(0>j||0>B)throw new U(28);if(b.X===null)throw new U(8);if((b.flags&2097155)===0)throw new U(8);if((b.node.mode&61440)===16384)throw new U(31);if(!b.m.write)throw new U(28);b.seekable&&b.flags&1024&&xi(b,0,2);var k=typeof B<"u";if(!k)B=b.position;else if(!b.seekable)throw new U(70);var R=b.m.write(b,g,O,j,B,void 0);k||(b.position+=R);var et=R;if(0>et){var it=-1;break t}e+=et,typeof c<"u"&&(c+=et)}it=e}return ft[o>>2]=it,0}catch(W){if(typeof Ae>"u"||W.name!=="ErrnoError")throw W;return W.aa}},strftime_l:(t,e,i,o)=>$r(t,e,i,o)};(function(){function t(i){if(ot=i=i.exports,Bt=ot.memory,a(),y=ot.__indirect_function_table,I.unshift(ot.__wasm_call_ctors),nt--,d.monitorRunDependencies&&d.monitorRunDependencies(nt),nt==0&&z){var o=z;z=null,o()}return i}var e={env:Yi,wasi_snapshot_preview1:Yi};if(nt++,d.monitorRunDependencies&&d.monitorRunDependencies(nt),d.instantiateWasm)try{return d.instantiateWasm(e,t)}catch(i){Et("Module.instantiateWasm callback failed with error: "+i),q(i)}return tn(e,function(i){t(i.instance)}).catch(q),{}})();var me=t=>(me=ot.free)(t),qn=t=>(qn=ot.malloc)(t),Vi=d._ma_device__on_notification_unlocked=t=>(Vi=d._ma_device__on_notification_unlocked=ot.ma_device__on_notification_unlocked)(t);d._ma_malloc_emscripten=(t,e)=>(d._ma_malloc_emscripten=ot.ma_malloc_emscripten)(t,e),d._ma_free_emscripten=(t,e)=>(d._ma_free_emscripten=ot.ma_free_emscripten)(t,e);var qi=d._ma_device_process_pcm_frames_capture__webaudio=(t,e,i)=>(qi=d._ma_device_process_pcm_frames_capture__webaudio=ot.ma_device_process_pcm_frames_capture__webaudio)(t,e,i),Gi=d._ma_device_process_pcm_frames_playback__webaudio=(t,e,i)=>(Gi=d._ma_device_process_pcm_frames_playback__webaudio=ot.ma_device_process_pcm_frames_playback__webaudio)(t,e,i),Ji=()=>(Ji=ot.__errno_location)(),Ki=t=>(Ki=ot.__getTypeName)(t);d.__embind_initialize_bindings=()=>(d.__embind_initialize_bindings=ot._embind_initialize_bindings)(),d.dynCall_iiji=(t,e,i,o,s)=>(d.dynCall_iiji=ot.dynCall_iiji)(t,e,i,o,s),d.dynCall_jiji=(t,e,i,o,s)=>(d.dynCall_jiji=ot.dynCall_jiji)(t,e,i,o,s),d.dynCall_iiiji=(t,e,i,o,s,c)=>(d.dynCall_iiiji=ot.dynCall_iiiji)(t,e,i,o,s,c),d.dynCall_iij=(t,e,i,o)=>(d.dynCall_iij=ot.dynCall_iij)(t,e,i,o),d.dynCall_jii=(t,e,i)=>(d.dynCall_jii=ot.dynCall_jii)(t,e,i),d.dynCall_viijii=(t,e,i,o,s,c,p)=>(d.dynCall_viijii=ot.dynCall_viijii)(t,e,i,o,s,c,p),d.dynCall_iiiiij=(t,e,i,o,s,c,p)=>(d.dynCall_iiiiij=ot.dynCall_iiiiij)(t,e,i,o,s,c,p),d.dynCall_iiiiijj=(t,e,i,o,s,c,p,C,_)=>(d.dynCall_iiiiijj=ot.dynCall_iiiiijj)(t,e,i,o,s,c,p,C,_),d.dynCall_iiiiiijj=(t,e,i,o,s,c,p,C,_,b)=>(d.dynCall_iiiiiijj=ot.dynCall_iiiiiijj)(t,e,i,o,s,c,p,C,_,b);var An;z=function t(){An||Zi(),An||(z=t)};function Zi(){function t(){if(!An&&(An=!0,d.calledRun=!0,!Xt)){if(d.noFSInit||Ai||(Ai=!0,Si(),d.stdin=d.stdin,d.stdout=d.stdout,d.stderr=d.stderr,d.stdin?We("stdin",d.stdin):Fn("/dev/tty","/dev/stdin"),d.stdout?We("stdout",null,d.stdout):Fn("/dev/tty","/dev/stdout"),d.stderr?We("stderr",null,d.stderr):Fn("/dev/tty1","/dev/stderr"),an("/dev/stdin",0),an("/dev/stdout",1),an("/dev/stderr",1)),pi=!1,he(I),D(d),d.onRuntimeInitialized&&d.onRuntimeInitialized(),d.postRun)for(typeof d.postRun=="function"&&(d.postRun=[d.postRun]);d.postRun.length;){var e=d.postRun.shift();F.unshift(e)}he(F)}}if(!(0<nt)){if(d.preRun)for(typeof d.preRun=="function"&&(d.preRun=[d.preRun]);d.preRun.length;)X();he(L),0<nt||(d.setStatus?(d.setStatus("Running..."),setTimeout(function(){setTimeout(function(){d.setStatus("")},1),t()},1)):t())}}if(d.preInit)for(typeof d.preInit=="function"&&(d.preInit=[d.preInit]);0<d.preInit.length;)d.preInit.pop()();return Zi(),M.ready}})();const x=T},S=>{S.exports=JSON.parse(`{"name":"@rive-app/canvas","version":"2.25.7","description":"Rive's canvas based web api.","main":"rive.js","homepage":"https://rive.app","repository":{"type":"git","url":"https://github.com/rive-app/rive-wasm/tree/master/js"},"keywords":["rive","animation"],"author":"Rive","contributors":["Luigi Rosso <luigi@rive.app> (https://rive.app)","Maxwell Talbot <max@rive.app> (https://rive.app)","Arthur Vivian <arthur@rive.app> (https://rive.app)","Umberto Sonnino <umberto@rive.app> (https://rive.app)","Matthew Sullivan <matt.j.sullivan@gmail.com> (mailto:matt.j.sullivan@gmail.com)"],"license":"MIT","files":["rive.js","rive.js.map","rive.wasm","rive_fallback.wasm","rive.d.ts","rive_advanced.mjs.d.ts"],"typings":"rive.d.ts","dependencies":{},"browser":{"fs":false,"path":false}}`)},(S,w,m)=>{m.r(w),m.d(w,{Animation:()=>T.Animation});var T=m(4)},(S,w,m)=>{m.r(w),m.d(w,{Animation:()=>T});var T=function(){function x(E,M,d,D){this.animation=E,this.artboard=M,this.playing=D,this.loopCount=0,this.scrubTo=null,this.instance=new d.LinearAnimationInstance(E,M)}return Object.defineProperty(x.prototype,"name",{get:function(){return this.animation.name},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"time",{get:function(){return this.instance.time},set:function(E){this.instance.time=E},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"loopValue",{get:function(){return this.animation.loopValue},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"needsScrub",{get:function(){return this.scrubTo!==null},enumerable:!1,configurable:!0}),x.prototype.advance=function(E){this.scrubTo===null?this.instance.advance(E):(this.instance.time=0,this.instance.advance(this.scrubTo),this.scrubTo=null)},x.prototype.apply=function(E){this.instance.apply(E)},x.prototype.cleanup=function(){this.instance.delete()},x}()},(S,w,m)=>{m.r(w),m.d(w,{BLANK_URL:()=>x.BLANK_URL,registerTouchInteractions:()=>T.registerTouchInteractions,sanitizeUrl:()=>x.sanitizeUrl});var T=m(6),x=m(7)},(S,w,m)=>{m.r(w),m.d(w,{registerTouchInteractions:()=>E});var T=void 0,x=function(M,d){var D,q;return["touchstart","touchmove"].indexOf(M.type)>-1&&(!((D=M.touches)===null||D===void 0)&&D.length)?(d||M.preventDefault(),{clientX:M.touches[0].clientX,clientY:M.touches[0].clientY}):M.type==="touchend"&&(!((q=M.changedTouches)===null||q===void 0)&&q.length)?{clientX:M.changedTouches[0].clientX,clientY:M.changedTouches[0].clientY}:{clientX:M.clientX,clientY:M.clientY}},E=function(M){var d=M.canvas,D=M.artboard,q=M.stateMachines,K=q===void 0?[]:q,Z=M.renderer,yt=M.rive,J=M.fit,H=M.alignment,ct=M.isTouchScrollEnabled,N=ct===void 0?!1:ct,bt=M.layoutScaleFactor,wt=bt===void 0?1:bt;if(!d||!K.length||!Z||!yt||!D||typeof window>"u")return null;var Ct=null,dt=!1,Ht=function(xt){if(dt&&xt instanceof MouseEvent){xt.type=="mouseup"&&(dt=!1);return}dt=N&&xt.type==="touchend"&&Ct==="touchstart",Ct=xt.type;var Et=xt.currentTarget.getBoundingClientRect(),Wt=x(xt,N),Bt=Wt.clientX,ot=Wt.clientY;if(!(!Bt&&!ot)){var Xt=Bt-Et.left,_t=ot-Et.top,st=yt.computeAlignment(J,H,{minX:0,minY:0,maxX:Et.width,maxY:Et.height},D.bounds,wt),St=new yt.Mat2D;st.invert(St);var Gt=new yt.Vec2D(Xt,_t),G=yt.mapXY(St,Gt),ft=G.x(),u=G.y();switch(G.delete(),St.delete(),Gt.delete(),st.delete(),xt.type){case"mouseout":for(var r=0,a=K;r<a.length;r++){var y=a[r];y.pointerMove(ft,u)}break;case"touchmove":case"mouseover":case"mousemove":{for(var L=0,I=K;L<I.length;L++){var y=I[L];y.pointerMove(ft,u)}break}case"touchstart":case"mousedown":{for(var F=0,X=K;F<X.length;F++){var y=X[F];y.pointerDown(ft,u)}break}case"touchend":case"mouseup":{for(var nt=0,z=K;nt<z.length;nt++){var y=z[nt];y.pointerUp(ft,u)}break}}}},ut=Ht.bind(T);return d.addEventListener("mouseover",ut),d.addEventListener("mouseout",ut),d.addEventListener("mousemove",ut),d.addEventListener("mousedown",ut),d.addEventListener("mouseup",ut),d.addEventListener("touchmove",ut,{passive:N}),d.addEventListener("touchstart",ut,{passive:N}),d.addEventListener("touchend",ut),function(){d.removeEventListener("mouseover",ut),d.removeEventListener("mouseout",ut),d.removeEventListener("mousemove",ut),d.removeEventListener("mousedown",ut),d.removeEventListener("mouseup",ut),d.removeEventListener("touchmove",ut),d.removeEventListener("touchstart",ut),d.removeEventListener("touchend",ut)}}},(S,w,m)=>{m.r(w),m.d(w,{BLANK_URL:()=>q,sanitizeUrl:()=>yt});var T=/^([^\w]*)(javascript|data|vbscript)/im,x=/&#(\w+)(^\w|;)?/g,E=/&(newline|tab);/gi,M=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,d=/^.+(:|&colon;)/gim,D=[".","/"],q="about:blank";function K(J){return D.indexOf(J[0])>-1}function Z(J){var H=J.replace(M,"");return H.replace(x,function(ct,N){return String.fromCharCode(N)})}function yt(J){if(!J)return q;var H=Z(J).replace(E,"").replace(M,"").trim();if(!H)return q;if(K(H))return H;var ct=H.match(d);if(!ct)return H;var N=ct[0];return T.test(N)?q:H}}],f={};function v(S){var w=f[S];if(w!==void 0)return w.exports;var m=f[S]={exports:{}};return h[S](m,m.exports,v),m.exports}v.d=(S,w)=>{for(var m in w)v.o(w,m)&&!v.o(S,m)&&Object.defineProperty(S,m,{enumerable:!0,get:w[m]})},v.o=(S,w)=>Object.prototype.hasOwnProperty.call(S,w),v.r=S=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(S,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(S,"__esModule",{value:!0})};var A={};return(()=>{v.r(A),v.d(A,{Alignment:()=>D,EventType:()=>N,Fit:()=>d,Layout:()=>q,LoopType:()=>bt,Rive:()=>Xt,RiveEventType:()=>J,RiveFile:()=>ot,RuntimeLoader:()=>K,StateMachineInput:()=>yt,StateMachineInputType:()=>Z,Testing:()=>St,decodeAudio:()=>Gt,decodeFont:()=>ft,decodeImage:()=>G});var S=v(1),w=v(2),m=v(3),T=v(5),x=function(){var u=function(r,a){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,L){y.__proto__=L}||function(y,L){for(var I in L)Object.prototype.hasOwnProperty.call(L,I)&&(y[I]=L[I])},u(r,a)};return function(r,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");u(r,a);function y(){this.constructor=r}r.prototype=a===null?Object.create(a):(y.prototype=a.prototype,new y)}}(),E=function(u,r,a,y){function L(I){return I instanceof a?I:new a(function(F){F(I)})}return new(a||(a=Promise))(function(I,F){function X(vt){try{z(y.next(vt))}catch(Pt){F(Pt)}}function nt(vt){try{z(y.throw(vt))}catch(Pt){F(Pt)}}function z(vt){vt.done?I(vt.value):L(vt.value).then(X,nt)}z((y=y.apply(u,[])).next())})},M=function(u,r){var a={label:0,sent:function(){if(I[0]&1)throw I[1];return I[1]},trys:[],ops:[]},y,L,I,F=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return F.next=X(0),F.throw=X(1),F.return=X(2),typeof Symbol=="function"&&(F[Symbol.iterator]=function(){return this}),F;function X(z){return function(vt){return nt([z,vt])}}function nt(z){if(y)throw new TypeError("Generator is already executing.");for(;F&&(F=0,z[0]&&(a=0)),a;)try{if(y=1,L&&(I=z[0]&2?L.return:z[0]?L.throw||((I=L.return)&&I.call(L),0):L.next)&&!(I=I.call(L,z[1])).done)return I;switch(L=0,I&&(z=[z[0]&2,I.value]),z[0]){case 0:case 1:I=z;break;case 4:return a.label++,{value:z[1],done:!1};case 5:a.label++,L=z[1],z=[0];continue;case 7:z=a.ops.pop(),a.trys.pop();continue;default:if(I=a.trys,!(I=I.length>0&&I[I.length-1])&&(z[0]===6||z[0]===2)){a=0;continue}if(z[0]===3&&(!I||z[1]>I[0]&&z[1]<I[3])){a.label=z[1];break}if(z[0]===6&&a.label<I[1]){a.label=I[1],I=z;break}if(I&&a.label<I[2]){a.label=I[2],a.ops.push(z);break}I[2]&&a.ops.pop(),a.trys.pop();continue}z=r.call(u,a)}catch(vt){z=[6,vt],L=0}finally{y=I=0}if(z[0]&5)throw z[1];return{value:z[0]?z[1]:void 0,done:!0}}},d;(function(u){u.Cover="cover",u.Contain="contain",u.Fill="fill",u.FitWidth="fitWidth",u.FitHeight="fitHeight",u.None="none",u.ScaleDown="scaleDown",u.Layout="layout"})(d||(d={}));var D;(function(u){u.Center="center",u.TopLeft="topLeft",u.TopCenter="topCenter",u.TopRight="topRight",u.CenterLeft="centerLeft",u.CenterRight="centerRight",u.BottomLeft="bottomLeft",u.BottomCenter="bottomCenter",u.BottomRight="bottomRight"})(D||(D={}));var q=function(){function u(r){var a,y,L,I,F,X,nt;this.fit=(a=r==null?void 0:r.fit)!==null&&a!==void 0?a:d.Contain,this.alignment=(y=r==null?void 0:r.alignment)!==null&&y!==void 0?y:D.Center,this.layoutScaleFactor=(L=r==null?void 0:r.layoutScaleFactor)!==null&&L!==void 0?L:1,this.minX=(I=r==null?void 0:r.minX)!==null&&I!==void 0?I:0,this.minY=(F=r==null?void 0:r.minY)!==null&&F!==void 0?F:0,this.maxX=(X=r==null?void 0:r.maxX)!==null&&X!==void 0?X:0,this.maxY=(nt=r==null?void 0:r.maxY)!==null&&nt!==void 0?nt:0}return u.new=function(r){var a=r.fit,y=r.alignment,L=r.minX,I=r.minY,F=r.maxX,X=r.maxY;return console.warn("This function is deprecated: please use `new Layout({})` instead"),new u({fit:a,alignment:y,minX:L,minY:I,maxX:F,maxY:X})},u.prototype.copyWith=function(r){var a=r.fit,y=r.alignment,L=r.layoutScaleFactor,I=r.minX,F=r.minY,X=r.maxX,nt=r.maxY;return new u({fit:a??this.fit,alignment:y??this.alignment,layoutScaleFactor:L??this.layoutScaleFactor,minX:I??this.minX,minY:F??this.minY,maxX:X??this.maxX,maxY:nt??this.maxY})},u.prototype.runtimeFit=function(r){if(this.cachedRuntimeFit)return this.cachedRuntimeFit;var a;return this.fit===d.Cover?a=r.Fit.cover:this.fit===d.Contain?a=r.Fit.contain:this.fit===d.Fill?a=r.Fit.fill:this.fit===d.FitWidth?a=r.Fit.fitWidth:this.fit===d.FitHeight?a=r.Fit.fitHeight:this.fit===d.ScaleDown?a=r.Fit.scaleDown:this.fit===d.Layout?a=r.Fit.layout:a=r.Fit.none,this.cachedRuntimeFit=a,a},u.prototype.runtimeAlignment=function(r){if(this.cachedRuntimeAlignment)return this.cachedRuntimeAlignment;var a;return this.alignment===D.TopLeft?a=r.Alignment.topLeft:this.alignment===D.TopCenter?a=r.Alignment.topCenter:this.alignment===D.TopRight?a=r.Alignment.topRight:this.alignment===D.CenterLeft?a=r.Alignment.centerLeft:this.alignment===D.CenterRight?a=r.Alignment.centerRight:this.alignment===D.BottomLeft?a=r.Alignment.bottomLeft:this.alignment===D.BottomCenter?a=r.Alignment.bottomCenter:this.alignment===D.BottomRight?a=r.Alignment.bottomRight:a=r.Alignment.center,this.cachedRuntimeAlignment=a,a},u}(),K=function(){function u(){}return u.loadRuntime=function(){S.default({locateFile:function(){return u.wasmURL}}).then(function(r){var a;for(u.runtime=r;u.callBackQueue.length>0;)(a=u.callBackQueue.shift())===null||a===void 0||a(u.runtime)}).catch(function(r){var a={message:(r==null?void 0:r.message)||"Unknown error",type:(r==null?void 0:r.name)||"Error",wasmError:r instanceof WebAssembly.CompileError||r instanceof WebAssembly.RuntimeError,originalError:r};console.debug("Rive WASM load error details:",a);var y="https://cdn.jsdelivr.net/npm/".concat(w.name,"@").concat(w.version,"/rive_fallback.wasm");if(u.wasmURL.toLowerCase()!==y)console.warn("Failed to load WASM from ".concat(u.wasmURL," (").concat(a.message,"), trying jsdelivr as a backup")),u.setWasmUrl(y),u.loadRuntime();else{var L=["Could not load Rive WASM file from ".concat(u.wasmURL," or ").concat(y,"."),"Possible reasons:","- Network connection is down","- WebAssembly is not supported in this environment","- The WASM file is corrupted or incompatible",`
Error details:`,"- Type: ".concat(a.type),"- Message: ".concat(a.message),"- WebAssembly-specific error: ".concat(a.wasmError),`
To resolve, you may need to:`,"1. Check your network connection","2. Set a new WASM source via RuntimeLoader.setWasmUrl()","3. Call RuntimeLoader.loadRuntime() again"].join(`
`);console.error(L)}})},u.getInstance=function(r){u.isLoading||(u.isLoading=!0,u.loadRuntime()),u.runtime?r(u.runtime):u.callBackQueue.push(r)},u.awaitInstance=function(){return new Promise(function(r){return u.getInstance(function(a){return r(a)})})},u.setWasmUrl=function(r){u.wasmURL=r},u.getWasmUrl=function(){return u.wasmURL},u.isLoading=!1,u.callBackQueue=[],u.wasmURL="https://unpkg.com/".concat(w.name,"@").concat(w.version,"/rive.wasm"),u}(),Z;(function(u){u[u.Number=56]="Number",u[u.Trigger=58]="Trigger",u[u.Boolean=59]="Boolean"})(Z||(Z={}));var yt=function(){function u(r,a){this.type=r,this.runtimeInput=a}return Object.defineProperty(u.prototype,"name",{get:function(){return this.runtimeInput.name},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"value",{get:function(){return this.runtimeInput.value},set:function(r){this.runtimeInput.value=r},enumerable:!1,configurable:!0}),u.prototype.fire=function(){this.type===Z.Trigger&&this.runtimeInput.fire()},u.prototype.delete=function(){this.runtimeInput=null},u}(),J;(function(u){u[u.General=128]="General",u[u.OpenUrl=131]="OpenUrl"})(J||(J={}));var H=function(){function u(r,a,y,L){this.stateMachine=r,this.playing=y,this.artboard=L,this.inputs=[],this.instance=new a.StateMachineInstance(r,L),this.initInputs(a)}return Object.defineProperty(u.prototype,"name",{get:function(){return this.stateMachine.name},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"statesChanged",{get:function(){for(var r=[],a=0;a<this.instance.stateChangedCount();a++)r.push(this.instance.stateChangedNameByIndex(a));return r},enumerable:!1,configurable:!0}),u.prototype.advance=function(r){this.instance.advance(r)},u.prototype.advanceAndApply=function(r){this.instance.advanceAndApply(r)},u.prototype.reportedEventCount=function(){return this.instance.reportedEventCount()},u.prototype.reportedEventAt=function(r){return this.instance.reportedEventAt(r)},u.prototype.initInputs=function(r){for(var a=0;a<this.instance.inputCount();a++){var y=this.instance.input(a);this.inputs.push(this.mapRuntimeInput(y,r))}},u.prototype.mapRuntimeInput=function(r,a){if(r.type===a.SMIInput.bool)return new yt(Z.Boolean,r.asBool());if(r.type===a.SMIInput.number)return new yt(Z.Number,r.asNumber());if(r.type===a.SMIInput.trigger)return new yt(Z.Trigger,r.asTrigger())},u.prototype.cleanup=function(){this.inputs.forEach(function(r){r.delete()}),this.inputs.length=0,this.instance.delete()},u}(),ct=function(){function u(r,a,y,L,I){L===void 0&&(L=[]),I===void 0&&(I=[]),this.runtime=r,this.artboard=a,this.eventManager=y,this.animations=L,this.stateMachines=I}return u.prototype.add=function(r,a,y){if(y===void 0&&(y=!0),r=st(r),r.length===0)this.animations.forEach(function(Rt){return Rt.playing=a}),this.stateMachines.forEach(function(Rt){return Rt.playing=a});else for(var L=this.animations.map(function(Rt){return Rt.name}),I=this.stateMachines.map(function(Rt){return Rt.name}),F=0;F<r.length;F++){var X=L.indexOf(r[F]),nt=I.indexOf(r[F]);if(X>=0||nt>=0)X>=0?this.animations[X].playing=a:this.stateMachines[nt].playing=a;else{var z=this.artboard.animationByName(r[F]);if(z){var vt=new m.Animation(z,this.artboard,this.runtime,a);vt.advance(0),vt.apply(1),this.animations.push(vt)}else{var Pt=this.artboard.stateMachineByName(r[F]);if(Pt){var Tt=new H(Pt,this.runtime,a,this.artboard);this.stateMachines.push(Tt)}}}}return y&&(a?this.eventManager.fire({type:N.Play,data:this.playing}):this.eventManager.fire({type:N.Pause,data:this.paused})),a?this.playing:this.paused},u.prototype.initLinearAnimations=function(r,a){for(var y=this.animations.map(function(nt){return nt.name}),L=0;L<r.length;L++){var I=y.indexOf(r[L]);if(I>=0)this.animations[I].playing=a;else{var F=this.artboard.animationByName(r[L]);if(F){var X=new m.Animation(F,this.artboard,this.runtime,a);X.advance(0),X.apply(1),this.animations.push(X)}}}},u.prototype.initStateMachines=function(r,a){for(var y=this.stateMachines.map(function(nt){return nt.name}),L=0;L<r.length;L++){var I=y.indexOf(r[L]);if(I>=0)this.stateMachines[I].playing=a;else{var F=this.artboard.stateMachineByName(r[L]);if(F){var X=new H(F,this.runtime,a,this.artboard);this.stateMachines.push(X)}else this.initLinearAnimations([r[L]],a)}}},u.prototype.play=function(r){return this.add(r,!0)},u.prototype.pause=function(r){return this.add(r,!1)},u.prototype.scrub=function(r,a){var y=this.animations.filter(function(L){return r.includes(L.name)});return y.forEach(function(L){return L.scrubTo=a}),y.map(function(L){return L.name})},Object.defineProperty(u.prototype,"playing",{get:function(){return this.animations.filter(function(r){return r.playing}).map(function(r){return r.name}).concat(this.stateMachines.filter(function(r){return r.playing}).map(function(r){return r.name}))},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"paused",{get:function(){return this.animations.filter(function(r){return!r.playing}).map(function(r){return r.name}).concat(this.stateMachines.filter(function(r){return!r.playing}).map(function(r){return r.name}))},enumerable:!1,configurable:!0}),u.prototype.stop=function(r){var a=this;r=st(r);var y=[];if(r.length===0)y=this.animations.map(function(F){return F.name}).concat(this.stateMachines.map(function(F){return F.name})),this.animations.forEach(function(F){return F.cleanup()}),this.stateMachines.forEach(function(F){return F.cleanup()}),this.animations.splice(0,this.animations.length),this.stateMachines.splice(0,this.stateMachines.length);else{var L=this.animations.filter(function(F){return r.includes(F.name)});L.forEach(function(F){F.cleanup(),a.animations.splice(a.animations.indexOf(F),1)});var I=this.stateMachines.filter(function(F){return r.includes(F.name)});I.forEach(function(F){F.cleanup(),a.stateMachines.splice(a.stateMachines.indexOf(F),1)}),y=L.map(function(F){return F.name}).concat(I.map(function(F){return F.name}))}return this.eventManager.fire({type:N.Stop,data:y}),y},Object.defineProperty(u.prototype,"isPlaying",{get:function(){return this.animations.reduce(function(r,a){return r||a.playing},!1)||this.stateMachines.reduce(function(r,a){return r||a.playing},!1)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"isPaused",{get:function(){return!this.isPlaying&&(this.animations.length>0||this.stateMachines.length>0)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"isStopped",{get:function(){return this.animations.length===0&&this.stateMachines.length===0},enumerable:!1,configurable:!0}),u.prototype.atLeastOne=function(r,a){a===void 0&&(a=!0);var y;return this.animations.length===0&&this.stateMachines.length===0&&(this.artboard.animationCount()>0?this.add([y=this.artboard.animationByIndex(0).name],r,a):this.artboard.stateMachineCount()>0&&this.add([y=this.artboard.stateMachineByIndex(0).name],r,a)),y},u.prototype.handleLooping=function(){for(var r=0,a=this.animations.filter(function(L){return L.playing});r<a.length;r++){var y=a[r];y.loopValue===0&&y.loopCount?(y.loopCount=0,this.stop(y.name)):y.loopValue===1&&y.loopCount?(this.eventManager.fire({type:N.Loop,data:{animation:y.name,type:bt.Loop}}),y.loopCount=0):y.loopValue===2&&y.loopCount>1&&(this.eventManager.fire({type:N.Loop,data:{animation:y.name,type:bt.PingPong}}),y.loopCount=0)}},u.prototype.handleStateChanges=function(){for(var r=[],a=0,y=this.stateMachines.filter(function(I){return I.playing});a<y.length;a++){var L=y[a];r.push.apply(r,L.statesChanged)}r.length>0&&this.eventManager.fire({type:N.StateChange,data:r})},u.prototype.handleAdvancing=function(r){this.eventManager.fire({type:N.Advance,data:r})},u}(),N;(function(u){u.Load="load",u.LoadError="loaderror",u.Play="play",u.Pause="pause",u.Stop="stop",u.Loop="loop",u.Draw="draw",u.Advance="advance",u.StateChange="statechange",u.RiveEvent="riveevent",u.AudioStatusChange="audiostatuschange"})(N||(N={}));var bt;(function(u){u.OneShot="oneshot",u.Loop="loop",u.PingPong="pingpong"})(bt||(bt={}));var wt=function(){function u(r){r===void 0&&(r=[]),this.listeners=r}return u.prototype.getListeners=function(r){return this.listeners.filter(function(a){return a.type===r})},u.prototype.add=function(r){this.listeners.includes(r)||this.listeners.push(r)},u.prototype.remove=function(r){for(var a=0;a<this.listeners.length;a++){var y=this.listeners[a];if(y.type===r.type&&y.callback===r.callback){this.listeners.splice(a,1);break}}},u.prototype.removeAll=function(r){var a=this;r?this.listeners.filter(function(y){return y.type===r}).forEach(function(y){return a.remove(y)}):this.listeners.splice(0,this.listeners.length)},u.prototype.fire=function(r){var a=this.getListeners(r.type);a.forEach(function(y){return y.callback(r)})},u}(),Ct=function(){function u(r){this.eventManager=r,this.queue=[]}return u.prototype.add=function(r){this.queue.push(r)},u.prototype.process=function(){for(;this.queue.length>0;){var r=this.queue.shift();r!=null&&r.action&&r.action(),r!=null&&r.event&&this.eventManager.fire(r.event)}},u}(),dt;(function(u){u[u.AVAILABLE=0]="AVAILABLE",u[u.UNAVAILABLE=1]="UNAVAILABLE"})(dt||(dt={}));var Ht=function(u){x(r,u);function r(){var a=u!==null&&u.apply(this,arguments)||this;return a._started=!1,a._enabled=!1,a._status=dt.UNAVAILABLE,a}return r.prototype.delay=function(a){return E(this,void 0,void 0,function(){return M(this,function(y){return[2,new Promise(function(L){return setTimeout(L,a)})]})})},r.prototype.timeout=function(){return E(this,void 0,void 0,function(){return M(this,function(a){return[2,new Promise(function(y,L){return setTimeout(L,50)})]})})},r.prototype.reportToListeners=function(){this.fire({type:N.AudioStatusChange}),this.removeAll()},r.prototype.enableAudio=function(){return E(this,void 0,void 0,function(){return M(this,function(a){return this._enabled||(this._enabled=!0,this._status=dt.AVAILABLE,this.reportToListeners()),[2]})})},r.prototype.testAudio=function(){return E(this,void 0,void 0,function(){return M(this,function(a){switch(a.label){case 0:if(!(this._status===dt.UNAVAILABLE&&this._audioContext!==null))return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,Promise.race([this._audioContext.resume(),this.timeout()])];case 2:return a.sent(),this.enableAudio(),[3,4];case 3:return a.sent(),[3,4];case 4:return[2]}})})},r.prototype._establishAudio=function(){return E(this,void 0,void 0,function(){return M(this,function(a){switch(a.label){case 0:return this._started?[3,5]:(this._started=!0,typeof window>"u"?(this.enableAudio(),[3,5]):[3,1]);case 1:this._audioContext=new AudioContext,this.listenForUserAction(),a.label=2;case 2:return this._status!==dt.UNAVAILABLE?[3,5]:[4,this.testAudio()];case 3:return a.sent(),[4,this.delay(1e3)];case 4:return a.sent(),[3,2];case 5:return[2]}})})},r.prototype.listenForUserAction=function(){var a=this,y=function(){return E(a,void 0,void 0,function(){return M(this,function(L){return this.enableAudio(),[2]})})};document.addEventListener("pointerdown",y,{once:!0})},r.prototype.establishAudio=function(){return E(this,void 0,void 0,function(){return M(this,function(a){return this._establishAudio(),[2]})})},Object.defineProperty(r.prototype,"systemVolume",{get:function(){return this._status===dt.UNAVAILABLE?(this.testAudio(),0):1},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),r}(wt),ut=new Ht,xt=function(){function u(){}return u.prototype.observe=function(){},u.prototype.unobserve=function(){},u.prototype.disconnect=function(){},u}(),Et=globalThis.ResizeObserver||xt,Wt=function(){function u(){var r=this;this._elementsMap=new Map,this._onObservedEntry=function(a){var y=r._elementsMap.get(a.target);y!==null?y.onResize(a.target.clientWidth==0||a.target.clientHeight==0):r._resizeObserver.unobserve(a.target)},this._onObserved=function(a){a.forEach(r._onObservedEntry)},this._resizeObserver=new Et(this._onObserved)}return u.prototype.add=function(r,a){var y={onResize:a,element:r};return this._elementsMap.set(r,y),this._resizeObserver.observe(r),y},u.prototype.remove=function(r){this._resizeObserver.unobserve(r.element),this._elementsMap.delete(r.element)},u}(),Bt=new Wt,ot=function(){function u(r){this.enableRiveAssetCDN=!0,this.referenceCount=0,this.src=r.src,this.buffer=r.buffer,r.assetLoader&&(this.assetLoader=r.assetLoader),this.enableRiveAssetCDN=typeof r.enableRiveAssetCDN=="boolean"?r.enableRiveAssetCDN:!0,this.eventManager=new wt,r.onLoad&&this.on(N.Load,r.onLoad),r.onLoadError&&this.on(N.LoadError,r.onLoadError)}return u.prototype.initData=function(){return E(this,void 0,void 0,function(){var r,a,y;return M(this,function(L){switch(L.label){case 0:return this.src?(r=this,[4,_t(this.src)]):[3,2];case 1:r.buffer=L.sent(),L.label=2;case 2:return this.assetLoader&&(a=new this.runtime.CustomFileAssetLoader({loadContents:this.assetLoader})),y=this,[4,this.runtime.load(new Uint8Array(this.buffer),a,this.enableRiveAssetCDN)];case 3:if(y.file=L.sent(),this.file!==null)this.eventManager.fire({type:N.Load,data:this});else throw this.eventManager.fire({type:N.LoadError,data:null}),new Error(u.fileLoadErrorMessage);return[2]}})})},u.prototype.init=function(){return E(this,void 0,void 0,function(){var r;return M(this,function(a){switch(a.label){case 0:if(!this.src&&!this.buffer)throw new Error(u.missingErrorMessage);return r=this,[4,K.awaitInstance()];case 1:return r.runtime=a.sent(),[4,this.initData()];case 2:return a.sent(),[2]}})})},u.prototype.on=function(r,a){this.eventManager.add({type:r,callback:a})},u.prototype.off=function(r,a){this.eventManager.remove({type:r,callback:a})},u.prototype.cleanup=function(){var r;this.referenceCount-=1,this.referenceCount<=0&&(this.removeAllRiveEventListeners(),(r=this.file)===null||r===void 0||r.delete())},u.prototype.removeAllRiveEventListeners=function(r){this.eventManager.removeAll(r)},u.prototype.getInstance=function(){if(this.file!==null)return this.referenceCount+=1,this.file},u.missingErrorMessage="Rive source file or data buffer required",u.fileLoadErrorMessage="The file failed to load",u}(),Xt=function(){function u(r){var a=this,y;this.loaded=!1,this._observed=null,this.readyForPlaying=!1,this.artboard=null,this.eventCleanup=null,this.shouldDisableRiveListeners=!1,this.automaticallyHandleEvents=!1,this.enableRiveAssetCDN=!0,this._volume=1,this._artboardWidth=void 0,this._artboardHeight=void 0,this._devicePixelRatioUsed=1,this._hasZeroSize=!1,this._audioEventListener=null,this.durations=[],this.frameTimes=[],this.frameCount=0,this.isTouchScrollEnabled=!1,this.onCanvasResize=function(L){a._hasZeroSize=L,(!a._layout.maxX||!a._layout.maxY)&&a.resizeToCanvas()},this.renderSecondTimer=0,this.canvas=r.canvas,r.canvas.constructor===HTMLCanvasElement&&(this._observed=Bt.add(this.canvas,this.onCanvasResize)),this.src=r.src,this.buffer=r.buffer,this.riveFile=r.riveFile,this.layout=(y=r.layout)!==null&&y!==void 0?y:new q,this.shouldDisableRiveListeners=!!r.shouldDisableRiveListeners,this.isTouchScrollEnabled=!!r.isTouchScrollEnabled,this.automaticallyHandleEvents=!!r.automaticallyHandleEvents,this.enableRiveAssetCDN=r.enableRiveAssetCDN===void 0?!0:r.enableRiveAssetCDN,this.eventManager=new wt,r.onLoad&&this.on(N.Load,r.onLoad),r.onLoadError&&this.on(N.LoadError,r.onLoadError),r.onPlay&&this.on(N.Play,r.onPlay),r.onPause&&this.on(N.Pause,r.onPause),r.onStop&&this.on(N.Stop,r.onStop),r.onLoop&&this.on(N.Loop,r.onLoop),r.onStateChange&&this.on(N.StateChange,r.onStateChange),r.onAdvance&&this.on(N.Advance,r.onAdvance),r.onload&&!r.onLoad&&this.on(N.Load,r.onload),r.onloaderror&&!r.onLoadError&&this.on(N.LoadError,r.onloaderror),r.onplay&&!r.onPlay&&this.on(N.Play,r.onplay),r.onpause&&!r.onPause&&this.on(N.Pause,r.onpause),r.onstop&&!r.onStop&&this.on(N.Stop,r.onstop),r.onloop&&!r.onLoop&&this.on(N.Loop,r.onloop),r.onstatechange&&!r.onStateChange&&this.on(N.StateChange,r.onstatechange),r.assetLoader&&(this.assetLoader=r.assetLoader),this.taskQueue=new Ct(this.eventManager),this.init({src:this.src,buffer:this.buffer,riveFile:this.riveFile,autoplay:r.autoplay,animations:r.animations,stateMachines:r.stateMachines,artboard:r.artboard,useOffscreenRenderer:r.useOffscreenRenderer})}return u.new=function(r){return console.warn("This function is deprecated: please use `new Rive({})` instead"),new u(r)},u.prototype.onSystemAudioChanged=function(){this.volume=this._volume},u.prototype.init=function(r){var a=this,y=r.src,L=r.buffer,I=r.riveFile,F=r.animations,X=r.stateMachines,nt=r.artboard,z=r.autoplay,vt=z===void 0?!1:z,Pt=r.useOffscreenRenderer,Tt=Pt===void 0?!1:Pt;if(this.src=y,this.buffer=L,this.riveFile=I,!this.src&&!this.buffer&&!this.riveFile)throw new Error(u.missingErrorMessage);var Rt=st(F),ye=st(X);this.loaded=!1,this.readyForPlaying=!1,K.awaitInstance().then(function(Jt){a.runtime=Jt,a.removeRiveListeners(),a.deleteRiveRenderer(),a.renderer=a.runtime.makeRenderer(a.canvas,Tt),a.canvas.width||a.canvas.height||a.resizeDrawingSurfaceToCanvas(),a.initData(nt,Rt,ye,vt).then(function(){return a.setupRiveListeners()}).catch(function(be){console.error(be)})}).catch(function(Jt){console.error(Jt)})},u.prototype.setupRiveListeners=function(r){var a=this;if(this.eventCleanup&&this.eventCleanup(),!this.shouldDisableRiveListeners){var y=(this.animator.stateMachines||[]).filter(function(I){return I.playing&&a.runtime.hasListeners(I.instance)}).map(function(I){return I.instance}),L=this.isTouchScrollEnabled;r&&"isTouchScrollEnabled"in r&&(L=r.isTouchScrollEnabled),this.eventCleanup=(0,T.registerTouchInteractions)({canvas:this.canvas,artboard:this.artboard,stateMachines:y,renderer:this.renderer,rive:this.runtime,fit:this._layout.runtimeFit(this.runtime),alignment:this._layout.runtimeAlignment(this.runtime),isTouchScrollEnabled:L,layoutScaleFactor:this._layout.layoutScaleFactor})}},u.prototype.removeRiveListeners=function(){this.eventCleanup&&(this.eventCleanup(),this.eventCleanup=null)},u.prototype.initializeAudio=function(){var r=this,a;ut.status==dt.UNAVAILABLE&&!((a=this.artboard)===null||a===void 0)&&a.hasAudio&&this._audioEventListener===null&&(this._audioEventListener={type:N.AudioStatusChange,callback:function(){return r.onSystemAudioChanged()}},ut.add(this._audioEventListener),ut.establishAudio())},u.prototype.initArtboardSize=function(){this.artboard&&(this._artboardWidth=this.artboard.width=this._artboardWidth||this.artboard.width,this._artboardHeight=this.artboard.height=this._artboardHeight||this.artboard.height)},u.prototype.initData=function(r,a,y,L){return E(this,void 0,void 0,function(){var I,F;return M(this,function(X){switch(X.label){case 0:return X.trys.push([0,3,,4]),this.riveFile!=null?[3,2]:(this.riveFile=new ot({src:this.src,buffer:this.buffer,enableRiveAssetCDN:this.enableRiveAssetCDN,assetLoader:this.assetLoader}),[4,this.riveFile.init()]);case 1:X.sent(),X.label=2;case 2:return this.file=this.riveFile.getInstance(),this.initArtboard(r,a,y,L),this.initArtboardSize(),this.initializeAudio(),this.loaded=!0,this.eventManager.fire({type:N.Load,data:(F=this.src)!==null&&F!==void 0?F:"buffer"}),this.readyForPlaying=!0,this.taskQueue.process(),this.drawFrame(),[2,Promise.resolve()];case 3:return X.sent(),I="Problem loading file; may be corrupt!",console.warn(I),this.eventManager.fire({type:N.LoadError,data:I}),[2,Promise.reject(I)];case 4:return[2]}})})},u.prototype.initArtboard=function(r,a,y,L){if(this.file){var I=r?this.file.artboardByName(r):this.file.defaultArtboard();if(!I){var F="Invalid artboard name or no default artboard";console.warn(F),this.eventManager.fire({type:N.LoadError,data:F});return}if(this.artboard=I,I.volume=this._volume*ut.systemVolume,this.artboard.animationCount()<1){var F="Artboard has no animations";throw this.eventManager.fire({type:N.LoadError,data:F}),F}this.animator=new ct(this.runtime,this.artboard,this.eventManager);var X;a.length>0||y.length>0?(X=a.concat(y),this.animator.initLinearAnimations(a,L),this.animator.initStateMachines(y,L)):X=[this.animator.atLeastOne(L,!1)],this.taskQueue.add({event:{type:L?N.Play:N.Pause,data:X}})}},u.prototype.drawFrame=function(){this.startRendering()},u.prototype.draw=function(r,a){this.frameRequestId=null;var y=performance.now();this.lastRenderTime||(this.lastRenderTime=r),this.renderSecondTimer+=r-this.lastRenderTime,this.renderSecondTimer>5e3&&(this.renderSecondTimer=0,a==null||a());var L=(r-this.lastRenderTime)/1e3;this.lastRenderTime=r;for(var I=this.animator.animations.filter(function(Yt){return Yt.playing||Yt.needsScrub}).sort(function(Yt){return Yt.needsScrub?-1:1}),F=0,X=I;F<X.length;F++){var nt=X[F];nt.advance(L),nt.instance.didLoop&&(nt.loopCount+=1),nt.apply(1)}for(var z=this.animator.stateMachines.filter(function(Yt){return Yt.playing}),vt=0,Pt=z;vt<Pt.length;vt++){var Tt=Pt[vt],Rt=Tt.reportedEventCount();if(Rt)for(var ye=0;ye<Rt;ye++){var Jt=Tt.reportedEventAt(ye);if(Jt)if(Jt.type===J.OpenUrl){if(this.eventManager.fire({type:N.RiveEvent,data:Jt}),this.automaticallyHandleEvents){var be=document.createElement("a"),tn=Jt,ue=tn.url,Re=tn.target,je=(0,T.sanitizeUrl)(ue);ue&&be.setAttribute("href",je),Re&&be.setAttribute("target",Re),je&&je!==T.BLANK_URL&&be.click()}}else this.eventManager.fire({type:N.RiveEvent,data:Jt})}Tt.advanceAndApply(L)}this.animator.stateMachines.length==0&&this.artboard.advance(L);var he=this.renderer;he.clear(),he.save(),this.alignRenderer(),this._hasZeroSize||this.artboard.draw(he),he.restore(),he.flush(),this.animator.handleLooping(),this.animator.handleStateChanges(),this.animator.handleAdvancing(L),this.frameCount++;var Me=performance.now();for(this.frameTimes.push(Me),this.durations.push(Me-y);this.frameTimes[0]<=Me-1e3;)this.frameTimes.shift(),this.durations.shift();this.animator.isPlaying?this.startRendering():this.animator.isPaused?this.lastRenderTime=0:this.animator.isStopped&&(this.lastRenderTime=0)},u.prototype.alignRenderer=function(){var r=this,a=r.renderer,y=r.runtime,L=r._layout,I=r.artboard;a.align(L.runtimeFit(y),L.runtimeAlignment(y),{minX:L.minX,minY:L.minY,maxX:L.maxX,maxY:L.maxY},I.bounds,this._devicePixelRatioUsed*L.layoutScaleFactor)},Object.defineProperty(u.prototype,"fps",{get:function(){return this.durations.length},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"frameTime",{get:function(){return this.durations.length===0?0:(this.durations.reduce(function(r,a){return r+a},0)/this.durations.length).toFixed(4)},enumerable:!1,configurable:!0}),u.prototype.cleanup=function(){var r;this.stopRendering(),this.cleanupInstances(),this._observed!==null&&Bt.remove(this._observed),this.removeRiveListeners(),(r=this.riveFile)===null||r===void 0||r.cleanup(),this.riveFile=null,this.file=null,this.deleteRiveRenderer(),this._audioEventListener!==null&&(ut.remove(this._audioEventListener),this._audioEventListener=null)},u.prototype.deleteRiveRenderer=function(){var r;(r=this.renderer)===null||r===void 0||r.delete(),this.renderer=null},u.prototype.cleanupInstances=function(){this.eventCleanup!==null&&this.eventCleanup(),this.stop(),this.artboard&&(this.artboard.delete(),this.artboard=null)},u.prototype.retrieveTextRun=function(r){var a;if(!r){console.warn("No text run name provided");return}if(!this.artboard){console.warn("Tried to access text run, but the Artboard is null");return}var y=this.artboard.textRun(r);if(!y){console.warn("Could not access a text run with name '".concat(r,"' in the '").concat((a=this.artboard)===null||a===void 0?void 0:a.name,"' Artboard. Note that you must rename a text run node in the Rive editor to make it queryable at runtime."));return}return y},u.prototype.getTextRunValue=function(r){var a=this.retrieveTextRun(r);return a?a.text:void 0},u.prototype.setTextRunValue=function(r,a){var y=this.retrieveTextRun(r);y&&(y.text=a)},u.prototype.play=function(r,a){var y=this;if(r=st(r),!this.readyForPlaying){this.taskQueue.add({action:function(){return y.play(r,a)}});return}this.animator.play(r),this.eventCleanup&&this.eventCleanup(),this.setupRiveListeners(),this.startRendering()},u.prototype.pause=function(r){var a=this;if(r=st(r),!this.readyForPlaying){this.taskQueue.add({action:function(){return a.pause(r)}});return}this.eventCleanup&&this.eventCleanup(),this.animator.pause(r)},u.prototype.scrub=function(r,a){var y=this;if(r=st(r),!this.readyForPlaying){this.taskQueue.add({action:function(){return y.scrub(r,a)}});return}this.animator.scrub(r,a||0),this.drawFrame()},u.prototype.stop=function(r){var a=this;if(r=st(r),!this.readyForPlaying){this.taskQueue.add({action:function(){return a.stop(r)}});return}this.animator&&this.animator.stop(r),this.eventCleanup&&this.eventCleanup()},u.prototype.reset=function(r){var a,y=r==null?void 0:r.artboard,L=st(r==null?void 0:r.animations),I=st(r==null?void 0:r.stateMachines),F=(a=r==null?void 0:r.autoplay)!==null&&a!==void 0?a:!1;this.cleanupInstances(),this.initArtboard(y,L,I,F),this.taskQueue.process()},u.prototype.load=function(r){this.file=null,this.stop(),this.init(r)},Object.defineProperty(u.prototype,"layout",{get:function(){return this._layout},set:function(r){this._layout=r,(!r.maxX||!r.maxY)&&this.resizeToCanvas(),this.loaded&&!this.animator.isPlaying&&this.drawFrame()},enumerable:!1,configurable:!0}),u.prototype.resizeToCanvas=function(){this._layout=this.layout.copyWith({minX:0,minY:0,maxX:this.canvas.width,maxY:this.canvas.height})},u.prototype.resizeDrawingSurfaceToCanvas=function(r){if(this.canvas instanceof HTMLCanvasElement&&window){var a=this.canvas.getBoundingClientRect(),y=a.width,L=a.height,I=r||window.devicePixelRatio||1;if(this.devicePixelRatioUsed=I,this.canvas.width=I*y,this.canvas.height=I*L,this.startRendering(),this.resizeToCanvas(),this.layout.fit===d.Layout){var F=this._layout.layoutScaleFactor;this.artboard.width=y/F,this.artboard.height=L/F}}},Object.defineProperty(u.prototype,"source",{get:function(){return this.src},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"activeArtboard",{get:function(){return this.artboard?this.artboard.name:""},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"animationNames",{get:function(){if(!this.loaded||!this.artboard)return[];for(var r=[],a=0;a<this.artboard.animationCount();a++)r.push(this.artboard.animationByIndex(a).name);return r},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"stateMachineNames",{get:function(){if(!this.loaded||!this.artboard)return[];for(var r=[],a=0;a<this.artboard.stateMachineCount();a++)r.push(this.artboard.stateMachineByIndex(a).name);return r},enumerable:!1,configurable:!0}),u.prototype.stateMachineInputs=function(r){if(this.loaded){var a=this.animator.stateMachines.find(function(y){return y.name===r});return a==null?void 0:a.inputs}},u.prototype.retrieveInputAtPath=function(r,a){if(!r){console.warn("No input name provided for path '".concat(a,"'"));return}if(!this.artboard){console.warn("Tried to access input: '".concat(r,"', at path: '").concat(a,"', but the Artboard is null"));return}var y=this.artboard.inputByPath(r,a);if(!y){console.warn("Could not access an input with name: '".concat(r,"', at path:'").concat(a,"'"));return}return y},u.prototype.setBooleanStateAtPath=function(r,a,y){var L=this.retrieveInputAtPath(r,y);L&&(L.type===Z.Boolean?L.asBool().value=a:console.warn("Input with name: '".concat(r,"', at path:'").concat(y,"' is not a boolean")))},u.prototype.setNumberStateAtPath=function(r,a,y){var L=this.retrieveInputAtPath(r,y);L&&(L.type===Z.Number?L.asNumber().value=a:console.warn("Input with name: '".concat(r,"', at path:'").concat(y,"' is not a number")))},u.prototype.fireStateAtPath=function(r,a){var y=this.retrieveInputAtPath(r,a);y&&(y.type===Z.Trigger?y.asTrigger().fire():console.warn("Input with name: '".concat(r,"', at path:'").concat(a,"' is not a trigger")))},u.prototype.retrieveTextAtPath=function(r,a){if(!r){console.warn("No text name provided for path '".concat(a,"'"));return}if(!a){console.warn("No path provided for text '".concat(r,"'"));return}if(!this.artboard){console.warn("Tried to access text: '".concat(r,"', at path: '").concat(a,"', but the Artboard is null"));return}var y=this.artboard.textByPath(r,a);if(!y){console.warn("Could not access text with name: '".concat(r,"', at path:'").concat(a,"'"));return}return y},u.prototype.getTextRunValueAtPath=function(r,a){var y=this.retrieveTextAtPath(r,a);if(!y){console.warn("Could not get text with name: '".concat(r,"', at path:'").concat(a,"'"));return}return y.text},u.prototype.setTextRunValueAtPath=function(r,a,y){var L=this.retrieveTextAtPath(r,y);if(!L){console.warn("Could not set text with name: '".concat(r,"', at path:'").concat(y,"'"));return}L.text=a},Object.defineProperty(u.prototype,"playingStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(r){return r.playing}).map(function(r){return r.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"playingAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(r){return r.playing}).map(function(r){return r.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"pausedAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(r){return!r.playing}).map(function(r){return r.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"pausedStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(r){return!r.playing}).map(function(r){return r.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"isPlaying",{get:function(){return this.animator.isPlaying},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"isPaused",{get:function(){return this.animator.isPaused},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"isStopped",{get:function(){return this.animator.isStopped},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"bounds",{get:function(){return this.artboard?this.artboard.bounds:void 0},enumerable:!1,configurable:!0}),u.prototype.on=function(r,a){this.eventManager.add({type:r,callback:a})},u.prototype.off=function(r,a){this.eventManager.remove({type:r,callback:a})},u.prototype.unsubscribe=function(r,a){console.warn("This function is deprecated: please use `off()` instead."),this.off(r,a)},u.prototype.removeAllRiveEventListeners=function(r){this.eventManager.removeAll(r)},u.prototype.unsubscribeAll=function(r){console.warn("This function is deprecated: please use `removeAllRiveEventListeners()` instead."),this.removeAllRiveEventListeners(r)},u.prototype.stopRendering=function(){this.loaded&&this.frameRequestId&&(this.runtime.cancelAnimationFrame?this.runtime.cancelAnimationFrame(this.frameRequestId):cancelAnimationFrame(this.frameRequestId),this.frameRequestId=null)},u.prototype.startRendering=function(){this.loaded&&this.artboard&&!this.frameRequestId&&(this.runtime.requestAnimationFrame?this.frameRequestId=this.runtime.requestAnimationFrame(this.draw.bind(this)):this.frameRequestId=requestAnimationFrame(this.draw.bind(this)))},u.prototype.enableFPSCounter=function(r){this.runtime.enableFPSCounter(r)},u.prototype.disableFPSCounter=function(){this.runtime.disableFPSCounter()},Object.defineProperty(u.prototype,"contents",{get:function(){if(this.loaded){for(var r={artboards:[]},a=0;a<this.file.artboardCount();a++){for(var y=this.file.artboardByIndex(a),L={name:y.name,animations:[],stateMachines:[]},I=0;I<y.animationCount();I++){var F=y.animationByIndex(I);L.animations.push(F.name)}for(var X=0;X<y.stateMachineCount();X++){for(var nt=y.stateMachineByIndex(X),z=nt.name,vt=new this.runtime.StateMachineInstance(nt,y),Pt=[],Tt=0;Tt<vt.inputCount();Tt++){var Rt=vt.input(Tt);Pt.push({name:Rt.name,type:Rt.type})}L.stateMachines.push({name:z,inputs:Pt})}r.artboards.push(L)}return r}},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"volume",{get:function(){return this.artboard&&this.artboard.volume!==this._volume&&(this._volume=this.artboard.volume),this._volume},set:function(r){this._volume=r,this.artboard&&(this.artboard.volume=r*ut.systemVolume)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"artboardWidth",{get:function(){var r;return this.artboard?this.artboard.width:(r=this._artboardWidth)!==null&&r!==void 0?r:0},set:function(r){this._artboardWidth=r,this.artboard&&(this.artboard.width=r)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"artboardHeight",{get:function(){var r;return this.artboard?this.artboard.height:(r=this._artboardHeight)!==null&&r!==void 0?r:0},set:function(r){this._artboardHeight=r,this.artboard&&(this.artboard.height=r)},enumerable:!1,configurable:!0}),u.prototype.resetArtboardSize=function(){this.artboard?(this.artboard.resetArtboardSize(),this._artboardWidth=this.artboard.width,this._artboardHeight=this.artboard.height):(this._artboardWidth=void 0,this._artboardHeight=void 0)},Object.defineProperty(u.prototype,"devicePixelRatioUsed",{get:function(){return this._devicePixelRatioUsed},set:function(r){this._devicePixelRatioUsed=r},enumerable:!1,configurable:!0}),u.missingErrorMessage="Rive source file or data buffer required",u}(),_t=function(u){return E(void 0,void 0,void 0,function(){var r,a,y;return M(this,function(L){switch(L.label){case 0:return r=new Request(u),[4,fetch(r)];case 1:return a=L.sent(),[4,a.arrayBuffer()];case 2:return y=L.sent(),[2,y]}})})},st=function(u){return typeof u=="string"?[u]:u instanceof Array?u:[]},St={EventManager:wt,TaskQueueManager:Ct},Gt=function(u){return new Promise(function(r){return K.getInstance(function(a){a.decodeAudio(u,r)})})},G=function(u){return new Promise(function(r){return K.getInstance(function(a){a.decodeImage(u,r)})})},ft=function(u){return new Promise(function(r){return K.getInstance(function(a){a.decodeFont(u,r)})})}})(),A})())})(ur);const wo=".lido-canvas{height:100%;width:100%}",Co=wo,xo=class{constructor(n){Ut(this,n),this.initializeRive=l=>{const h=Pe.getInstance(),f=this.el.querySelector("canvas");this.riveInstance=new ur.exports.Rive({src:l,canvas:f,stateMachines:"Idle",autoplay:!0,onLoad:()=>{this.riveInstance.resizeDrawingSurfaceToCanvas(),h.setRiveInstance(this.riveInstance)}})},this.id=void 0,this.value=void 0,this.height=void 0,this.width=void 0,this.ariaLabel=void 0,this.ariaHidden=void 0,this.x=void 0,this.y=void 0,this.z=void 0,this.bgColor=void 0,this.type=void 0,this.tabIndex=void 0,this.visible=void 0,this.audio=void 0,this.src=void 0,this.onTouch=void 0,this.onInCorrect=void 0,this.onCorrect=void 0,this.onEntry=void 0}async componentDidLoad(){de(this.el,this.type),this.initializeRive(ce(this.src))}render(){const n={height:this.height,width:this.width,backgroundColor:this.bgColor,top:this.y,left:this.x,display:this.visible?"flex":"none",zIndex:this.z};return Y($t,{key:"7cbafd15e6ffab907fb5ce58446971a5681de60c",id:this.id,type:this.type,tabindex:this.tabIndex,value:this.value,style:n,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,audio:this.audio,onTouch:this.onTouch,onCorrect:this.onCorrect,onInCorrect:this.onInCorrect,onEntry:this.onEntry},Y("canvas",{key:"e4809a9cbe812db6aace7dc00dd21f748d0170b5",class:"lido-canvas"}))}get el(){return te(this)}};xo.style=Co;const So=".lido-col{top:var(--y, 0);left:var(--x, 0);height:var(--height, 100%);width:var(--width, 100%);background-color:var(--bgColor, #eeeeee);padding:15px;border-radius:10px;display:flex;justify-content:space-around;flex-direction:column;align-items:center}.lido-col>*{}",Ao=So,_o=class{constructor(n){Ut(this,n),this.id=void 0,this.value=void 0,this.height=void 0,this.width=void 0,this.ariaLabel=void 0,this.ariaHidden=void 0,this.x=void 0,this.y=void 0,this.z=void 0,this.bgColor=void 0,this.type=void 0,this.tabIndex=void 0,this.visible=void 0,this.audio=void 0,this.onTouch=void 0,this.onInCorrect=void 0,this.onCorrect=void 0,this.onEntry=void 0,this.childElementsLength=void 0,this.minLength=void 0,this.maxLength=void 0,this.direction=void 0,this.borderImage=void 0,this.boxShadow=void 0,this.style={}}componentDidLoad(){de(this.el,this.type),ni(this.el,this.minLength,this.maxLength,this.childElementsLength,"flex")}componentWillLoad(){this.updateStyles(),window.addEventListener("resize",this.updateStyles.bind(this)),window.addEventListener("load",this.updateStyles.bind(this))}disconnectedCallback(){window.removeEventListener("resize",this.updateStyles.bind(this)),window.removeEventListener("load",this.updateStyles.bind(this))}updateStyles(){const n=this.borderImage?ce(this.borderImage):"",l=window.innerHeight>window.innerWidth?"portrait":"landscape";this.style={height:V(this.height,l),width:V(this.width,l),backgroundColor:V(this.bgColor,l),top:V(this.y,l),left:V(this.x,l),zIndex:this.z,display:this.visible?"flex":"none",flexDirection:this.direction?V(this.direction,l):"column",borderImage:`url(${n})`,borderImageSlice:n?"0 fill":"",boxShadow:this.boxShadow?this.boxShadow:"unset"}}render(){return Y($t,{key:"be4d40df66b299db3f50b61bb17d9344156f3e1c",id:this.id,class:"lido-col",type:this.type,tabindex:this.tabIndex,value:this.value,style:this.style,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,audio:this.audio,onTouch:this.onTouch,onCorrect:this.onCorrect,onInCorrect:this.onInCorrect,onEntry:this.onEntry},Y("slot",{key:"858fcdd47cfd7872a55ffb2d86eaa9c64077a3e2"}))}get el(){return te(this)}};_o.style=Ao;const Lo=".lido-container{position:relative;height:100%;width:100%;background-color:var(--bgColor, #ffffff);display:flex;flex-direction:column;justify-content:center;align-items:center}",Eo=Lo,Io=class{constructor(n){Ut(this,n),this.id=void 0,this.objective=void 0,this.customStyle=void 0,this.value=void 0,this.height=void 0,this.width=void 0,this.ariaLabel=void 0,this.ariaHidden=void 0,this.x=void 0,this.y=void 0,this.z=void 0,this.bgColor=void 0,this.bgImage=void 0,this.type=void 0,this.tabIndex=void 0,this.visible=void 0,this.audio=void 0,this.onTouch=void 0,this.onInCorrect=void 0,this.onCorrect=void 0,this.onEntry=void 0,this.canplay=!0,this.showCheck=!1,this.isContinueOnCorrect=!1,this.isAllowOnlyCorrect=!1,this.baseUrl=""}convertToPixels(n,l=document.body){if(!n)return 0;if(n.endsWith("px"))return parseFloat(n);const h=document.createElement("div");h.style.position="absolute",h.style.visibility="hidden",h.style.height=n,l.appendChild(h);const f=h.offsetHeight;return l.removeChild(h),f}scaleContainer(n){var l;const h=[window.innerWidth],f=[window.innerHeight];!((l=window.screen)===null||l===void 0)&&l.width&&(h.push(window.screen.width),f.push(window.screen.height));const v=Math.min(...h),A=Math.min(...f),S=A>v;let w,m;S?(w=v/900,m=A/1600):(w=v/1600,m=A/900);const T=Math.min(w,m);n.style.transform=`translate(-50%, -50%) scale(${T})`,n.style.left="50%",n.style.top="50%",n.style.position="absolute",this.screenOrientation()}screenOrientation(){window.innerHeight>window.innerWidth?(this.el.style.height="1600px",this.el.style.width="900px"):(this.el.style.height="900px",this.el.style.width="1600px")}componentDidLoad(){this.scaleContainer(this.el);const n=this.bgImage?ce(this.bgImage):"";if(document.body.style.backgroundColor=this.bgColor,document.body.style.backgroundImage=`url(${n})`,window.addEventListener("resize",()=>this.scaleContainer(this.el)),window.addEventListener("load",()=>this.scaleContainer(this.el)),de(this.el,this.type),this.customStyle){const l=document.createElement("style");l.innerHTML=this.customStyle,document.head.appendChild(l)}}disconnectedCallback(){window.removeEventListener("resize",()=>this.scaleContainer(this.el)),window.removeEventListener("load",()=>this.scaleContainer(this.el)),document.body.style.backgroundColor="",document.body.style.backgroundImage=""}render(){const n={backgroundColor:this.bgColor,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"};return console.log("ðŸš€ ~ LidoContainer ~ canplay:",this.canplay),Y($t,{key:"1405439fb38afbedb8c29062766d9fb8358fe72a",id:"lido-container",tabindex:0,class:"lido-container",objective:this.objective,baseUrl:this.baseUrl,style:n,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,onTouch:this.onTouch,onInCorrect:this.onInCorrect,onCorrect:this.onCorrect,onEntry:this.onEntry,showCheck:`${this.showCheck}`,isContinueOnCorrect:`${this.isContinueOnCorrect}`,isAllowOnlyCorrect:`${this.isAllowOnlyCorrect}`,canplay:`${this.canplay}`},Y("slot",{key:"eeb15e63789bff68b699893793dd4e59e3f96678"}))}get el(){return te(this)}};Io.style=Eo;const Po=".card{position:relative;width:100%;height:100%;transform-style:preserve-3d;transition:transform 0.6s ease;cursor:pointer}.card.flipped{transform:rotateY(180deg)}.card-face{position:absolute;width:100%;height:100%;backface-visibility:hidden;display:flex;align-items:center;justify-content:center}.card-back{transform:rotateY(180deg)}",To=Po,Ro=class{constructor(n){Ut(this,n),this.updateStyles=()=>{const l=window.innerHeight>window.innerWidth?"portrait":"landscape";this.style={height:V(this.height,l)||"200px",width:V(this.width,l)||"200px",backgroundColor:V(this.bgColor,l),top:V(this.y,l),left:V(this.x,l),zIndex:this.z,display:this.visible?this.display?V(this.display,l):"inline-block":"none",flexDirection:this.direction?V(this.direction,l):void 0}},this.handleFlip=()=>{this.flipped=!this.flipped},this.value=void 0,this.height=void 0,this.width=void 0,this.ariaLabel=void 0,this.ariaHidden=void 0,this.x=void 0,this.y=void 0,this.z=void 0,this.bgColor=void 0,this.type=void 0,this.tabIndex=void 0,this.visible=!0,this.audio=void 0,this.onTouch=void 0,this.onInCorrect=void 0,this.onCorrect=void 0,this.onEntry=void 0,this.direction=void 0,this.display=void 0,this.front=void 0,this.back=void 0,this.flipped=!1,this.style={}}handleFlippedChange(){}componentWillLoad(){this.updateStyles(),window.addEventListener("resize",this.updateStyles),window.addEventListener("load",this.updateStyles)}componentDidLoad(){de(this.el,this.type)}disconnectedCallback(){window.removeEventListener("resize",this.updateStyles),window.removeEventListener("load",this.updateStyles)}render(){return Y($t,{key:"d0e9d0dcfbb4d6d2d837b166cbc4bfe6753ccd32",value:this.value,tabindex:this.tabIndex,style:this.style,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,audio:this.audio,onTouch:this.onTouch,onCorrect:this.onCorrect,onInCorrect:this.onInCorrect,onEntry:this.onEntry,type:this.type,onClick:this.handleFlip},Y("div",{key:"cdf4b99d30d9f89c402ed906eacafac3f205d50b",class:`card ${this.flipped?"flipped":""}`},Y("div",{key:"ec806340797c0bf6309f1af8e11fa1111f8445bd",class:"card-face card-front"},this.front!=null?this.front:Y("slot",{name:"front"})),Y("div",{key:"a9eb84dd8ff7093f3353618d9a698c85e5e3ead7",class:"card-face card-back"},this.back!=null?this.back:Y("slot",{name:"back"}))))}get el(){return te(this)}static get watchers(){return{flipped:["handleFlippedChange"]}}};Ro.style=To;const Mo="@import url('https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap'); @import url('https://fonts.googleapis.com/css2?family=Baloo+2:wght@400..800&display=swap'); body{overflow:hidden;background-position:center;background-size:cover;background-repeat:no-repeat;height:100vh}.lido-disable-check-button{pointer-events:none;background-color:#9393935c !important;color:white}.lido-element-selected{border:2px solid;background-color:#ffdf7d !important}.diagonal-target,.diagonal-drop *{transform:scale(0.8) !important;opacity:1 !important}.cloned-element{display:flex !important;position:absolute !important;filter:grayscale(100%);pointer-events:none}.removeShadow{box-shadow:0px 0px 0px 0px #FF8900 !important}",ko=Mo,Oo="@keyframes rightToPlace{from{transform:translateX(2000px)}to{transform:translateX(0)}}@keyframes topToPlace{from{transform:translateY(-1000px)}to{transform:translateY(0)}}@keyframes bottomToPlace{from{transform:translateY(1000px)}to{transform:translateY(0)}}@keyframes placeToLeft{from{}to{transform:translateX(-2000px)}}@keyframes leftToPlace{from{transform:translateX(-2000px)}to{transform:translateX(0)}}@keyframes shake{0%{transform:translateX(0)}10%{transform:translateX(-5px)}20%{transform:translateX(5px)}30%{transform:translateX(-5px)}40%{transform:translateX(5px)}50%{transform:translateX(-5px)}60%{transform:translateX(5px)}70%{transform:translateX(-5px)}80%{transform:translateX(5px)}90%{transform:translateX(-5px)}100%{transform:translateX(0)}}@keyframes fallAndBounce{0%{transform:translateY(-1000px)}25%{transform:translateY(0px)}50%{transform:translateY(-200px)}75%{transform:translateY(0)}90%{transform:translateY(-100px)}100%{transform:translateY(0)}}@keyframes placeToDown{0%{transform:translateY(0)}100%{transform:translateY(1000px)}}",Fo=Oo,Do=".lido-snackbar{visibility:visible;min-width:250px;background-color:#333;color:#fff;text-align:center;border-radius:2px;padding:16px;position:fixed;z-index:1;bottom:30px;left:50%;transform:translateX(-50%);font-size:17px}.lido-dot-container{text-align:center;position:fixed;z-index:1;width:fit-content;top:1%;left:50%;transform:translate(-50%)}.lido-dot{height:15px;width:15px;margin:0 4px;background-color:#bbb;border-radius:50%;display:inline-block;transition:background-color 0.3s;cursor:pointer}.lido-dot.completed{background-color:grey}.lido-dot.current{background-color:green}.lido-dot:not(.completed):not(.current){background-color:#bbb}",jo=Do,No=class{constructor(n){Ut(this,n),this.NextContainerKey=l=>{l!=null&&l==this.currentContainerIndex||(localStorage.removeItem(Dt),localStorage.removeItem(Ot),localStorage.removeItem(Ge),localStorage.removeItem(se),l!=null&&l<this.containers.length?(this.currentContainerIndex=l,rr(this.currentContainerIndex)):this.currentContainerIndex<this.containers.length-1?(this.currentContainerIndex++,rr(this.currentContainerIndex)):this.currentContainerIndex>=this.containers.length-1&&(this.showCompletionMessage=!0,to(),this.currentContainerIndex=0,setTimeout(()=>{this.showCompletionMessage=!1},3e3)),this.containers=[...this.containers])},this.xmlData=void 0,this.initialIndex=0,this.canplay=!0,this.baseUrl="",this.height="",this.currentContainerIndex=this.initialIndex,this.showCompletionMessage=!1,this.containers=[]}componentWillLoad(){window.addEventListener(Kn,()=>{this.NextContainerKey()}),window.addEventListener("changeContainer",n=>{this.NextContainerKey(n.detail.index)}),this.parseXMLData(this.xmlData),window.addEventListener("beforeunload",()=>{localStorage.removeItem(Dt),localStorage.removeItem(Ot),localStorage.removeItem(Ge),localStorage.removeItem(se)})}disconnectedCallback(){window.removeEventListener(Kn,()=>{this.NextContainerKey()}),window.removeEventListener("changeContainer",n=>{this.NextContainerKey(n.detail.index)})}parseXMLData(n){if(n){const f=new DOMParser().parseFromString(n,"text/xml").documentElement;this.parseContainers(f)}}onXmlDataChange(n){this.parseXMLData(n)}parseElement(n){const l=n.nodeName.toLowerCase(),h={};Array.from(n.attributes).forEach(A=>{h[A.name]=A.value});const f=Array.from(n.childNodes).map(A=>A.nodeType===1?this.parseElement(A):A.nodeType===3&&A.textContent.trim()!==""?A.textContent:null).filter(Boolean),v={"lido-container":Y("lido-container",Object.assign({},h,{canplay:this.canplay,baseUrl:this.baseUrl,height:this.height}),f),"lido-flash-card":Y("lido-flash-card",Object.assign({},h),f),"lido-col":Y("lido-col",Object.assign({},h),f),"lido-trace":Y("lido-trace",Object.assign({},h),f),"lido-image":Y("lido-image",Object.assign({},h),f),"lido-row":Y("lido-row",Object.assign({},h),f),"lido-text":Y("lido-text",Object.assign({},h),f),"lido-pos":Y("lido-pos",Object.assign({},h),f),"lido-shape":Y("lido-shape",Object.assign({},h),f),"lido-wrap":Y("lido-wrap",Object.assign({},h),f),"lido-random":Y("lido-random",Object.assign({},h),f),"lido-avatar":Y("lido-avatar",Object.assign({},h),f)};return v[l]?v[l]:(console.warn(`Unknown tag: ${l}`),null)}parseContainers(n){const l=[];n.querySelectorAll("lido-container").forEach(f=>{const v=this.parseElement(f);v&&l.push(v)}),this.containers=l}renderDots(){const n={pointerEvents:this.canplay?"none":""};return Y("div",{id:"lido-dot-indicator",class:"lido-dot-container",style:n},this.containers.map((l,h)=>Y("span",{class:`lido-dot ${h<this.currentContainerIndex?"completed":h===this.currentContainerIndex?"current":""}`,onClick:()=>this.jumpToContainer(h)})))}jumpToContainer(n){this.NextContainerKey(n)}render(){return console.log("ðŸš€ ~ LidoHome ~ render ~ this.containers:",this),this.xmlData?Y($t,{index:this.currentContainerIndex,totalIndex:this.containers.length},Y("div",{key:this.currentContainerIndex},this.containers[this.currentContainerIndex]),this.renderDots(),this.showCompletionMessage&&Y("div",{class:"lido-snackbar"},"All containers have been displayed!")):Y("div",null,"Please provide XML data.")}static get watchers(){return{xmlData:["onXmlDataChange"]}}};No.style=ko+(Fo+jo);const Wo=".lido-image{user-select:none;-webkit-user-drag:none;object-fit:contain;max-width:100%;max-height:100%;aspect-ratio:1 / 1;}.slice{background-repeat:no-repeat;background-position:center;background-size:100% 100%}",Bo=Wo,$o=class{constructor(n){Ut(this,n),this.id=void 0,this.value=void 0,this.height=void 0,this.width=void 0,this.ariaLabel=void 0,this.ariaHidden=void 0,this.x=void 0,this.y=void 0,this.z=void 0,this.bgColor=void 0,this.type=void 0,this.tabIndex=void 0,this.visible=void 0,this.audio=void 0,this.onTouch=void 0,this.onInCorrect=void 0,this.onCorrect=void 0,this.onEntry=void 0,this.src=void 0,this.isSlice=void 0,this.sliceWidth="30px",this.style=void 0}componentDidLoad(){de(this.el,this.type)}componentWillLoad(){this.updateStyles(),window.addEventListener("resize",this.updateStyles.bind(this)),window.addEventListener("load",this.updateStyles.bind(this))}disconnectedCallback(){window.removeEventListener("resize",this.updateStyles.bind(this)),window.removeEventListener("load",this.updateStyles.bind(this))}updateStyles(){const n=window.innerHeight>window.innerWidth?"portrait":"landscape";this.style={height:V(this.height,n),width:V(this.width,n),backgroundColor:V(this.bgColor,n),top:V(this.y,n),left:V(this.x,n),zIndex:this.z,display:V(`${this.visible}`,n)?"flex":"none",alignItems:"center",justifyContent:"center",borderImageSource:this.isSlice==="true"?`url(${ce(this.src)})`:"none",borderImageSlice:this.isSlice==="true"?`${parseInt(this.sliceWidth)} fill`:"unset",borderImageRepeat:this.isSlice==="true"?"round":"unset",borderImageWidth:this.isSlice==="true"?`${this.sliceWidth}`:"unset",backgroundImage:this.isSlice==="true"?`url(${ce(this.src)})`:"none"}}render(){return this.isSlice==="true"?Y($t,{class:"slice",id:this.id,type:this.type,tabIndex:this.tabIndex,onEntry:this.onEntry,style:this.style}):Y($t,{type:this.type,tabindex:this.tabIndex,style:this.style,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,value:this.value,audio:this.audio,onTouch:this.onTouch,onCorrect:this.onCorrect,onInCorrect:this.onInCorrect,onEntry:this.onEntry},Y("img",{class:"lido-image",src:ce(this.src),alt:"",style:this.style}))}get el(){return te(this)}};$o.style=Bo;const Uo=".lido-pos{top:var(--y, 0);left:var(--x, 0);height:var(--height, 100%);width:var(--width, 100%);background-color:var(--bgColor, #eeeeee);display:flex;justify-content:space-around;flex-direction:column;position:fixed}.lido-pos>*{position:absolute}",Ho=Uo,zo=class{constructor(n){Ut(this,n),this.id=void 0,this.value=void 0,this.height=void 0,this.width=void 0,this.ariaLabel=void 0,this.ariaHidden=void 0,this.x=void 0,this.y=void 0,this.z=void 0,this.bgColor=void 0,this.type=void 0,this.tabIndex=void 0,this.visible=void 0,this.audio=void 0,this.onTouch=void 0,this.onInCorrect=void 0,this.onCorrect=void 0,this.onEntry=void 0,this.style=void 0}componentDidLoad(){de(this.el,this.type)}componentWillLoad(){this.updateStyles(),window.addEventListener("resize",this.updateStyles.bind(this)),window.addEventListener("load",this.updateStyles.bind(this))}disconnectedCallback(){window.removeEventListener("resize",this.updateStyles.bind(this)),window.removeEventListener("load",this.updateStyles.bind(this))}updateStyles(){const n=window.innerHeight>window.innerWidth?"portrait":"landscape";this.style={height:V(this.height,n),width:V(this.width,n),backgroundColor:V(this.bgColor,n),top:V(this.y,n),left:V(this.x,n),zIndex:this.z,display:JSON.parse(V(`${this.visible}`,n))?"block":"none"}}render(){return Y($t,{key:"f3ef3116312bfd29096c0677d1b7e249b9cfc657",id:this.id,class:"lido-pos",type:this.type,tabindex:this.tabIndex,style:this.style,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,value:this.value,audio:this.audio,onTouch:this.onTouch,onCorrect:this.onCorrect,onInCorrect:this.onInCorrect,onEntry:this.onEntry},Y("slot",{key:"e15efa205e87f4ffc272898ceddfc88129fb335b"}))}get el(){return te(this)}};zo.style=Ho;const Xo=".lido-random{display:flex;justify-content:space-between;align-items:center;position:absolute;}.lido-random>*{position:absolute}",Yo=Xo,Vo=class{constructor(n){Ut(this,n),this.id=void 0,this.value=void 0,this.height=void 0,this.width=void 0,this.ariaLabel=void 0,this.ariaHidden=void 0,this.x=void 0,this.y=void 0,this.z=void 0,this.bgColor=void 0,this.type=void 0,this.tabIndex=void 0,this.visible=void 0,this.audio=void 0,this.onTouch=void 0,this.onInCorrect=void 0,this.onCorrect=void 0,this.onEntry=void 0}componentDidLoad(){this.el.querySelectorAll(".lido-random > *").forEach(l=>{const h=Math.random()*100,f=Math.random()*100;l.style.top=`${h}%`,l.style.left=`${f}%`})}render(){const n={height:this.height,width:this.width,top:this.y,left:this.x,display:this.visible?"block":"none",zIndex:this.z,backgroundColor:this.bgColor};return Y($t,{key:"374ad57172eb72fcf4276c157d3f8eae069e811b",class:"lido-random",type:this.type,tabindex:this.tabIndex,value:this.value,style:n,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,audio:this.audio,onTouch:this.onTouch,onCorrect:this.onCorrect,onInCorrect:this.onInCorrect,onEntry:this.onEntry},Y("slot",{key:"16adb6749a2db657aebb03be422c82413768ff85"}))}get el(){return te(this)}};Vo.style=Yo;const us=class{constructor(n){Ut(this,n),this.xmlPath=void 0,this.initialIndex=0,this.canplay=!0,this.baseUrl="",this.xmlData=void 0}async componentWillLoad(){var n;const l=(n=this.xmlPath)!==null&&n!==void 0?n:this.baseUrl+"/index.xml";console.log("ðŸš€ ~ LidoRoot ~ componentWillLoad ~ this.baseUrl:",this.baseUrl),console.log("ðŸš€ ~ LidoRoot ~ componentWillLoad ~ this.xmlPath:",this.xmlPath),console.log("ðŸš€ ~ LidoRoot ~ componentWillLoad ~ xmlPath:",l);try{const h=l.startsWith("http")?l:dr(l),f=await fetch(h);if(!f.ok)throw new Error(`Failed to fetch XML data: ${f.statusText}`);const v=await f.text();this.xmlData=v}catch(h){console.error("Error fetching XML data:",h),this.xmlData=null}}render(){return this.xmlData===void 0?Y("div",null,"Loading..."):this.xmlData===null?Y("div",null,"Error loading XML data. Please check the path or URL."):Y("lido-home",{initialIndex:this.initialIndex,canplay:this.canplay,xmlData:this.xmlData,baseUrl:this.baseUrl})}static get assetsDirs(){return["assets"]}},qo=".lido-row{display:flex;justify-content:space-around;align-items:center;}.lido-row>*{}",Go=qo,Jo=class{constructor(n){Ut(this,n),this.value=void 0,this.height=void 0,this.width=void 0,this.ariaLabel=void 0,this.ariaHidden=void 0,this.x=void 0,this.y=void 0,this.z=void 0,this.bgColor=void 0,this.type=void 0,this.tabIndex=void 0,this.visible=void 0,this.audio=void 0,this.onTouch=void 0,this.onInCorrect=void 0,this.onCorrect=void 0,this.onEntry=void 0,this.childElementsLength=void 0,this.minLength=void 0,this.maxLength=void 0,this.direction=void 0,this.style={},this.display=void 0}componentDidLoad(){de(this.el,this.type),ni(this.el,this.minLength,this.maxLength,this.childElementsLength,"flex")}componentWillLoad(){this.updateStyles(),window.addEventListener("resize",this.updateStyles.bind(this)),window.addEventListener("load",this.updateStyles.bind(this))}disconnectedCallback(){window.removeEventListener("resize",this.updateStyles.bind(this)),window.removeEventListener("load",this.updateStyles.bind(this))}updateStyles(){const n=window.innerHeight>window.innerWidth?"portrait":"landscape";this.style={height:V(this.height,n),width:V(this.width,n),backgroundColor:V(this.bgColor,n),top:V(this.y,n),left:V(this.x,n),zIndex:this.z,display:this.visible?this.display?V(this.display,n):"flex":"none",flexDirection:this.direction?V(this.direction,n):"row",gridTemplateColumns:this.display&&V(this.display,n)==="grid"?"repeat(auto-fill, minmax(186px, auto))":void 0,gap:this.display&&V(this.display,n)==="grid"?"20px":void 0}}render(){return Y($t,{key:"c2e10671506922558e6372efbdea455989bf40aa",class:"lido-row",type:this.type,tabindex:this.tabIndex,value:this.value,style:this.style,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,audio:this.audio,onTouch:this.onTouch,onCorrect:this.onCorrect,onInCorrect:this.onInCorrect,onEntry:this.onEntry},Y("slot",{key:"428c886ff017bafce29a4550b5cc73b8e89ecdaf"}))}get el(){return te(this)}};Jo.style=Go;const Ko=".lido-shape{position:absolute;top:var(--y);left:var(--x);display:var(--display);z-index:var(--z)}.lido-rectangle{border-radius:0}.lido-circle{width:var(--width);height:var(--width);border-radius:50%;background-color:var(--bgColor)}.lido-ellipse{width:var(--width);height:var(--height);border-radius:50%;background-color:var(--bgColor)}.lido-triangle{width:var(--triangleWidth);height:var(--triangleHeight);background-color:var(--bgColor);clip-path:polygon(50% 0%, 100% 100%, 0% 100%)}.lido-rightTriangle{width:var(--triangleWidth);height:var(--triangleHeight);background-color:var(--bgColor);clip-path:polygon(100% 0%, 100% 100%, 0% 100%)}.lido-leftTriangle{width:var(--triangleWidth);height:var(--triangleHeight);background-color:var(--triangleBgColor);clip-path:polygon(0% 0%, 100% 100%, 0% 100%)}.lido-parallelogram{width:var(--paralleWidth);height:var(--paralleHeight);transform:skew(20deg)}.lido-star{width:var(--starWidth);height:var(--starHeight);background-color:var(--starBgColor);clip-path:polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%)}.lido-pentagon{width:var(--pentagonWidth);height:var(--pentagonHeight);background-color:var(--pentagonBgColor);clip-path:polygon(50% 0%, 100% 38%, 82% 100%, 18% 100%, 0% 38%)}.lido-heptagon{width:var(--heptagonWidth);height:var(--heptagonHeight);background-color:var(--heptagonBgColor);clip-path:polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%)}.lido-octagon{width:var(--octagonWidth);height:var(--octagonHeight);background-color:var(--octagonBgColor);clip-path:polygon(25% 0%, 75% 0%, 100% 25%, 100% 75%, 75% 100%, 25% 100%, 0% 75%, 0% 25%)}.lido-rhombus{width:var(--rhombusWidth);height:var(--rhombusHeight);background-color:var(--rhombusBgColor);clip-path:polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%)}.lido-heart{height:var(--heartHeight);width:var(--heartWidth);border-image:radial-gradient(var(--heartBgColor) 69%, #0000 70%) 84.5%/50%;clip-path:polygon(-41% 0, 50% 91%, 141% 0)}",Zo=Ko,Qo=class{constructor(n){Ut(this,n),this.id=void 0,this.value=void 0,this.height=void 0,this.width=void 0,this.ariaLabel=void 0,this.ariaHidden=void 0,this.x=void 0,this.y=void 0,this.z=void 0,this.bgColor=void 0,this.type=void 0,this.tabIndex=void 0,this.shapeType=void 0,this.visible=void 0,this.audio=void 0,this.onTouch=void 0,this.onInCorrect=void 0,this.onCorrect=void 0,this.onEntry=void 0}componentDidLoad(){de(this.el,this.type)}render(){const n={height:this.shapeType!=="polygon"?this.height:void 0,width:this.shapeType!=="polygon"?this.width:void 0,top:this.y,left:this.x,display:this.visible?"block":"none",zIndex:this.z,backgroundColor:this.shapeType!=="polygon"?this.bgColor:"transparent"};return Y($t,{key:"903298aa735d0b487dab776a152e347a06b136dc",class:`lido-shape ${this.shapeType}`,value:this.value,type:this.type,tabindex:this.tabIndex,style:n,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,audio:this.audio,onTouch:this.onTouch,onCorrect:this.onCorrect,onInCorrect:this.onInCorrect,onEntry:this.onEntry})}get el(){return te(this)}};Qo.style=Zo;const ts=".lido-text{background-color:#fff;box-shadow:0 2px 4px rgba(0, 0, 0, 0.1);transition:background-color 0.3s ease;user-select:none;align-items:center;justify-content:center;text-align:center;border-radius:8px;color:#333;cursor:pointer}.lido-text:hover{background-color:#f0f0f0}",es=ts,ns=class{constructor(n){Ut(this,n),this.id=void 0,this.value=void 0,this.string=void 0,this.font=void 0,this.fontSize=void 0,this.fontColor=void 0,this.highlightWhileSpeaking=void 0,this.height=void 0,this.width=void 0,this.ariaLabel=void 0,this.ariaHidden=void 0,this.x=void 0,this.y=void 0,this.z=void 0,this.bgColor=void 0,this.borderImage=void 0,this.type=void 0,this.tabIndex=void 0,this.visible=void 0,this.audio=void 0,this.onTouch=void 0,this.onInCorrect=void 0,this.onCorrect=void 0,this.onEntry=void 0,this.style={}}componentDidLoad(){de(this.el,this.type)}componentWillLoad(){this.updateStyles(),window.addEventListener("resize",this.updateStyles.bind(this)),window.addEventListener("load",this.updateStyles.bind(this))}disconnectedCallback(){window.removeEventListener("resize",this.updateStyles.bind(this)),window.removeEventListener("load",this.updateStyles.bind(this))}updateStyles(){const n=this.borderImage?ce(this.borderImage):"",l=window.innerHeight>window.innerWidth?"portrait":"landscape";this.style={height:V(this.height,l),width:V(this.width,l),backgroundColor:V(this.bgColor,l),top:V(this.y,l),left:V(this.x,l),zIndex:this.z,fontSize:V(this.fontSize,l),fontFamily:this.font,color:V(this.fontColor,l),display:V(`${this.visible}`,l)?"flex":"none",borderImage:`url(${n})`,borderImageSlice:n?"0 fill":""}}render(){return Y($t,{key:"bba9e2f16a6adbffbcf3652d8c9c7e0897a16ef6",class:"lido-text",value:this.value,type:this.type,tabindex:this.tabIndex,audio:this.audio,onTouch:this.onTouch,onCorrect:this.onCorrect,onInCorrect:this.onInCorrect,onEntry:this.onEntry,id:this.id,style:this.style,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden},this.string)}get el(){return te(this)}};ns.style=es;const is=":host{display:block;position:relative}#lido-svgContainer{position:absolute;top:0;left:0;right:0;bottom:50px;display:flex;justify-content:center;align-items:center;overflow:hidden}svg{width:100%;height:100%;max-height:calc(100vh - 50px);touch-action:none}#lido-draggableCircle{cursor:pointer;fill:red;transition:fill 0.2s, r 0.2s}.lido-blindTracing{stroke:none !important}.lido-blindFreeTrace{stroke:none !important}.lido-hovered{cursor:grab;fill:darkred}#lido-controls{position:fixed;bottom:0;left:0;right:0;display:flex;justify-content:space-between;padding:10px;background-color:#f0f0f0;border-top:1px solid #ccc}button{padding:10px;font-size:16px}@media (max-width: 600px){button{padding:8px;font-size:14px}}.lido-trace-path-green{}",rs=is,os=class{constructor(n){Ut(this,n),this.id=void 0,this.svgSource=void 0,this.value=void 0,this.height=void 0,this.width=void 0,this.x=void 0,this.y=void 0,this.z=void 0,this.ariaLabel=void 0,this.ariaHidden=void 0,this.tabIndex=void 0,this.mode=jt.ShowFlow,this.fingerHintUrl="https://aeakbcdznktpsbrfsgys.supabase.co/storage/v1/object/public/template-assets/trace/finger.png",this.fileIndex=-1,this.isDragging=!1,this.activePointerId=null,this.idleTimer=null,this.fingerImg=null}async initializeSVG(){let n={fileIndex:-1,currentPathIndex:0,lastLength:0,totalPathLength:0,isDragging:!1,circle:null,paths:[],svg:null,proximityThreshold:100,freeTraceProximityThreshold:50,rafId:null,pointerMoveEvent:null,activePointerId:null,mode:this.mode,flowMarkers:[],freeTraceLines:[],currentFreePath:[],lastPointerPos:null};await this.loadAnotherSVG(n,!0)}componentWillLoad(){this.initializeSVG()}resetIdleTimer(n){this.idleTimer!==null&&(clearTimeout(this.idleTimer),this.idleTimer=null),this.idleTimer=window.setTimeout(()=>{this.showFingerHint(n)},3e3)}showFingerHint(n){var l;if(this.fingerImg)return;const h=n.paths[n.currentPathIndex];if(!h)return;const f=40,v=document.createElementNS("http://www.w3.org/2000/svg","image");v.setAttributeNS("http://www.w3.org/1999/xlink","href",ce(this.fingerHintUrl)),v.setAttribute("width",`${f}`),v.setAttribute("height",`${f}`),v.setAttribute("id","lido-finger-hint"),v.style.pointerEvents="none",v.style.opacity="0.8",v.setAttribute("x","0"),v.setAttribute("y","0");const A=document.createElementNS("http://www.w3.org/2000/svg","animateMotion");A.setAttribute("dur","2s"),A.setAttribute("repeatCount","indefinite");const S=document.createElementNS("http://www.w3.org/2000/svg","mpath");S.setAttributeNS("http://www.w3.org/1999/xlink","href",`#${h.id}`),A.appendChild(S),v.appendChild(A),(l=n.svg)===null||l===void 0||l.appendChild(v),this.fingerImg=v}hideFingerHint(){this.fingerImg&&this.fingerImg.parentNode&&this.fingerImg.parentNode.removeChild(this.fingerImg),this.fingerImg=null}async fetchSVG(n){const l=await fetch(n);if(!l.ok)throw new Error(`Failed to fetch SVG (${n}): ${l.statusText}`);return await l.text()}calculateBoundingBox(n,l=22){let h=1/0,f=1/0,v=-1/0,A=-1/0;return n.forEach(S=>{const w=S.getTotalLength(),m=100;for(let T=0;T<=m;T++){const x=S.getPointAtLength(T/m*w);x.x<h&&(h=x.x),x.y<f&&(f=x.y),x.x>v&&(v=x.x),x.y>A&&(A=x.y)}}),h-=l,f-=l,v+=l,A+=l,{minX:h,minY:f,maxX:v,maxY:A}}insertSVG(n){const l=document.getElementById("lido-svgContainer");l.innerHTML=n;const h=l.querySelector("svg");h.removeAttribute("width"),h.removeAttribute("height");const f=h.querySelectorAll("path, line"),v=this.calculateBoundingBox(Array.from(f)),A=v.maxX-v.minX,S=v.maxY-v.minY;h.setAttribute("viewBox",`${v.minX} ${v.minY} ${A} ${S}`)}getSVGElement(){return document.getElementById("lido-svgContainer").querySelector("svg")}getPaths(n){return Array.from(n.querySelectorAll("path, line"))}createFlowMarkersForPath(n,l=10){var h;const v=n.getTotalLength()/(l+1),A=[];for(let S=1;S<=l;S++){const w=n.getPointAtLength(S*v),m=n.getPointAtLength((S+.5)*v),T=Math.atan2(m.y-w.y,m.x-w.x),x=document.createElementNS("http://www.w3.org/2000/svg","polygon");x.setAttribute("points","-5,-5 0,0 -5,5"),x.setAttribute("fill","blue"),x.setAttribute("transform",`translate(${w.x},${w.y}) rotate(${T*180/Math.PI})`),x.setAttribute("class","lido-flow-indicator"),A.push(x),(h=n.parentNode)===null||h===void 0||h.appendChild(x)}return A}updateFlowIndicators(n){n.svg.querySelectorAll(".lido-flow-indicator").forEach(h=>{n.mode===jt.NoFlow?h.style.display="none":n.mode===jt.ShowFlow&&(h.style.display="block")})}setupDrawingPath(n){n.paths.forEach((l,h)=>{const f=l.getTotalLength();l.setAttribute("id","lido-path-"+h);const v=l.cloneNode();v.style.opacity="100",v.style["stroke-opacity"]="100";const A=l.style["stroke-width"]||l.getAttribute("stroke-width");v.setAttribute("stroke-width",A),v.setAttribute("stroke-dasharray",f.toString()),v.setAttribute("stroke-dashoffset",f.toString()),l.parentNode.appendChild(v,l),l.setAttribute("class","lido-trace-path"),v.setAttribute("class","lido-trace-path-green"),l.greenPath=v,l.classList.add(n.mode),n.mode===jt.BlindTracing||n.mode===jt.BlindFreeTrace?l.setAttribute("stroke","none"):(l.setAttribute("stroke","#000"),l.setAttribute("stroke-width",A),l.setAttribute("fill","none"),l.setAttribute("stroke-dasharray",f.toString()),l.setAttribute("stroke-dashoffset","0")),h===n.currentPathIndex&&n.mode===jt.ShowFlow&&(n.flowMarkers=this.createFlowMarkersForPath(l))}),n.totalPathLength=n.paths[n.currentPathIndex].getTotalLength()}setupDraggableCircle(n){var l;const h=n.paths[0].getPointAtLength(0),f=document.createElementNS("http://www.w3.org/2000/svg","circle"),v=n.paths[n.currentPathIndex].style["stroke-width"]||n.paths[n.currentPathIndex].getAttribute("stroke-width");f.setAttribute("id","lido-draggableCircle"),f.setAttribute("cx",h.x.toString()),f.setAttribute("cy",h.y.toString()),f.setAttribute("r",`calc(${v||10} / 2)`),f.setAttribute("fill","red"),(l=n.svg)===null||l===void 0||l.appendChild(f),n.circle=f,this.resetIdleTimer(n)}addEventListeners(n){var l,h,f,v;if(!n.circle||!n.paths||n.paths.length===0)return;n.circle.addEventListener("pointerdown",S=>{S.preventDefault();const w=this.getPointerPosition(S,n.svg),m={x:parseFloat(n.circle.getAttribute("cx")),y:parseFloat(n.circle.getAttribute("cy"))};this.getDistanceSquared(w,m)<=n.proximityThreshold*n.proximityThreshold&&(n.isDragging=!0,n.activePointerId=S.pointerId,n.circle.setPointerCapture(S.pointerId)),this.hideFingerHint(),this.resetIdleTimer(n)}),(l=n.svg)===null||l===void 0||l.addEventListener("pointermove",S=>{!n.isDragging||S.pointerId!==n.activePointerId||(n.pointerMoveEvent=S,n.rafId||(n.rafId=requestAnimationFrame(()=>{this.handlePointerMove(n),n.rafId=null})))});const A=S=>{S.pointerId===n.activePointerId&&(n.isDragging=!1,n.activePointerId=null,this.hideFingerHint(),this.resetIdleTimer(n))};(h=n.svg)===null||h===void 0||h.addEventListener("pointerup",A),(f=n.svg)===null||f===void 0||f.addEventListener("pointercancel",A),(v=n.svg)===null||v===void 0||v.addEventListener("contextmenu",S=>{S.preventDefault()})}handlePointerMove(n){var l,h,f,v;if(!n.isDragging||!n.circle||!n.paths||n.paths.length===0)return;this.hideFingerHint();const A=n.pointerMoveEvent,S=this.getPointerPosition(A,n.svg),w={x:parseFloat(n.circle.getAttribute("cx")),y:parseFloat(n.circle.getAttribute("cy"))},m=n.paths[n.currentPathIndex];if(!m){console.error("No valid path found at the current index");return}let T;if(n.mode===jt.FreeTrace||n.mode===jt.BlindFreeTrace?T=n.freeTraceProximityThreshold*n.freeTraceProximityThreshold:T=n.proximityThreshold*n.proximityThreshold,this.getDistanceSquared(S,w)>T)return;const E=this.getClosestPointOnPath(m,S);if(!(this.getDistanceSquared(S,E)>T)){if(n.mode===jt.FreeTrace||n.mode===jt.BlindFreeTrace){if(n.currentFreePath||(n.currentFreePath=[]),!n.currentFreePath[n.currentPathIndex]){const H=document.createElementNS("http://www.w3.org/2000/svg","path"),ct=n.paths[n.currentPathIndex].style["stroke-width"]||n.paths[n.currentPathIndex].getAttribute("stroke-width");H.setAttribute("stroke-width",ct),H.setAttribute("fill","none"),H.setAttribute("stroke-linecap","round"),H.setAttribute("stroke","lightgreen"),H.setAttribute("d",`M${S.x},${S.y}`),(l=n.svg)===null||l===void 0||l.appendChild(H),n.currentFreePath[n.currentPathIndex]=H,n.lastPointerPos=S}const d=n.lastPointerPos||S,D=n.currentFreePath[n.currentPathIndex].getAttribute("d"),q=(d.x+S.x)/2,K=(d.y+S.y)/2,Z=`${D} Q ${d.x},${d.y} ${q},${K}`;n.currentFreePath[n.currentPathIndex].setAttribute("d",Z),n.circle.setAttribute("cx",S.x.toString()),n.circle.setAttribute("cy",S.y.toString()),(h=n.svg)===null||h===void 0||h.appendChild(n.circle),n.lastPointerPos=S,m.getTotalLength()-E.length<5&&(this.moveToNextPath(n),n.currentFreePath[n.currentPathIndex]=null);return}n.isDragging&&E.length>=n.lastLength&&(n.lastLength=E.length,n.circle.setAttribute("cx",E.x.toString()),n.circle.setAttribute("cy",E.y.toString()),(f=n.svg)===null||f===void 0||f.appendChild(n.circle),(v=m.greenPath)===null||v===void 0||v.setAttribute("stroke-dashoffset",(n.totalPathLength-n.lastLength).toString())),n.totalPathLength-1-n.lastLength<5&&n.currentPathIndex<n.paths.length-1?this.moveToNextPath(n):n.totalPathLength-1-n.lastLength<5&&n.currentPathIndex===n.paths.length-1&&Pn()}}getPointerPosition(n,l){var h;const f=l.createSVGPoint();f.x=n.clientX,f.y=n.clientY;const v=(h=l.getScreenCTM())===null||h===void 0?void 0:h.inverse();return v?f.matrixTransform(v):{x:n.clientX,y:n.clientY}}getDistanceSquared(n,l){const h=n.x-l.x,f=n.y-l.y;return h*h+f*f}getClosestPointOnPath(n,l){const h=n.getTotalLength();let f={x:0,y:0,length:0},v=1/0;const A=20;let S={length:0},w=1/0;for(let E=0;E<=h;E+=A){const M=n.getPointAtLength(E),d=this.getDistanceSquared(l,M);d<w&&(w=d,S={x:M.x,y:M.y,length:E})}const m=2,T=Math.max(S.length-A,0),x=Math.min(S.length+A,h);for(let E=T;E<=x;E+=m){const M=n.getPointAtLength(E),d=this.getDistanceSquared(l,M);d<v&&(v=d,f={x:M.x,y:M.y,length:E})}return f}async loadAnotherSVG(n,l){n.isDragging=!1;try{n.svg&&this.cleanupPreviousSVG(n);const h=await this.fetchSVG(ce(this.svgSource));this.insertSVG(h),n.svg=this.getSVGElement(),(this.mode===jt.BlindTracing||this.mode===jt.BlindFreeTrace)&&n.svg.querySelectorAll("image").forEach(f=>{f.style.display="none"}),n.paths=this.getPaths(n.svg),this.setupDrawingPath(n),this.setupDraggableCircle(n),this.addEventListeners(n)}catch(h){console.error(`Error loading SVG (${this.svgSource}):`,h)}}cleanupPreviousSVG(n){var l,h;n.circle&&((l=n.svg)===null||l===void 0||l.removeChild(n.circle),n.circle=null),((h=n.svg)===null||h===void 0?void 0:h.querySelectorAll(".lido-flow-indicator")).forEach(v=>{v.remove()}),n.currentPathIndex=0,n.lastLength=0,n.totalPathLength=n.paths[0].getTotalLength(),this.hideFingerHint(),this.resetIdleTimer(n)}moveToNextPath(n){var l,h;if(n.isDragging=!1,n.currentPathIndex++,n.lastLength=0,this.hideFingerHint(),n.currentPathIndex>=n.paths.length){Pn();return}const f=n.paths[n.currentPathIndex];if(!f){console.error("No valid path found at the next index");return}n.totalPathLength=f.getTotalLength();const v=f.getPointAtLength(0);(l=n.circle)===null||l===void 0||l.setAttribute("cx",v.x.toString()),(h=n.circle)===null||h===void 0||h.setAttribute("cy",v.y.toString()),n.mode===jt.ShowFlow&&(n.flowMarkers=this.createFlowMarkersForPath(f)),this.resetIdleTimer(n)}render(){const n={height:this.height,width:this.width,top:this.y,left:this.x,zIndex:this.z,position:"absolute"};return Y($t,{key:"c8d6165800527cefe832cc94cb40db81bf2369c2",class:"lido-trace",id:this.id,style:n,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,tabindex:this.tabIndex},Y("div",{key:"bae61d2714bd2e0e79bdcb777f8e68b9ca97cd13",id:"lido-svgContainer"}))}static get assetsDirs(){return["svg","images"]}static get watchers(){return{svgSource:["initializeSVG"],mode:["initializeSVG"]}}};os.style=rs;const ss=".lido-wrap{display:grid;grid-gap:10px;grid-template-columns:repeat(auto-fill, minmax(186px, auto))}.lido-wrap>*{padding:10px;background-color:var(--child-bg-color, #f0f0f0);box-sizing:border-box}.lido-flex{display:flex;flex-wrap:wrap;align-content:flex-start;gap:10px}",as=ss,ls=class{constructor(n){Ut(this,n),this.id=void 0,this.value=void 0,this.height=void 0,this.width=void 0,this.ariaLabel=void 0,this.ariaHidden=void 0,this.x=void 0,this.y=void 0,this.z=void 0,this.bgColor=void 0,this.type=void 0,this.tabIndex=void 0,this.visible=void 0,this.audio=void 0,this.onTouch=void 0,this.onInCorrect=void 0,this.onCorrect=void 0,this.onEntry=void 0,this.childElementsLength=void 0,this.minLength=void 0,this.maxLength=void 0,this.flex=void 0,this.style=void 0}componentDidLoad(){de(this.el,this.type),ni(this.el,this.minLength,this.maxLength,this.childElementsLength,"grid"),this.flex==="true"&&(this.el.classList.remove("lido-wrap"),this.el.classList.add("lido-flex"))}componentWillLoad(){this.updateStyles(),window.addEventListener("resize",this.updateStyles.bind(this)),window.addEventListener("load",this.updateStyles.bind(this))}disconnectedCallback(){window.removeEventListener("resize",this.updateStyles.bind(this)),window.removeEventListener("load",this.updateStyles.bind(this))}updateStyles(){const n=window.innerHeight>window.innerWidth?"portrait":"landscape";this.style={height:V(this.height,n),width:V(this.width,n),backgroundColor:V(this.bgColor,n),top:V(this.y,n),left:V(this.x,n),zIndex:this.z,display:JSON.parse(V(`${this.visible}`,n))?this.flex==="true"?"flex":"grid":"none"}}render(){return Y($t,{key:"c35d09ef5deed0966ca5146574ff111e00f3d58d",class:"lido-wrap",value:this.value,type:this.type,tabindex:this.tabIndex,style:this.style,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,audio:this.audio,onTouch:this.onTouch,onCorrect:this.onCorrect,onInCorrect:this.onInCorrect,onEntry:this.onEntry},Y("slot",{key:"7416cd25cb393a0413e686085f211ccfd2c1986b"}))}get el(){return te(this)}};ls.style=as;export{xo as lido_avatar,_o as lido_col,Io as lido_container,Ro as lido_flash_card,No as lido_home,$o as lido_image,zo as lido_pos,Vo as lido_random,us as lido_root,Jo as lido_row,Qo as lido_shape,ns as lido_text,os as lido_trace,ls as lido_wrap};
