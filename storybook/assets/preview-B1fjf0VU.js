const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./lido-avatar_22.entry-B53ufndl.js","./iframe-Bu3_SFey.js"])))=>i.map(i=>d[i]);
import{_ as ae}from"./iframe-Bu3_SFey.js";const Be="lido-player",z={experimentalSlotFixes:!1,hydratedSelectorName:"hydrated",slotRelocation:!0,updatable:!0};var De=Object.defineProperty,Ne=(e,t)=>{for(var n in t)De(e,n,{get:t[n],enumerable:!0})},V=new WeakMap,w=e=>V.get(e),Zt=(e,t)=>V.set(t.$lazyInstance$=e,t),je=(e,t)=>{const n={$flags$:0,$hostElement$:e,$cmpMeta$:t,$instanceValues$:new Map};return n.$onInstancePromise$=new Promise(o=>n.$onInstanceResolve$=o),n.$onReadyPromise$=new Promise(o=>n.$onReadyResolve$=o),e["s-p"]=[],e["s-rc"]=[],V.set(e,n)},se=(e,t)=>t in e,I=(e,t)=>(0,console.error)(e,t),D=new Map,qe=(e,t,n)=>{const o=e.$tagName$.replace(/-/g,"_"),i=e.$lazyBundleId$;if(!i)return;const r=D.get(i);if(r)return r[o];{const a=l=>(D.set(i,l),l[o]);switch(i){case"lido-avatar_22":return ae(()=>import("./lido-avatar_22.entry-B53ufndl.js"),__vite__mapDeps([0,1]),import.meta.url).then(a,I)}}return ae(()=>import(`./${i}.entry.js`),[],import.meta.url).then(a=>(D.set(i,a),a[o]),I)},_=new Map,Ge="{visibility:hidden}.hydrated{visibility:inherit}",ve="slot-fb{display:contents}slot-fb[hidden]{display:none}",le="http://www.w3.org/1999/xlink",A=typeof window<"u"?window:{},m=A.document||{head:{}},b={$flags$:0,$resourcesUrl$:"",jmp:e=>e(),raf:e=>requestAnimationFrame(e),ael:(e,t,n,o)=>e.addEventListener(t,n,o),rel:(e,t,n,o)=>e.removeEventListener(t,n,o),ce:(e,t)=>new CustomEvent(e,t)},Ke=e=>Promise.resolve(e),Xe=(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch{}return!1})(),q=!1,de=[],xe=[],Ye=(e,t)=>n=>{e.push(n),q||(q=!0,b.$flags$&4?ee(G):b.raf(G))},ce=e=>{for(let t=0;t<e.length;t++)try{e[t](performance.now())}catch(n){I(n)}e.length=0},G=()=>{ce(de),ce(xe),(q=de.length>0)&&b.raf(G)},ee=e=>Ke().then(e),Je=Ye(xe),Vt=e=>{const t=new URL(e,b.$resourcesUrl$);return t.origin!==A.location.origin?t.href:t.pathname},he={},te=e=>(e=typeof e,e==="object"||e==="function");function we(e){var t,n,o;return(o=(n=(t=e.head)==null?void 0:t.querySelector('meta[name="csp-nonce"]'))==null?void 0:n.getAttribute("content"))!=null?o:void 0}var Qe={};Ne(Qe,{err:()=>ke,map:()=>Ze,ok:()=>K,unwrap:()=>Ve,unwrapErr:()=>et});var K=e=>({isOk:!0,isErr:!1,value:e}),ke=e=>({isOk:!1,isErr:!0,value:e});function Ze(e,t){if(e.isOk){const n=t(e.value);return n instanceof Promise?n.then(o=>K(o)):K(n)}if(e.isErr){const n=e.value;return ke(n)}throw"should never get here"}var Ve=e=>{if(e.isOk)return e.value;throw e.value},et=e=>{if(e.isErr)return e.value;throw e.value},k=(e,t="")=>()=>{},tt=(e,t)=>()=>{},nt=(e,t,...n)=>{let o=null,i=null,r=null,a=!1,l=!1;const s=[],f=h=>{for(let c=0;c<h.length;c++)o=h[c],Array.isArray(o)?f(o):o!=null&&typeof o!="boolean"&&((a=typeof e!="function"&&!te(o))&&(o=String(o)),a&&l?s[s.length-1].$text$+=o:s.push(a?X(null,o):o),l=a)};if(f(n),t){t.key&&(i=t.key),t.name&&(r=t.name);{const h=t.className||t.class;h&&(t.class=typeof h!="object"?h:Object.keys(h).filter(c=>h[c]).join(" "))}}const d=X(e,null);return d.$attrs$=t,s.length>0&&(d.$children$=s),d.$key$=i,d.$name$=r,d},X=(e,t)=>{const n={$flags$:0,$tag$:e,$text$:t,$elm$:null,$children$:null};return n.$attrs$=null,n.$key$=null,n.$name$=null,n},ot={},it=e=>e&&e.$tag$===ot,rt=(e,t)=>e!=null&&!te(e)?t&4?e==="false"?!1:e===""||!!e:t&2?parseFloat(e):t&1?String(e):e:e,at=e=>w(e).$hostElement$,en=(e,t,n)=>{const o=at(e);return{emit:i=>Se(o,t,{bubbles:!0,composed:!0,cancelable:!0,detail:i})}},Se=(e,t,n)=>{const o=b.ce(t,n);return e.dispatchEvent(o),o},fe=new WeakMap,st=(e,t,n)=>{let o=_.get(e);Xe&&n?(o=o||new CSSStyleSheet,typeof o=="string"?o=t:o.replaceSync(t)):o=t,_.set(e,o)},lt=(e,t,n)=>{var o;const i=Ee(t),r=_.get(i);if(e=e.nodeType===11?e:m,r)if(typeof r=="string"){e=e.head||e;let a=fe.get(e),l;if(a||fe.set(e,a=new Set),!a.has(i)){{l=m.createElement("style"),l.innerHTML=r;const s=(o=b.$nonce$)!=null?o:we(m);s!=null&&l.setAttribute("nonce",s),(!(t.$flags$&1)||t.$flags$&1&&e.nodeName!=="HEAD")&&e.insertBefore(l,e.querySelector("link"))}t.$flags$&4&&(l.innerHTML+=ve),a&&a.add(i)}}else e.adoptedStyleSheets.includes(r)||(e.adoptedStyleSheets=[...e.adoptedStyleSheets,r]);return i},dt=e=>{const t=e.$cmpMeta$,n=e.$hostElement$,o=t.$flags$,i=k("attachStyles",t.$tagName$),r=lt(n.shadowRoot?n.shadowRoot:n.getRootNode(),t);o&10&&o&2&&(n["s-sc"]=r,n.classList.add(r+"-h")),i()},Ee=(e,t)=>"sc-"+e.$tagName$,ue=(e,t,n,o,i,r)=>{if(n!==o){let a=se(e,t),l=t.toLowerCase();if(t==="class"){const s=e.classList,f=ge(n),d=ge(o);s.remove(...f.filter(h=>h&&!d.includes(h))),s.add(...d.filter(h=>h&&!f.includes(h)))}else if(t==="style"){for(const s in n)(!o||o[s]==null)&&(s.includes("-")?e.style.removeProperty(s):e.style[s]="");for(const s in o)(!n||o[s]!==n[s])&&(s.includes("-")?e.style.setProperty(s,o[s]):e.style[s]=o[s])}else if(t!=="key")if(t==="ref")o&&o(e);else if(!a&&t[0]==="o"&&t[1]==="n"){if(t[2]==="-"?t=t.slice(3):se(A,l)?t=l.slice(2):t=l[2]+t.slice(3),n||o){const s=t.endsWith(Ce);t=t.replace(ht,""),n&&b.rel(e,t,n,s),o&&b.ael(e,t,o,s)}}else{const s=te(o);if(a||s&&o!==null)try{if(e.tagName.includes("-"))e[t]=o;else{const d=o??"";t==="list"?a=!1:(n==null||e[t]!=d)&&(e[t]=d)}}catch{}let f=!1;l!==(l=l.replace(/^xlink\:?/,""))&&(t=l,f=!0),o==null||o===!1?(o!==!1||e.getAttribute(t)==="")&&(f?e.removeAttributeNS(le,t):e.removeAttribute(t)):(!a||r&4||i)&&!s&&(o=o===!0?"":o,f?e.setAttributeNS(le,t,o):e.setAttribute(t,o))}}},ct=/\s/,ge=e=>e?e.split(ct):[],Ce="Capture",ht=new RegExp(Ce+"$"),Ie=(e,t,n)=>{const o=t.$elm$.nodeType===11&&t.$elm$.host?t.$elm$.host:t.$elm$,i=e&&e.$attrs$||he,r=t.$attrs$||he;for(const a of $e(Object.keys(i)))a in r||ue(o,a,i[a],void 0,n,t.$flags$);for(const a of $e(Object.keys(r)))ue(o,a,i[a],r[a],n,t.$flags$)};function $e(e){return e.includes("ref")?[...e.filter(t=>t!=="ref"),"ref"]:e}var Y,J,F,U=!1,W=!1,ne=!1,Te=!1,H=(e,t,n,o)=>{var i;const r=t.$children$[n];let a=0,l,s,f;if(U||(ne=!0,r.$tag$==="slot"&&(Y&&o.classList.add(Y+"-s"),r.$flags$|=r.$children$?2:1)),r.$text$!==null)l=r.$elm$=m.createTextNode(r.$text$);else if(r.$flags$&1)l=r.$elm$=m.createTextNode("");else if(l=r.$elm$=m.createElement(!U&&z.slotRelocation&&r.$flags$&2?"slot-fb":r.$tag$),Ie(null,r,Te),l.getRootNode().querySelector("body"),r.$children$)for(a=0;a<r.$children$.length;++a)s=H(e,r,a,l),s&&l.appendChild(s);return l["s-hn"]=F,r.$flags$&3&&(l["s-sr"]=!0,l["s-cr"]=J,l["s-sn"]=r.$name$||"",l["s-rf"]=(i=r.$attrs$)==null?void 0:i.ref,f=e&&e.$children$&&e.$children$[n],f&&f.$tag$===r.$tag$&&e.$elm$&&O(e.$elm$,!1)),l},O=(e,t)=>{b.$flags$|=1;const n=Array.from(e.childNodes);e["s-sr"]&&z.experimentalSlotFixes;for(let o=n.length-1;o>=0;o--){const i=n[o];i["s-hn"]!==F&&i["s-ol"]&&(E(Ae(i),i,oe(i)),i["s-ol"].remove(),i["s-ol"]=void 0,i["s-sh"]=void 0,ne=!0),t&&O(i,t)}b.$flags$&=-2},Le=(e,t,n,o,i,r)=>{let a=e["s-cr"]&&e["s-cr"].parentNode||e,l;for(a.shadowRoot&&a.tagName===F&&(a=a.shadowRoot);i<=r;++i)o[i]&&(l=H(null,n,i,e),l&&(o[i].$elm$=l,E(a,l,oe(t))))},Oe=(e,t,n)=>{for(let o=t;o<=n;++o){const i=e[o];if(i){const r=i.$elm$;_e(i),r&&(W=!0,r["s-ol"]?r["s-ol"].remove():O(r,!0),r.remove())}}},ft=(e,t,n,o,i=!1)=>{let r=0,a=0,l=0,s=0,f=t.length-1,d=t[0],h=t[f],c=o.length-1,u=o[0],g=o[c],p,y;for(;r<=f&&a<=c;)if(d==null)d=t[++r];else if(h==null)h=t[--f];else if(u==null)u=o[++a];else if(g==null)g=o[--c];else if(P(d,u,i))L(d,u,i),d=t[++r],u=o[++a];else if(P(h,g,i))L(h,g,i),h=t[--f],g=o[--c];else if(P(d,g,i))(d.$tag$==="slot"||g.$tag$==="slot")&&O(d.$elm$.parentNode,!1),L(d,g,i),E(e,d.$elm$,h.$elm$.nextSibling),d=t[++r],g=o[--c];else if(P(h,u,i))(d.$tag$==="slot"||g.$tag$==="slot")&&O(h.$elm$.parentNode,!1),L(h,u,i),E(e,h.$elm$,d.$elm$),h=t[--f],u=o[++a];else{for(l=-1,s=r;s<=f;++s)if(t[s]&&t[s].$key$!==null&&t[s].$key$===u.$key$){l=s;break}l>=0?(y=t[l],y.$tag$!==u.$tag$?p=H(t&&t[a],n,l,e):(L(y,u,i),t[l]=void 0,p=y.$elm$),u=o[++a]):(p=H(t&&t[a],n,a,e),u=o[++a]),p&&E(Ae(d.$elm$),p,oe(d.$elm$))}r>f?Le(e,o[c+1]==null?null:o[c+1].$elm$,n,o,a,c):a>c&&Oe(t,r,f)},P=(e,t,n=!1)=>e.$tag$===t.$tag$?e.$tag$==="slot"?"$nodeId$"in e&&n&&e.$elm$.nodeType!==8?!1:e.$name$===t.$name$:n?!0:e.$key$===t.$key$:!1,oe=e=>e&&e["s-ol"]||e,Ae=e=>(e["s-ol"]?e["s-ol"]:e).parentNode,L=(e,t,n=!1)=>{const o=t.$elm$=e.$elm$,i=e.$children$,r=t.$children$,a=t.$tag$,l=t.$text$;let s;l===null?(a==="slot"&&!U||Ie(e,t,Te),i!==null&&r!==null?ft(o,i,t,r,n):r!==null?(e.$text$!==null&&(o.textContent=""),Le(o,null,t,r,0,r.length-1)):!n&&z.updatable&&i!==null&&Oe(i,0,i.length-1)):(s=o["s-cr"])?s.parentNode.textContent=l:e.$text$!==l&&(o.data=l)},Pe=e=>{const t=e.childNodes;for(const n of t)if(n.nodeType===1){if(n["s-sr"]){const o=n["s-sn"];n.hidden=!1;for(const i of t)if(i!==n){if(i["s-hn"]!==n["s-hn"]||o!==""){if(i.nodeType===1&&(o===i.getAttribute("slot")||o===i["s-sn"])||i.nodeType===3&&o===i["s-sn"]){n.hidden=!0;break}}else if(i.nodeType===1||i.nodeType===3&&i.textContent.trim()!==""){n.hidden=!0;break}}}Pe(n)}},x=[],Re=e=>{let t,n,o;for(const i of e.childNodes){if(i["s-sr"]&&(t=i["s-cr"])&&t.parentNode){n=t.parentNode.childNodes;const r=i["s-sn"];for(o=n.length-1;o>=0;o--)if(t=n[o],!t["s-cn"]&&!t["s-nr"]&&t["s-hn"]!==i["s-hn"])if(pe(t,r)){let a=x.find(l=>l.$nodeToRelocate$===t);W=!0,t["s-sn"]=t["s-sn"]||r,a?(a.$nodeToRelocate$["s-sh"]=i["s-hn"],a.$slotRefNode$=i):(t["s-sh"]=i["s-hn"],x.push({$slotRefNode$:i,$nodeToRelocate$:t})),t["s-sr"]&&x.map(l=>{pe(l.$nodeToRelocate$,t["s-sn"])&&(a=x.find(s=>s.$nodeToRelocate$===t),a&&!l.$slotRefNode$&&(l.$slotRefNode$=a.$slotRefNode$))})}else x.some(a=>a.$nodeToRelocate$===t)||x.push({$nodeToRelocate$:t})}i.nodeType===1&&Re(i)}},pe=(e,t)=>e.nodeType===1?e.getAttribute("slot")===null&&t===""||e.getAttribute("slot")===t:e["s-sn"]===t?!0:t==="",_e=e=>{e.$attrs$&&e.$attrs$.ref&&e.$attrs$.ref(null),e.$children$&&e.$children$.map(_e)},E=(e,t,n)=>e==null?void 0:e.insertBefore(t,n),ut=(e,t,n=!1)=>{var o,i,r,a;const l=e.$hostElement$,s=e.$cmpMeta$,f=e.$vnode$||X(null,null),d=it(t)?t:nt(null,null,t);if(F=l.tagName,s.$attrsToReflect$&&(d.$attrs$=d.$attrs$||{},s.$attrsToReflect$.map(([h,c])=>d.$attrs$[c]=l[h])),n&&d.$attrs$)for(const h of Object.keys(d.$attrs$))l.hasAttribute(h)&&!["key","ref","style","class"].includes(h)&&(d.$attrs$[h]=l[h]);d.$tag$=null,d.$flags$|=4,e.$vnode$=d,d.$elm$=f.$elm$=l.shadowRoot||l,Y=l["s-sc"],U=(s.$flags$&1)!==0,J=l["s-cr"],W=!1,L(f,d,n);{if(b.$flags$|=1,ne){Re(d.$elm$);for(const h of x){const c=h.$nodeToRelocate$;if(!c["s-ol"]){const u=m.createTextNode("");u["s-nr"]=c,E(c.parentNode,c["s-ol"]=u,c)}}for(const h of x){const c=h.$nodeToRelocate$,u=h.$slotRefNode$;if(u){const g=u.parentNode;let p=u.nextSibling;{let y=(o=c["s-ol"])==null?void 0:o.previousSibling;for(;y;){let $=(i=y["s-nr"])!=null?i:null;if($&&$["s-sn"]===c["s-sn"]&&g===$.parentNode){for($=$.nextSibling;$===c||$!=null&&$["s-sr"];)$=$==null?void 0:$.nextSibling;if(!$||!$["s-nr"]){p=$;break}}y=y.previousSibling}}(!p&&g!==c.parentNode||c.nextSibling!==p)&&c!==p&&(!c["s-hn"]&&c["s-ol"]&&(c["s-hn"]=c["s-ol"].parentNode.nodeName),E(g,c,p),c.nodeType===1&&(c.hidden=(r=c["s-ih"])!=null?r:!1)),c&&typeof u["s-rf"]=="function"&&u["s-rf"](c)}else c.nodeType===1&&(n&&(c["s-ih"]=(a=c.hidden)!=null?a:!1),c.hidden=!0)}}W&&Pe(d.$elm$),b.$flags$&=-2,x.length=0}J=void 0},Ue=(e,t)=>{t&&!e.$onRenderResolve$&&t["s-p"]&&t["s-p"].push(new Promise(n=>e.$onRenderResolve$=n))},ie=(e,t)=>{if(e.$flags$|=16,e.$flags$&4){e.$flags$|=512;return}return Ue(e,e.$ancestorComponent$),Je(()=>gt(e,t))},gt=(e,t)=>{const n=e.$hostElement$,o=k("scheduleUpdate",e.$cmpMeta$.$tagName$),i=e.$lazyInstance$;if(!i)throw new Error(`Can't render component <${n.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let r;return t&&(r=B(i,"componentWillLoad")),o(),$t(r,()=>yt(e,i,t))},$t=(e,t)=>pt(e)?e.then(t).catch(n=>{console.error(n),t()}):t(),pt=e=>e instanceof Promise||e&&e.then&&typeof e.then=="function",yt=async(e,t,n)=>{var o;const i=e.$hostElement$,r=k("update",e.$cmpMeta$.$tagName$),a=i["s-rc"];n&&dt(e);const l=k("render",e.$cmpMeta$.$tagName$);bt(e,t,i,n),a&&(a.map(s=>s()),i["s-rc"]=void 0),l(),r();{const s=(o=i["s-p"])!=null?o:[],f=()=>mt(e);s.length===0?f():(Promise.all(s).then(f),e.$flags$|=4,s.length=0)}},bt=(e,t,n,o)=>{try{t=t.render(),e.$flags$&=-17,e.$flags$|=2,ut(e,t,o)}catch(i){I(i,e.$hostElement$)}return null},mt=e=>{const t=e.$cmpMeta$.$tagName$,n=e.$hostElement$,o=k("postUpdate",t),i=e.$lazyInstance$,r=e.$ancestorComponent$;e.$flags$&64?o():(e.$flags$|=64,He(n),B(i,"componentDidLoad"),o(),e.$onReadyResolve$(n),r||We()),e.$onInstanceResolve$(n),e.$onRenderResolve$&&(e.$onRenderResolve$(),e.$onRenderResolve$=void 0),e.$flags$&512&&ee(()=>ie(e,!1)),e.$flags$&=-517},We=e=>{He(m.documentElement),ee(()=>Se(A,"appload",{detail:{namespace:Be}}))},B=(e,t,n)=>{if(e&&e[t])try{return e[t](n)}catch(o){I(o)}},He=e=>{var t;return e.classList.add((t=z.hydratedSelectorName)!=null?t:"hydrated")},vt=(e,t)=>w(e).$instanceValues$.get(t),xt=(e,t,n,o)=>{const i=w(e);if(!i)throw new Error(`Couldn't find host element for "${o.$tagName$}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/ionic-team/stencil/issues/5457).`);const r=i.$hostElement$,a=i.$instanceValues$.get(t),l=i.$flags$,s=i.$lazyInstance$;n=rt(n,o.$members$[t][0]);const f=Number.isNaN(a)&&Number.isNaN(n),d=n!==a&&!f;if((!(l&8)||a===void 0)&&d&&(i.$instanceValues$.set(t,n),s)){if(o.$watchers$&&l&128){const h=o.$watchers$[t];h&&h.map(c=>{try{s[c](n,a,t)}catch(u){I(u,r)}})}(l&18)===2&&ie(i,!1)}},Me=(e,t,n)=>{var o,i;const r=e.prototype;if(t.$members$||t.$watchers$||e.watchers){e.watchers&&!t.$watchers$&&(t.$watchers$=e.watchers);const a=Object.entries((o=t.$members$)!=null?o:{});if(a.map(([l,[s]])=>{s&31||n&2&&s&32?Object.defineProperty(r,l,{get(){return vt(this,l)},set(f){xt(this,l,f,t)},configurable:!0,enumerable:!0}):n&1&&s&64&&Object.defineProperty(r,l,{value(...f){var d;const h=w(this);return(d=h==null?void 0:h.$onInstancePromise$)==null?void 0:d.then(()=>{var c;return(c=h.$lazyInstance$)==null?void 0:c[l](...f)})}})}),n&1){const l=new Map;r.attributeChangedCallback=function(s,f,d){b.jmp(()=>{var h;const c=l.get(s);if(this.hasOwnProperty(c))d=this[c],delete this[c];else{if(r.hasOwnProperty(c)&&typeof this[c]=="number"&&this[c]==d)return;if(c==null){const u=w(this),g=u==null?void 0:u.$flags$;if(g&&!(g&8)&&g&128&&d!==f){const p=u.$lazyInstance$,y=(h=t.$watchers$)==null?void 0:h[s];y==null||y.forEach($=>{p[$]!=null&&p[$].call(p,d,f,s)})}return}}this[c]=d===null&&typeof this[c]=="boolean"?!1:d})},e.observedAttributes=Array.from(new Set([...Object.keys((i=t.$watchers$)!=null?i:{}),...a.filter(([s,f])=>f[0]&15).map(([s,f])=>{var d;const h=f[1]||s;return l.set(h,s),f[0]&512&&((d=t.$attrsToReflect$)==null||d.push([s,h])),h})]))}}return e},wt=async(e,t,n,o)=>{let i;if((t.$flags$&32)===0){if(t.$flags$|=32,n.$lazyBundleId$){const s=qe(n);if(s&&"then"in s){const d=tt();i=await s,d()}else i=s;if(!i)throw new Error(`Constructor for "${n.$tagName$}#${t.$modeName$}" was not found`);i.isProxied||(n.$watchers$=i.watchers,Me(i,n,2),i.isProxied=!0);const f=k("createInstance",n.$tagName$);t.$flags$|=8;try{new i(t)}catch(d){I(d)}t.$flags$&=-9,t.$flags$|=128,f(),Q(t.$lazyInstance$)}else{i=e.constructor;const s=e.localName;customElements.whenDefined(s).then(()=>t.$flags$|=128)}if(i&&i.style){let s;typeof i.style=="string"&&(s=i.style);const f=Ee(n);if(!_.has(f)){const d=k("registerStyles",n.$tagName$);st(f,s,!!(n.$flags$&1)),d()}}}const r=t.$ancestorComponent$,a=()=>ie(t,!0);r&&r["s-rc"]?r["s-rc"].push(a):a()},Q=e=>{B(e,"connectedCallback")},kt=e=>{if((b.$flags$&1)===0){const t=w(e),n=t.$cmpMeta$,o=k("connectedCallback",n.$tagName$);if(t.$flags$&1)t!=null&&t.$lazyInstance$?Q(t.$lazyInstance$):t!=null&&t.$onReadyPromise$&&t.$onReadyPromise$.then(()=>Q(t.$lazyInstance$));else{t.$flags$|=1,n.$flags$&12&&St(e);{let i=e;for(;i=i.parentNode||i.host;)if(i["s-p"]){Ue(t,t.$ancestorComponent$=i);break}}n.$members$&&Object.entries(n.$members$).map(([i,[r]])=>{if(r&31&&e.hasOwnProperty(i)){const a=e[i];delete e[i],e[i]=a}}),wt(e,t,n)}o()}},St=e=>{const t=e["s-cr"]=m.createComment("");t["s-cn"]=!0,E(e,t,e.firstChild)},ye=e=>{B(e,"disconnectedCallback")},Et=async e=>{if((b.$flags$&1)===0){const t=w(e);t!=null&&t.$lazyInstance$?ye(t.$lazyInstance$):t!=null&&t.$onReadyPromise$&&t.$onReadyPromise$.then(()=>ye(t.$lazyInstance$))}},Ct=(e,t={})=>{var n;const o=k(),i=[],r=t.exclude||[],a=A.customElements,l=m.head,s=l.querySelector("meta[charset]"),f=m.createElement("style"),d=[];let h,c=!0;Object.assign(b,t),b.$resourcesUrl$=new URL(t.resourcesUrl||"./",m.baseURI).href;let u=!1;if(e.map(g=>{g[1].map(p=>{var y;const $={$flags$:p[0],$tagName$:p[1],$members$:p[2],$listeners$:p[3]};$.$flags$&4&&(u=!0),$.$members$=p[2],$.$attrsToReflect$=[],$.$watchers$=(y=p[4])!=null?y:{};const T=$.$tagName$,C=class extends HTMLElement{constructor(v){if(super(v),this.hasRegisteredEventListeners=!1,v=this,je(v,$),$.$flags$&1){if(!v.shadowRoot)v.attachShadow({mode:"open"});else if(v.shadowRoot.mode!=="open")throw new Error(`Unable to re-use existing shadow root for ${$.$tagName$}! Mode is set to ${v.shadowRoot.mode} but Stencil only supports open shadow roots.`)}}connectedCallback(){w(this),this.hasRegisteredEventListeners||(this.hasRegisteredEventListeners=!0),h&&(clearTimeout(h),h=null),c?d.push(this):b.jmp(()=>kt(this))}disconnectedCallback(){b.jmp(()=>Et(this))}componentOnReady(){return w(this).$onReadyPromise$}};$.$lazyBundleId$=g[0],!r.includes(T)&&!a.get(T)&&(i.push(T),a.define(T,Me(C,$,1)))})}),i.length>0&&(u&&(f.textContent+=ve),f.textContent+=i.sort()+Ge,f.innerHTML.length)){f.setAttribute("data-styles","");const g=(n=b.$nonce$)!=null?n:we(m);g!=null&&f.setAttribute("nonce",g),l.insertBefore(f,s?s.nextSibling:l.firstChild)}c=!1,d.length?d.map(g=>g.connectedCallback()):b.jmp(()=>h=setTimeout(We,30)),o()};const It=()=>{},Tt=async(e,t)=>{if(!(typeof window>"u"))return await It(),Ct(JSON.parse('[["lido-avatar_22",[[0,"lido-root",{"Lang":[1,"lang"],"xmlPath":[1,"xml-path"],"initialIndex":[2,"initial-index"],"margin":[1],"canplay":[4],"baseUrl":[1,"base-url"],"exitButtonUrl":[1,"exit-button-url"],"prevButtonUrl":[1,"prev-button-url"],"nextButtonUrl":[1,"next-button-url"],"speakerButtonUrl":[1,"speaker-button-url"],"xmlData":[32]},null,{"Lang":["onLangChange"]}],[0,"lido-home",{"commonAudioPath":[1,"common-audio-path"],"showNav":[4,"show-nav"],"activeContainerIndexes":[16],"Lang":[1,"lang"],"xmlData":[1,"xml-data"],"initialIndex":[2,"initial-index"],"canplay":[4],"baseUrl":[1,"base-url"],"height":[1],"exitButtonUrl":[1,"exit-button-url"],"prevButtonUrl":[1,"prev-button-url"],"nextButtonUrl":[1,"next-button-url"],"speakerButtonUrl":[1,"speaker-button-url"],"avatarUrl":[1,"avatar-url"],"uuid":[1],"navBarIcons":[32],"currentContainerIndex":[32],"exitFlag":[32],"containers":[32],"showDotsandbtn":[32]},null,{"Lang":["onLangChange"],"commonAudioPath":["onCommonAudioPathChange"],"xmlData":["onXmlDataChange"]}],[0,"lido-calculator",{"width":[1],"visible":[8],"height":[1],"objective":[1],"onEntry":[1,"on-entry"],"x":[1],"y":[1],"bgColor":[1,"bg-color"],"penIcon":[1,"pen-icon"],"displayValue":[32],"style":[32]}],[1,"lido-canvas",{"bgImage":[1,"bg-image"],"width":[1],"height":[1],"x":[1],"y":[1],"onEntry":[1,"on-entry"],"style":[32]}],[4,"lido-container",{"Lang":[1,"lang"],"showDropBorder":[4,"show-drop-border"],"appendToDropOnCompletion":[4,"append-to-drop-on-completion"],"id":[1],"objective":[1],"customStyle":[1,"custom-style"],"value":[1],"height":[1],"width":[1],"ariaLabel":[1,"aria-label"],"ariaHidden":[1,"aria-hidden"],"x":[1],"y":[1],"z":[1],"bgColor":[1,"bg-color"],"bgImage":[1,"bg-image"],"type":[1],"tabIndex":[2,"tab-index"],"visible":[4],"audio":[1],"onTouch":[1,"on-touch"],"onInCorrect":[1,"on-in-correct"],"onCorrect":[1,"on-correct"],"onEntry":[1,"on-entry"],"canplay":[4],"showCheck":[4,"show-check"],"isContinueOnCorrect":[4,"is-continue-on-correct"],"isAllowOnlyCorrect":[4,"is-allow-only-correct"],"baseUrl":[1,"base-url"],"margin":[1],"exitButtonUrl":[1,"exit-button-url"],"prevButtonUrl":[1,"prev-button-url"],"nextButtonUrl":[1,"next-button-url"],"speakerButtonUrl":[1,"speaker-button-url"],"showPrevButton":[1,"show-prev-button"],"showNextButton":[1,"show-next-button"],"delayVisible":[1,"delay-visible"],"disableSpeak":[4,"disable-speak"],"templateId":[1,"template-id"],"highlightWordByWord":[4,"highlight-word-by-word"],"instructName":[32],"speakFlag":[32]},null,{"Lang":["languageChanged"]}],[0,"lido-keyboard",{"keys":[1],"width":[1],"height":[1],"fontSize":[1,"font-size"],"fontColor":[1,"font-color"],"fontFamily":[1,"font-family"],"gap":[1],"bgColor":[1,"bg-color"],"borderRadius":[1,"border-radius"],"y":[1],"x":[1],"z":[1],"margin":[1],"padding":[1],"visible":[1],"onEntry":[1,"on-entry"],"type":[1],"keyboardInput":[4,"keyboard-input"],"columns":[1],"letterLength":[2,"letter-length"],"disableSpeak":[4,"disable-speak"],"numberOfClick":[32],"inputString":[32],"style":[32]}],[0,"lido-avatar",{"id":[1],"value":[1],"height":[1],"width":[1],"ariaLabel":[1,"aria-label"],"ariaHidden":[1,"aria-hidden"],"x":[1],"y":[1],"z":[1],"bgColor":[1,"bg-color"],"type":[1],"tabIndex":[2,"tab-index"],"visible":[4],"audio":[1],"src":[1],"onTouch":[1,"on-touch"],"onInCorrect":[1,"on-in-correct"],"onCorrect":[1,"on-correct"],"onEntry":[1,"on-entry"],"delayVisible":[1,"delay-visible"]}],[0,"lido-balance",{"pivotimage":[1],"scaleimage":[1],"handlerimage":[1],"fill":[1],"tilt":[2],"maxTilt":[2,"max-tilt"],"onEntry":[1,"on-entry"],"height":[1],"width":[1],"x":[1],"y":[1],"z":[1],"visible":[8],"margin":[1],"padding":[1],"balanceSymbol":[1537,"balance-symbol"],"showSymbol":[1540,"show-symbol"],"operation":[1],"pivotSvg":[32],"scaleSvg":[32],"handlerSvg":[32],"style":[32],"tiltf":[32],"leftVal":[32],"rightVal":[32],"revealSymbol":[64],"hideSymbol":[64],"updateTilt":[64]},null,{"tilt":["tiltChanged"]}],[4,"lido-col",{"showSpeakIcon":[4,"show-speak-icon"],"id":[1],"value":[1],"height":[1],"width":[1],"ariaLabel":[1,"aria-label"],"ariaHidden":[1,"aria-hidden"],"x":[1],"y":[1],"z":[1],"bgColor":[1,"bg-color"],"type":[1],"tabIndex":[2,"tab-index"],"visible":[4],"audio":[1],"onTouch":[1,"on-touch"],"onInCorrect":[1,"on-in-correct"],"onCorrect":[1,"on-correct"],"onEntry":[1,"on-entry"],"childElementsLength":[2,"child-elements-length"],"minLength":[2,"min-length"],"maxLength":[2,"max-length"],"direction":[1],"borderImage":[1,"border-image"],"boxShadow":[1,"box-shadow"],"minDrops":[2,"min-drops"],"maxDrops":[2,"max-drops"],"margin":[1],"style":[32]}],[4,"lido-flash-card",{"value":[1],"height":[1],"width":[1],"ariaLabel":[1,"aria-label"],"ariaHidden":[1,"aria-hidden"],"x":[1],"y":[1],"z":[1],"bgColor":[1,"bg-color"],"type":[1],"tabIndex":[2,"tab-index"],"visible":[4],"audio":[1],"onTouch":[1,"on-touch"],"onInCorrect":[1,"on-in-correct"],"onCorrect":[1,"on-correct"],"onEntry":[1,"on-entry"],"direction":[1],"display":[1],"front":[8],"back":[8],"flipped":[1540],"margin":[1],"disableSpeak":[4,"disable-speak"],"delayVisible":[1,"delay-visible"],"style":[32]},null,{"flipped":["handleFlippedChange"]}],[4,"lido-float",{"id":[1],"value":[1],"z":[1],"tabIndex":[2,"tab-index"],"visible":[4],"onEntry":[1,"on-entry"],"width":[1],"height":[1],"bgColor":[1,"bg-color"],"type":[1],"delayVisible":[1,"delay-visible"],"floatDirection":[1,"float-direction"],"style":[32]}],[0,"lido-image",{"showSpeakIcon":[4,"show-speak-icon"],"id":[1],"value":[1],"height":[1],"width":[1],"ariaLabel":[1,"aria-label"],"ariaHidden":[1,"aria-hidden"],"x":[1],"y":[1],"z":[1],"bgColor":[1,"bg-color"],"type":[1],"tabIndex":[2,"tab-index"],"visible":[8],"audio":[1],"onTouch":[1,"on-touch"],"onInCorrect":[1,"on-in-correct"],"onCorrect":[1,"on-correct"],"onEntry":[1,"on-entry"],"src":[1],"isSlice":[1,"is-slice"],"sliceWidth":[1,"slice-width"],"minDrops":[2,"min-drops"],"maxDrops":[2,"max-drops"],"margin":[1],"padding":[1],"filter":[1],"borderRadius":[1,"border-radius"],"transform":[1],"delayVisible":[1,"delay-visible"],"disableSpeak":[4,"disable-speak"],"style":[32]}],[0,"lido-math-matrix",{"rows":[1],"cols":[1],"defualtFill":[1538,"defualt-fill"],"leftIndex":[4,"left-index"],"topIndex":[4,"top-index"],"bottomIndex":[4,"bottom-index"],"clickable":[4],"activeOnlyVisible":[4,"active-only-visible"],"matrixImage":[1,"matrix-image"],"activeBgColor":[1537,"active-bg-color"],"deactiveBgColor":[1537,"deactive-bg-color"],"border":[1537],"height":[1537],"width":[1537],"borderRadius":[1,"border-radius"],"z":[1],"margin":[1],"padding":[1],"visible":[1],"text":[1],"type":[1],"value":[1],"tabIndex":[2,"tab-index"],"x":[1],"y":[1],"fontColor":[1,"font-color"],"onCorrect":[1,"on-correct"],"onInCorrect":[1,"on-in-correct"],"onEntry":[1,"on-entry"],"previousFilledSlot":[32],"previousFilledSlotElement":[32],"style":[32]}],[4,"lido-pos",{"id":[1],"value":[1],"height":[1],"width":[1],"ariaLabel":[1,"aria-label"],"ariaHidden":[1,"aria-hidden"],"x":[1],"y":[1],"z":[1],"bgColor":[1,"bg-color"],"type":[1],"tabIndex":[2,"tab-index"],"visible":[8],"audio":[1],"onTouch":[1,"on-touch"],"onInCorrect":[1,"on-in-correct"],"onCorrect":[1,"on-correct"],"onEntry":[1,"on-entry"],"minDrops":[2,"min-drops"],"maxDrops":[2,"max-drops"],"margin":[1],"style":[32]}],[4,"lido-random",{"showSpeakIcon":[4,"show-speak-icon"],"id":[1],"value":[1],"height":[1],"width":[1],"ariaLabel":[1,"aria-label"],"ariaHidden":[1,"aria-hidden"],"x":[1],"y":[1],"z":[1],"bgColor":[1,"bg-color"],"type":[1],"tabIndex":[2,"tab-index"],"visible":[4],"audio":[1],"onTouch":[1,"on-touch"],"onInCorrect":[1,"on-in-correct"],"onCorrect":[1,"on-correct"],"onEntry":[1,"on-entry"],"minDrops":[2,"min-drops"],"maxDrops":[2,"max-drops"],"margin":[1]}],[4,"lido-row",{"showSpeakIcon":[4,"show-speak-icon"],"value":[1],"height":[1],"width":[1],"ariaLabel":[1,"aria-label"],"ariaHidden":[1,"aria-hidden"],"x":[1],"y":[1],"z":[1],"bgColor":[1,"bg-color"],"type":[1],"tabIndex":[2,"tab-index"],"visible":[4],"audio":[1],"onTouch":[1,"on-touch"],"onInCorrect":[1,"on-in-correct"],"onCorrect":[1,"on-correct"],"onEntry":[1,"on-entry"],"childElementsLength":[2,"child-elements-length"],"minLength":[2,"min-length"],"maxLength":[2,"max-length"],"direction":[1],"minDrops":[2,"min-drops"],"maxDrops":[2,"max-drops"],"display":[1],"margin":[1],"disableSpeak":[4,"disable-speak"],"style":[32]}],[0,"lido-shape",{"id":[1],"value":[1],"height":[1],"width":[1],"ariaLabel":[1,"aria-label"],"ariaHidden":[1,"aria-hidden"],"x":[1],"y":[1],"z":[1],"bgColor":[1,"bg-color"],"type":[1],"tabIndex":[2,"tab-index"],"shapeType":[1,"shape-type"],"visible":[4],"audio":[1],"onTouch":[1,"on-touch"],"onInCorrect":[1,"on-in-correct"],"onCorrect":[1,"on-correct"],"onEntry":[1,"on-entry"],"minDrops":[2,"min-drops"],"maxDrops":[2,"max-drops"],"margin":[1],"delayVisible":[1,"delay-visible"],"disableSpeak":[4,"disable-speak"],"style":[32]}],[0,"lido-slide-fill",{"id":[1],"width":[1],"height":[1],"x":[1],"y":[1],"z":[1],"bgColor":[1,"bg-color"],"visible":[8],"margin":[1],"padding":[1],"borderRadius":[1,"border-radius"],"fill":[1],"numberType":[1,"number-type"],"min":[2],"division":[2],"max":[2],"slider":[4],"src":[1],"fillDirection":[1,"fill-direction"],"type":[1],"onEntry":[1,"on-entry"],"delayVisible":[1,"delay-visible"],"disableSpeak":[4,"disable-speak"],"svgContent":[32],"style":[32]},null,{"src":["onSrcChange"],"fill":["onPropChange"],"division":["onPropChange"],"fillDirection":["onPropChange"],"numberType":["onPropChange"],"min":["onPropChange"],"max":["onPropChange"]}],[0,"lido-trace",{"showSpeakIcon":[4,"show-speak-icon"],"id":[1],"svgSource":[1,"svg-source"],"value":[1],"height":[1],"width":[1],"audio":[1],"x":[1],"y":[1],"z":[1],"ariaLabel":[1,"aria-label"],"ariaHidden":[1,"aria-hidden"],"tabIndex":[2,"tab-index"],"mode":[1],"fingerHintUrl":[1,"finger-hint-url"],"onInCorrect":[1,"on-in-correct"],"onCorrect":[1,"on-correct"],"highlightTextId":[1,"highlight-text-id"],"animationTrace":[4,"animation-trace"],"delayVisible":[1,"delay-visible"],"disableSpeak":[4,"disable-speak"],"svgUrls":[32],"audioUrls":[32],"currentSvgIndex":[32],"moving":[32],"style":[32],"fileIndex":[32],"isDragging":[32],"activePointerId":[32],"freeTraceUpdateCounter":[32],"idleTimer":[32],"fingerImg":[32]},null,{"svgSource":["initializeSVG"],"mode":["initializeSVG"]}],[4,"lido-wrap",{"showSpeakIcon":[4,"show-speak-icon"],"id":[1],"value":[1],"height":[1],"width":[1],"ariaLabel":[1,"aria-label"],"ariaHidden":[1,"aria-hidden"],"x":[1],"y":[1],"z":[1],"bgColor":[1,"bg-color"],"type":[1],"tabIndex":[2,"tab-index"],"visible":[4],"audio":[1],"onTouch":[1,"on-touch"],"onInCorrect":[1,"on-in-correct"],"onCorrect":[1,"on-correct"],"onEntry":[1,"on-entry"],"childElementsLength":[2,"child-elements-length"],"minLength":[2,"min-length"],"maxLength":[2,"max-length"],"flex":[1],"minDrops":[2,"min-drops"],"maxDrops":[2,"max-drops"],"margin":[1],"disableSpeak":[4,"disable-speak"],"style":[32]}],[4,"lido-cell",{"showSpeakIcon":[4,"show-speak-icon"],"scrollbarWidth":[1,"scrollbar-width"],"id":[1],"value":[1],"height":[1],"width":[1],"ariaLabel":[1,"aria-label"],"ariaHidden":[1,"aria-hidden"],"x":[1],"y":[1],"z":[1],"gap":[1],"bgColor":[1,"bg-color"],"type":[1],"tabIndex":[2,"tab-index"],"visible":[1],"audio":[1],"onTouch":[1,"on-touch"],"onInCorrect":[1,"on-in-correct"],"onCorrect":[1,"on-correct"],"onEntry":[1,"on-entry"],"childElementsLength":[2,"child-elements-length"],"minLength":[2,"min-length"],"maxLength":[2,"max-length"],"layout":[1],"minDrops":[2,"min-drops"],"maxDrops":[2,"max-drops"],"margin":[1],"padding":[1],"alignItems":[1,"align-items"],"borderRadius":[1,"border-radius"],"flexDirection":[1,"flex-direction"],"delayVisible":[1,"delay-visible"],"disableSpeak":[4,"disable-speak"],"style":[32]}],[0,"lido-text",{"showSpeakIcon":[4,"show-speak-icon"],"id":[1],"value":[1],"string":[1],"fontFamily":[1,"font-family"],"fontSize":[1,"font-size"],"fontColor":[1,"font-color"],"highlightWhileSpeaking":[4,"highlight-while-speaking"],"height":[1],"width":[1],"ariaLabel":[1,"aria-label"],"ariaHidden":[1,"aria-hidden"],"x":[1],"y":[1],"z":[1],"bgColor":[1,"bg-color"],"borderImage":[1,"border-image"],"type":[1],"tabIndex":[2,"tab-index"],"visible":[8],"audio":[1],"onTouch":[1,"on-touch"],"onInCorrect":[1,"on-in-correct"],"onCorrect":[1,"on-correct"],"minDrops":[2,"min-drops"],"maxDrops":[2,"max-drops"],"onEntry":[1,"on-entry"],"margin":[1],"padding":[1],"borderRadius":[1,"border-radius"],"spanType":[1,"span-type"],"delayVisible":[1,"delay-visible"],"disableSpeak":[4,"disable-speak"],"style":[32]}]]]]'),t)};(function(){if(typeof window<"u"&&window.Reflect!==void 0&&window.customElements!==void 0){var e=HTMLElement;window.HTMLElement=function(){return Reflect.construct(e,[],this.constructor)},HTMLElement.prototype=e.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,e)}})();const Lt="lidoActivityEnd",Ot="lidoLessonEnd",At="lidoNextContainer",Pt="lidoPrevContainer",Rt="lidoActivityChange",_t="lidoGameCompleted",Ut="lidoGameExit",M="lido-container",be={en:new Set(["a","an","the","on","in","at","to","of","for","into","up","or","is","are","were"]),hi:new Set(["à¤•à¤¾","à¤•à¥€","à¤•à¥‡","à¤®à¥‡à¤‚","à¤ªà¤°","à¤¸à¥‡","à¤¤à¥‹","à¤•à¥‹","à¤¹à¥ˆ","à¤¥à¤¾","à¤¥à¥‡"]),ka:new Set(["à²…à²¦à³","à²‡à²¦à³","à²¨à²²à³à²²à²¿","à²®à³‡à²²à³†","à²®à²¤à³à²¤à³","à²‡à²¦à³†","à²†à²—à²¿à²¤à³à²¤à³"])},N={en:{expectedWPM:135,minWordMs:80,syllableWeight:1.28,punctuationPauseWeight:.45,preemptiveOffsetMs:55,smoothingMs:25,fastWordMultiplier:.65,fastClusterMultiplier:.65},hi:{expectedWPM:155,minWordMs:40,syllableWeight:1.3,punctuationPauseWeight:.3,preemptiveOffsetMs:20,smoothingMs:45,fastWordMultiplier:.9,fastClusterMultiplier:.9},ka:{expectedWPM:85,minWordMs:35,syllableWeight:1.75,punctuationPauseWeight:.5,preemptiveOffsetMs:15,smoothingMs:50,fastWordMultiplier:1,fastClusterMultiplier:1}};var Wt=Object.defineProperty,Ht=(e,t)=>{for(var n in t)Wt(e,n,{get:t[n],enumerable:!0})},Mt=typeof window<"u"?window:{},zt={$resourcesUrl$:""},Ft=e=>{const t=new URL(e,zt.$resourcesUrl$);return t.origin!==Mt.location.origin?t.href:t.pathname},Bt={};Ht(Bt,{err:()=>ze,map:()=>Dt,ok:()=>Z,unwrap:()=>Nt,unwrapErr:()=>jt});var Z=e=>({isOk:!0,isErr:!1,value:e}),ze=e=>({isOk:!1,isErr:!0,value:e});function Dt(e,t){if(e.isOk){const n=t(e.value);return n instanceof Promise?n.then(o=>Z(o)):Z(n)}if(e.isErr){const n=e.value;return ze(n)}throw"should never get here"}var Nt=e=>{if(e.isOk)return e.value;throw e.value},jt=e=>{if(e.isErr)return e.value;throw e.value};function me(e){if(!e)return;e.classList.add("speaking-highlight");const t="#speaking-highlight-style";if(!document.querySelector(t)){const n=document.createElement("style");n.id=t,n.innerHTML=`
      .speaking-highlight {
        --base-transform: ${e.style.transform};
        box-shadow: 0 0 20px 10px rgba(255, 165, 0, 0.9) !important; /* Stronger orange glow effect */
        // border: 3px solid green !important;
        // transition: box-shadow 0.5s ease-in-out, transform 0.5s ease-in-out;
        // transform: scale(1.05); /* Subtle scale effect to pop the element */
        // animation: pulseEffect 1.5s infinite; /* Pulsing animation */
        
      }

      @keyframes pulseEffect {
        0% {
          box-shadow: 0 0 20px 10px rgba(255, 165, 0, 0.9);
          // transform: var(--base-transform) scale(1.05);
          // background-color: #FFFF0B;
        }
        50% {
          box-shadow: 0 0 30px 15px rgba(255, 165, 0, 1);
          // transform: var(--base-transform) scale(1.1);
          // background-color: #FFFF0B;
        }
        100% {
          box-shadow: 0 0 20px 10px rgba(255, 165, 0, 0.9);
          // transform: var(--base-transform) scale(1.05);
          // background-color: #FFFF0B;
        }
      }
    `,document.head.appendChild(n)}}function R(e){e&&e.classList.remove("speaking-highlight")}const j=e=>{console.log("Setting dragging disabled to:",e)};document.getElementById(M);var qt={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};Gt(qt);function Gt(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function Kt(e){const n=document.getElementById(M).getAttribute("baseUrl");if(e!=null&&e.startsWith("http")||e!=null&&e.startsWith("blob")||e!=null&&e.startsWith("data")||e.startsWith("/Lido-CommonAudios/"))return e;if(n){const o=e.startsWith("/")?e.slice(1):e;return o.startsWith(n.replace(/^\/+|\/+$/g,""))?o:n.endsWith("/")?n+o:`${n}/${o}`}return Ft(e)}async function Xt(e,t){return new Promise((n,o)=>{if(!("speechSynthesis"in window)){o(new Error("Speech synthesis is not supported in this browser."));return}const i=window.speechSynthesis;setTimeout(()=>{const r=new SpeechSynthesisUtterance(e);r.onend=()=>{n(!0)},i.speak(r),i.speaking||R(t)},50)})}class S{constructor(){this.highlightOverlay=null,this.wordRects=[],this.activeWordIndex=-1,this.highlightRAF=null,this.handleUserClick=()=>{this.stop()},this.audioElement=document.createElement("audio"),this.audioElement.id="audio",document.body.appendChild(this.audioElement),this.registerGlobalStopEvents()}static getI(){return S.instance||(S.instance=new S),S.instance}stop(){const t=document.getElementById(M);t&&t.getAttribute("highlight-word-by-word")==="true"&&this.stopOverlayHighlightLoop(),window!=null&&window.speechSynthesis&&window.speechSynthesis.cancel(),this.audioElement.pause(),this.audioElement.currentTime=0,this.audioElement.src="",t&&t.getAttribute("highlight-word-by-word")!=="true"&&document.querySelectorAll(".speaking-highlight").forEach(r=>R(r));const n=document.querySelector("#play"),o=document.querySelector("#pause");n&&o&&(n.style.visibility="visible",o.style.visibility="hidden")}getLidoTextElement(t){return t.tagName.toLowerCase()==="lido-text"?t:t.closest("lido-text")}async play(t){try{await S.getI().stop()}catch(i){console.error("Error stopping audio before speak action:",i)}const n=document.getElementById(M);if(!n){console.warn("[AudioPlayer] No lido-container found");return}if(t.closest("lido-text"),n.getAttribute("highlight-word-by-word")==="true"){const i=this.getLidoTextElement(t);if(!i){console.warn("[AudioPlayer] No lido-text found");return}this.stopOverlayHighlightLoop(),t=i}let o=t.getAttribute("audio")||"";if(!o){const i=t.children;for(let r=0;r<i.length;r++){const a=i[r].getAttribute("audio");if(a){o=a;break}}}if(o){o=Kt(o),this.audioElement.src=o,console.log("ðŸš€ Playing audio:",this.audioElement.src);try{j(!0);const i=n.getAttribute("Lang")||"en",r=N[i]||N[i.split("-")[0]]||N.en;let a=[];const l=n.getAttribute("highlight-word-by-word")==="true";this.audioElement.onloadedmetadata=null,this.audioElement.onended=null,l?this.audioElement.onloadedmetadata=()=>{const s=this.audioElement.duration*1e3,f=t.textContent||"";a=this.buildWordTimeline(f,s,r,i),this.wordRects=this.computeWordRects(t)}:me(t),await this.audioElement.play(),l&&a.length===0?(await new Promise(s=>{this.audioElement.onloadedmetadata=()=>s()}),this.startOverlayHighlightLoop(a,r)):l&&this.startOverlayHighlightLoop(a,r),await new Promise(s=>{this.audioElement.onended=()=>s()})}catch(i){console.log("ðŸŽ§ Audio play error:",i)}finally{this.audioElement.onended=null,this.audioElement.onloadedmetadata=null,this.stopOverlayHighlightLoop(),window.removeEventListener("click",this.handleUserClick,!0),this.audioElement.onended=null,j(!1),n.getAttribute("highlight-word-by-word")!=="true"&&R(t)}}else if(t.textContent)try{me(t),window.addEventListener("click",this.handleUserClick,!0),await Xt(t.textContent,t),document.querySelectorAll(".speaking-highlight").forEach(r=>R(r))}catch(i){console.log("ðŸŽ§ TTS Error:",i)}finally{j(!1)}}registerGlobalStopEvents(){[At,Pt,Ot,Rt,Lt,_t,Ut].forEach(n=>{window.addEventListener(n,()=>this.stop())})}destroy(){console.log("AudioPlayer destroyed (hot-reload safe)"),this.stop(),this.audioElement.parentNode&&this.audioElement.parentNode.removeChild(this.audioElement),S.instance=void 0}countSyllables(t,n){if(n!=="en")return Math.max(2,Math.ceil(t.length/3));const o=t.toLowerCase().replace(/[^a-z]/g,"");if(o.length<=3)return 1;const i=o.match(/[aeiouy]{1,2}/g);return i?i.length:1}tokenize(t){return t.split(/(\s+)/).filter(Boolean)}isFastCluster(t,n,o){if(!t||!n||!o)return!1;const i=be[o];return(i==null?void 0:i.has(t))&&(i==null?void 0:i.has(n))}buildWordTimeline(t,n,o,i){const r=this.tokenize(t).filter(u=>u.trim());console.log("[buildTimeline] words:",r);const a=r.length/o.expectedWPM*6e4;let l=1;if(a>0){const u=n/a;u>1.15?l=1.1:u<.85&&(l=.9)}const s=r.map((u,g)=>{var v,re;const p=(v=r[g-1])==null?void 0:v.toLowerCase(),y=u.toLowerCase(),$=this.countSyllables(u,i),T=/[.,!?]$/.test(u);let C=$*o.syllableWeight;return T&&(C+=o.punctuationPauseWeight),(re=be[i])!=null&&re.has(y)&&(C*=o.fastWordMultiplier),this.isFastCluster(p,y,i)&&(C*=o.fastClusterMultiplier),console.log(`[buildTimeline] "${u}" syllables=${$}, weight=${C}`),C}),f=s.reduce((u,g)=>u+g,0);console.log("[buildTimeline] totalWeight:",f);let d=0;const h=r.map((u,g)=>{let p=s[g]/f*n;p*=l,p=Math.max(o.minWordMs,p);const y={word:u,index:g,startMs:d,endMs:d+p};return console.log("[timeline]",y),d+=p,y}),c=h[h.length-1];if(c&&c.endMs>n){const u=n/c.endMs;h.forEach(g=>{g.startMs*=u,g.endMs*=u})}return h}ensureOverlay(){if(this.highlightOverlay)return;const t=document.createElement("div");t.className="lido-tts-highlight-overlay",document.body.appendChild(t),this.highlightOverlay=t}clearOverlay(){this.highlightOverlay&&(this.highlightOverlay.remove(),this.highlightOverlay=null)}computeWordRects(t){const n=document.createTreeWalker(t,NodeFilter.SHOW_TEXT,null),o=[];let i,r=0;for(;i=n.nextNode();){const a=i.textContent||"",l=a.split(/\s+/).filter(Boolean);let s=0;l.forEach(f=>{const d=a.indexOf(f,s),h=d+f.length;if(d>=0){const c=document.createRange();c.setStart(i,d),c.setEnd(i,h);const u=c.getBoundingClientRect();u.width>0&&u.height>0&&(o[r++]=u)}s=h})}return o}moveOverlay(t){this.highlightOverlay&&(this.highlightOverlay.style.left=`${t.left}px`,this.highlightOverlay.style.top=`${t.top}px`,this.highlightOverlay.style.width=`${t.width}px`,this.highlightOverlay.style.height=`${t.height}px`)}startOverlayHighlightLoop(t,n){this.ensureOverlay(),this.activeWordIndex=-1;const o=()=>{if(this.audioElement.paused||this.audioElement.ended){this.stopOverlayHighlightLoop();return}const i=this.audioElement.currentTime*1e3+n.preemptiveOffsetMs,r=t.findIndex(a=>i+n.smoothingMs>=a.startMs&&i-n.smoothingMs<a.endMs);if(r>=0&&this.activeWordIndex>=0&&r-this.activeWordIndex>=2){const a=this.activeWordIndex+1;this.wordRects[a]&&(this.moveOverlay(this.wordRects[a]),this.activeWordIndex=a)}r!==this.activeWordIndex&&this.wordRects[r]&&(this.moveOverlay(this.wordRects[r]),this.activeWordIndex=r),this.highlightRAF=requestAnimationFrame(o)};this.highlightRAF=requestAnimationFrame(o)}stopOverlayHighlightLoop(){this.highlightRAF!==null&&(cancelAnimationFrame(this.highlightRAF),this.highlightRAF=null),this.clearOverlay(),this.activeWordIndex=-1}}Tt();const Fe=S.getI(),Yt={parameters:{controls:{matchers:{color:/(background|color)$/i,date:/Date$/i}}}},Jt=[(e,t)=>{try{Fe.stop()}catch(n){console.warn("Failed to stop audio player on story change:",n)}return e()}];module!=null&&module.hot&&module.hot.dispose(()=>{try{Fe.destroy()}catch(e){console.warn("Failed to destroy AudioPlayer on HMR dispose:",e)}});const tn=Object.freeze(Object.defineProperty({__proto__:null,decorators:Jt,default:Yt},Symbol.toStringTag,{value:"Module"}));export{ot as H,at as a,en as c,Vt as g,nt as h,tn as p,Zt as r};
