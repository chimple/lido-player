import{g as ir,r as $e,h as K,H as Ue,a as at}from"./preview-D0nHTLYq.js";import"./iframe-DjxFBi7S.js";const Me="lidoDragSelectedMap",je="lidoSelectedValues",Yn="lidoActivityScore",Nr="lidoActivityEnd",Wr="lidoLessonEnd",qn="lidoNextContainer",Br="lidoActivityChange",Ur="lidoGameCompleted",$r="lidoElementDrop",Hr="lidoElementClick",Gt="dropLength",rt="dropHasDrag";var qe;(function(r){r.NoFlow="lido-noFlow",r.ShowFlow="lido-showFlow",r.FreeTrace="lido-freeTrace",r.BlindTracing="lido-blindTracing",r.BlindFreeTrace="lido-blindFreeTrace"})(qe||(qe={}));class zr{constructor(){this.rightMoves=0,this.wrongMoves=0,this.finalScore=0}}function Pt(r,d){const f=new CustomEvent(r,{detail:d});window.dispatchEvent(f)}function Xr(r,d,f){Pt(Nr,{index:r,totalIndex:d,score:f})}function Yr(r){Pt(Wr,{score:r})}function Vr(){Pt(qn,{})}function Gr(){Pt(Ur,{})}function er(r){Pt(Br,{index:r})}function qr(r,d,f){Pt($r,{dragElement:r,dropElement:d,isCorrect:f,createdAt:new Date().toISOString()})}function tr(r,d){Pt(Hr,{element:r,isCorrect:d,createdAt:new Date().toISOString()})}class It{constructor(){}static getInstance(){return It.instance||(It.instance=new It),It.instance}setRiveInstance(d){this.riveInstance=d}getRiveInstance(){return this.riveInstance}}class ot{constructor(){this.audioElement=document.createElement("audio"),this.audioElement.id="audio",document.body.appendChild(this.audioElement)}static getI(){return ot.instance||(ot.instance=new ot),ot.instance}stop(){window!=null&&window.speechSynthesis&&window.speechSynthesis.cancel(),this.audioElement.pause(),this.audioElement.currentTime=0,this.audioElement.src="",document.querySelectorAll(".speaking-highlight").forEach(w=>Gn(w));const f=document.querySelector("#play"),g=document.querySelector("#pause");f&&g&&(f.style.visibility="visible",g.style.visibility="hidden")}async play(d){let f=d.getAttribute("audio")||"";if(!f){const g=d.children;for(let w=0;w<g.length;w++){const C=g[w].getAttribute("audio");C&&(f=C)}}if(f){f=Ct(f),this.audioElement.src=f,console.log("ðŸš€ Playing audio:",this.audioElement.src);try{await this.audioElement.play(),nr(d),await new Promise(g=>{this.audioElement.onended=()=>{Gn(d),g()}})}catch(g){console.log("ðŸš€ Audio play error:",g)}}else if(d.textContent)try{nr(d),await ao(d.textContent),Gn(d)}catch(g){console.log("ðŸš€ TTS Error:",g)}}}const st=new zr,Ln=r=>{r.style.animation="unset";const d=window.getComputedStyle(r).transform;if(d==="none")return 1;{const f=d.match(/matrix\(([^)]+)\)/);if(f){const g=f[1].split(", ");return parseFloat(g[0])}}return 1};function Jr(r){let d=!1,f=!1,g=0,w=0,C=0,E=0;const b=r.parentElement;if(!b){console.error("Parent element not found.");return}const x=u=>{Jt(r),f=!0,u instanceof MouseEvent?(g=u.clientX,w=u.clientY):(g=u.touches[0].clientX,w=u.touches[0].clientY),r.style.opacity="0.8",r.style.cursor="grabbing";const $=window.getComputedStyle(r).transform;if($!=="none"){const ee=$.match(/matrix\(([^)]+)\)/);if(ee){const he=ee[1].split(", ");C=parseFloat(he[4]),E=parseFloat(he[5])}}else C=0,E=0;b.getBoundingClientRect(),r.getBoundingClientRect(),document.addEventListener("mousemove",k),document.addEventListener("mouseup",D),document.addEventListener("touchmove",k),document.addEventListener("touchend",D)},L=new MutationObserver(u=>{for(const $ of u)$.type==="attributes"&&$.attributeName==="style"&&(b.getBoundingClientRect(),r.getBoundingClientRect())}),S={attributes:!0,attributeFilter:["style"]};L.observe(b,S);const k=u=>{if(!f)return;const $=Ln(b);let ee=0,he=0;u instanceof MouseEvent?(ee=(u.clientX-g)/$,he=(u.clientY-w)/$):(ee=(u.touches[0].clientX-g)/$,he=(u.touches[0].clientY-w)/$);const X=C+ee,Y=E+he,ie=b.getBoundingClientRect(),V=r.getBoundingClientRect(),U=r.style.transform.match(/-?\d+(\.\d+)?/g).map(Number),xe=V.left/$-U[0],Te=V.top-U[1],Ne=V.right/$-U[0],ye=V.bottom-U[1],He=ie.right-Ne,fe=ie.left-xe,Oe=ie.top-Te,Ae=ie.bottom-ye,Fe=X+xe<=ie.left?fe:Math.min(X,He),De=Y+Te<=ie.top?Oe:Math.min(Y,Ae);r.style.transform=`translate(${Fe}px, ${De}px)`;let re=xn(r,"slide");if(re&&re!=r){const ze=r.parentElement,be=re.parentElement;if(ze&&be){const oe=document.createComment("element-placeholder"),pe=document.createComment("overlapped-placeholder");ze.replaceChild(oe,r),be.replaceChild(pe,re),ze.replaceChild(re,oe),be.replaceChild(r,pe),r.style.transform="translate(0, 0)",g=u instanceof MouseEvent?u.clientX:u.touches[0].clientX,w=u instanceof MouseEvent?u.clientY:u.touches[0].clientY,C=0,E=0,d=!0}}},D=u=>{f=!1,document.removeEventListener("mousemove",k),document.removeEventListener("mouseup",D),document.removeEventListener("touchmove",k),document.removeEventListener("touchend",D),r.style.opacity="",r.style.cursor="move",r.style.transform="translate(0, 0)",d&&(Kr(r),d=!1)};r.style.cursor="move",r.style.transform="translate(0, 0)",r.addEventListener("mousedown",x),r.addEventListener("touchstart",x),r.addEventListener("click",u=>{Kn(r,"drag")})}const Kr=r=>{const d=JSON.parse(localStorage.getItem(je))||[],f=document.querySelectorAll("[type='slide']");let g=0;f.forEach(x=>{d[g++]=x.value}),localStorage.setItem(je,JSON.stringify(d));const C=document.querySelector("#lido-container").objective.split(","),E=d.indexOf(r.value),b=rr(r.value,[C[E].trim()]);Sn(b),En()};function Zr(r){let d=!1,f=!1,g=0,w=0,C=0,E=0;const b=document.querySelector("#lido-container");if(!b){console.error('Container with ID "container" not found.');return}Qn(r,"drag");let x,L;const S=X=>{ot.getI().stop(),Jt(r),d=!0,f=!0,X instanceof MouseEvent?(g=X.clientX,w=X.clientY):(g=X.touches[0].clientX,w=X.touches[0].clientY),r.style.opacity="0.8",r.style.cursor="grabbing";const Y=window.getComputedStyle(r).transform;if(Y!=="none"){const ie=Y.match(/matrix\(([^)]+)\)/);if(ie){const V=ie[1].split(", ");C=parseFloat(V[4]),E=parseFloat(V[5])}}else C=0,E=0;document.addEventListener("mousemove",ee),document.addEventListener("mouseup",he),document.addEventListener("touchmove",ee),document.addEventListener("touchend",he)},k=b.getBoundingClientRect(),D=r.getBoundingClientRect();x=k.top-D.top,L=k.left-D.left;const u=new MutationObserver(X=>{for(const Y of X)if(Y.type==="attributes"&&Y.attributeName==="style"){const ie=b.getBoundingClientRect(),V=r.getBoundingClientRect();x=ie.top-V.top,L=ie.left-V.left}}),$={attributes:!0,attributeFilter:["style"]};u.observe(b,$);const ee=X=>{if(!d)return;f=!1,r.style.transition="none";const Y=Ln(b);let ie=0,V=0;X instanceof MouseEvent?(ie=(X.clientX-g)/Y,V=(X.clientY-w)/Y):(ie=(X.touches[0].clientX-g)/Y,V=(X.touches[0].clientY-w)/Y);const we=C+ie,U=E+V,xe=b.getBoundingClientRect(),Te=r.getBoundingClientRect(),ye=r.style.transform.match(/-?\d+(\.\d+)?/g).map(Number),He=Te.left/Y-ye[0],fe=Te.top-ye[1],Oe=xe.width/Y-Math.abs(L/Y)-Te.width/Y,Ae=xe.left-He,Fe=xe.top-fe,De=xe.height/Y-Math.abs(x/Y)-Te.height/Y,re=we+He<=xe.left?Ae:Math.min(we,Oe),ze=U+fe<=xe.top?Fe:Math.min(U,De);r.style.transform=`translate(${re}px, ${ze}px)`;let be=xn(r,"drop");document.querySelectorAll("[type='drop']").forEach(pe=>{const Xe=JSON.parse(localStorage.getItem(Me))||{};Object.keys(Xe).map(Number).includes(pe.tabIndex)?(pe.tagName.toLowerCase()==="lido-text"&&(pe.style.border="",pe.style.backgroundColor="transparent"),pe.tagName.toLowerCase()==="lido-image"&&(pe.style.opacity="0")):(pe.tagName.toLowerCase()==="lido-text"&&(pe.style.border="",pe.style.backgroundColor=""),pe.tagName.toLowerCase()==="lido-image"&&(pe.style.opacity="1"))}),be&&(be.tagName.toLowerCase()==="lido-text"?(be.style.border="2px dashed #ff0000",be.style.backgroundColor="rgba(255, 0, 0, 0.1)"):be.style.opacity="0.3")},he=X=>{if(d=!1,f)return;document.removeEventListener("mousemove",ee),document.removeEventListener("mouseup",he),document.removeEventListener("touchmove",ee),document.removeEventListener("touchend",he),r.style.opacity="",r.style.cursor="move";const Y=document.querySelectorAll("[type='drop']");Y.forEach(V=>{Y.forEach(we=>{const U=JSON.parse(localStorage.getItem(Me))||{};Object.keys(U).map(Number).includes(we.tabIndex)?(we.tagName.toLowerCase()==="lido-text"&&(we.style.border="",we.style.backgroundColor="transparent"),we.tagName.toLowerCase()==="lido-image"&&(we.style.opacity="0")):(we.tagName.toLowerCase()==="lido-text"&&(we.style.border="",we.style.backgroundColor=""),we.tagName.toLowerCase()==="lido-image"&&(we.style.opacity="1"))})});let ie=xn(r,"drop");_n(r,ie)};r.style.cursor="move",r.style.transform="translate(0, 0)",r.addEventListener("mousedown",S),r.addEventListener("touchstart",S),r.addEventListener("click",X=>{f&&Kn(r,"drag")})}const xn=(r,d)=>{const f=r.getBoundingClientRect(),g=document.querySelectorAll(`[type="${d}"]`);let w=null,C=0;return g.forEach(E=>{if(E===r)return;const b=E.getBoundingClientRect(),x=Math.max(0,Math.min(f.right,b.right)-Math.max(f.left,b.left)),L=Math.max(0,Math.min(f.bottom,b.bottom)-Math.max(f.top,b.top)),S=x*L;if(S!==0)if(d==="slide"){const k=f.width*f.height,D=b.width*b.height,u=Math.min(k,D)*.8;S>=u&&S>C&&(C=S,w=E)}else S>C&&(C=S,w=E)}),w};async function _n(r,d){const f=localStorage.getItem(je)||"",g=localStorage.getItem(Me);let w=JSON.parse(localStorage.getItem(rt)||" {}");if(d&&(d.getAttribute("isAllowOnlyOneDrop")==="true"||!d.getAttribute("isAllowOnlyOneDrop"))){const b=Object.values(w).find(L=>document.getElementById(L.drop)===d);if(b.isFull=!0,localStorage.setItem(rt,JSON.stringify(w)),xn(r,"drag")){if(r.style.transform="translate(0,0)",r.style.transition="transform 0.5s ease",g){let S=JSON.parse(g);for(const k in S)S[k].includes(r.value)&&delete S[k];localStorage.setItem(Me,JSON.stringify(S))}document.querySelectorAll("[type='drop']").forEach(S=>{const k=JSON.parse(localStorage.getItem(Me))||{};Object.keys(k).map(Number).includes(S.tabIndex)?(S.tagName.toLowerCase()==="lido-text"&&(S.style.border="",S.style.backgroundColor="transparent"),S.tagName.toLowerCase()==="lido-image"&&(S.style.opacity="0")):(S.tagName.toLowerCase()==="lido-text"&&(S.style.border="",S.style.backgroundColor=""),S.tagName.toLowerCase()==="lido-image"&&(S.style.opacity="1"))});return}}if(!d){let b=Vn.get(r);if(b){let L=Object.values(w).find(S=>document.getElementById(S.drop)===b);L&&(L.isFull=!1,localStorage.setItem(rt,JSON.stringify(w)))}if(f){let L=JSON.parse(f);L=L.filter(S=>S!=r.value),localStorage.setItem(je,JSON.stringify(L))}if(g){let L=JSON.parse(g);for(const S in L)L[S].includes(r.value)&&delete L[S];localStorage.setItem(Me,JSON.stringify(L))}document.querySelectorAll("[type='drop']").forEach(L=>{const S=JSON.parse(localStorage.getItem(Me))||{};Object.keys(S).map(Number).includes(L.tabIndex)?(L.tagName.toLowerCase()==="lido-text"&&(L.style.border="",L.style.backgroundColor="transparent"),L.tagName.toLowerCase()==="lido-image"&&(L.style.opacity="0")):(L.tagName.toLowerCase()==="lido-text"&&(L.style.border="",L.style.backgroundColor=""),L.tagName.toLowerCase()==="lido-image"&&(L.style.opacity="1"))}),En();return}if(g){let b=Vn.get(r);if(b){let L=Object.values(w).find(S=>document.getElementById(S.drop)===b);L&&(L.isFull=!1,localStorage.setItem(rt,JSON.stringify(w)))}let x=JSON.parse(g);for(const L in x)x[L].includes(r.value)&&delete x[L];localStorage.setItem(Me,JSON.stringify(x))}let C=JSON.parse(localStorage.getItem(Gt))||0;if(C+=1,localStorage.setItem(Gt,JSON.stringify(C)),C===qt(d.value)){const b=Object.values(w).find(x=>document.getElementById(x.drop)===d);b.isFull=!0,localStorage.setItem(rt,JSON.stringify(w)),C=0,localStorage.setItem(Gt,JSON.stringify(C))}Vn.set(r,d);const E=d.value.includes(r.value);if(qr(r,d,E),E){const b=d.getAttribute("onCorrect");b&&await Be(b,d,r)}else{const b=d.getAttribute("onInCorrect");await Be(b,d,r)}Sn(E),r.style.opacity="1",await eo(r,d)}const Be=async(r,d,f)=>{const g=Qr(r);for(let w=0;w<g.length;w++){const C=g[w],E=document.querySelector(C.actor),b=C.actor==="this"?d:C.actor==="element"?f:E||document.getElementById(C.actor);if(b)switch(C.action){case"transform":{const x=window.getComputedStyle(b).transform;b.style.transform=x!=="none"?`${x} ${C.value}`:C.value;break}case"alignMatch":{const x=b,L=f,S=document.querySelector("#lido-container"),k=Ln(S);L.style.transform="translate(0,0)";const D=x.getBoundingClientRect(),u=L.getBoundingClientRect(),$=D.left+D.width/2,ee=D.top+D.height/2,he=u.left+u.width/2,X=u.top+u.height/2,Y=($-he)/k,ie=(ee-X)/k;L.style.transform=`translate(${Y}px, ${ie}px)`;break}case"addClass":{b.classList.add(C.value);break}case"speak":{await ot.getI().play(b);break}case"stop":{await ot.getI().stop();break}case"sleep":{!isNaN(Number(C.value))&&await new Promise(L=>setTimeout(L,Number(C.value)));break}case"avatarAnimate":{const L=It.getInstance().getRiveInstance();L&&C.value&&L.play(C.value);break}default:{b.style[C.action]=C.value;break}}}},Qr=r=>{var d;const f=[];return r&&((d=r.split(";"))===null||d===void 0?void 0:d.map(w=>w.trim())).forEach(w=>{if(w){const[C,E]=w.split("=").map(x=>x.trim()),b=C.lastIndexOf(".");if(b!==-1){const x=C.substring(0,b).trim(),L=C.substring(b+1).trim();f.push({actor:x,action:L,value:E.replace(/['"]/g,"")})}}}),f},rr=(r,d)=>{const f=r.split(",").map(C=>C.trim());let g=0,w=new Set;for(const C of f)if(C.startsWith("(")&&C.endsWith(")")){const E=C.slice(1,-1).split("|").map(x=>x.trim()),b=d[g].slice(1,-1).split("|").map(x=>x.trim());if(g>=b.length)return!1;for(let x=0;x<E.length;x++)if(!E.includes(b[x]))return!1;g++}else if(C.includes("|")){const E=C.split("|").map(b=>b.trim());for(const b of E)w.add(b)}else{if(g>=d.length||d[g]!==C)return!1;g++}for(;g<d.length;){if(!w.has(d[g]))return!1;w.delete(d[g]),g++}return g===d.length},qt=r=>{const d=r.split(",").map(g=>g.trim());let f=0;for(const g of d)g.startsWith("(")&&g.endsWith(")")?g.includes("|")?f+=g.split("|").length:f+=1:f+=g.split("|").length;return f};async function eo(r,d){var f;const g=document.querySelector("#lido-container");if(!g)return;if(g.getAttribute("isAllowOnlyCorrect")==="true"&&!d.value.includes(r.value)){r.style.transform="translate(0,0)";return}await Be("this.alignMatch='true'",d,r);let C=JSON.parse((f=localStorage.getItem(Me))!==null&&f!==void 0?f:"{}");const E=d.getAttribute("tabindex");C[E]||(C[E]=[]),C[E].push(r.value),localStorage.setItem(Me,JSON.stringify(C));const x=Object.keys(C).sort((S,k)=>parseInt(S)-parseInt(k)).reduce((S,k)=>{const D=C[k];return D.length>1?S.push(`(${D.join("|")})`):S.push(D[0]),S},[]);localStorage.setItem(je,JSON.stringify(x)),document.querySelectorAll("[type='drop']").forEach(S=>{const k=JSON.parse(localStorage.getItem(Me))||{};Object.keys(k).map(Number).includes(S.tabIndex)?(S.tagName.toLowerCase()==="lido-text"&&(S.style.border="",S.style.backgroundColor="transparent"),S.tagName.toLowerCase()==="lido-image"&&(S.style.opacity="0")):(S.tagName.toLowerCase()==="lido-text"&&(S.style.border="",S.style.backgroundColor=""),S.tagName.toLowerCase()==="lido-image"&&(S.style.opacity="1"))}),En()}const Sn=r=>{r?st.rightMoves+=1:st.wrongMoves+=1,console.log("Right Moves : ",st.rightMoves),console.log("Wrong Moves : ",st.wrongMoves)},to=()=>{const r=st.rightMoves,d=st.wrongMoves;let f=Math.floor(r/(r+d)*100);no(f),st.rightMoves=0,st.wrongMoves=0},no=r=>{var d,f,g;const w=document.querySelector("lido-home");if(!w)return;const C=Number((d=w.getAttribute("index"))!==null&&d!==void 0?d:0),E=Number((f=w.getAttribute("totalIndex"))!==null&&f!==void 0?f:0),b=JSON.parse((g=localStorage.getItem(Yn))!==null&&g!==void 0?g:"{}"),x=C.toString();if(b[x]=r,Xr(C,E,r),localStorage.setItem(Yn,JSON.stringify(b)),E-1==C){const L=Object.values(b),S=L.reduce((k,D)=>k+D,0)/L.length;st.finalScore=Math.floor(S),console.log("Total Score : ",st.finalScore),Yr(S),localStorage.removeItem(Yn)}},En=()=>{var r;const d=document.querySelector("#lido-container"),f=d.objective,g=(r=localStorage.getItem(je))!==null&&r!==void 0?r:"",w=document.querySelector("#lido-checkButton");if(!g||qt(g)!==qt(f)){Be("this.addClass='lido-disable-check-button'",w);return}d.getAttribute("showCheck")=="true"?w.classList.remove("lido-disable-check-button"):Jn()},Jn=async()=>{var r;const d=document.querySelector("#lido-container");if(!d)return;const f=d.objective,g=(r=JSON.parse(localStorage.getItem(je)))!==null&&r!==void 0?r:[];if(rr(f,g)){const C=d.getAttribute("onCorrect");C&&await Be(C,d),An()}else{const C=d.getAttribute("onInCorrect");await Be(C,d),d.getAttribute("isContinueOnCorrect")==="true"||An()}await to()},An=()=>{ot.getI().stop(),console.log("ðŸš€ ~ triggerNextContainer ~ event:",event),Vr()},gt=async(r,d)=>{const f=document.querySelector("#lido-container");if(!f)return;const g=r.getAttribute("onEntry");await Be(g,r);const w=f.getAttribute("canplay");if(!(w!=null&&w==="false")){switch(d){case"drag":{Zr(r);break}case"click":{ro(r);break}case"drop":{oo(r);break}case"slide":{Jr(r);break}}io(r)}};function io(r){if(!r)return;const d=r.getAttribute("onTouch");d&&(r.onclick=async()=>{console.log("ðŸš€ ~ element.onclick= ~ onTouch:",d),d&&await Be(d,r)})}function ro(r){if(Qn(r,"click"),r.style.cursor="pointer",!r){console.error("No element provided.");return}const d=async()=>{ot.getI().stop();const f=document.querySelector("#lido-container"),g=f.objective.split(","),w=document.querySelector("#lido-checkButton"),C=f.getAttribute("showCheck")==="true";if(r.getAttribute("id")=="lido-checkButton"){w.classList.add("lido-disable-check-button"),await Jn();return}const E=r.classList.contains("lido-element-selected");let b=JSON.parse(localStorage.getItem(je))||[];if(g.length===1){localStorage.setItem(je,JSON.stringify([r.value]));const x=g.includes(r.value);if(tr(r,x),x){const L=r.getAttribute("onCorrect");r.style.pointerEvents="none",await Be(L,r)}else{const L=r.getAttribute("onInCorrect");await Be(L,r)}Sn(x),En();return}if(C&&w.classList.remove("lido-disable-check-button"),E){r.classList.remove("lido-element-selected"),Be(r.getAttribute("onEntry"),r),b=b.filter(k=>k!=r.value),localStorage.setItem(je,JSON.stringify(b));let x=JSON.parse(localStorage.getItem(Me))||{};const L=r.value,S=Object.keys(x).find(k=>x[k].includes(L));if(S){x[S]=x[S].filter(u=>u!==L),x[S].length===0&&delete x[S],localStorage.setItem(Me,JSON.stringify(x));const D=Object.keys(x).sort((u,$)=>parseInt(u)-parseInt($)).reduce((u,$)=>u.concat(x[$]),[]);localStorage.setItem(je,JSON.stringify(D))}C&&b.length===0&&w.classList.add("lido-disable-check-button");return}else{r.classList.add("lido-element-selected");const x=r.value,L=Object.keys(g).find($=>g[$]===x);let S=JSON.parse(localStorage.getItem(Me))||{};L?S[L]=[x]:S[g.length+b.length]=[x],localStorage.setItem(Me,JSON.stringify(S));const D=Object.keys(S).sort(($,ee)=>parseInt($)-parseInt(ee)).reduce(($,ee)=>$.concat(S[ee]),[]);localStorage.setItem(je,JSON.stringify(D));const u=g.includes(r.value);if(tr(r,u),u){const $=r.getAttribute("onCorrect");await Be($,r)}else{const $=r.getAttribute("onInCorrect");await Be($,r)}Sn(u)}!C&&qt(g)===qt(b)&&Jn()};r.addEventListener("click",d)}function oo(r){let d=JSON.parse(localStorage.getItem(rt)||"{}");const f=r.getAttribute("tabIndex");(typeof d!="object"||d===null)&&(d={}),d[f]||(d[f]={drop:r.id,isFull:!1},localStorage.setItem(rt,JSON.stringify(d))),r.onclick=()=>{Kn(r,"drop")},Qn(r,"drop")}async function Kn(r,d){if(document.querySelectorAll(`[type='${d}']`).forEach(C=>{Jt(C)}),!document.querySelector("#dynamic-highlight-style")){const C=document.createElement("style");C.id="dynamic-highlight-style",C.innerHTML=`
      .highlight {
        // border: 4px solid #e74c3c; /* Thicker red border for more visibility */
        // border-radius: 12px; /* Larger rounded corners */
        background-color: rgba(231, 76, 60, 0.3); /* Stronger, more noticeable background */
        box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2), 0 12px 40px rgba(0, 0, 0, 0.2); /* Stronger shadow */
        outline: 4px solid rgba(231, 76, 60, 0.6); /* Glow effect */
      }
    `,document.head.appendChild(C)}r==null||r.classList.add("highlight"),r.ariaPressed="true";const g=d==="drop"?r:document.querySelector("[type='drop'].highlight"),w=d==="drag"?r:document.querySelector("[type='drag'].highlight");if(g||so(r),g&&w){w.style.transition="transform 0.5s ease",w.style.transform="";const C=document.querySelector("#lido-container"),E=Ln(C);console.log("ðŸš€ ~ onClickDropOrDragElement ~ containerScale:",E);const b=g.getBoundingClientRect(),x=w.getBoundingClientRect(),L=(b.left-x.left)/E,S=(b.top-x.top)/E;w.style.transform=`translate(${L}px, ${S}px)`,document.querySelectorAll("*").forEach(D=>{Jt(D)}),await _n(w,g)}}const Vn=new Map;async function so(r){const d=JSON.parse(localStorage.getItem(rt)||"{}"),f=r;if(!f){console.error("Element not found");return}const g=getComputedStyle(f).transform;if(Jt(r),g&&g!=="none"&&g!=="matrix(1, 0, 0, 1, 0, 0)"){f.style.transition="transform 0.5s ease",f.style.transform="translate(0px, 0px)",_n(f,null);return}let w=Object.values(d).find(C=>!C.isFull);if(w){const C=document.querySelector(`#${w.drop}`);f.style.transition="transform 0.5s ease",_n(f,C)}}function Jt(r){r.classList.remove("highlight"),r.ariaPressed="false"}function nr(r){if(!r)return;r.classList.add("speaking-highlight");const d="#speaking-highlight-style";if(!document.querySelector(d)){const f=document.createElement("style");f.id=d,f.innerHTML=`
      .speaking-highlight {
        --base-transform: ${r.style.transform};
        box-shadow: 0 0 20px 10px rgba(255, 165, 0, 0.9) !important; /* Stronger orange glow effect */
        // border: 3px solid green !important;
        transition: box-shadow 0.5s ease-in-out, transform 0.5s ease-in-out;
        transform: scale(1.05); /* Subtle scale effect to pop the element */
        animation: pulseEffect 1.5s infinite; /* Pulsing animation */
      }

      @keyframes pulseEffect {
        0% {
          box-shadow: 0 0 20px 10px rgba(255, 165, 0, 0.9);
          transform: var(--base-transform) scale(1.05);
        }
        50% {
          box-shadow: 0 0 30px 15px rgba(255, 165, 0, 1);
          transform: var(--base-transform) scale(1.1);
        }
        100% {
          box-shadow: 0 0 20px 10px rgba(255, 165, 0, 0.9);
          transform: var(--base-transform) scale(1.05);
        }
      }
    `,document.head.appendChild(f)}}function Gn(r){r&&r.classList.remove("speaking-highlight")}function Ct(r){const f=document.querySelector("#lido-container").getAttribute("baseUrl");return r.startsWith("http")?r:f?f+r:ir(r)}async function ao(r,d){return new Promise((f,g)=>{if(!("speechSynthesis"in window)){g(new Error("Speech synthesis is not supported in this browser."));return}const w=window.speechSynthesis;setTimeout(()=>{const C=new SpeechSynthesisUtterance(r);C.onend=()=>{f(!0)},w.speak(C)},50)})}function Zn(r,d,f,g,w){if(g===void 0)return;const C=Array.from(r.children);let E=g;d&&g<d&&(E=d),f&&g>f&&(E=f),C.forEach((b,x)=>{b.style.display=x<E?w:"none"})}const Z=(r,d)=>!r||!r.includes(",")?r:r.split(",").reduce((g,w)=>{const[C,E]=w.split(".");return g[C.trim()]=E.trim(),g},{})[d]||"",Qn=(r,d)=>{const f=document.querySelectorAll("[type='drag']"),g=document.querySelectorAll("[type='drop']"),w=document.querySelectorAll("[type='click']");let C=0;if(d==="click"){w.forEach(E=>{const b=E;let x=null;if(b.getAttribute("flexibleWidth"))x=b;else{const L=b.children;for(let S=0;S<L.length;S++){const k=L[S];if(k.getAttribute("flexibleWidth")){x=k;break}}}if(x){const L=x.style.width,S=x.style.padding;x.style.width="auto",x.style.padding="0 20px";const k=x.offsetWidth;x.style.width=L,x.style.padding=S,k>C&&(C=k)}}),w.forEach(E=>{const b=E;if(b.getAttribute("flexibleWidth")){if(b.getAttribute("flexibleWidth")==="true")return;b.style.width=`${C}px`}else{const x=b.children;for(let L=0;L<x.length;L++){const S=x[L];if(S.getAttribute("flexibleWidth")){if(S.getAttribute("flexibleWidth")==="true")return;S.style.width=`${C}px`;break}}}});return}f.forEach(E=>{const b=E,x=b.style.width,L=b.style.padding;b.style.width="auto",b.style.padding="0 20px";const S=b.offsetWidth;b.style.width=x,b.style.padding=L,S>C&&(C=S)}),f.forEach(E=>{const b=E,x=b.getAttribute("flexibleWidth");x==="false"?b.style.width=`${C}px`:x==="true"&&d==="drag"&&(b.style.width="auto",b.style.padding="0 20px")}),g.forEach(E=>{const b=E,x=b.getAttribute("flexibleWidth");if(x==="false"){const L=parseFloat(getComputedStyle(b).borderWidth);if(typeof L=="number"){const S=C-L*2,k=parseFloat(b.style.height)-L*2;b.style.height=`${k}px`,b.style.width=`${S}px`;return}}else x==="true"&&d==="drag"&&(b.style.width="auto",b.style.padding="0 20px")})};var lo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},or={exports:{}};(function(r,d){(function(g,w){r.exports=w()})(lo,()=>(()=>{var f=[,(E,b,x)=>{x.r(b),x.d(b,{default:()=>S});var L=(()=>{var k=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return function(D={}){var u=D,$,ee;u.ready=new Promise((e,t)=>{$=e,ee=t});function he(){function e(h){const y=o;n=t=0,o=new Map,y.forEach(_=>{try{_(h)}catch(v){console.error(v)}}),this.ob(),s&&s.Tb()}let t=0,n=0,o=new Map,s=null,l=null;this.requestAnimationFrame=function(h){t||(t=requestAnimationFrame(e.bind(this)));const y=++n;return o.set(y,h),y},this.cancelAnimationFrame=function(h){o.delete(h),t&&o.size==0&&(cancelAnimationFrame(t),t=0)},this.Rb=function(h){l&&(document.body.remove(l),l=null),h||(l=document.createElement("div"),l.style.backgroundColor="black",l.style.position="fixed",l.style.right=0,l.style.top=0,l.style.color="white",l.style.padding="4px",l.innerHTML="RIVE FPS",h=function(y){l.innerHTML="RIVE FPS "+y.toFixed(1)},document.body.appendChild(l)),s=new function(){let y=0,_=0;this.Tb=function(){var v=performance.now();_?(++y,v-=_,1e3<v&&(h(1e3*y/v),y=_=0)):(_=v,y=0)}}},this.Ob=function(){l&&(document.body.remove(l),l=null),s=null},this.ob=function(){}}function X(e){console.assert(!0);const t=new Map;let n=-1/0;this.push=function(o){return o=o+((1<<e)-1)>>e,t.has(o)&&clearTimeout(t.get(o)),t.set(o,setTimeout(function(){t.delete(o),t.length==0?n=-1/0:o==n&&(n=Math.max(...t.keys()),console.assert(n<o))},1e3)),n=Math.max(o,n),n<<e}}const Y=u.onRuntimeInitialized;u.onRuntimeInitialized=function(){Y&&Y();let e=u.decodeAudio;u.decodeAudio=function(s,l){s=e(s),l(s)};let t=u.decodeFont;u.decodeFont=function(s,l){s=t(s),l(s)};const n=u.FileAssetLoader;u.ptrToAsset=s=>{let l=u.ptrToFileAsset(s);return l.isImage?u.ptrToImageAsset(s):l.isFont?u.ptrToFontAsset(s):l.isAudio?u.ptrToAudioAsset(s):l},u.CustomFileAssetLoader=n.extend("CustomFileAssetLoader",{__construct:function({loadContents:s}){this.__parent.__construct.call(this),this.Gb=s},loadContents:function(s,l){return s=u.ptrToAsset(s),this.Gb(s,l)}}),u.CDNFileAssetLoader=n.extend("CDNFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this)},loadContents:function(s){let l=u.ptrToAsset(s);return s=l.cdnUuid,s===""?!1:(function(h,y){var _=new XMLHttpRequest;_.responseType="arraybuffer",_.onreadystatechange=function(){_.readyState==4&&_.status==200&&y(_)},_.open("GET",h,!0),_.send(null)}(l.cdnBaseUrl+"/"+s,h=>{l.decode(new Uint8Array(h.response))}),!0)}}),u.FallbackFileAssetLoader=n.extend("FallbackFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this),this.kb=[]},addLoader:function(s){this.kb.push(s)},loadContents:function(s,l){for(let h of this.kb)if(h.loadContents(s,l))return!0;return!1}});let o=u.computeAlignment;u.computeAlignment=function(s,l,h,y,_=1){return o.call(this,s,l,h,y,_)}};const ie="createConicGradient createImageData createLinearGradient createPattern createRadialGradient getContextAttributes getImageData getLineDash getTransform isContextLost isPointInPath isPointInStroke measureText".split(" "),V=new function(){function e(){if(!t){let J=function(te,j,Ce){if(j=T.createShader(j),T.shaderSource(j,Ce),T.compileShader(j),Ce=T.getShaderInfoLog(j),0<(Ce||"").length)throw Ce;T.attachShader(te,j)};var p=document.createElement("canvas"),R={alpha:1,depth:0,stencil:0,antialias:0,premultipliedAlpha:1,preserveDrawingBuffer:0,powerPreference:"high-performance",failIfMajorPerformanceCaveat:0,enableExtensionsByDefault:1,explicitSwapControl:1,renderViaOffscreenBackBuffer:1};let T;if(/iPhone|iPad|iPod/i.test(navigator.userAgent)){if(T=p.getContext("webgl",R),n=1,!T)return console.log("No WebGL support. Image mesh will not be drawn."),!1}else if(T=p.getContext("webgl2",R))n=2;else if(T=p.getContext("webgl",R))n=1;else return console.log("No WebGL support. Image mesh will not be drawn."),!1;if(T=new Proxy(T,{get(te,j){if(te.isContextLost()){if(_||(console.error("Cannot render the mesh because the GL Context was lost. Tried to invoke ",j),_=!0),typeof te[j]=="function")return function(){}}else return typeof te[j]=="function"?function(...Ce){return te[j].apply(te,Ce)}:te[j]},set(te,j,Ce){if(te.isContextLost())_||(console.error("Cannot render the mesh because the GL Context was lost. Tried to set property "+j),_=!0);else return te[j]=Ce,!0}}),o=Math.min(T.getParameter(T.MAX_RENDERBUFFER_SIZE),T.getParameter(T.MAX_TEXTURE_SIZE)),p=T.createProgram(),J(p,T.VERTEX_SHADER,`attribute vec2 vertex;
                attribute vec2 uv;
                uniform vec4 mat;
                uniform vec2 translate;
                varying vec2 st;
                void main() {
                    st = uv;
                    gl_Position = vec4(mat2(mat) * vertex + translate, 0, 1);
                }`),J(p,T.FRAGMENT_SHADER,`precision highp float;
                uniform sampler2D image;
                varying vec2 st;
                void main() {
                    gl_FragColor = texture2D(image, st);
                }`),T.bindAttribLocation(p,0,"vertex"),T.bindAttribLocation(p,1,"uv"),T.linkProgram(p),R=T.getProgramInfoLog(p),0<(R||"").trim().length)throw R;s=T.getUniformLocation(p,"mat"),l=T.getUniformLocation(p,"translate"),T.useProgram(p),T.bindBuffer(T.ARRAY_BUFFER,T.createBuffer()),T.enableVertexAttribArray(0),T.enableVertexAttribArray(1),T.bindBuffer(T.ELEMENT_ARRAY_BUFFER,T.createBuffer()),T.uniform1i(T.getUniformLocation(p,"image"),0),T.pixelStorei(T.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),t=T}return!0}let t=null,n=0,o=0,s=null,l=null,h=0,y=0,_=!1;e(),this.hc=function(){return e(),o},this.Mb=function(p){t.deleteTexture&&t.deleteTexture(p)},this.Lb=function(p){if(!e())return null;const R=t.createTexture();return R?(t.bindTexture(t.TEXTURE_2D,R),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,p),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),n==2?(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR_MIPMAP_LINEAR),t.generateMipmap(t.TEXTURE_2D)):t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),R):null};const v=new X(8),M=new X(8),F=new X(10),N=new X(10);this.Qb=function(p,R,T,J,te){if(e()){var j=v.push(p),Ce=M.push(R);if(t.canvas){(t.canvas.width!=j||t.canvas.height!=Ce)&&(t.canvas.width=j,t.canvas.height=Ce),t.viewport(0,Ce-R,p,R),t.disable(t.SCISSOR_TEST),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT),t.enable(t.SCISSOR_TEST),T.sort((ce,nt)=>nt.wb-ce.wb),j=F.push(J),h!=j&&(t.bufferData(t.ARRAY_BUFFER,8*j,t.DYNAMIC_DRAW),h=j),j=0;for(var Re of T)t.bufferSubData(t.ARRAY_BUFFER,j,Re.Ta),j+=4*Re.Ta.length;console.assert(j==4*J);for(var tt of T)t.bufferSubData(t.ARRAY_BUFFER,j,tt.Db),j+=4*tt.Db.length;console.assert(j==8*J),j=N.push(te),y!=j&&(t.bufferData(t.ELEMENT_ARRAY_BUFFER,2*j,t.DYNAMIC_DRAW),y=j),Re=0;for(var At of T)t.bufferSubData(t.ELEMENT_ARRAY_BUFFER,Re,At.indices),Re+=2*At.indices.length;console.assert(Re==2*te),At=0,tt=!0,j=Re=0;for(const ce of T){ce.image.Ka!=At&&(t.bindTexture(t.TEXTURE_2D,ce.image.Ja||null),At=ce.image.Ka),ce.mc?(t.scissor(ce.Ya,Ce-ce.Za-ce.jb,ce.Ac,ce.jb),tt=!0):tt&&(t.scissor(0,Ce-R,p,R),tt=!1),T=2/p;const nt=-2/R;t.uniform4f(s,ce.ha[0]*T*ce.Ba,ce.ha[1]*nt*ce.Ca,ce.ha[2]*T*ce.Ba,ce.ha[3]*nt*ce.Ca),t.uniform2f(l,ce.ha[4]*T*ce.Ba+T*(ce.Ya-ce.ic*ce.Ba)-1,ce.ha[5]*nt*ce.Ca+nt*(ce.Za-ce.jc*ce.Ca)+1),t.vertexAttribPointer(0,2,t.FLOAT,!1,0,j),t.vertexAttribPointer(1,2,t.FLOAT,!1,0,j+4*J),t.drawElements(t.TRIANGLES,ce.indices.length,t.UNSIGNED_SHORT,Re),j+=4*ce.Ta.length,Re+=2*ce.indices.length}console.assert(j==4*J),console.assert(Re==2*te)}}},this.canvas=function(){return e()&&t.canvas}},we=u.onRuntimeInitialized;u.onRuntimeInitialized=function(){function e(P){switch(P){case v.srcOver:return"source-over";case v.screen:return"screen";case v.overlay:return"overlay";case v.darken:return"darken";case v.lighten:return"lighten";case v.colorDodge:return"color-dodge";case v.colorBurn:return"color-burn";case v.hardLight:return"hard-light";case v.softLight:return"soft-light";case v.difference:return"difference";case v.exclusion:return"exclusion";case v.multiply:return"multiply";case v.hue:return"hue";case v.saturation:return"saturation";case v.color:return"color";case v.luminosity:return"luminosity"}}function t(P){return"rgba("+((16711680&P)>>>16)+","+((65280&P)>>>8)+","+((255&P)>>>0)+","+((4278190080&P)>>>24)/255+")"}function n(){0<Ce.length&&(V.Qb(j.drawWidth(),j.drawHeight(),Ce,Re,tt),Ce=[],tt=Re=0,j.reset(512,512));for(const P of te){for(const W of P.H)W();P.H=[]}te.clear()}we&&we();var o=u.RenderPaintStyle;const s=u.RenderPath,l=u.RenderPaint,h=u.Renderer,y=u.StrokeCap,_=u.StrokeJoin,v=u.BlendMode,M=o.fill,F=o.stroke,N=u.FillRule.evenOdd;let p=1;var R=u.RenderImage.extend("CanvasRenderImage",{__construct:function({la:P,xa:W}={}){this.__parent.__construct.call(this),this.Ka=p,p=p+1&2147483647||1,this.la=P,this.xa=W},__destruct:function(){this.Ja&&(V.Mb(this.Ja),URL.revokeObjectURL(this.Wa)),this.__parent.__destruct.call(this)},decode:function(P){var W=this;W.xa&&W.xa(W);var ae=new Image;W.Wa=URL.createObjectURL(new Blob([P],{type:"image/png"})),ae.onload=function(){W.Fb=ae,W.Ja=V.Lb(ae),W.size(ae.width,ae.height),W.la&&W.la(W)},ae.src=W.Wa}}),T=s.extend("CanvasRenderPath",{__construct:function(){this.__parent.__construct.call(this),this.T=new Path2D},rewind:function(){this.T=new Path2D},addPath:function(P,W,ae,le,G,ue,de){var me=this.T,Ge=me.addPath;P=P.T;const Se=new DOMMatrix;Se.a=W,Se.b=ae,Se.c=le,Se.d=G,Se.e=ue,Se.f=de,Ge.call(me,P,Se)},fillRule:function(P){this.Va=P},moveTo:function(P,W){this.T.moveTo(P,W)},lineTo:function(P,W){this.T.lineTo(P,W)},cubicTo:function(P,W,ae,le,G,ue){this.T.bezierCurveTo(P,W,ae,le,G,ue)},close:function(){this.T.closePath()}}),J=l.extend("CanvasRenderPaint",{color:function(P){this.Xa=t(P)},thickness:function(P){this.Ib=P},join:function(P){switch(P){case _.miter:this.Ia="miter";break;case _.round:this.Ia="round";break;case _.bevel:this.Ia="bevel"}},cap:function(P){switch(P){case y.butt:this.Ha="butt";break;case y.round:this.Ha="round";break;case y.square:this.Ha="square"}},style:function(P){this.Hb=P},blendMode:function(P){this.Eb=e(P)},clearGradient:function(){this.ja=null},linearGradient:function(P,W,ae,le){this.ja={yb:P,zb:W,bb:ae,cb:le,Ra:[]}},radialGradient:function(P,W,ae,le){this.ja={yb:P,zb:W,bb:ae,cb:le,Ra:[],ec:!0}},addStop:function(P,W){this.ja.Ra.push({color:P,stop:W})},completeGradient:function(){},draw:function(P,W,ae){let le=this.Hb;var G=this.Xa,ue=this.ja;if(P.globalCompositeOperation=this.Eb,ue!=null){G=ue.yb;var de=ue.zb;const Ge=ue.bb;var me=ue.cb;const Se=ue.Ra;ue.ec?(ue=Ge-G,me-=de,G=P.createRadialGradient(G,de,0,G,de,Math.sqrt(ue*ue+me*me))):G=P.createLinearGradient(G,de,Ge,me);for(let it=0,Pe=Se.length;it<Pe;it++)de=Se[it],G.addColorStop(de.stop,t(de.color));this.Xa=G,this.ja=null}switch(le){case F:P.strokeStyle=G,P.lineWidth=this.Ib,P.lineCap=this.Ha,P.lineJoin=this.Ia,P.stroke(W);break;case M:P.fillStyle=G,P.fill(W,ae)}}});const te=new Set;let j=null,Ce=[],Re=0,tt=0;var At=u.CanvasRenderer=h.extend("Renderer",{__construct:function(P){this.__parent.__construct.call(this),this.S=[1,0,0,1,0,0],this.C=P.getContext("2d"),this.Ua=P,this.H=[]},save:function(){this.S.push(...this.S.slice(this.S.length-6)),this.H.push(this.C.save.bind(this.C))},restore:function(){const P=this.S.length-6;if(6>P)throw"restore() called without matching save().";this.S.splice(P),this.H.push(this.C.restore.bind(this.C))},transform:function(P,W,ae,le,G,ue){const de=this.S,me=de.length-6;de.splice(me,6,de[me]*P+de[me+2]*W,de[me+1]*P+de[me+3]*W,de[me]*ae+de[me+2]*le,de[me+1]*ae+de[me+3]*le,de[me]*G+de[me+2]*ue+de[me+4],de[me+1]*G+de[me+3]*ue+de[me+5]),this.H.push(this.C.transform.bind(this.C,P,W,ae,le,G,ue))},rotate:function(P){const W=Math.sin(P);P=Math.cos(P),this.transform(P,W,-W,P,0,0)},_drawPath:function(P,W){this.H.push(W.draw.bind(W,this.C,P.T,P.Va===N?"evenodd":"nonzero"))},_drawRiveImage:function(P,W,ae){var le=P.Fb;if(le){var G=this.C,ue=e(W);this.H.push(function(){G.globalCompositeOperation=ue,G.globalAlpha=ae,G.drawImage(le,0,0),G.globalAlpha=1})}},_getMatrix:function(P){const W=this.S,ae=W.length-6;for(let le=0;6>le;++le)P[le]=W[ae+le]},_drawImageMesh:function(P,W,ae,le,G,ue,de,me,Ge,Se){var it=this.C.canvas.width,Pe=this.C.canvas.height;const qi=Ge-de,Ji=Se-me;de=Math.max(de,0),me=Math.max(me,0),Ge=Math.min(Ge,it),Se=Math.min(Se,Pe);const Yt=Ge-de,Vt=Se-me;if(console.assert(Yt<=Math.min(qi,it)),console.assert(Vt<=Math.min(Ji,Pe)),!(0>=Yt||0>=Vt)){Ge=Yt<qi||Vt<Ji,it=Se=1;var Lt=Math.ceil(Yt*Se),Et=Math.ceil(Vt*it);Pe=V.hc(),Lt>Pe&&(Se*=Pe/Lt,Lt=Pe),Et>Pe&&(it*=Pe/Et,Et=Pe),j||(j=new u.DynamicRectanizer(Pe),j.reset(512,512)),Pe=j.addRect(Lt,Et),0>Pe&&(n(),te.add(this),Pe=j.addRect(Lt,Et),console.assert(0<=Pe));var Ki=Pe&65535,Zi=Pe>>16;Ce.push({ha:this.S.slice(this.S.length-6),image:P,Ya:Ki,Za:Zi,ic:de,jc:me,Ac:Lt,jb:Et,Ba:Se,Ca:it,Ta:new Float32Array(le),Db:new Float32Array(G),indices:new Uint16Array(ue),mc:Ge,wb:P.Ka<<1|(Ge?1:0)}),Re+=le.length,tt+=ue.length;var Ft=this.C,jr=e(W);this.H.push(function(){Ft.save(),Ft.resetTransform(),Ft.globalCompositeOperation=jr,Ft.globalAlpha=ae;const Qi=V.canvas();Qi&&Ft.drawImage(Qi,Ki,Zi,Lt,Et,de,me,Yt,Vt),Ft.restore()})}},_clipPath:function(P){this.H.push(this.C.clip.bind(this.C,P.T,P.Va===N?"evenodd":"nonzero"))},clear:function(){te.add(this),this.H.push(this.C.clearRect.bind(this.C,0,0,this.Ua.width,this.Ua.height))},flush:function(){},translate:function(P,W){this.transform(1,0,0,1,P,W)}});u.makeRenderer=function(P){const W=new At(P),ae=W.C;return new Proxy(W,{get(le,G){if(typeof le[G]=="function")return function(...ue){return le[G].apply(le,ue)};if(typeof ae[G]=="function"){if(-1<ie.indexOf(G))throw Error("RiveException: Method call to '"+G+"()' is not allowed, as the renderer cannot immediately pass through the return                 values of any canvas 2d context methods.");return function(...ue){W.H.push(ae[G].bind(ae,...ue))}}return le[G]},set(le,G,ue){if(G in ae)return W.H.push(()=>{ae[G]=ue}),!0}})},u.decodeImage=function(P,W){new R({la:W}).decode(P)},u.renderFactory={makeRenderPaint:function(){return new J},makeRenderPath:function(){return new T},makeRenderImage:function(){let P=nt;return new R({xa:()=>{P.total++},la:()=>{if(P.loaded++,P.loaded===P.total){const W=P.ready;W&&(W(),P.ready=null)}}})}};let ce=u.load,nt=null;u.load=function(P,W,ae=!0){const le=new u.FallbackFileAssetLoader;return W!==void 0&&le.addLoader(W),ae&&(W=new u.CDNFileAssetLoader,le.addLoader(W)),new Promise(function(G){let ue=null;nt={total:0,loaded:0,ready:function(){G(ue)}},ue=ce(P,le),nt.total==0&&G(ue)})};let Dr=u.RendererWrapper.prototype.align;u.RendererWrapper.prototype.align=function(P,W,ae,le,G=1){Dr.call(this,P,W,ae,le,G)},o=new he,u.requestAnimationFrame=o.requestAnimationFrame.bind(o),u.cancelAnimationFrame=o.cancelAnimationFrame.bind(o),u.enableFPSCounter=o.Rb.bind(o),u.disableFPSCounter=o.Ob,o.ob=n,u.resolveAnimationFrame=n,u.cleanup=function(){j&&j.delete()}};var U=Object.assign({},u),xe="./this.program",Te=typeof window=="object",Ne=typeof importScripts=="function",ye="",He,fe;(Te||Ne)&&(Ne?ye=self.location.href:typeof document<"u"&&document.currentScript&&(ye=document.currentScript.src),k&&(ye=k),ye.indexOf("blob:")!==0?ye=ye.substr(0,ye.replace(/[?#].*/,"").lastIndexOf("/")+1):ye="",Ne&&(fe=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),He=(e,t,n)=>{var o=new XMLHttpRequest;o.open("GET",e,!0),o.responseType="arraybuffer",o.onload=()=>{o.status==200||o.status==0&&o.response?t(o.response):n()},o.onerror=n,o.send(null)});var Oe=u.print||console.log.bind(console),Ae=u.printErr||console.error.bind(console);Object.assign(u,U),U=null,u.thisProgram&&(xe=u.thisProgram);var Fe;u.wasmBinary&&(Fe=u.wasmBinary),typeof WebAssembly!="object"&&ge("no native wasm support detected");var De,re,ze=!1,be,oe,pe,Xe,se,ve,c,i;function a(){var e=De.buffer;u.HEAP8=be=new Int8Array(e),u.HEAP16=pe=new Int16Array(e),u.HEAP32=se=new Int32Array(e),u.HEAPU8=oe=new Uint8Array(e),u.HEAPU16=Xe=new Uint16Array(e),u.HEAPU32=ve=new Uint32Array(e),u.HEAPF32=c=new Float32Array(e),u.HEAPF64=i=new Float64Array(e)}var m,A=[],I=[],O=[];function z(){var e=u.preRun.shift();A.unshift(e)}var Q=0,H=null;function ge(e){throw u.onAbort&&u.onAbort(e),e="Aborted("+e+")",Ae(e),ze=!0,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),ee(e),e}function Le(e){return e.startsWith("data:application/octet-stream;base64,")}var Ee;if(Ee="canvas_advanced.wasm",!Le(Ee)){var Ie=Ee;Ee=u.locateFile?u.locateFile(Ie,ye):ye+Ie}function mt(e){if(e==Ee&&Fe)return new Uint8Array(Fe);if(fe)return fe(e);throw"both async and sync fetching of the wasm failed"}function Je(e){if(!Fe&&(Te||Ne)){if(typeof fetch=="function"&&!e.startsWith("file://"))return fetch(e,{credentials:"same-origin"}).then(t=>{if(!t.ok)throw"failed to load wasm binary file at '"+e+"'";return t.arrayBuffer()}).catch(()=>mt(e));if(He)return new Promise((t,n)=>{He(e,o=>t(new Uint8Array(o)),n)})}return Promise.resolve().then(()=>mt(e))}function vt(e,t,n){return Je(e).then(o=>WebAssembly.instantiate(o,t)).then(o=>o).then(n,o=>{Ae("failed to asynchronously prepare wasm: "+o),ge(o)})}function Kt(e,t){var n=Ee;return Fe||typeof WebAssembly.instantiateStreaming!="function"||Le(n)||n.startsWith("file://")||typeof fetch!="function"?vt(n,e,t):fetch(n,{credentials:"same-origin"}).then(o=>WebAssembly.instantiateStreaming(o,e).then(t,function(s){return Ae("wasm streaming compile failed: "+s),Ae("falling back to ArrayBuffer instantiation"),vt(n,e,t)}))}var lt,Tt,Dt={446236:(e,t,n,o,s)=>{if(typeof window>"u"||(window.AudioContext||window.webkitAudioContext)===void 0)return 0;if(typeof window.h>"u"){window.h={Aa:0},window.h.I={},window.h.I.ya=e,window.h.I.capture=t,window.h.I.La=n,window.h.ga={},window.h.ga.stopped=o,window.h.ga.xb=s;let l=window.h;l.D=[],l.yc=function(h){for(var y=0;y<l.D.length;++y)if(l.D[y]==null)return l.D[y]=h,y;return l.D.push(h),l.D.length-1},l.Cb=function(h){for(l.D[h]=null;0<l.D.length&&l.D[l.D.length-1]==null;)l.D.pop()},l.Sc=function(h){for(var y=0;y<l.D.length;++y)if(l.D[y]==h)return l.Cb(y)},l.ra=function(h){return l.D[h]},l.Bb=["touchend","click"],l.unlock=function(){for(var h=0;h<l.D.length;++h){var y=l.D[h];y!=null&&y.J!=null&&y.state===l.ga.xb&&y.J.resume().then(()=>{Hi(y.pb)},_=>{console.error("Failed to resume audiocontext",_)})}l.Bb.map(function(_){document.removeEventListener(_,l.unlock,!0)})},l.Bb.map(function(h){document.addEventListener(h,l.unlock,!0)})}return window.h.Aa+=1,1},448414:()=>{typeof window.h<"u"&&(--window.h.Aa,window.h.Aa===0&&delete window.h)},448578:()=>navigator.mediaDevices!==void 0&&navigator.mediaDevices.getUserMedia!==void 0,448682:()=>{try{var e=new(window.AudioContext||window.webkitAudioContext),t=e.sampleRate;return e.close(),t}catch{return 0}},448853:(e,t,n,o,s,l)=>{if(typeof window.h>"u")return-1;var h={},y={};return e==window.h.I.ya&&n!=0&&(y.sampleRate=n),h.J=new(window.AudioContext||window.webkitAudioContext)(y),h.J.suspend(),h.state=window.h.ga.stopped,n=0,e!=window.h.I.ya&&(n=t),h.Z=h.J.createScriptProcessor(o,n,t),h.Z.onaudioprocess=function(_){if((h.sa==null||h.sa.length==0)&&(h.sa=new Float32Array(c.buffer,s,o*t)),e==window.h.I.capture||e==window.h.I.La){for(var v=0;v<t;v+=1)for(var M=_.inputBuffer.getChannelData(v),F=h.sa,N=0;N<o;N+=1)F[N*t+v]=M[N];zi(l,o,s)}if(e==window.h.I.ya||e==window.h.I.La)for(Xi(l,o,s),v=0;v<_.outputBuffer.numberOfChannels;++v)for(M=_.outputBuffer.getChannelData(v),F=h.sa,N=0;N<o;N+=1)M[N]=F[N*t+v];else for(v=0;v<_.outputBuffer.numberOfChannels;++v)_.outputBuffer.getChannelData(v).fill(0)},e!=window.h.I.capture&&e!=window.h.I.La||navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(_){h.Da=h.J.createMediaStreamSource(_),h.Da.connect(h.Z),h.Z.connect(h.J.destination)}).catch(function(_){console.log("Failed to get user media: "+_)}),e==window.h.I.ya&&h.Z.connect(h.J.destination),h.pb=l,window.h.yc(h)},451730:e=>window.h.ra(e).J.sampleRate,451803:e=>{e=window.h.ra(e),e.Z!==void 0&&(e.Z.onaudioprocess=function(){},e.Z.disconnect(),e.Z=void 0),e.Da!==void 0&&(e.Da.disconnect(),e.Da=void 0),e.J.close(),e.J=void 0,e.pb=void 0},452203:e=>{window.h.Cb(e)},452253:e=>{e=window.h.ra(e),e.J.resume(),e.state=window.h.ga.xb},452392:e=>{e=window.h.ra(e),e.J.suspend(),e.state=window.h.ga.stopped}},ct=e=>{for(;0<e.length;)e.shift()(u)},Rt=(e,t)=>{for(var n=0,o=e.length-1;0<=o;o--){var s=e[o];s==="."?e.splice(o,1):s===".."?(e.splice(o,1),n++):n&&(e.splice(o,1),n--)}if(t)for(;n;n--)e.unshift("..");return e},Ye=e=>{var t=e.charAt(0)==="/",n=e.substr(-1)==="/";return(e=Rt(e.split("/").filter(o=>!!o),!t).join("/"))||t||(e="."),e&&n&&(e+="/"),(t?"/":"")+e},sr=e=>{var t=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1);return e=t[0],t=t[1],!e&&!t?".":(t&&(t=t.substr(0,t.length-1)),e+t)},ei=e=>{if(e==="/")return"/";e=Ye(e),e=e.replace(/\/$/,"");var t=e.lastIndexOf("/");return t===-1?e:e.substr(t+1)},ar=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return e=>crypto.getRandomValues(e);ge("initRandomDevice")},ti=e=>(ti=ar())(e);function Zt(){for(var e="",t=!1,n=arguments.length-1;-1<=n&&!t;n--){if(t=0<=n?arguments[n]:"/",typeof t!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!t)return"";e=t+"/"+e,t=t.charAt(0)==="/"}return e=Rt(e.split("/").filter(o=>!!o),!t).join("/"),(t?"/":"")+e||"."}var ni=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,yt=(e,t,n)=>{var o=t+n;for(n=t;e[n]&&!(n>=o);)++n;if(16<n-t&&e.buffer&&ni)return ni.decode(e.subarray(t,n));for(o="";t<n;){var s=e[t++];if(s&128){var l=e[t++]&63;if((s&224)==192)o+=String.fromCharCode((s&31)<<6|l);else{var h=e[t++]&63;s=(s&240)==224?(s&15)<<12|l<<6|h:(s&7)<<18|l<<12|h<<6|e[t++]&63,65536>s?o+=String.fromCharCode(s):(s-=65536,o+=String.fromCharCode(55296|s>>10,56320|s&1023))}}else o+=String.fromCharCode(s)}return o},In=[],ii=e=>{for(var t=0,n=0;n<e.length;++n){var o=e.charCodeAt(n);127>=o?t++:2047>=o?t+=2:55296<=o&&57343>=o?(t+=4,++n):t+=3}return t},ri=(e,t,n,o)=>{if(!(0<o))return 0;var s=n;o=n+o-1;for(var l=0;l<e.length;++l){var h=e.charCodeAt(l);if(55296<=h&&57343>=h){var y=e.charCodeAt(++l);h=65536+((h&1023)<<10)|y&1023}if(127>=h){if(n>=o)break;t[n++]=h}else{if(2047>=h){if(n+1>=o)break;t[n++]=192|h>>6}else{if(65535>=h){if(n+2>=o)break;t[n++]=224|h>>12}else{if(n+3>=o)break;t[n++]=240|h>>18,t[n++]=128|h>>12&63}t[n++]=128|h>>6&63}t[n++]=128|h&63}}return t[n]=0,n-s};function oi(e,t){var n=Array(ii(e)+1);return e=ri(e,n,0,n.length),t&&(n.length=e),n}var si=[];function ai(e,t){si[e]={input:[],F:[],V:t},Rn(e,lr)}var lr={open:function(e){var t=si[e.node.za];if(!t)throw new B(43);e.s=t,e.seekable=!1},close:function(e){e.s.V.qa(e.s)},qa:function(e){e.s.V.qa(e.s)},read:function(e,t,n,o){if(!e.s||!e.s.V.ib)throw new B(60);for(var s=0,l=0;l<o;l++){try{var h=e.s.V.ib(e.s)}catch{throw new B(29)}if(h===void 0&&s===0)throw new B(6);if(h==null)break;s++,t[n+l]=h}return s&&(e.node.timestamp=Date.now()),s},write:function(e,t,n,o){if(!e.s||!e.s.V.Oa)throw new B(60);try{for(var s=0;s<o;s++)e.s.V.Oa(e.s,t[n+s])}catch{throw new B(29)}return o&&(e.node.timestamp=Date.now()),s}},cr={ib:function(){e:{if(!In.length){var e=null;if(typeof window<"u"&&typeof window.prompt=="function"?(e=window.prompt("Input: "),e!==null&&(e+=`
`)):typeof readline=="function"&&(e=readline(),e!==null&&(e+=`
`)),!e){e=null;break e}In=oi(e,!0)}e=In.shift()}return e},Oa:function(e,t){t===null||t===10?(Oe(yt(e.F,0)),e.F=[]):t!=0&&e.F.push(t)},qa:function(e){e.F&&0<e.F.length&&(Oe(yt(e.F,0)),e.F=[])},bc:function(){return{Fc:25856,Hc:5,Ec:191,Gc:35387,Dc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},cc:function(){return 0},dc:function(){return[24,80]}},ur={Oa:function(e,t){t===null||t===10?(Ae(yt(e.F,0)),e.F=[]):t!=0&&e.F.push(t)},qa:function(e){e.F&&0<e.F.length&&(Ae(yt(e.F,0)),e.F=[])}};function li(e,t){var n=e.j?e.j.length:0;n>=t||(t=Math.max(t,n*(1048576>n?2:1.125)>>>0),n!=0&&(t=Math.max(t,256)),n=e.j,e.j=new Uint8Array(t),0<e.v&&e.j.set(n.subarray(0,e.v),0))}var ne={O:null,U(){return ne.createNode(null,"/",16895,0)},createNode(e,t,n,o){if((n&61440)===24576||(n&61440)===4096)throw new B(63);return ne.O||(ne.O={dir:{node:{Y:ne.l.Y,P:ne.l.P,ka:ne.l.ka,va:ne.l.va,ub:ne.l.ub,Ab:ne.l.Ab,vb:ne.l.vb,sb:ne.l.sb,Ea:ne.l.Ea},stream:{ba:ne.m.ba}},file:{node:{Y:ne.l.Y,P:ne.l.P},stream:{ba:ne.m.ba,read:ne.m.read,write:ne.m.write,pa:ne.m.pa,lb:ne.m.lb,nb:ne.m.nb}},link:{node:{Y:ne.l.Y,P:ne.l.P,ma:ne.l.ma},stream:{}},$a:{node:{Y:ne.l.Y,P:ne.l.P},stream:pr}}),n=fi(e,t,n,o),(n.mode&61440)===16384?(n.l=ne.O.dir.node,n.m=ne.O.dir.stream,n.j={}):(n.mode&61440)===32768?(n.l=ne.O.file.node,n.m=ne.O.file.stream,n.v=0,n.j=null):(n.mode&61440)===40960?(n.l=ne.O.link.node,n.m=ne.O.link.stream):(n.mode&61440)===8192&&(n.l=ne.O.$a.node,n.m=ne.O.$a.stream),n.timestamp=Date.now(),e&&(e.j[t]=n,e.timestamp=n.timestamp),n},Kc(e){return e.j?e.j.subarray?e.j.subarray(0,e.v):new Uint8Array(e.j):new Uint8Array(0)},l:{Y(e){var t={};return t.Jc=(e.mode&61440)===8192?e.id:1,t.Mc=e.id,t.mode=e.mode,t.Oc=1,t.uid=0,t.Lc=0,t.za=e.za,(e.mode&61440)===16384?t.size=4096:(e.mode&61440)===32768?t.size=e.v:(e.mode&61440)===40960?t.size=e.link.length:t.size=0,t.Bc=new Date(e.timestamp),t.Nc=new Date(e.timestamp),t.Ic=new Date(e.timestamp),t.Jb=4096,t.Cc=Math.ceil(t.size/t.Jb),t},P(e,t){if(t.mode!==void 0&&(e.mode=t.mode),t.timestamp!==void 0&&(e.timestamp=t.timestamp),t.size!==void 0&&(t=t.size,e.v!=t))if(t==0)e.j=null,e.v=0;else{var n=e.j;e.j=new Uint8Array(t),n&&e.j.set(n.subarray(0,Math.min(t,e.v))),e.v=t}},ka(){throw Tn[44]},va(e,t,n,o){return ne.createNode(e,t,n,o)},ub(e,t,n){if((e.mode&61440)===16384){try{var o=en(t,n)}catch{}if(o)for(var s in o.j)throw new B(55)}delete e.parent.j[e.name],e.parent.timestamp=Date.now(),e.name=n,t.j[n]=e,t.timestamp=e.parent.timestamp,e.parent=t},Ab(e,t){delete e.j[t],e.timestamp=Date.now()},vb(e,t){var n=en(e,t),o;for(o in n.j)throw new B(55);delete e.j[t],e.timestamp=Date.now()},sb(e){var t=[".",".."],n;for(n in e.j)e.j.hasOwnProperty(n)&&t.push(n);return t},Ea(e,t,n){return e=ne.createNode(e,t,41471,0),e.link=n,e},ma(e){if((e.mode&61440)!==40960)throw new B(28);return e.link}},m:{read(e,t,n,o,s){var l=e.node.j;if(s>=e.node.v)return 0;if(e=Math.min(e.node.v-s,o),8<e&&l.subarray)t.set(l.subarray(s,s+e),n);else for(o=0;o<e;o++)t[n+o]=l[s+o];return e},write(e,t,n,o,s,l){if(t.buffer===be.buffer&&(l=!1),!o)return 0;if(e=e.node,e.timestamp=Date.now(),t.subarray&&(!e.j||e.j.subarray)){if(l)return e.j=t.subarray(n,n+o),e.v=o;if(e.v===0&&s===0)return e.j=t.slice(n,n+o),e.v=o;if(s+o<=e.v)return e.j.set(t.subarray(n,n+o),s),o}if(li(e,s+o),e.j.subarray&&t.subarray)e.j.set(t.subarray(n,n+o),s);else for(l=0;l<o;l++)e.j[s+l]=t[n+l];return e.v=Math.max(e.v,s+o),o},ba(e,t,n){if(n===1?t+=e.position:n===2&&(e.node.mode&61440)===32768&&(t+=e.node.v),0>t)throw new B(28);return t},pa(e,t,n){li(e.node,t+n),e.node.v=Math.max(e.node.v,t+n)},lb(e,t,n,o,s){if((e.node.mode&61440)!==32768)throw new B(43);if(e=e.node.j,s&2||e.buffer!==be.buffer){if((0<n||n+t<e.length)&&(e.subarray?e=e.subarray(n,n+t):e=Array.prototype.slice.call(e,n,n+t)),n=!0,ge(),t=void 0,!t)throw new B(48);be.set(e,t)}else n=!1,t=e.byteOffset;return{o:t,M:n}},nb(e,t,n,o){return ne.m.write(e,t,0,o,n,!1),0}}};function dr(e,t){var n=0;return e&&(n|=365),t&&(n|=146),n}var Pn=null,ci={},Qt=[],hr=1,jt=null,ui=!0,B=null,Tn={},xt=(e,t={})=>{if(e=Zt(e),!e)return{path:"",node:null};if(t=Object.assign({gb:!0,Qa:0},t),8<t.Qa)throw new B(32);e=e.split("/").filter(h=>!!h);for(var n=Pn,o="/",s=0;s<e.length;s++){var l=s===e.length-1;if(l&&t.parent)break;if(n=en(n,e[s]),o=Ye(o+"/"+e[s]),n.wa&&(!l||l&&t.gb)&&(n=n.wa.root),!l||t.fb){for(l=0;(n.mode&61440)===40960;)if(n=gr(o),o=Zt(sr(o),n),n=xt(o,{Qa:t.Qa+1}).node,40<l++)throw new B(32)}}return{path:o,node:n}},di=e=>{for(var t;;){if(e===e.parent)return e=e.U.mb,t?e[e.length-1]!=="/"?`${e}/${t}`:e+t:e;t=t?`${e.name}/${t}`:e.name,e=e.parent}},hi=(e,t)=>{for(var n=0,o=0;o<t.length;o++)n=(n<<5)-n+t.charCodeAt(o)|0;return(e+n>>>0)%jt.length},en=(e,t)=>{var n;if(n=(n=tn(e,"x"))?n:e.l.ka?0:2)throw new B(n,e);for(n=jt[hi(e.id,t)];n;n=n.lc){var o=n.name;if(n.parent.id===e.id&&o===t)return n}return e.l.ka(e,t)},fi=(e,t,n,o)=>(e=new Bi(e,t,n,o),t=hi(e.parent.id,e.name),e.lc=jt[t],jt[t]=e),pi=e=>{var t=["r","w","rw"][e&3];return e&512&&(t+="w"),t},tn=(e,t)=>{if(ui)return 0;if(!t.includes("r")||e.mode&292){if(t.includes("w")&&!(e.mode&146)||t.includes("x")&&!(e.mode&73))return 2}else return 2;return 0},gi=(e,t)=>{try{return en(e,t),20}catch{}return tn(e,"wx")},fr=()=>{for(var e=0;4096>=e;e++)if(!Qt[e])return e;throw new B(33)},bt=e=>{if(e=Qt[e],!e)throw new B(8);return e},mi=(e,t=-1)=>(Wt||(Wt=function(){this.h={}},Wt.prototype={},Object.defineProperties(Wt.prototype,{object:{get(){return this.node},set(n){this.node=n}},flags:{get(){return this.h.flags},set(n){this.h.flags=n}},position:{get(){return this.h.position},set(n){this.h.position=n}}})),e=Object.assign(new Wt,e),t==-1&&(t=fr()),e.X=t,Qt[t]=e),pr={open:e=>{e.m=ci[e.node.za].m,e.m.open&&e.m.open(e)},ba:()=>{throw new B(70)}},Rn=(e,t)=>{ci[e]={m:t}},vi=(e,t)=>{var n=t==="/",o=!t;if(n&&Pn)throw new B(10);if(!n&&!o){var s=xt(t,{gb:!1});if(t=s.path,s=s.node,s.wa)throw new B(10);if((s.mode&61440)!==16384)throw new B(54)}t={type:e,Qc:{},mb:t,kc:[]},e=e.U(t),e.U=t,t.root=e,n?Pn=e:s&&(s.wa=t,s.U&&s.U.kc.push(t))},Ke=(e,t,n)=>{var o=xt(e,{parent:!0}).node;if(e=ei(e),!e||e==="."||e==="..")throw new B(28);var s=gi(o,e);if(s)throw new B(s);if(!o.l.va)throw new B(63);return o.l.va(o,e,t,n)},nn=(e,t,n)=>{typeof n>"u"&&(n=t,t=438),Ke(e,t|8192,n)},Mn=(e,t)=>{if(!Zt(e))throw new B(44);var n=xt(t,{parent:!0}).node;if(!n)throw new B(44);t=ei(t);var o=gi(n,t);if(o)throw new B(o);if(!n.l.Ea)throw new B(63);n.l.Ea(n,t,e)},gr=e=>{if(e=xt(e).node,!e)throw new B(44);if(!e.l.ma)throw new B(28);return Zt(di(e.parent),e.l.ma(e))},rn=(e,t,n)=>{if(e==="")throw new B(44);if(typeof t=="string"){var o={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[t];if(typeof o>"u")throw Error(`Unknown file open mode: ${t}`);t=o}if(n=t&64?(typeof n>"u"?438:n)&4095|32768:0,typeof e=="object")var s=e;else{e=Ye(e);try{s=xt(e,{fb:!(t&131072)}).node}catch{}}if(o=!1,t&64)if(s){if(t&128)throw new B(20)}else s=Ke(e,n,0),o=!0;if(!s)throw new B(44);if((s.mode&61440)===8192&&(t&=-513),t&65536&&(s.mode&61440)!==16384)throw new B(54);if(!o&&(n=s?(s.mode&61440)===40960?32:(s.mode&61440)===16384&&(pi(t)!=="r"||t&512)?31:tn(s,pi(t)):44))throw new B(n);if(t&512&&!o){if(n=s,n=typeof n=="string"?xt(n,{fb:!0}).node:n,!n.l.P)throw new B(63);if((n.mode&61440)===16384)throw new B(31);if((n.mode&61440)!==32768)throw new B(28);if(o=tn(n,"w"))throw new B(o);n.l.P(n,{size:0,timestamp:Date.now()})}return t&=-131713,s=mi({node:s,path:di(s),flags:t,seekable:!0,position:0,m:s.m,zc:[],error:!1}),s.m.open&&s.m.open(s),!u.logReadFiles||t&1||(on||(on={}),e in on||(on[e]=1)),s},yi=(e,t,n)=>{if(e.X===null)throw new B(8);if(!e.seekable||!e.m.ba)throw new B(70);if(n!=0&&n!=1&&n!=2)throw new B(28);e.position=e.m.ba(e,t,n),e.zc=[]},bi=()=>{B||(B=function(e,t){this.name="ErrnoError",this.node=t,this.pc=function(n){this.aa=n},this.pc(e),this.message="FS error"},B.prototype=Error(),B.prototype.constructor=B,[44].forEach(e=>{Tn[e]=new B(e),Tn[e].stack="<generic error, no stack>"}))},wi,Nt=(e,t,n)=>{e=Ye("/dev/"+e);var o=dr(!!t,!!n);On||(On=64);var s=On++<<8|0;Rn(s,{open:l=>{l.seekable=!1},close:()=>{n&&n.buffer&&n.buffer.length&&n(10)},read:(l,h,y,_)=>{for(var v=0,M=0;M<_;M++){try{var F=t()}catch{throw new B(29)}if(F===void 0&&v===0)throw new B(6);if(F==null)break;v++,h[y+M]=F}return v&&(l.node.timestamp=Date.now()),v},write:(l,h,y,_)=>{for(var v=0;v<_;v++)try{n(h[y+v])}catch{throw new B(29)}return _&&(l.node.timestamp=Date.now()),v}}),nn(e,o,s)},On,_t={},Wt,on,Bt=void 0;function ut(){return Bt+=4,se[Bt-4>>2]}function Ci(e){if(e===void 0)return"_unknown";e=e.replace(/[^a-zA-Z0-9_]/g,"$");var t=e.charCodeAt(0);return 48<=t&&57>=t?`_${e}`:e}function sn(e,t){return e=Ci(e),{[e]:function(){return t.apply(this,arguments)}}[e]}function xi(){this.M=[void 0],this.hb=[]}var Ve=new xi,Mt=void 0;function q(e){throw new Mt(e)}var Ze=e=>(e||q("Cannot use deleted val. handle = "+e),Ve.get(e).value),Qe=e=>{switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return Ve.pa({tb:1,value:e})}};function _i(e){var t=Error,n=sn(e,function(o){this.name=e,this.message=o,o=Error(o).stack,o!==void 0&&(this.stack=this.toString()+`
`+o.replace(/^Error(:[^\n]*)?\n/,""))});return n.prototype=Object.create(t.prototype),n.prototype.constructor=n,n.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},n}var Si=void 0,Ai=void 0;function _e(e){for(var t="";oe[e];)t+=Ai[oe[e++]];return t}var Ut=[];function kn(){for(;Ut.length;){var e=Ut.pop();e.g.fa=!1,e.delete()}}var $t=void 0,dt={};function Fn(e,t){for(t===void 0&&q("ptr should not be undefined");e.A;)t=e.na(t),e=e.A;return t}var St={};function Li(e){e=Vi(e);var t=_e(e);return pt(e),t}function Ht(e,t){var n=St[e];return n===void 0&&q(t+" has unknown type "+Li(e)),n}function an(){}var Dn=!1;function Ei(e){--e.count.value,e.count.value===0&&(e.G?e.L.W(e.G):e.u.i.W(e.o))}function Ii(e,t,n){return t===n?e:n.A===void 0?null:(e=Ii(e,t,n.A),e===null?null:n.Pb(e))}var Pi={};function mr(e,t){return t=Fn(e,t),dt[t]}var Ti=void 0;function ln(e){throw new Ti(e)}function cn(e,t){return t.u&&t.o||ln("makeClassHandle requires ptr and ptrType"),!!t.L!=!!t.G&&ln("Both smartPtrType and smartPtr must be specified"),t.count={value:1},Ot(Object.create(e,{g:{value:t}}))}function Ot(e){return typeof FinalizationRegistry>"u"?(Ot=t=>t,e):(Dn=new FinalizationRegistry(t=>{Ei(t.g)}),Ot=t=>{var n=t.g;return n.G&&Dn.register(t,{g:n},t),t},an=t=>{Dn.unregister(t)},Ot(e))}var un={};function zt(e){for(;e.length;){var t=e.pop();e.pop()(t)}}function Xt(e){return this.fromWireType(se[e>>2])}var kt={},dn={};function We(e,t,n){function o(y){y=n(y),y.length!==e.length&&ln("Mismatched type converter count");for(var _=0;_<e.length;++_)et(e[_],y[_])}e.forEach(function(y){dn[y]=t});var s=Array(t.length),l=[],h=0;t.forEach((y,_)=>{St.hasOwnProperty(y)?s[_]=St[y]:(l.push(y),kt.hasOwnProperty(y)||(kt[y]=[]),kt[y].push(()=>{s[_]=St[y],++h,h===l.length&&o(s)}))}),l.length===0&&o(s)}function hn(e){switch(e){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError(`Unknown type size: ${e}`)}}function vr(e,t,n={}){var o=t.name;if(e||q(`type "${o}" must have a positive integer typeid pointer`),St.hasOwnProperty(e)){if(n.$b)return;q(`Cannot register type '${o}' twice`)}St[e]=t,delete dn[e],kt.hasOwnProperty(e)&&(t=kt[e],delete kt[e],t.forEach(s=>s()))}function et(e,t,n={}){if(!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");vr(e,t,n)}function jn(e){q(e.g.u.i.name+" instance already deleted")}function wt(){}function Nn(e,t,n){if(e[t].B===void 0){var o=e[t];e[t]=function(){return e[t].B.hasOwnProperty(arguments.length)||q(`Function '${n}' called with an invalid number of arguments (${arguments.length}) - expects one of (${e[t].B})!`),e[t].B[arguments.length].apply(this,arguments)},e[t].B=[],e[t].B[o.ea]=o}}function Wn(e,t,n){u.hasOwnProperty(e)?((n===void 0||u[e].B!==void 0&&u[e].B[n]!==void 0)&&q(`Cannot register public name '${e}' twice`),Nn(u,e,e),u.hasOwnProperty(n)&&q(`Cannot register multiple overloads of a function with the same number of arguments (${n})!`),u[e].B[n]=t):(u[e]=t,n!==void 0&&(u[e].Pc=n))}function yr(e,t,n,o,s,l,h,y){this.name=e,this.constructor=t,this.N=n,this.W=o,this.A=s,this.Ub=l,this.na=h,this.Pb=y,this.qb=[]}function fn(e,t,n){for(;t!==n;)t.na||q(`Expected null or instance of ${n.name}, got an instance of ${t.name}`),e=t.na(e),t=t.A;return e}function br(e,t){return t===null?(this.Na&&q(`null is not a valid ${this.name}`),0):(t.g||q(`Cannot pass "${Un(t)}" as a ${this.name}`),t.g.o||q(`Cannot pass deleted object as a pointer of type ${this.name}`),fn(t.g.o,t.g.u.i,this.i))}function wr(e,t){if(t===null){if(this.Na&&q(`null is not a valid ${this.name}`),this.ua){var n=this.Pa();return e!==null&&e.push(this.W,n),n}return 0}if(t.g||q(`Cannot pass "${Un(t)}" as a ${this.name}`),t.g.o||q(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.ta&&t.g.u.ta&&q(`Cannot convert argument of type ${t.g.L?t.g.L.name:t.g.u.name} to parameter type ${this.name}`),n=fn(t.g.o,t.g.u.i,this.i),this.ua)switch(t.g.G===void 0&&q("Passing raw pointer to smart pointer is illegal"),this.tc){case 0:t.g.L===this?n=t.g.G:q(`Cannot convert argument of type ${t.g.L?t.g.L.name:t.g.u.name} to parameter type ${this.name}`);break;case 1:n=t.g.G;break;case 2:if(t.g.L===this)n=t.g.G;else{var o=t.clone();n=this.oc(n,Qe(function(){o.delete()})),e!==null&&e.push(this.W,n)}break;default:q("Unsupporting sharing policy")}return n}function Cr(e,t){return t===null?(this.Na&&q(`null is not a valid ${this.name}`),0):(t.g||q(`Cannot pass "${Un(t)}" as a ${this.name}`),t.g.o||q(`Cannot pass deleted object as a pointer of type ${this.name}`),t.g.u.ta&&q(`Cannot convert argument of type ${t.g.u.name} to parameter type ${this.name}`),fn(t.g.o,t.g.u.i,this.i))}function ht(e,t,n,o){this.name=e,this.i=t,this.Na=n,this.ta=o,this.ua=!1,this.W=this.oc=this.Pa=this.rb=this.tc=this.nc=void 0,t.A!==void 0?this.toWireType=wr:(this.toWireType=o?br:Cr,this.K=null)}function Ri(e,t,n){u.hasOwnProperty(e)||ln("Replacing nonexistant public symbol"),u[e].B!==void 0&&n!==void 0?u[e].B[n]=t:(u[e]=t,u[e].ea=n)}var pn=[],Mi=e=>{var t=pn[e];return t||(e>=pn.length&&(pn.length=e+1),pn[e]=t=m.get(e)),t},xr=(e,t)=>{var n=[];return function(){if(n.length=0,Object.assign(n,arguments),e.includes("j")){var o=u["dynCall_"+e];o=n&&n.length?o.apply(null,[t].concat(n)):o.call(null,t)}else o=Mi(t).apply(null,n);return o}};function ke(e,t){e=_e(e);var n=e.includes("j")?xr(e,t):Mi(t);return typeof n!="function"&&q(`unknown function pointer with signature ${e}: ${t}`),n}var Oi=void 0;function ft(e,t){function n(l){s[l]||St[l]||(dn[l]?dn[l].forEach(n):(o.push(l),s[l]=!0))}var o=[],s={};throw t.forEach(n),new Oi(`${e}: `+o.map(Li).join([", "]))}function gn(e,t,n,o,s){var l=t.length;2>l&&q("argTypes array size mismatch! Must at least get return value and 'this' types!");var h=t[1]!==null&&n!==null,y=!1;for(n=1;n<t.length;++n)if(t[n]!==null&&t[n].K===void 0){y=!0;break}var _=t[0].name!=="void",v=l-2,M=Array(v),F=[],N=[];return function(){if(arguments.length!==v&&q(`function ${e} called with ${arguments.length} arguments, expected ${v} args!`),N.length=0,F.length=h?2:1,F[0]=s,h){var p=t[1].toWireType(N,this);F[1]=p}for(var R=0;R<v;++R)M[R]=t[R+2].toWireType(N,arguments[R]),F.push(M[R]);if(R=o.apply(null,F),y)zt(N);else for(var T=h?1:2;T<t.length;T++){var J=T===1?p:M[T-2];t[T].K!==null&&t[T].K(J)}return p=_?t[0].fromWireType(R):void 0,p}}function mn(e,t){for(var n=[],o=0;o<e;o++)n.push(ve[t+4*o>>2]);return n}function ki(e,t,n){return e instanceof Object||q(`${n} with invalid "this": ${e}`),e instanceof t.i.constructor||q(`${n} incompatible with "this" of type ${e.constructor.name}`),e.g.o||q(`cannot call emscripten binding method ${n} on deleted object`),fn(e.g.o,e.g.u.i,t.i)}function Bn(e){e>=Ve.h&&--Ve.get(e).tb===0&&Ve.Zb(e)}function _r(e,t,n){switch(t){case 0:return function(o){return this.fromWireType((n?be:oe)[o])};case 1:return function(o){return this.fromWireType((n?pe:Xe)[o>>1])};case 2:return function(o){return this.fromWireType((n?se:ve)[o>>2])};default:throw new TypeError("Unknown integer type: "+e)}}function Un(e){if(e===null)return"null";var t=typeof e;return t==="object"||t==="array"||t==="function"?e.toString():""+e}function Sr(e,t){switch(t){case 2:return function(n){return this.fromWireType(c[n>>2])};case 3:return function(n){return this.fromWireType(i[n>>3])};default:throw new TypeError("Unknown float type: "+e)}}function Ar(e,t,n){switch(t){case 0:return n?function(o){return be[o]}:function(o){return oe[o]};case 1:return n?function(o){return pe[o>>1]}:function(o){return Xe[o>>1]};case 2:return n?function(o){return se[o>>2]}:function(o){return ve[o>>2]};default:throw new TypeError("Unknown integer type: "+e)}}var Fi=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,Lr=(e,t)=>{for(var n=e>>1,o=n+t/2;!(n>=o)&&Xe[n];)++n;if(n<<=1,32<n-e&&Fi)return Fi.decode(oe.subarray(e,n));for(n="",o=0;!(o>=t/2);++o){var s=pe[e+2*o>>1];if(s==0)break;n+=String.fromCharCode(s)}return n},Er=(e,t,n)=>{if(n===void 0&&(n=2147483647),2>n)return 0;n-=2;var o=t;n=n<2*e.length?n/2:e.length;for(var s=0;s<n;++s)pe[t>>1]=e.charCodeAt(s),t+=2;return pe[t>>1]=0,t-o},Ir=e=>2*e.length,Pr=(e,t)=>{for(var n=0,o="";!(n>=t/4);){var s=se[e+4*n>>2];if(s==0)break;++n,65536<=s?(s-=65536,o+=String.fromCharCode(55296|s>>10,56320|s&1023)):o+=String.fromCharCode(s)}return o},Tr=(e,t,n)=>{if(n===void 0&&(n=2147483647),4>n)return 0;var o=t;n=o+n-4;for(var s=0;s<e.length;++s){var l=e.charCodeAt(s);if(55296<=l&&57343>=l){var h=e.charCodeAt(++s);l=65536+((l&1023)<<10)|h&1023}if(se[t>>2]=l,t+=4,t+4>n)break}return se[t>>2]=0,t-o},Rr=e=>{for(var t=0,n=0;n<e.length;++n){var o=e.charCodeAt(n);55296<=o&&57343>=o&&++n,t+=4}return t},Mr={};function vn(e){var t=Mr[e];return t===void 0?_e(e):t}var yn=[];function Or(e){var t=yn.length;return yn.push(e),t}function kr(e,t){for(var n=Array(e),o=0;o<e;++o)n[o]=Ht(ve[t+4*o>>2],"parameter "+o);return n}var Di=[],$n=[],Hn={},ji=()=>{if(!zn){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:xe||"./this.program"},t;for(t in Hn)Hn[t]===void 0?delete e[t]:e[t]=Hn[t];var n=[];for(t in e)n.push(`${t}=${e[t]}`);zn=n}return zn},zn,bn=e=>e%4===0&&(e%100!==0||e%400===0),Ni=[31,29,31,30,31,30,31,31,30,31,30,31],Wi=[31,28,31,30,31,30,31,31,30,31,30,31],Fr=(e,t,n,o)=>{function s(p,R,T){for(p=typeof p=="number"?p.toString():p||"";p.length<R;)p=T[0]+p;return p}function l(p,R){return s(p,R,"0")}function h(p,R){function T(te){return 0>te?-1:0<te?1:0}var J;return(J=T(p.getFullYear()-R.getFullYear()))===0&&(J=T(p.getMonth()-R.getMonth()))===0&&(J=T(p.getDate()-R.getDate())),J}function y(p){switch(p.getDay()){case 0:return new Date(p.getFullYear()-1,11,29);case 1:return p;case 2:return new Date(p.getFullYear(),0,3);case 3:return new Date(p.getFullYear(),0,2);case 4:return new Date(p.getFullYear(),0,1);case 5:return new Date(p.getFullYear()-1,11,31);case 6:return new Date(p.getFullYear()-1,11,30)}}function _(p){var R=p.ca;for(p=new Date(new Date(p.da+1900,0,1).getTime());0<R;){var T=p.getMonth(),J=(bn(p.getFullYear())?Ni:Wi)[T];if(R>J-p.getDate())R-=J-p.getDate()+1,p.setDate(1),11>T?p.setMonth(T+1):(p.setMonth(0),p.setFullYear(p.getFullYear()+1));else{p.setDate(p.getDate()+R);break}}return T=new Date(p.getFullYear()+1,0,4),R=y(new Date(p.getFullYear(),0,4)),T=y(T),0>=h(R,p)?0>=h(T,p)?p.getFullYear()+1:p.getFullYear():p.getFullYear()-1}var v=se[o+40>>2];o={wc:se[o>>2],vc:se[o+4>>2],Fa:se[o+8>>2],Sa:se[o+12>>2],Ga:se[o+16>>2],da:se[o+20>>2],R:se[o+24>>2],ca:se[o+28>>2],Rc:se[o+32>>2],uc:se[o+36>>2],xc:v&&v?yt(oe,v):""},n=n?yt(oe,n):"",v={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var M in v)n=n.replace(new RegExp(M,"g"),v[M]);var F="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),N="January February March April May June July August September October November December".split(" ");v={"%a":p=>F[p.R].substring(0,3),"%A":p=>F[p.R],"%b":p=>N[p.Ga].substring(0,3),"%B":p=>N[p.Ga],"%C":p=>l((p.da+1900)/100|0,2),"%d":p=>l(p.Sa,2),"%e":p=>s(p.Sa,2," "),"%g":p=>_(p).toString().substring(2),"%G":p=>_(p),"%H":p=>l(p.Fa,2),"%I":p=>(p=p.Fa,p==0?p=12:12<p&&(p-=12),l(p,2)),"%j":p=>{for(var R=0,T=0;T<=p.Ga-1;R+=(bn(p.da+1900)?Ni:Wi)[T++]);return l(p.Sa+R,3)},"%m":p=>l(p.Ga+1,2),"%M":p=>l(p.vc,2),"%n":()=>`
`,"%p":p=>0<=p.Fa&&12>p.Fa?"AM":"PM","%S":p=>l(p.wc,2),"%t":()=>"	","%u":p=>p.R||7,"%U":p=>l(Math.floor((p.ca+7-p.R)/7),2),"%V":p=>{var R=Math.floor((p.ca+7-(p.R+6)%7)/7);if(2>=(p.R+371-p.ca-2)%7&&R++,R)R==53&&(T=(p.R+371-p.ca)%7,T==4||T==3&&bn(p.da)||(R=1));else{R=52;var T=(p.R+7-p.ca-1)%7;(T==4||T==5&&bn(p.da%400-1))&&R++}return l(R,2)},"%w":p=>p.R,"%W":p=>l(Math.floor((p.ca+7-(p.R+6)%7)/7),2),"%y":p=>(p.da+1900).toString().substring(2),"%Y":p=>p.da+1900,"%z":p=>{p=p.uc;var R=0<=p;return p=Math.abs(p)/60,(R?"+":"-")+("0000"+(p/60*100+p%60)).slice(-4)},"%Z":p=>p.xc,"%%":()=>"%"},n=n.replace(/%%/g,"\0\0");for(M in v)n.includes(M)&&(n=n.replace(new RegExp(M,"g"),v[M](o)));return n=n.replace(/\0\0/g,"%"),M=oi(n,!1),M.length>t?0:(be.set(M,e),M.length-1)};function Bi(e,t,n,o){e||(e=this),this.parent=e,this.U=e.U,this.wa=null,this.id=hr++,this.name=t,this.mode=n,this.l={},this.m={},this.za=o}Object.defineProperties(Bi.prototype,{read:{get:function(){return(this.mode&365)===365},set:function(e){e?this.mode|=365:this.mode&=-366}},write:{get:function(){return(this.mode&146)===146},set:function(e){e?this.mode|=146:this.mode&=-147}}}),bi(),jt=Array(4096),vi(ne,"/"),Ke("/tmp",16895,0),Ke("/home",16895,0),Ke("/home/web_user",16895,0),(()=>{Ke("/dev",16895,0),Rn(259,{read:()=>0,write:(o,s,l,h)=>h}),nn("/dev/null",259),ai(1280,cr),ai(1536,ur),nn("/dev/tty",1280),nn("/dev/tty1",1536);var e=new Uint8Array(1024),t=0,n=()=>(t===0&&(t=ti(e).byteLength),e[--t]);Nt("random",n),Nt("urandom",n),Ke("/dev/shm",16895,0),Ke("/dev/shm/tmp",16895,0)})(),(()=>{Ke("/proc",16895,0);var e=Ke("/proc/self",16895,0);Ke("/proc/self/fd",16895,0),vi({U:()=>{var t=fi(e,"fd",16895,73);return t.l={ka:(n,o)=>{var s=bt(+o);return n={parent:null,U:{mb:"fake"},l:{ma:()=>s.path}},n.parent=n}},t}},"/proc/self/fd")})(),Object.assign(xi.prototype,{get(e){return this.M[e]},has(e){return this.M[e]!==void 0},pa(e){var t=this.hb.pop()||this.M.length;return this.M[t]=e,t},Zb(e){this.M[e]=void 0,this.hb.push(e)}}),Mt=u.BindingError=class extends Error{constructor(e){super(e),this.name="BindingError"}},Ve.M.push({value:void 0},{value:null},{value:!0},{value:!1}),Ve.h=Ve.M.length,u.count_emval_handles=function(){for(var e=0,t=Ve.h;t<Ve.M.length;++t)Ve.M[t]!==void 0&&++e;return e},Si=u.PureVirtualError=_i("PureVirtualError");for(var Ui=Array(256),wn=0;256>wn;++wn)Ui[wn]=String.fromCharCode(wn);Ai=Ui,u.getInheritedInstanceCount=function(){return Object.keys(dt).length},u.getLiveInheritedInstances=function(){var e=[],t;for(t in dt)dt.hasOwnProperty(t)&&e.push(dt[t]);return e},u.flushPendingDeletes=kn,u.setDelayFunction=function(e){$t=e,Ut.length&&$t&&$t(kn)},Ti=u.InternalError=class extends Error{constructor(e){super(e),this.name="InternalError"}},wt.prototype.isAliasOf=function(e){if(!(this instanceof wt&&e instanceof wt))return!1;var t=this.g.u.i,n=this.g.o,o=e.g.u.i;for(e=e.g.o;t.A;)n=t.na(n),t=t.A;for(;o.A;)e=o.na(e),o=o.A;return t===o&&n===e},wt.prototype.clone=function(){if(this.g.o||jn(this),this.g.ia)return this.g.count.value+=1,this;var e=Ot,t=Object,n=t.create,o=Object.getPrototypeOf(this),s=this.g;return e=e(n.call(t,o,{g:{value:{count:s.count,fa:s.fa,ia:s.ia,o:s.o,u:s.u,G:s.G,L:s.L}}})),e.g.count.value+=1,e.g.fa=!1,e},wt.prototype.delete=function(){this.g.o||jn(this),this.g.fa&&!this.g.ia&&q("Object already scheduled for deletion"),an(this),Ei(this.g),this.g.ia||(this.g.G=void 0,this.g.o=void 0)},wt.prototype.isDeleted=function(){return!this.g.o},wt.prototype.deleteLater=function(){return this.g.o||jn(this),this.g.fa&&!this.g.ia&&q("Object already scheduled for deletion"),Ut.push(this),Ut.length===1&&$t&&$t(kn),this.g.fa=!0,this},ht.prototype.Vb=function(e){return this.rb&&(e=this.rb(e)),e},ht.prototype.ab=function(e){this.W&&this.W(e)},ht.prototype.argPackAdvance=8,ht.prototype.readValueFromPointer=Xt,ht.prototype.deleteObject=function(e){e!==null&&e.delete()},ht.prototype.fromWireType=function(e){function t(){return this.ua?cn(this.i.N,{u:this.nc,o:n,L:this,G:e}):cn(this.i.N,{u:this,o:e})}var n=this.Vb(e);if(!n)return this.ab(e),null;var o=mr(this.i,n);if(o!==void 0)return o.g.count.value===0?(o.g.o=n,o.g.G=e,o.clone()):(o=o.clone(),this.ab(e),o);if(o=this.i.Ub(n),o=Pi[o],!o)return t.call(this);o=this.ta?o.Kb:o.pointerType;var s=Ii(n,this.i,o.i);return s===null?t.call(this):this.ua?cn(o.i.N,{u:o,o:s,L:this,G:e}):cn(o.i.N,{u:o,o:s})},Oi=u.UnboundTypeError=_i("UnboundTypeError");var $i={__syscall_fcntl64:function(e,t,n){Bt=n;try{var o=bt(e);switch(t){case 0:var s=ut();return 0>s?-28:mi(o,s).X;case 1:case 2:return 0;case 3:return o.flags;case 4:return s=ut(),o.flags|=s,0;case 5:return s=ut(),pe[s+0>>1]=2,0;case 6:case 7:return 0;case 16:case 8:return-28;case 9:return se[Yi()>>2]=28,-1;default:return-28}}catch(l){if(typeof _t>"u"||l.name!=="ErrnoError")throw l;return-l.aa}},__syscall_ioctl:function(e,t,n){Bt=n;try{var o=bt(e);switch(t){case 21509:return o.s?0:-59;case 21505:if(!o.s)return-59;if(o.s.V.bc){t=[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];var s=ut();se[s>>2]=25856,se[s+4>>2]=5,se[s+8>>2]=191,se[s+12>>2]=35387;for(var l=0;32>l;l++)be[s+l+17>>0]=t[l]||0}return 0;case 21510:case 21511:case 21512:return o.s?0:-59;case 21506:case 21507:case 21508:if(!o.s)return-59;if(o.s.V.cc)for(s=ut(),t=[],l=0;32>l;l++)t.push(be[s+l+17>>0]);return 0;case 21519:return o.s?(s=ut(),se[s>>2]=0):-59;case 21520:return o.s?-28:-59;case 21531:if(s=ut(),!o.m.ac)throw new B(59);return o.m.ac(o,t,s);case 21523:return o.s?(o.s.V.dc&&(l=[24,80],s=ut(),pe[s>>1]=l[0],pe[s+2>>1]=l[1]),0):-59;case 21524:return o.s?0:-59;case 21515:return o.s?0:-59;default:return-28}}catch(h){if(typeof _t>"u"||h.name!=="ErrnoError")throw h;return-h.aa}},__syscall_openat:function(e,t,n,o){Bt=o;try{t=t?yt(oe,t):"";var s=t;if(s.charAt(0)==="/")t=s;else{var l=e===-100?"/":bt(e).path;if(s.length==0)throw new B(44);t=Ye(l+"/"+s)}var h=o?ut():0;return rn(t,n,h).X}catch(y){if(typeof _t>"u"||y.name!=="ErrnoError")throw y;return-y.aa}},_embind_create_inheriting_constructor:function(e,t,n){e=_e(e),t=Ht(t,"wrapper"),n=Ze(n);var o=[].slice,s=t.i,l=s.N,h=s.A.N,y=s.A.constructor;e=sn(e,function(){s.A.qb.forEach((function(v){if(this[v]===h[v])throw new Si(`Pure virtual function ${v} must be implemented in JavaScript`)}).bind(this)),Object.defineProperty(this,"__parent",{value:l}),this.__construct.apply(this,o.call(arguments))}),l.__construct=function(){this===l&&q("Pass correct 'this' to __construct");var v=y.implement.apply(void 0,[this].concat(o.call(arguments)));an(v);var M=v.g;v.notifyOnDestruction(),M.ia=!0,Object.defineProperties(this,{g:{value:M}}),Ot(this),v=M.o,v=Fn(s,v),dt.hasOwnProperty(v)?q(`Tried to register registered instance: ${v}`):dt[v]=this},l.__destruct=function(){this===l&&q("Pass correct 'this' to __destruct"),an(this);var v=this.g.o;v=Fn(s,v),dt.hasOwnProperty(v)?delete dt[v]:q(`Tried to unregister unregistered instance: ${v}`)},e.prototype=Object.create(l);for(var _ in n)e.prototype[_]=n[_];return Qe(e)},_embind_finalize_value_object:function(e){var t=un[e];delete un[e];var n=t.Pa,o=t.W,s=t.eb,l=s.map(h=>h.Yb).concat(s.map(h=>h.rc));We([e],l,h=>{var y={};return s.forEach((_,v)=>{var M=h[v],F=_.Wb,N=_.Xb,p=h[v+s.length],R=_.qc,T=_.sc;y[_.Sb]={read:J=>M.fromWireType(F(N,J)),write:(J,te)=>{var j=[];R(T,J,p.toWireType(j,te)),zt(j)}}}),[{name:t.name,fromWireType:function(_){var v={},M;for(M in y)v[M]=y[M].read(_);return o(_),v},toWireType:function(_,v){for(var M in y)if(!(M in v))throw new TypeError(`Missing field: "${M}"`);var F=n();for(M in y)y[M].write(F,v[M]);return _!==null&&_.push(o,F),F},argPackAdvance:8,readValueFromPointer:Xt,K:o}]})},_embind_register_bigint:function(){},_embind_register_bool:function(e,t,n,o,s){var l=hn(n);t=_e(t),et(e,{name:t,fromWireType:function(h){return!!h},toWireType:function(h,y){return y?o:s},argPackAdvance:8,readValueFromPointer:function(h){if(n===1)var y=be;else if(n===2)y=pe;else if(n===4)y=se;else throw new TypeError("Unknown boolean type size: "+t);return this.fromWireType(y[h>>l])},K:null})},_embind_register_class:function(e,t,n,o,s,l,h,y,_,v,M,F,N){M=_e(M),l=ke(s,l),y&&(y=ke(h,y)),v&&(v=ke(_,v)),N=ke(F,N);var p=Ci(M);Wn(p,function(){ft(`Cannot construct ${M} due to unbound types`,[o])}),We([e,t,n],o?[o]:[],function(R){if(R=R[0],o)var T=R.i,J=T.N;else J=wt.prototype;R=sn(p,function(){if(Object.getPrototypeOf(this)!==te)throw new Mt("Use 'new' to construct "+M);if(j.$===void 0)throw new Mt(M+" has no accessible constructor");var Re=j.$[arguments.length];if(Re===void 0)throw new Mt(`Tried to invoke ctor of ${M} with invalid number of parameters (${arguments.length}) - expected (${Object.keys(j.$).toString()}) parameters instead!`);return Re.apply(this,arguments)});var te=Object.create(J,{constructor:{value:R}});R.prototype=te;var j=new yr(M,R,te,N,T,l,y,v);j.A&&(j.A.oa===void 0&&(j.A.oa=[]),j.A.oa.push(j)),T=new ht(M,j,!0,!1),J=new ht(M+"*",j,!1,!1);var Ce=new ht(M+" const*",j,!1,!0);return Pi[e]={pointerType:J,Kb:Ce},Ri(p,R),[T,J,Ce]})},_embind_register_class_class_function:function(e,t,n,o,s,l,h){var y=mn(n,o);t=_e(t),l=ke(s,l),We([],[e],function(_){function v(){ft(`Cannot call ${M} due to unbound types`,y)}_=_[0];var M=`${_.name}.${t}`;t.startsWith("@@")&&(t=Symbol[t.substring(2)]);var F=_.i.constructor;return F[t]===void 0?(v.ea=n-1,F[t]=v):(Nn(F,t,M),F[t].B[n-1]=v),We([],y,function(N){if(N=gn(M,[N[0],null].concat(N.slice(1)),null,l,h),F[t].B===void 0?(N.ea=n-1,F[t]=N):F[t].B[n-1]=N,_.i.oa)for(const p of _.i.oa)p.constructor.hasOwnProperty(t)||(p.constructor[t]=N);return[]}),[]})},_embind_register_class_class_property:function(e,t,n,o,s,l,h,y){t=_e(t),l=ke(s,l),We([],[e],function(_){_=_[0];var v=`${_.name}.${t}`,M={get(){ft(`Cannot access ${v} due to unbound types`,[n])},enumerable:!0,configurable:!0};return M.set=y?()=>{ft(`Cannot access ${v} due to unbound types`,[n])}:()=>{q(`${v} is a read-only property`)},Object.defineProperty(_.i.constructor,t,M),We([],[n],function(F){F=F[0];var N={get(){return F.fromWireType(l(o))},enumerable:!0};return y&&(y=ke(h,y),N.set=p=>{var R=[];y(o,F.toWireType(R,p)),zt(R)}),Object.defineProperty(_.i.constructor,t,N),[]}),[]})},_embind_register_class_constructor:function(e,t,n,o,s,l){var h=mn(t,n);s=ke(o,s),We([],[e],function(y){y=y[0];var _=`constructor ${y.name}`;if(y.i.$===void 0&&(y.i.$=[]),y.i.$[t-1]!==void 0)throw new Mt(`Cannot register multiple constructors with identical number of parameters (${t-1}) for class '${y.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return y.i.$[t-1]=()=>{ft(`Cannot construct ${y.name} due to unbound types`,h)},We([],h,function(v){return v.splice(1,0,null),y.i.$[t-1]=gn(_,v,null,s,l),[]}),[]})},_embind_register_class_function:function(e,t,n,o,s,l,h,y){var _=mn(n,o);t=_e(t),l=ke(s,l),We([],[e],function(v){function M(){ft(`Cannot call ${F} due to unbound types`,_)}v=v[0];var F=`${v.name}.${t}`;t.startsWith("@@")&&(t=Symbol[t.substring(2)]),y&&v.i.qb.push(t);var N=v.i.N,p=N[t];return p===void 0||p.B===void 0&&p.className!==v.name&&p.ea===n-2?(M.ea=n-2,M.className=v.name,N[t]=M):(Nn(N,t,F),N[t].B[n-2]=M),We([],_,function(R){return R=gn(F,R,v,l,h),N[t].B===void 0?(R.ea=n-2,N[t]=R):N[t].B[n-2]=R,[]}),[]})},_embind_register_class_property:function(e,t,n,o,s,l,h,y,_,v){t=_e(t),s=ke(o,s),We([],[e],function(M){M=M[0];var F=`${M.name}.${t}`,N={get(){ft(`Cannot access ${F} due to unbound types`,[n,h])},enumerable:!0,configurable:!0};return N.set=_?()=>{ft(`Cannot access ${F} due to unbound types`,[n,h])}:()=>{q(F+" is a read-only property")},Object.defineProperty(M.i.N,t,N),We([],_?[n,h]:[n],function(p){var R=p[0],T={get(){var te=ki(this,M,F+" getter");return R.fromWireType(s(l,te))},enumerable:!0};if(_){_=ke(y,_);var J=p[1];T.set=function(te){var j=ki(this,M,F+" setter"),Ce=[];_(v,j,J.toWireType(Ce,te)),zt(Ce)}}return Object.defineProperty(M.i.N,t,T),[]}),[]})},_embind_register_emval:function(e,t){t=_e(t),et(e,{name:t,fromWireType:function(n){var o=Ze(n);return Bn(n),o},toWireType:function(n,o){return Qe(o)},argPackAdvance:8,readValueFromPointer:Xt,K:null})},_embind_register_enum:function(e,t,n,o){function s(){}n=hn(n),t=_e(t),s.values={},et(e,{name:t,constructor:s,fromWireType:function(l){return this.constructor.values[l]},toWireType:function(l,h){return h.value},argPackAdvance:8,readValueFromPointer:_r(t,n,o),K:null}),Wn(t,s)},_embind_register_enum_value:function(e,t,n){var o=Ht(e,"enum");t=_e(t),e=o.constructor,o=Object.create(o.constructor.prototype,{value:{value:n},constructor:{value:sn(`${o.name}_${t}`,function(){})}}),e.values[n]=o,e[t]=o},_embind_register_float:function(e,t,n){n=hn(n),t=_e(t),et(e,{name:t,fromWireType:function(o){return o},toWireType:function(o,s){return s},argPackAdvance:8,readValueFromPointer:Sr(t,n),K:null})},_embind_register_function:function(e,t,n,o,s,l){var h=mn(t,n);e=_e(e),s=ke(o,s),Wn(e,function(){ft(`Cannot call ${e} due to unbound types`,h)},t-1),We([],h,function(y){return Ri(e,gn(e,[y[0],null].concat(y.slice(1)),null,s,l),t-1),[]})},_embind_register_integer:function(e,t,n,o,s){t=_e(t),s===-1&&(s=4294967295),s=hn(n);var l=y=>y;if(o===0){var h=32-8*n;l=y=>y<<h>>>h}n=t.includes("unsigned")?function(y,_){return _>>>0}:function(y,_){return _},et(e,{name:t,fromWireType:l,toWireType:n,argPackAdvance:8,readValueFromPointer:Ar(t,s,o!==0),K:null})},_embind_register_memory_view:function(e,t,n){function o(l){l>>=2;var h=ve;return new s(h.buffer,h[l+1],h[l])}var s=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][t];n=_e(n),et(e,{name:n,fromWireType:o,argPackAdvance:8,readValueFromPointer:o},{$b:!0})},_embind_register_std_string:function(e,t){t=_e(t);var n=t==="std::string";et(e,{name:t,fromWireType:function(o){var s=ve[o>>2],l=o+4;if(n)for(var h=l,y=0;y<=s;++y){var _=l+y;if(y==s||oe[_]==0){if(h=h?yt(oe,h,_-h):"",v===void 0)var v=h;else v+="\0",v+=h;h=_+1}}else{for(v=Array(s),y=0;y<s;++y)v[y]=String.fromCharCode(oe[l+y]);v=v.join("")}return pt(o),v},toWireType:function(o,s){s instanceof ArrayBuffer&&(s=new Uint8Array(s));var l=typeof s=="string";l||s instanceof Uint8Array||s instanceof Uint8ClampedArray||s instanceof Int8Array||q("Cannot pass non-string to std::string");var h=n&&l?ii(s):s.length,y=Xn(4+h+1),_=y+4;if(ve[y>>2]=h,n&&l)ri(s,oe,_,h+1);else if(l)for(l=0;l<h;++l){var v=s.charCodeAt(l);255<v&&(pt(_),q("String has UTF-16 code units that do not fit in 8 bits")),oe[_+l]=v}else for(l=0;l<h;++l)oe[_+l]=s[l];return o!==null&&o.push(pt,y),y},argPackAdvance:8,readValueFromPointer:Xt,K:function(o){pt(o)}})},_embind_register_std_wstring:function(e,t,n){if(n=_e(n),t===2)var o=Lr,s=Er,l=Ir,h=()=>Xe,y=1;else t===4&&(o=Pr,s=Tr,l=Rr,h=()=>ve,y=2);et(e,{name:n,fromWireType:function(_){for(var v=ve[_>>2],M=h(),F,N=_+4,p=0;p<=v;++p){var R=_+4+p*t;(p==v||M[R>>y]==0)&&(N=o(N,R-N),F===void 0?F=N:(F+="\0",F+=N),N=R+t)}return pt(_),F},toWireType:function(_,v){typeof v!="string"&&q(`Cannot pass non-string to C++ string type ${n}`);var M=l(v),F=Xn(4+M+t);return ve[F>>2]=M>>y,s(v,F+4,M+t),_!==null&&_.push(pt,F),F},argPackAdvance:8,readValueFromPointer:Xt,K:function(_){pt(_)}})},_embind_register_value_object:function(e,t,n,o,s,l){un[e]={name:_e(t),Pa:ke(n,o),W:ke(s,l),eb:[]}},_embind_register_value_object_field:function(e,t,n,o,s,l,h,y,_,v){un[e].eb.push({Sb:_e(t),Yb:n,Wb:ke(o,s),Xb:l,rc:h,qc:ke(y,_),sc:v})},_embind_register_void:function(e,t){t=_e(t),et(e,{fc:!0,name:t,argPackAdvance:0,fromWireType:function(){},toWireType:function(){}})},_emscripten_get_now_is_monotonic:()=>!0,_emval_as:function(e,t,n){e=Ze(e),t=Ht(t,"emval::as");var o=[],s=Qe(o);return ve[n>>2]=s,t.toWireType(o,e)},_emval_call_method:function(e,t,n,o,s){e=yn[e],t=Ze(t),n=vn(n);var l=[];return ve[o>>2]=Qe(l),e(t,n,l,s)},_emval_call_void_method:function(e,t,n,o){e=yn[e],t=Ze(t),n=vn(n),e(t,n,null,o)},_emval_decref:Bn,_emval_get_method_caller:function(e,t){var n=kr(e,t),o=n[0];t=o.name+"_$"+n.slice(1).map(function(h){return h.name}).join("_")+"$";var s=Di[t];if(s!==void 0)return s;var l=Array(e-1);return s=Or((h,y,_,v)=>{for(var M=0,F=0;F<e-1;++F)l[F]=n[F+1].readValueFromPointer(v+M),M+=n[F+1].argPackAdvance;for(h=h[y].apply(h,l),F=0;F<e-1;++F)n[F+1].Nb&&n[F+1].Nb(l[F]);if(!o.fc)return o.toWireType(_,h)}),Di[t]=s},_emval_get_module_property:function(e){return e=vn(e),Qe(u[e])},_emval_get_property:function(e,t){return e=Ze(e),t=Ze(t),Qe(e[t])},_emval_incref:function(e){4<e&&(Ve.get(e).tb+=1)},_emval_new_cstring:function(e){return Qe(vn(e))},_emval_new_object:function(){return Qe({})},_emval_run_destructors:function(e){var t=Ze(e);zt(t),Bn(e)},_emval_set_property:function(e,t,n){e=Ze(e),t=Ze(t),n=Ze(n),e[t]=n},_emval_take_value:function(e,t){return e=Ht(e,"_emval_take_value"),e=e.readValueFromPointer(t),Qe(e)},abort:()=>{ge("")},emscripten_asm_const_int:(e,t,n)=>{$n.length=0;var o;for(n>>=2;o=oe[t++];)n+=o!=105&n,$n.push(o==105?se[n]:i[n++>>1]),++n;return Dt[e].apply(null,$n)},emscripten_date_now:function(){return Date.now()},emscripten_get_now:()=>performance.now(),emscripten_memcpy_big:(e,t,n)=>oe.copyWithin(e,t,t+n),emscripten_resize_heap:e=>{var t=oe.length;if(e>>>=0,2147483648<e)return!1;for(var n=1;4>=n;n*=2){var o=t*(1+.2/n);o=Math.min(o,e+100663296);var s=Math;o=Math.max(e,o);e:{s=s.min.call(s,2147483648,o+(65536-o%65536)%65536)-De.buffer.byteLength+65535>>>16;try{De.grow(s),a();var l=1;break e}catch{}l=void 0}if(l)return!0}return!1},environ_get:(e,t)=>{var n=0;return ji().forEach(function(o,s){var l=t+n;for(s=ve[e+4*s>>2]=l,l=0;l<o.length;++l)be[s++>>0]=o.charCodeAt(l);be[s>>0]=0,n+=o.length+1}),0},environ_sizes_get:(e,t)=>{var n=ji();ve[e>>2]=n.length;var o=0;return n.forEach(function(s){o+=s.length+1}),ve[t>>2]=o,0},fd_close:function(e){try{var t=bt(e);if(t.X===null)throw new B(8);t.Ma&&(t.Ma=null);try{t.m.close&&t.m.close(t)}catch(n){throw n}finally{Qt[t.X]=null}return t.X=null,0}catch(n){if(typeof _t>"u"||n.name!=="ErrnoError")throw n;return n.aa}},fd_read:function(e,t,n,o){try{e:{var s=bt(e);e=t;for(var l,h=t=0;h<n;h++){var y=ve[e>>2],_=ve[e+4>>2];e+=8;var v=s,M=y,F=_,N=l,p=be;if(0>F||0>N)throw new B(28);if(v.X===null)throw new B(8);if((v.flags&2097155)===1)throw new B(8);if((v.node.mode&61440)===16384)throw new B(31);if(!v.m.read)throw new B(28);var R=typeof N<"u";if(!R)N=v.position;else if(!v.seekable)throw new B(70);var T=v.m.read(v,p,M,F,N);R||(v.position+=T);var J=T;if(0>J){var te=-1;break e}if(t+=J,J<_)break;typeof l<"u"&&(l+=J)}te=t}return ve[o>>2]=te,0}catch(j){if(typeof _t>"u"||j.name!=="ErrnoError")throw j;return j.aa}},fd_seek:function(e,t,n,o,s){t=n+2097152>>>0<4194305-!!t?(t>>>0)+4294967296*n:NaN;try{if(isNaN(t))return 61;var l=bt(e);return yi(l,t,o),Tt=[l.position>>>0,(lt=l.position,1<=+Math.abs(lt)?0<lt?+Math.floor(lt/4294967296)>>>0:~~+Math.ceil((lt-+(~~lt>>>0))/4294967296)>>>0:0)],se[s>>2]=Tt[0],se[s+4>>2]=Tt[1],l.Ma&&t===0&&o===0&&(l.Ma=null),0}catch(h){if(typeof _t>"u"||h.name!=="ErrnoError")throw h;return h.aa}},fd_write:function(e,t,n,o){try{e:{var s=bt(e);e=t;for(var l,h=t=0;h<n;h++){var y=ve[e>>2],_=ve[e+4>>2];e+=8;var v=s,M=y,F=_,N=l,p=be;if(0>F||0>N)throw new B(28);if(v.X===null)throw new B(8);if((v.flags&2097155)===0)throw new B(8);if((v.node.mode&61440)===16384)throw new B(31);if(!v.m.write)throw new B(28);v.seekable&&v.flags&1024&&yi(v,0,2);var R=typeof N<"u";if(!R)N=v.position;else if(!v.seekable)throw new B(70);var T=v.m.write(v,p,M,F,N,void 0);R||(v.position+=T);var J=T;if(0>J){var te=-1;break e}t+=J,typeof l<"u"&&(l+=J)}te=t}return ve[o>>2]=te,0}catch(j){if(typeof _t>"u"||j.name!=="ErrnoError")throw j;return j.aa}},strftime_l:(e,t,n,o)=>Fr(e,t,n,o)};(function(){function e(n){if(re=n=n.exports,De=re.memory,a(),m=re.__indirect_function_table,I.unshift(re.__wasm_call_ctors),Q--,u.monitorRunDependencies&&u.monitorRunDependencies(Q),Q==0&&H){var o=H;H=null,o()}return n}var t={env:$i,wasi_snapshot_preview1:$i};if(Q++,u.monitorRunDependencies&&u.monitorRunDependencies(Q),u.instantiateWasm)try{return u.instantiateWasm(t,e)}catch(n){Ae("Module.instantiateWasm callback failed with error: "+n),ee(n)}return Kt(t,function(n){e(n.instance)}).catch(ee),{}})();var pt=e=>(pt=re.free)(e),Xn=e=>(Xn=re.malloc)(e),Hi=u._ma_device__on_notification_unlocked=e=>(Hi=u._ma_device__on_notification_unlocked=re.ma_device__on_notification_unlocked)(e);u._ma_malloc_emscripten=(e,t)=>(u._ma_malloc_emscripten=re.ma_malloc_emscripten)(e,t),u._ma_free_emscripten=(e,t)=>(u._ma_free_emscripten=re.ma_free_emscripten)(e,t);var zi=u._ma_device_process_pcm_frames_capture__webaudio=(e,t,n)=>(zi=u._ma_device_process_pcm_frames_capture__webaudio=re.ma_device_process_pcm_frames_capture__webaudio)(e,t,n),Xi=u._ma_device_process_pcm_frames_playback__webaudio=(e,t,n)=>(Xi=u._ma_device_process_pcm_frames_playback__webaudio=re.ma_device_process_pcm_frames_playback__webaudio)(e,t,n),Yi=()=>(Yi=re.__errno_location)(),Vi=e=>(Vi=re.__getTypeName)(e);u.__embind_initialize_bindings=()=>(u.__embind_initialize_bindings=re._embind_initialize_bindings)(),u.dynCall_iiji=(e,t,n,o,s)=>(u.dynCall_iiji=re.dynCall_iiji)(e,t,n,o,s),u.dynCall_jiji=(e,t,n,o,s)=>(u.dynCall_jiji=re.dynCall_jiji)(e,t,n,o,s),u.dynCall_iiiji=(e,t,n,o,s,l)=>(u.dynCall_iiiji=re.dynCall_iiiji)(e,t,n,o,s,l),u.dynCall_iij=(e,t,n,o)=>(u.dynCall_iij=re.dynCall_iij)(e,t,n,o),u.dynCall_jii=(e,t,n)=>(u.dynCall_jii=re.dynCall_jii)(e,t,n),u.dynCall_viijii=(e,t,n,o,s,l,h)=>(u.dynCall_viijii=re.dynCall_viijii)(e,t,n,o,s,l,h),u.dynCall_iiiiij=(e,t,n,o,s,l,h)=>(u.dynCall_iiiiij=re.dynCall_iiiiij)(e,t,n,o,s,l,h),u.dynCall_iiiiijj=(e,t,n,o,s,l,h,y,_)=>(u.dynCall_iiiiijj=re.dynCall_iiiiijj)(e,t,n,o,s,l,h,y,_),u.dynCall_iiiiiijj=(e,t,n,o,s,l,h,y,_,v)=>(u.dynCall_iiiiiijj=re.dynCall_iiiiiijj)(e,t,n,o,s,l,h,y,_,v);var Cn;H=function e(){Cn||Gi(),Cn||(H=e)};function Gi(){function e(){if(!Cn&&(Cn=!0,u.calledRun=!0,!ze)){if(u.noFSInit||wi||(wi=!0,bi(),u.stdin=u.stdin,u.stdout=u.stdout,u.stderr=u.stderr,u.stdin?Nt("stdin",u.stdin):Mn("/dev/tty","/dev/stdin"),u.stdout?Nt("stdout",null,u.stdout):Mn("/dev/tty","/dev/stdout"),u.stderr?Nt("stderr",null,u.stderr):Mn("/dev/tty1","/dev/stderr"),rn("/dev/stdin",0),rn("/dev/stdout",1),rn("/dev/stderr",1)),ui=!1,ct(I),$(u),u.onRuntimeInitialized&&u.onRuntimeInitialized(),u.postRun)for(typeof u.postRun=="function"&&(u.postRun=[u.postRun]);u.postRun.length;){var t=u.postRun.shift();O.unshift(t)}ct(O)}}if(!(0<Q)){if(u.preRun)for(typeof u.preRun=="function"&&(u.preRun=[u.preRun]);u.preRun.length;)z();ct(A),0<Q||(u.setStatus?(u.setStatus("Running..."),setTimeout(function(){setTimeout(function(){u.setStatus("")},1),e()},1)):e())}}if(u.preInit)for(typeof u.preInit=="function"&&(u.preInit=[u.preInit]);0<u.preInit.length;)u.preInit.pop()();return Gi(),D.ready}})();const S=L},E=>{E.exports=JSON.parse(`{"name":"@rive-app/canvas","version":"2.25.7","description":"Rive's canvas based web api.","main":"rive.js","homepage":"https://rive.app","repository":{"type":"git","url":"https://github.com/rive-app/rive-wasm/tree/master/js"},"keywords":["rive","animation"],"author":"Rive","contributors":["Luigi Rosso <luigi@rive.app> (https://rive.app)","Maxwell Talbot <max@rive.app> (https://rive.app)","Arthur Vivian <arthur@rive.app> (https://rive.app)","Umberto Sonnino <umberto@rive.app> (https://rive.app)","Matthew Sullivan <matt.j.sullivan@gmail.com> (mailto:matt.j.sullivan@gmail.com)"],"license":"MIT","files":["rive.js","rive.js.map","rive.wasm","rive_fallback.wasm","rive.d.ts","rive_advanced.mjs.d.ts"],"typings":"rive.d.ts","dependencies":{},"browser":{"fs":false,"path":false}}`)},(E,b,x)=>{x.r(b),x.d(b,{Animation:()=>L.Animation});var L=x(4)},(E,b,x)=>{x.r(b),x.d(b,{Animation:()=>L});var L=function(){function S(k,D,u,$){this.animation=k,this.artboard=D,this.playing=$,this.loopCount=0,this.scrubTo=null,this.instance=new u.LinearAnimationInstance(k,D)}return Object.defineProperty(S.prototype,"name",{get:function(){return this.animation.name},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"time",{get:function(){return this.instance.time},set:function(k){this.instance.time=k},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"loopValue",{get:function(){return this.animation.loopValue},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"needsScrub",{get:function(){return this.scrubTo!==null},enumerable:!1,configurable:!0}),S.prototype.advance=function(k){this.scrubTo===null?this.instance.advance(k):(this.instance.time=0,this.instance.advance(this.scrubTo),this.scrubTo=null)},S.prototype.apply=function(k){this.instance.apply(k)},S.prototype.cleanup=function(){this.instance.delete()},S}()},(E,b,x)=>{x.r(b),x.d(b,{BLANK_URL:()=>S.BLANK_URL,registerTouchInteractions:()=>L.registerTouchInteractions,sanitizeUrl:()=>S.sanitizeUrl});var L=x(6),S=x(7)},(E,b,x)=>{x.r(b),x.d(b,{registerTouchInteractions:()=>k});var L=void 0,S=function(D,u){var $,ee;return["touchstart","touchmove"].indexOf(D.type)>-1&&(!(($=D.touches)===null||$===void 0)&&$.length)?(u||D.preventDefault(),{clientX:D.touches[0].clientX,clientY:D.touches[0].clientY}):D.type==="touchend"&&(!((ee=D.changedTouches)===null||ee===void 0)&&ee.length)?{clientX:D.changedTouches[0].clientX,clientY:D.changedTouches[0].clientY}:{clientX:D.clientX,clientY:D.clientY}},k=function(D){var u=D.canvas,$=D.artboard,ee=D.stateMachines,he=ee===void 0?[]:ee,X=D.renderer,Y=D.rive,ie=D.fit,V=D.alignment,we=D.isTouchScrollEnabled,U=we===void 0?!1:we,xe=D.layoutScaleFactor,Te=xe===void 0?1:xe;if(!u||!he.length||!X||!Y||!$||typeof window>"u")return null;var Ne=null,ye=!1,He=function(Oe){if(ye&&Oe instanceof MouseEvent){Oe.type=="mouseup"&&(ye=!1);return}ye=U&&Oe.type==="touchend"&&Ne==="touchstart",Ne=Oe.type;var Ae=Oe.currentTarget.getBoundingClientRect(),Fe=S(Oe,U),De=Fe.clientX,re=Fe.clientY;if(!(!De&&!re)){var ze=De-Ae.left,be=re-Ae.top,oe=Y.computeAlignment(ie,V,{minX:0,minY:0,maxX:Ae.width,maxY:Ae.height},$.bounds,Te),pe=new Y.Mat2D;oe.invert(pe);var Xe=new Y.Vec2D(ze,be),se=Y.mapXY(pe,Xe),ve=se.x(),c=se.y();switch(se.delete(),pe.delete(),Xe.delete(),oe.delete(),Oe.type){case"mouseout":for(var i=0,a=he;i<a.length;i++){var m=a[i];m.pointerMove(ve,c)}break;case"touchmove":case"mouseover":case"mousemove":{for(var A=0,I=he;A<I.length;A++){var m=I[A];m.pointerMove(ve,c)}break}case"touchstart":case"mousedown":{for(var O=0,z=he;O<z.length;O++){var m=z[O];m.pointerDown(ve,c)}break}case"touchend":case"mouseup":{for(var Q=0,H=he;Q<H.length;Q++){var m=H[Q];m.pointerUp(ve,c)}break}}}},fe=He.bind(L);return u.addEventListener("mouseover",fe),u.addEventListener("mouseout",fe),u.addEventListener("mousemove",fe),u.addEventListener("mousedown",fe),u.addEventListener("mouseup",fe),u.addEventListener("touchmove",fe,{passive:U}),u.addEventListener("touchstart",fe,{passive:U}),u.addEventListener("touchend",fe),function(){u.removeEventListener("mouseover",fe),u.removeEventListener("mouseout",fe),u.removeEventListener("mousemove",fe),u.removeEventListener("mousedown",fe),u.removeEventListener("mouseup",fe),u.removeEventListener("touchmove",fe),u.removeEventListener("touchstart",fe),u.removeEventListener("touchend",fe)}}},(E,b,x)=>{x.r(b),x.d(b,{BLANK_URL:()=>ee,sanitizeUrl:()=>Y});var L=/^([^\w]*)(javascript|data|vbscript)/im,S=/&#(\w+)(^\w|;)?/g,k=/&(newline|tab);/gi,D=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,u=/^.+(:|&colon;)/gim,$=[".","/"],ee="about:blank";function he(ie){return $.indexOf(ie[0])>-1}function X(ie){var V=ie.replace(D,"");return V.replace(S,function(we,U){return String.fromCharCode(U)})}function Y(ie){if(!ie)return ee;var V=X(ie).replace(k,"").replace(D,"").trim();if(!V)return ee;if(he(V))return V;var we=V.match(u);if(!we)return V;var U=we[0];return L.test(U)?ee:V}}],g={};function w(E){var b=g[E];if(b!==void 0)return b.exports;var x=g[E]={exports:{}};return f[E](x,x.exports,w),x.exports}w.d=(E,b)=>{for(var x in b)w.o(b,x)&&!w.o(E,x)&&Object.defineProperty(E,x,{enumerable:!0,get:b[x]})},w.o=(E,b)=>Object.prototype.hasOwnProperty.call(E,b),w.r=E=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(E,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(E,"__esModule",{value:!0})};var C={};return(()=>{w.r(C),w.d(C,{Alignment:()=>$,EventType:()=>U,Fit:()=>u,Layout:()=>ee,LoopType:()=>xe,Rive:()=>ze,RiveEventType:()=>ie,RiveFile:()=>re,RuntimeLoader:()=>he,StateMachineInput:()=>Y,StateMachineInputType:()=>X,Testing:()=>pe,decodeAudio:()=>Xe,decodeFont:()=>ve,decodeImage:()=>se});var E=w(1),b=w(2),x=w(3),L=w(5),S=function(){var c=function(i,a){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,A){m.__proto__=A}||function(m,A){for(var I in A)Object.prototype.hasOwnProperty.call(A,I)&&(m[I]=A[I])},c(i,a)};return function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");c(i,a);function m(){this.constructor=i}i.prototype=a===null?Object.create(a):(m.prototype=a.prototype,new m)}}(),k=function(c,i,a,m){function A(I){return I instanceof a?I:new a(function(O){O(I)})}return new(a||(a=Promise))(function(I,O){function z(ge){try{H(m.next(ge))}catch(Le){O(Le)}}function Q(ge){try{H(m.throw(ge))}catch(Le){O(Le)}}function H(ge){ge.done?I(ge.value):A(ge.value).then(z,Q)}H((m=m.apply(c,[])).next())})},D=function(c,i){var a={label:0,sent:function(){if(I[0]&1)throw I[1];return I[1]},trys:[],ops:[]},m,A,I,O=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return O.next=z(0),O.throw=z(1),O.return=z(2),typeof Symbol=="function"&&(O[Symbol.iterator]=function(){return this}),O;function z(H){return function(ge){return Q([H,ge])}}function Q(H){if(m)throw new TypeError("Generator is already executing.");for(;O&&(O=0,H[0]&&(a=0)),a;)try{if(m=1,A&&(I=H[0]&2?A.return:H[0]?A.throw||((I=A.return)&&I.call(A),0):A.next)&&!(I=I.call(A,H[1])).done)return I;switch(A=0,I&&(H=[H[0]&2,I.value]),H[0]){case 0:case 1:I=H;break;case 4:return a.label++,{value:H[1],done:!1};case 5:a.label++,A=H[1],H=[0];continue;case 7:H=a.ops.pop(),a.trys.pop();continue;default:if(I=a.trys,!(I=I.length>0&&I[I.length-1])&&(H[0]===6||H[0]===2)){a=0;continue}if(H[0]===3&&(!I||H[1]>I[0]&&H[1]<I[3])){a.label=H[1];break}if(H[0]===6&&a.label<I[1]){a.label=I[1],I=H;break}if(I&&a.label<I[2]){a.label=I[2],a.ops.push(H);break}I[2]&&a.ops.pop(),a.trys.pop();continue}H=i.call(c,a)}catch(ge){H=[6,ge],A=0}finally{m=I=0}if(H[0]&5)throw H[1];return{value:H[0]?H[1]:void 0,done:!0}}},u;(function(c){c.Cover="cover",c.Contain="contain",c.Fill="fill",c.FitWidth="fitWidth",c.FitHeight="fitHeight",c.None="none",c.ScaleDown="scaleDown",c.Layout="layout"})(u||(u={}));var $;(function(c){c.Center="center",c.TopLeft="topLeft",c.TopCenter="topCenter",c.TopRight="topRight",c.CenterLeft="centerLeft",c.CenterRight="centerRight",c.BottomLeft="bottomLeft",c.BottomCenter="bottomCenter",c.BottomRight="bottomRight"})($||($={}));var ee=function(){function c(i){var a,m,A,I,O,z,Q;this.fit=(a=i==null?void 0:i.fit)!==null&&a!==void 0?a:u.Contain,this.alignment=(m=i==null?void 0:i.alignment)!==null&&m!==void 0?m:$.Center,this.layoutScaleFactor=(A=i==null?void 0:i.layoutScaleFactor)!==null&&A!==void 0?A:1,this.minX=(I=i==null?void 0:i.minX)!==null&&I!==void 0?I:0,this.minY=(O=i==null?void 0:i.minY)!==null&&O!==void 0?O:0,this.maxX=(z=i==null?void 0:i.maxX)!==null&&z!==void 0?z:0,this.maxY=(Q=i==null?void 0:i.maxY)!==null&&Q!==void 0?Q:0}return c.new=function(i){var a=i.fit,m=i.alignment,A=i.minX,I=i.minY,O=i.maxX,z=i.maxY;return console.warn("This function is deprecated: please use `new Layout({})` instead"),new c({fit:a,alignment:m,minX:A,minY:I,maxX:O,maxY:z})},c.prototype.copyWith=function(i){var a=i.fit,m=i.alignment,A=i.layoutScaleFactor,I=i.minX,O=i.minY,z=i.maxX,Q=i.maxY;return new c({fit:a??this.fit,alignment:m??this.alignment,layoutScaleFactor:A??this.layoutScaleFactor,minX:I??this.minX,minY:O??this.minY,maxX:z??this.maxX,maxY:Q??this.maxY})},c.prototype.runtimeFit=function(i){if(this.cachedRuntimeFit)return this.cachedRuntimeFit;var a;return this.fit===u.Cover?a=i.Fit.cover:this.fit===u.Contain?a=i.Fit.contain:this.fit===u.Fill?a=i.Fit.fill:this.fit===u.FitWidth?a=i.Fit.fitWidth:this.fit===u.FitHeight?a=i.Fit.fitHeight:this.fit===u.ScaleDown?a=i.Fit.scaleDown:this.fit===u.Layout?a=i.Fit.layout:a=i.Fit.none,this.cachedRuntimeFit=a,a},c.prototype.runtimeAlignment=function(i){if(this.cachedRuntimeAlignment)return this.cachedRuntimeAlignment;var a;return this.alignment===$.TopLeft?a=i.Alignment.topLeft:this.alignment===$.TopCenter?a=i.Alignment.topCenter:this.alignment===$.TopRight?a=i.Alignment.topRight:this.alignment===$.CenterLeft?a=i.Alignment.centerLeft:this.alignment===$.CenterRight?a=i.Alignment.centerRight:this.alignment===$.BottomLeft?a=i.Alignment.bottomLeft:this.alignment===$.BottomCenter?a=i.Alignment.bottomCenter:this.alignment===$.BottomRight?a=i.Alignment.bottomRight:a=i.Alignment.center,this.cachedRuntimeAlignment=a,a},c}(),he=function(){function c(){}return c.loadRuntime=function(){E.default({locateFile:function(){return c.wasmURL}}).then(function(i){var a;for(c.runtime=i;c.callBackQueue.length>0;)(a=c.callBackQueue.shift())===null||a===void 0||a(c.runtime)}).catch(function(i){var a={message:(i==null?void 0:i.message)||"Unknown error",type:(i==null?void 0:i.name)||"Error",wasmError:i instanceof WebAssembly.CompileError||i instanceof WebAssembly.RuntimeError,originalError:i};console.debug("Rive WASM load error details:",a);var m="https://cdn.jsdelivr.net/npm/".concat(b.name,"@").concat(b.version,"/rive_fallback.wasm");if(c.wasmURL.toLowerCase()!==m)console.warn("Failed to load WASM from ".concat(c.wasmURL," (").concat(a.message,"), trying jsdelivr as a backup")),c.setWasmUrl(m),c.loadRuntime();else{var A=["Could not load Rive WASM file from ".concat(c.wasmURL," or ").concat(m,"."),"Possible reasons:","- Network connection is down","- WebAssembly is not supported in this environment","- The WASM file is corrupted or incompatible",`
Error details:`,"- Type: ".concat(a.type),"- Message: ".concat(a.message),"- WebAssembly-specific error: ".concat(a.wasmError),`
To resolve, you may need to:`,"1. Check your network connection","2. Set a new WASM source via RuntimeLoader.setWasmUrl()","3. Call RuntimeLoader.loadRuntime() again"].join(`
`);console.error(A)}})},c.getInstance=function(i){c.isLoading||(c.isLoading=!0,c.loadRuntime()),c.runtime?i(c.runtime):c.callBackQueue.push(i)},c.awaitInstance=function(){return new Promise(function(i){return c.getInstance(function(a){return i(a)})})},c.setWasmUrl=function(i){c.wasmURL=i},c.getWasmUrl=function(){return c.wasmURL},c.isLoading=!1,c.callBackQueue=[],c.wasmURL="https://unpkg.com/".concat(b.name,"@").concat(b.version,"/rive.wasm"),c}(),X;(function(c){c[c.Number=56]="Number",c[c.Trigger=58]="Trigger",c[c.Boolean=59]="Boolean"})(X||(X={}));var Y=function(){function c(i,a){this.type=i,this.runtimeInput=a}return Object.defineProperty(c.prototype,"name",{get:function(){return this.runtimeInput.name},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"value",{get:function(){return this.runtimeInput.value},set:function(i){this.runtimeInput.value=i},enumerable:!1,configurable:!0}),c.prototype.fire=function(){this.type===X.Trigger&&this.runtimeInput.fire()},c.prototype.delete=function(){this.runtimeInput=null},c}(),ie;(function(c){c[c.General=128]="General",c[c.OpenUrl=131]="OpenUrl"})(ie||(ie={}));var V=function(){function c(i,a,m,A){this.stateMachine=i,this.playing=m,this.artboard=A,this.inputs=[],this.instance=new a.StateMachineInstance(i,A),this.initInputs(a)}return Object.defineProperty(c.prototype,"name",{get:function(){return this.stateMachine.name},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"statesChanged",{get:function(){for(var i=[],a=0;a<this.instance.stateChangedCount();a++)i.push(this.instance.stateChangedNameByIndex(a));return i},enumerable:!1,configurable:!0}),c.prototype.advance=function(i){this.instance.advance(i)},c.prototype.advanceAndApply=function(i){this.instance.advanceAndApply(i)},c.prototype.reportedEventCount=function(){return this.instance.reportedEventCount()},c.prototype.reportedEventAt=function(i){return this.instance.reportedEventAt(i)},c.prototype.initInputs=function(i){for(var a=0;a<this.instance.inputCount();a++){var m=this.instance.input(a);this.inputs.push(this.mapRuntimeInput(m,i))}},c.prototype.mapRuntimeInput=function(i,a){if(i.type===a.SMIInput.bool)return new Y(X.Boolean,i.asBool());if(i.type===a.SMIInput.number)return new Y(X.Number,i.asNumber());if(i.type===a.SMIInput.trigger)return new Y(X.Trigger,i.asTrigger())},c.prototype.cleanup=function(){this.inputs.forEach(function(i){i.delete()}),this.inputs.length=0,this.instance.delete()},c}(),we=function(){function c(i,a,m,A,I){A===void 0&&(A=[]),I===void 0&&(I=[]),this.runtime=i,this.artboard=a,this.eventManager=m,this.animations=A,this.stateMachines=I}return c.prototype.add=function(i,a,m){if(m===void 0&&(m=!0),i=oe(i),i.length===0)this.animations.forEach(function(Ie){return Ie.playing=a}),this.stateMachines.forEach(function(Ie){return Ie.playing=a});else for(var A=this.animations.map(function(Ie){return Ie.name}),I=this.stateMachines.map(function(Ie){return Ie.name}),O=0;O<i.length;O++){var z=A.indexOf(i[O]),Q=I.indexOf(i[O]);if(z>=0||Q>=0)z>=0?this.animations[z].playing=a:this.stateMachines[Q].playing=a;else{var H=this.artboard.animationByName(i[O]);if(H){var ge=new x.Animation(H,this.artboard,this.runtime,a);ge.advance(0),ge.apply(1),this.animations.push(ge)}else{var Le=this.artboard.stateMachineByName(i[O]);if(Le){var Ee=new V(Le,this.runtime,a,this.artboard);this.stateMachines.push(Ee)}}}}return m&&(a?this.eventManager.fire({type:U.Play,data:this.playing}):this.eventManager.fire({type:U.Pause,data:this.paused})),a?this.playing:this.paused},c.prototype.initLinearAnimations=function(i,a){for(var m=this.animations.map(function(Q){return Q.name}),A=0;A<i.length;A++){var I=m.indexOf(i[A]);if(I>=0)this.animations[I].playing=a;else{var O=this.artboard.animationByName(i[A]);if(O){var z=new x.Animation(O,this.artboard,this.runtime,a);z.advance(0),z.apply(1),this.animations.push(z)}}}},c.prototype.initStateMachines=function(i,a){for(var m=this.stateMachines.map(function(Q){return Q.name}),A=0;A<i.length;A++){var I=m.indexOf(i[A]);if(I>=0)this.stateMachines[I].playing=a;else{var O=this.artboard.stateMachineByName(i[A]);if(O){var z=new V(O,this.runtime,a,this.artboard);this.stateMachines.push(z)}else this.initLinearAnimations([i[A]],a)}}},c.prototype.play=function(i){return this.add(i,!0)},c.prototype.pause=function(i){return this.add(i,!1)},c.prototype.scrub=function(i,a){var m=this.animations.filter(function(A){return i.includes(A.name)});return m.forEach(function(A){return A.scrubTo=a}),m.map(function(A){return A.name})},Object.defineProperty(c.prototype,"playing",{get:function(){return this.animations.filter(function(i){return i.playing}).map(function(i){return i.name}).concat(this.stateMachines.filter(function(i){return i.playing}).map(function(i){return i.name}))},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"paused",{get:function(){return this.animations.filter(function(i){return!i.playing}).map(function(i){return i.name}).concat(this.stateMachines.filter(function(i){return!i.playing}).map(function(i){return i.name}))},enumerable:!1,configurable:!0}),c.prototype.stop=function(i){var a=this;i=oe(i);var m=[];if(i.length===0)m=this.animations.map(function(O){return O.name}).concat(this.stateMachines.map(function(O){return O.name})),this.animations.forEach(function(O){return O.cleanup()}),this.stateMachines.forEach(function(O){return O.cleanup()}),this.animations.splice(0,this.animations.length),this.stateMachines.splice(0,this.stateMachines.length);else{var A=this.animations.filter(function(O){return i.includes(O.name)});A.forEach(function(O){O.cleanup(),a.animations.splice(a.animations.indexOf(O),1)});var I=this.stateMachines.filter(function(O){return i.includes(O.name)});I.forEach(function(O){O.cleanup(),a.stateMachines.splice(a.stateMachines.indexOf(O),1)}),m=A.map(function(O){return O.name}).concat(I.map(function(O){return O.name}))}return this.eventManager.fire({type:U.Stop,data:m}),m},Object.defineProperty(c.prototype,"isPlaying",{get:function(){return this.animations.reduce(function(i,a){return i||a.playing},!1)||this.stateMachines.reduce(function(i,a){return i||a.playing},!1)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"isPaused",{get:function(){return!this.isPlaying&&(this.animations.length>0||this.stateMachines.length>0)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"isStopped",{get:function(){return this.animations.length===0&&this.stateMachines.length===0},enumerable:!1,configurable:!0}),c.prototype.atLeastOne=function(i,a){a===void 0&&(a=!0);var m;return this.animations.length===0&&this.stateMachines.length===0&&(this.artboard.animationCount()>0?this.add([m=this.artboard.animationByIndex(0).name],i,a):this.artboard.stateMachineCount()>0&&this.add([m=this.artboard.stateMachineByIndex(0).name],i,a)),m},c.prototype.handleLooping=function(){for(var i=0,a=this.animations.filter(function(A){return A.playing});i<a.length;i++){var m=a[i];m.loopValue===0&&m.loopCount?(m.loopCount=0,this.stop(m.name)):m.loopValue===1&&m.loopCount?(this.eventManager.fire({type:U.Loop,data:{animation:m.name,type:xe.Loop}}),m.loopCount=0):m.loopValue===2&&m.loopCount>1&&(this.eventManager.fire({type:U.Loop,data:{animation:m.name,type:xe.PingPong}}),m.loopCount=0)}},c.prototype.handleStateChanges=function(){for(var i=[],a=0,m=this.stateMachines.filter(function(I){return I.playing});a<m.length;a++){var A=m[a];i.push.apply(i,A.statesChanged)}i.length>0&&this.eventManager.fire({type:U.StateChange,data:i})},c.prototype.handleAdvancing=function(i){this.eventManager.fire({type:U.Advance,data:i})},c}(),U;(function(c){c.Load="load",c.LoadError="loaderror",c.Play="play",c.Pause="pause",c.Stop="stop",c.Loop="loop",c.Draw="draw",c.Advance="advance",c.StateChange="statechange",c.RiveEvent="riveevent",c.AudioStatusChange="audiostatuschange"})(U||(U={}));var xe;(function(c){c.OneShot="oneshot",c.Loop="loop",c.PingPong="pingpong"})(xe||(xe={}));var Te=function(){function c(i){i===void 0&&(i=[]),this.listeners=i}return c.prototype.getListeners=function(i){return this.listeners.filter(function(a){return a.type===i})},c.prototype.add=function(i){this.listeners.includes(i)||this.listeners.push(i)},c.prototype.remove=function(i){for(var a=0;a<this.listeners.length;a++){var m=this.listeners[a];if(m.type===i.type&&m.callback===i.callback){this.listeners.splice(a,1);break}}},c.prototype.removeAll=function(i){var a=this;i?this.listeners.filter(function(m){return m.type===i}).forEach(function(m){return a.remove(m)}):this.listeners.splice(0,this.listeners.length)},c.prototype.fire=function(i){var a=this.getListeners(i.type);a.forEach(function(m){return m.callback(i)})},c}(),Ne=function(){function c(i){this.eventManager=i,this.queue=[]}return c.prototype.add=function(i){this.queue.push(i)},c.prototype.process=function(){for(;this.queue.length>0;){var i=this.queue.shift();i!=null&&i.action&&i.action(),i!=null&&i.event&&this.eventManager.fire(i.event)}},c}(),ye;(function(c){c[c.AVAILABLE=0]="AVAILABLE",c[c.UNAVAILABLE=1]="UNAVAILABLE"})(ye||(ye={}));var He=function(c){S(i,c);function i(){var a=c!==null&&c.apply(this,arguments)||this;return a._started=!1,a._enabled=!1,a._status=ye.UNAVAILABLE,a}return i.prototype.delay=function(a){return k(this,void 0,void 0,function(){return D(this,function(m){return[2,new Promise(function(A){return setTimeout(A,a)})]})})},i.prototype.timeout=function(){return k(this,void 0,void 0,function(){return D(this,function(a){return[2,new Promise(function(m,A){return setTimeout(A,50)})]})})},i.prototype.reportToListeners=function(){this.fire({type:U.AudioStatusChange}),this.removeAll()},i.prototype.enableAudio=function(){return k(this,void 0,void 0,function(){return D(this,function(a){return this._enabled||(this._enabled=!0,this._status=ye.AVAILABLE,this.reportToListeners()),[2]})})},i.prototype.testAudio=function(){return k(this,void 0,void 0,function(){return D(this,function(a){switch(a.label){case 0:if(!(this._status===ye.UNAVAILABLE&&this._audioContext!==null))return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,Promise.race([this._audioContext.resume(),this.timeout()])];case 2:return a.sent(),this.enableAudio(),[3,4];case 3:return a.sent(),[3,4];case 4:return[2]}})})},i.prototype._establishAudio=function(){return k(this,void 0,void 0,function(){return D(this,function(a){switch(a.label){case 0:return this._started?[3,5]:(this._started=!0,typeof window>"u"?(this.enableAudio(),[3,5]):[3,1]);case 1:this._audioContext=new AudioContext,this.listenForUserAction(),a.label=2;case 2:return this._status!==ye.UNAVAILABLE?[3,5]:[4,this.testAudio()];case 3:return a.sent(),[4,this.delay(1e3)];case 4:return a.sent(),[3,2];case 5:return[2]}})})},i.prototype.listenForUserAction=function(){var a=this,m=function(){return k(a,void 0,void 0,function(){return D(this,function(A){return this.enableAudio(),[2]})})};document.addEventListener("pointerdown",m,{once:!0})},i.prototype.establishAudio=function(){return k(this,void 0,void 0,function(){return D(this,function(a){return this._establishAudio(),[2]})})},Object.defineProperty(i.prototype,"systemVolume",{get:function(){return this._status===ye.UNAVAILABLE?(this.testAudio(),0):1},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),i}(Te),fe=new He,Oe=function(){function c(){}return c.prototype.observe=function(){},c.prototype.unobserve=function(){},c.prototype.disconnect=function(){},c}(),Ae=globalThis.ResizeObserver||Oe,Fe=function(){function c(){var i=this;this._elementsMap=new Map,this._onObservedEntry=function(a){var m=i._elementsMap.get(a.target);m!==null?m.onResize(a.target.clientWidth==0||a.target.clientHeight==0):i._resizeObserver.unobserve(a.target)},this._onObserved=function(a){a.forEach(i._onObservedEntry)},this._resizeObserver=new Ae(this._onObserved)}return c.prototype.add=function(i,a){var m={onResize:a,element:i};return this._elementsMap.set(i,m),this._resizeObserver.observe(i),m},c.prototype.remove=function(i){this._resizeObserver.unobserve(i.element),this._elementsMap.delete(i.element)},c}(),De=new Fe,re=function(){function c(i){this.enableRiveAssetCDN=!0,this.referenceCount=0,this.src=i.src,this.buffer=i.buffer,i.assetLoader&&(this.assetLoader=i.assetLoader),this.enableRiveAssetCDN=typeof i.enableRiveAssetCDN=="boolean"?i.enableRiveAssetCDN:!0,this.eventManager=new Te,i.onLoad&&this.on(U.Load,i.onLoad),i.onLoadError&&this.on(U.LoadError,i.onLoadError)}return c.prototype.initData=function(){return k(this,void 0,void 0,function(){var i,a,m;return D(this,function(A){switch(A.label){case 0:return this.src?(i=this,[4,be(this.src)]):[3,2];case 1:i.buffer=A.sent(),A.label=2;case 2:return this.assetLoader&&(a=new this.runtime.CustomFileAssetLoader({loadContents:this.assetLoader})),m=this,[4,this.runtime.load(new Uint8Array(this.buffer),a,this.enableRiveAssetCDN)];case 3:if(m.file=A.sent(),this.file!==null)this.eventManager.fire({type:U.Load,data:this});else throw this.eventManager.fire({type:U.LoadError,data:null}),new Error(c.fileLoadErrorMessage);return[2]}})})},c.prototype.init=function(){return k(this,void 0,void 0,function(){var i;return D(this,function(a){switch(a.label){case 0:if(!this.src&&!this.buffer)throw new Error(c.missingErrorMessage);return i=this,[4,he.awaitInstance()];case 1:return i.runtime=a.sent(),[4,this.initData()];case 2:return a.sent(),[2]}})})},c.prototype.on=function(i,a){this.eventManager.add({type:i,callback:a})},c.prototype.off=function(i,a){this.eventManager.remove({type:i,callback:a})},c.prototype.cleanup=function(){var i;this.referenceCount-=1,this.referenceCount<=0&&(this.removeAllRiveEventListeners(),(i=this.file)===null||i===void 0||i.delete())},c.prototype.removeAllRiveEventListeners=function(i){this.eventManager.removeAll(i)},c.prototype.getInstance=function(){if(this.file!==null)return this.referenceCount+=1,this.file},c.missingErrorMessage="Rive source file or data buffer required",c.fileLoadErrorMessage="The file failed to load",c}(),ze=function(){function c(i){var a=this,m;this.loaded=!1,this._observed=null,this.readyForPlaying=!1,this.artboard=null,this.eventCleanup=null,this.shouldDisableRiveListeners=!1,this.automaticallyHandleEvents=!1,this.enableRiveAssetCDN=!0,this._volume=1,this._artboardWidth=void 0,this._artboardHeight=void 0,this._devicePixelRatioUsed=1,this._hasZeroSize=!1,this._audioEventListener=null,this.durations=[],this.frameTimes=[],this.frameCount=0,this.isTouchScrollEnabled=!1,this.onCanvasResize=function(A){a._hasZeroSize=A,(!a._layout.maxX||!a._layout.maxY)&&a.resizeToCanvas()},this.renderSecondTimer=0,this.canvas=i.canvas,i.canvas.constructor===HTMLCanvasElement&&(this._observed=De.add(this.canvas,this.onCanvasResize)),this.src=i.src,this.buffer=i.buffer,this.riveFile=i.riveFile,this.layout=(m=i.layout)!==null&&m!==void 0?m:new ee,this.shouldDisableRiveListeners=!!i.shouldDisableRiveListeners,this.isTouchScrollEnabled=!!i.isTouchScrollEnabled,this.automaticallyHandleEvents=!!i.automaticallyHandleEvents,this.enableRiveAssetCDN=i.enableRiveAssetCDN===void 0?!0:i.enableRiveAssetCDN,this.eventManager=new Te,i.onLoad&&this.on(U.Load,i.onLoad),i.onLoadError&&this.on(U.LoadError,i.onLoadError),i.onPlay&&this.on(U.Play,i.onPlay),i.onPause&&this.on(U.Pause,i.onPause),i.onStop&&this.on(U.Stop,i.onStop),i.onLoop&&this.on(U.Loop,i.onLoop),i.onStateChange&&this.on(U.StateChange,i.onStateChange),i.onAdvance&&this.on(U.Advance,i.onAdvance),i.onload&&!i.onLoad&&this.on(U.Load,i.onload),i.onloaderror&&!i.onLoadError&&this.on(U.LoadError,i.onloaderror),i.onplay&&!i.onPlay&&this.on(U.Play,i.onplay),i.onpause&&!i.onPause&&this.on(U.Pause,i.onpause),i.onstop&&!i.onStop&&this.on(U.Stop,i.onstop),i.onloop&&!i.onLoop&&this.on(U.Loop,i.onloop),i.onstatechange&&!i.onStateChange&&this.on(U.StateChange,i.onstatechange),i.assetLoader&&(this.assetLoader=i.assetLoader),this.taskQueue=new Ne(this.eventManager),this.init({src:this.src,buffer:this.buffer,riveFile:this.riveFile,autoplay:i.autoplay,animations:i.animations,stateMachines:i.stateMachines,artboard:i.artboard,useOffscreenRenderer:i.useOffscreenRenderer})}return c.new=function(i){return console.warn("This function is deprecated: please use `new Rive({})` instead"),new c(i)},c.prototype.onSystemAudioChanged=function(){this.volume=this._volume},c.prototype.init=function(i){var a=this,m=i.src,A=i.buffer,I=i.riveFile,O=i.animations,z=i.stateMachines,Q=i.artboard,H=i.autoplay,ge=H===void 0?!1:H,Le=i.useOffscreenRenderer,Ee=Le===void 0?!1:Le;if(this.src=m,this.buffer=A,this.riveFile=I,!this.src&&!this.buffer&&!this.riveFile)throw new Error(c.missingErrorMessage);var Ie=oe(O),mt=oe(z);this.loaded=!1,this.readyForPlaying=!1,he.awaitInstance().then(function(Je){a.runtime=Je,a.removeRiveListeners(),a.deleteRiveRenderer(),a.renderer=a.runtime.makeRenderer(a.canvas,Ee),a.canvas.width||a.canvas.height||a.resizeDrawingSurfaceToCanvas(),a.initData(Q,Ie,mt,ge).then(function(){return a.setupRiveListeners()}).catch(function(vt){console.error(vt)})}).catch(function(Je){console.error(Je)})},c.prototype.setupRiveListeners=function(i){var a=this;if(this.eventCleanup&&this.eventCleanup(),!this.shouldDisableRiveListeners){var m=(this.animator.stateMachines||[]).filter(function(I){return I.playing&&a.runtime.hasListeners(I.instance)}).map(function(I){return I.instance}),A=this.isTouchScrollEnabled;i&&"isTouchScrollEnabled"in i&&(A=i.isTouchScrollEnabled),this.eventCleanup=(0,L.registerTouchInteractions)({canvas:this.canvas,artboard:this.artboard,stateMachines:m,renderer:this.renderer,rive:this.runtime,fit:this._layout.runtimeFit(this.runtime),alignment:this._layout.runtimeAlignment(this.runtime),isTouchScrollEnabled:A,layoutScaleFactor:this._layout.layoutScaleFactor})}},c.prototype.removeRiveListeners=function(){this.eventCleanup&&(this.eventCleanup(),this.eventCleanup=null)},c.prototype.initializeAudio=function(){var i=this,a;fe.status==ye.UNAVAILABLE&&!((a=this.artboard)===null||a===void 0)&&a.hasAudio&&this._audioEventListener===null&&(this._audioEventListener={type:U.AudioStatusChange,callback:function(){return i.onSystemAudioChanged()}},fe.add(this._audioEventListener),fe.establishAudio())},c.prototype.initArtboardSize=function(){this.artboard&&(this._artboardWidth=this.artboard.width=this._artboardWidth||this.artboard.width,this._artboardHeight=this.artboard.height=this._artboardHeight||this.artboard.height)},c.prototype.initData=function(i,a,m,A){return k(this,void 0,void 0,function(){var I,O;return D(this,function(z){switch(z.label){case 0:return z.trys.push([0,3,,4]),this.riveFile!=null?[3,2]:(this.riveFile=new re({src:this.src,buffer:this.buffer,enableRiveAssetCDN:this.enableRiveAssetCDN,assetLoader:this.assetLoader}),[4,this.riveFile.init()]);case 1:z.sent(),z.label=2;case 2:return this.file=this.riveFile.getInstance(),this.initArtboard(i,a,m,A),this.initArtboardSize(),this.initializeAudio(),this.loaded=!0,this.eventManager.fire({type:U.Load,data:(O=this.src)!==null&&O!==void 0?O:"buffer"}),this.readyForPlaying=!0,this.taskQueue.process(),this.drawFrame(),[2,Promise.resolve()];case 3:return z.sent(),I="Problem loading file; may be corrupt!",console.warn(I),this.eventManager.fire({type:U.LoadError,data:I}),[2,Promise.reject(I)];case 4:return[2]}})})},c.prototype.initArtboard=function(i,a,m,A){if(this.file){var I=i?this.file.artboardByName(i):this.file.defaultArtboard();if(!I){var O="Invalid artboard name or no default artboard";console.warn(O),this.eventManager.fire({type:U.LoadError,data:O});return}if(this.artboard=I,I.volume=this._volume*fe.systemVolume,this.artboard.animationCount()<1){var O="Artboard has no animations";throw this.eventManager.fire({type:U.LoadError,data:O}),O}this.animator=new we(this.runtime,this.artboard,this.eventManager);var z;a.length>0||m.length>0?(z=a.concat(m),this.animator.initLinearAnimations(a,A),this.animator.initStateMachines(m,A)):z=[this.animator.atLeastOne(A,!1)],this.taskQueue.add({event:{type:A?U.Play:U.Pause,data:z}})}},c.prototype.drawFrame=function(){this.startRendering()},c.prototype.draw=function(i,a){this.frameRequestId=null;var m=performance.now();this.lastRenderTime||(this.lastRenderTime=i),this.renderSecondTimer+=i-this.lastRenderTime,this.renderSecondTimer>5e3&&(this.renderSecondTimer=0,a==null||a());var A=(i-this.lastRenderTime)/1e3;this.lastRenderTime=i;for(var I=this.animator.animations.filter(function(Ye){return Ye.playing||Ye.needsScrub}).sort(function(Ye){return Ye.needsScrub?-1:1}),O=0,z=I;O<z.length;O++){var Q=z[O];Q.advance(A),Q.instance.didLoop&&(Q.loopCount+=1),Q.apply(1)}for(var H=this.animator.stateMachines.filter(function(Ye){return Ye.playing}),ge=0,Le=H;ge<Le.length;ge++){var Ee=Le[ge],Ie=Ee.reportedEventCount();if(Ie)for(var mt=0;mt<Ie;mt++){var Je=Ee.reportedEventAt(mt);if(Je)if(Je.type===ie.OpenUrl){if(this.eventManager.fire({type:U.RiveEvent,data:Je}),this.automaticallyHandleEvents){var vt=document.createElement("a"),Kt=Je,lt=Kt.url,Tt=Kt.target,Dt=(0,L.sanitizeUrl)(lt);lt&&vt.setAttribute("href",Dt),Tt&&vt.setAttribute("target",Tt),Dt&&Dt!==L.BLANK_URL&&vt.click()}}else this.eventManager.fire({type:U.RiveEvent,data:Je})}Ee.advanceAndApply(A)}this.animator.stateMachines.length==0&&this.artboard.advance(A);var ct=this.renderer;ct.clear(),ct.save(),this.alignRenderer(),this._hasZeroSize||this.artboard.draw(ct),ct.restore(),ct.flush(),this.animator.handleLooping(),this.animator.handleStateChanges(),this.animator.handleAdvancing(A),this.frameCount++;var Rt=performance.now();for(this.frameTimes.push(Rt),this.durations.push(Rt-m);this.frameTimes[0]<=Rt-1e3;)this.frameTimes.shift(),this.durations.shift();this.animator.isPlaying?this.startRendering():this.animator.isPaused?this.lastRenderTime=0:this.animator.isStopped&&(this.lastRenderTime=0)},c.prototype.alignRenderer=function(){var i=this,a=i.renderer,m=i.runtime,A=i._layout,I=i.artboard;a.align(A.runtimeFit(m),A.runtimeAlignment(m),{minX:A.minX,minY:A.minY,maxX:A.maxX,maxY:A.maxY},I.bounds,this._devicePixelRatioUsed*A.layoutScaleFactor)},Object.defineProperty(c.prototype,"fps",{get:function(){return this.durations.length},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"frameTime",{get:function(){return this.durations.length===0?0:(this.durations.reduce(function(i,a){return i+a},0)/this.durations.length).toFixed(4)},enumerable:!1,configurable:!0}),c.prototype.cleanup=function(){var i;this.stopRendering(),this.cleanupInstances(),this._observed!==null&&De.remove(this._observed),this.removeRiveListeners(),(i=this.riveFile)===null||i===void 0||i.cleanup(),this.riveFile=null,this.file=null,this.deleteRiveRenderer(),this._audioEventListener!==null&&(fe.remove(this._audioEventListener),this._audioEventListener=null)},c.prototype.deleteRiveRenderer=function(){var i;(i=this.renderer)===null||i===void 0||i.delete(),this.renderer=null},c.prototype.cleanupInstances=function(){this.eventCleanup!==null&&this.eventCleanup(),this.stop(),this.artboard&&(this.artboard.delete(),this.artboard=null)},c.prototype.retrieveTextRun=function(i){var a;if(!i){console.warn("No text run name provided");return}if(!this.artboard){console.warn("Tried to access text run, but the Artboard is null");return}var m=this.artboard.textRun(i);if(!m){console.warn("Could not access a text run with name '".concat(i,"' in the '").concat((a=this.artboard)===null||a===void 0?void 0:a.name,"' Artboard. Note that you must rename a text run node in the Rive editor to make it queryable at runtime."));return}return m},c.prototype.getTextRunValue=function(i){var a=this.retrieveTextRun(i);return a?a.text:void 0},c.prototype.setTextRunValue=function(i,a){var m=this.retrieveTextRun(i);m&&(m.text=a)},c.prototype.play=function(i,a){var m=this;if(i=oe(i),!this.readyForPlaying){this.taskQueue.add({action:function(){return m.play(i,a)}});return}this.animator.play(i),this.eventCleanup&&this.eventCleanup(),this.setupRiveListeners(),this.startRendering()},c.prototype.pause=function(i){var a=this;if(i=oe(i),!this.readyForPlaying){this.taskQueue.add({action:function(){return a.pause(i)}});return}this.eventCleanup&&this.eventCleanup(),this.animator.pause(i)},c.prototype.scrub=function(i,a){var m=this;if(i=oe(i),!this.readyForPlaying){this.taskQueue.add({action:function(){return m.scrub(i,a)}});return}this.animator.scrub(i,a||0),this.drawFrame()},c.prototype.stop=function(i){var a=this;if(i=oe(i),!this.readyForPlaying){this.taskQueue.add({action:function(){return a.stop(i)}});return}this.animator&&this.animator.stop(i),this.eventCleanup&&this.eventCleanup()},c.prototype.reset=function(i){var a,m=i==null?void 0:i.artboard,A=oe(i==null?void 0:i.animations),I=oe(i==null?void 0:i.stateMachines),O=(a=i==null?void 0:i.autoplay)!==null&&a!==void 0?a:!1;this.cleanupInstances(),this.initArtboard(m,A,I,O),this.taskQueue.process()},c.prototype.load=function(i){this.file=null,this.stop(),this.init(i)},Object.defineProperty(c.prototype,"layout",{get:function(){return this._layout},set:function(i){this._layout=i,(!i.maxX||!i.maxY)&&this.resizeToCanvas(),this.loaded&&!this.animator.isPlaying&&this.drawFrame()},enumerable:!1,configurable:!0}),c.prototype.resizeToCanvas=function(){this._layout=this.layout.copyWith({minX:0,minY:0,maxX:this.canvas.width,maxY:this.canvas.height})},c.prototype.resizeDrawingSurfaceToCanvas=function(i){if(this.canvas instanceof HTMLCanvasElement&&window){var a=this.canvas.getBoundingClientRect(),m=a.width,A=a.height,I=i||window.devicePixelRatio||1;if(this.devicePixelRatioUsed=I,this.canvas.width=I*m,this.canvas.height=I*A,this.startRendering(),this.resizeToCanvas(),this.layout.fit===u.Layout){var O=this._layout.layoutScaleFactor;this.artboard.width=m/O,this.artboard.height=A/O}}},Object.defineProperty(c.prototype,"source",{get:function(){return this.src},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"activeArtboard",{get:function(){return this.artboard?this.artboard.name:""},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"animationNames",{get:function(){if(!this.loaded||!this.artboard)return[];for(var i=[],a=0;a<this.artboard.animationCount();a++)i.push(this.artboard.animationByIndex(a).name);return i},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"stateMachineNames",{get:function(){if(!this.loaded||!this.artboard)return[];for(var i=[],a=0;a<this.artboard.stateMachineCount();a++)i.push(this.artboard.stateMachineByIndex(a).name);return i},enumerable:!1,configurable:!0}),c.prototype.stateMachineInputs=function(i){if(this.loaded){var a=this.animator.stateMachines.find(function(m){return m.name===i});return a==null?void 0:a.inputs}},c.prototype.retrieveInputAtPath=function(i,a){if(!i){console.warn("No input name provided for path '".concat(a,"'"));return}if(!this.artboard){console.warn("Tried to access input: '".concat(i,"', at path: '").concat(a,"', but the Artboard is null"));return}var m=this.artboard.inputByPath(i,a);if(!m){console.warn("Could not access an input with name: '".concat(i,"', at path:'").concat(a,"'"));return}return m},c.prototype.setBooleanStateAtPath=function(i,a,m){var A=this.retrieveInputAtPath(i,m);A&&(A.type===X.Boolean?A.asBool().value=a:console.warn("Input with name: '".concat(i,"', at path:'").concat(m,"' is not a boolean")))},c.prototype.setNumberStateAtPath=function(i,a,m){var A=this.retrieveInputAtPath(i,m);A&&(A.type===X.Number?A.asNumber().value=a:console.warn("Input with name: '".concat(i,"', at path:'").concat(m,"' is not a number")))},c.prototype.fireStateAtPath=function(i,a){var m=this.retrieveInputAtPath(i,a);m&&(m.type===X.Trigger?m.asTrigger().fire():console.warn("Input with name: '".concat(i,"', at path:'").concat(a,"' is not a trigger")))},c.prototype.retrieveTextAtPath=function(i,a){if(!i){console.warn("No text name provided for path '".concat(a,"'"));return}if(!a){console.warn("No path provided for text '".concat(i,"'"));return}if(!this.artboard){console.warn("Tried to access text: '".concat(i,"', at path: '").concat(a,"', but the Artboard is null"));return}var m=this.artboard.textByPath(i,a);if(!m){console.warn("Could not access text with name: '".concat(i,"', at path:'").concat(a,"'"));return}return m},c.prototype.getTextRunValueAtPath=function(i,a){var m=this.retrieveTextAtPath(i,a);if(!m){console.warn("Could not get text with name: '".concat(i,"', at path:'").concat(a,"'"));return}return m.text},c.prototype.setTextRunValueAtPath=function(i,a,m){var A=this.retrieveTextAtPath(i,m);if(!A){console.warn("Could not set text with name: '".concat(i,"', at path:'").concat(m,"'"));return}A.text=a},Object.defineProperty(c.prototype,"playingStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(i){return i.playing}).map(function(i){return i.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"playingAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(i){return i.playing}).map(function(i){return i.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"pausedAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(i){return!i.playing}).map(function(i){return i.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"pausedStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(i){return!i.playing}).map(function(i){return i.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"isPlaying",{get:function(){return this.animator.isPlaying},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"isPaused",{get:function(){return this.animator.isPaused},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"isStopped",{get:function(){return this.animator.isStopped},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"bounds",{get:function(){return this.artboard?this.artboard.bounds:void 0},enumerable:!1,configurable:!0}),c.prototype.on=function(i,a){this.eventManager.add({type:i,callback:a})},c.prototype.off=function(i,a){this.eventManager.remove({type:i,callback:a})},c.prototype.unsubscribe=function(i,a){console.warn("This function is deprecated: please use `off()` instead."),this.off(i,a)},c.prototype.removeAllRiveEventListeners=function(i){this.eventManager.removeAll(i)},c.prototype.unsubscribeAll=function(i){console.warn("This function is deprecated: please use `removeAllRiveEventListeners()` instead."),this.removeAllRiveEventListeners(i)},c.prototype.stopRendering=function(){this.loaded&&this.frameRequestId&&(this.runtime.cancelAnimationFrame?this.runtime.cancelAnimationFrame(this.frameRequestId):cancelAnimationFrame(this.frameRequestId),this.frameRequestId=null)},c.prototype.startRendering=function(){this.loaded&&this.artboard&&!this.frameRequestId&&(this.runtime.requestAnimationFrame?this.frameRequestId=this.runtime.requestAnimationFrame(this.draw.bind(this)):this.frameRequestId=requestAnimationFrame(this.draw.bind(this)))},c.prototype.enableFPSCounter=function(i){this.runtime.enableFPSCounter(i)},c.prototype.disableFPSCounter=function(){this.runtime.disableFPSCounter()},Object.defineProperty(c.prototype,"contents",{get:function(){if(this.loaded){for(var i={artboards:[]},a=0;a<this.file.artboardCount();a++){for(var m=this.file.artboardByIndex(a),A={name:m.name,animations:[],stateMachines:[]},I=0;I<m.animationCount();I++){var O=m.animationByIndex(I);A.animations.push(O.name)}for(var z=0;z<m.stateMachineCount();z++){for(var Q=m.stateMachineByIndex(z),H=Q.name,ge=new this.runtime.StateMachineInstance(Q,m),Le=[],Ee=0;Ee<ge.inputCount();Ee++){var Ie=ge.input(Ee);Le.push({name:Ie.name,type:Ie.type})}A.stateMachines.push({name:H,inputs:Le})}i.artboards.push(A)}return i}},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"volume",{get:function(){return this.artboard&&this.artboard.volume!==this._volume&&(this._volume=this.artboard.volume),this._volume},set:function(i){this._volume=i,this.artboard&&(this.artboard.volume=i*fe.systemVolume)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"artboardWidth",{get:function(){var i;return this.artboard?this.artboard.width:(i=this._artboardWidth)!==null&&i!==void 0?i:0},set:function(i){this._artboardWidth=i,this.artboard&&(this.artboard.width=i)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"artboardHeight",{get:function(){var i;return this.artboard?this.artboard.height:(i=this._artboardHeight)!==null&&i!==void 0?i:0},set:function(i){this._artboardHeight=i,this.artboard&&(this.artboard.height=i)},enumerable:!1,configurable:!0}),c.prototype.resetArtboardSize=function(){this.artboard?(this.artboard.resetArtboardSize(),this._artboardWidth=this.artboard.width,this._artboardHeight=this.artboard.height):(this._artboardWidth=void 0,this._artboardHeight=void 0)},Object.defineProperty(c.prototype,"devicePixelRatioUsed",{get:function(){return this._devicePixelRatioUsed},set:function(i){this._devicePixelRatioUsed=i},enumerable:!1,configurable:!0}),c.missingErrorMessage="Rive source file or data buffer required",c}(),be=function(c){return k(void 0,void 0,void 0,function(){var i,a,m;return D(this,function(A){switch(A.label){case 0:return i=new Request(c),[4,fetch(i)];case 1:return a=A.sent(),[4,a.arrayBuffer()];case 2:return m=A.sent(),[2,m]}})})},oe=function(c){return typeof c=="string"?[c]:c instanceof Array?c:[]},pe={EventManager:Te,TaskQueueManager:Ne},Xe=function(c){return new Promise(function(i){return he.getInstance(function(a){a.decodeAudio(c,i)})})},se=function(c){return new Promise(function(i){return he.getInstance(function(a){a.decodeImage(c,i)})})},ve=function(c){return new Promise(function(i){return he.getInstance(function(a){a.decodeFont(c,i)})})}})(),C})())})(or);const co=".lido-canvas{height:100%;width:100%}",uo=co,ho=class{constructor(r){$e(this,r),this.initializeRive=d=>{const f=It.getInstance(),g=this.el.querySelector("canvas");this.riveInstance=new or.exports.Rive({src:d,canvas:g,stateMachines:"Idle",autoplay:!0,onLoad:()=>{this.riveInstance.resizeDrawingSurfaceToCanvas(),f.setRiveInstance(this.riveInstance)}})},this.id=void 0,this.value=void 0,this.height=void 0,this.width=void 0,this.ariaLabel=void 0,this.ariaHidden=void 0,this.x=void 0,this.y=void 0,this.z=void 0,this.bgColor=void 0,this.type=void 0,this.tabIndex=void 0,this.visible=void 0,this.audio=void 0,this.src=void 0,this.onTouch=void 0,this.onInCorrect=void 0,this.onCorrect=void 0,this.onEntry=void 0}async componentDidLoad(){gt(this.el,this.type),this.initializeRive(Ct(this.src))}render(){const r={height:this.height,width:this.width,backgroundColor:this.bgColor,top:this.y,left:this.x,display:this.visible?"flex":"none",zIndex:this.z};return K(Ue,{key:"ae9be69aabfea8801bf30c5f6d7635572157b007",id:this.id,type:this.type,tabindex:this.tabIndex,value:this.value,style:r,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,audio:this.audio,onTouch:this.onTouch,onCorrect:this.onCorrect,onInCorrect:this.onInCorrect,onEntry:this.onEntry},K("canvas",{key:"2d5e2497c42a856e91e8268b0002f5b5c136b7b2",class:"lido-canvas"}))}get el(){return at(this)}};ho.style=uo;const fo=".lido-col{top:var(--y, 0);left:var(--x, 0);height:var(--height, 100%);width:var(--width, 100%);background-color:var(--bgColor, #eeeeee);padding:15px;border-radius:10px;display:flex;justify-content:space-around;flex-direction:column;align-items:center}.lido-col>*{}",po=fo,go=class{constructor(r){$e(this,r),this.id=void 0,this.value=void 0,this.height=void 0,this.width=void 0,this.ariaLabel=void 0,this.ariaHidden=void 0,this.x=void 0,this.y=void 0,this.z=void 0,this.bgColor=void 0,this.type=void 0,this.tabIndex=void 0,this.visible=void 0,this.audio=void 0,this.onTouch=void 0,this.onInCorrect=void 0,this.onCorrect=void 0,this.onEntry=void 0,this.childElementsLength=void 0,this.minLength=void 0,this.maxLength=void 0,this.direction=void 0,this.borderImage=void 0,this.style={}}componentDidLoad(){gt(this.el,this.type),Zn(this.el,this.minLength,this.maxLength,this.childElementsLength,"flex")}componentWillLoad(){this.updateStyles(),window.addEventListener("resize",this.updateStyles.bind(this)),window.addEventListener("load",this.updateStyles.bind(this))}disconnectedCallback(){window.removeEventListener("resize",this.updateStyles.bind(this)),window.removeEventListener("load",this.updateStyles.bind(this))}updateStyles(){const r=this.borderImage?Ct(this.borderImage):"",d=window.innerHeight>window.innerWidth?"portrait":"landscape";this.style={height:Z(this.height,d),width:Z(this.width,d),backgroundColor:Z(this.bgColor,d),top:Z(this.y,d),left:Z(this.x,d),zIndex:this.z,display:this.visible?"flex":"none",flexDirection:this.direction?Z(this.direction,d):"column",borderImage:`url(${r})`,borderImageSlice:r?"0 fill":""}}render(){return K(Ue,{key:"5bfb3af0492a7a764e460c45ad0854fd3c2aaaf4",id:this.id,class:"lido-col",type:this.type,tabindex:this.tabIndex,value:this.value,style:this.style,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,audio:this.audio,onTouch:this.onTouch,onCorrect:this.onCorrect,onInCorrect:this.onInCorrect,onEntry:this.onEntry},K("slot",{key:"a76b88d1b399090c7318227ef1dece862ad16225"}))}get el(){return at(this)}};go.style=po;const mo=".lido-container{position:relative;height:100%;width:100%;background-color:var(--bgColor, #ffffff);display:flex;flex-direction:column;justify-content:center;align-items:center}",vo=mo,yo=class{constructor(r){$e(this,r),this.id=void 0,this.objective=void 0,this.customStyle=void 0,this.value=void 0,this.height=void 0,this.width=void 0,this.ariaLabel=void 0,this.ariaHidden=void 0,this.x=void 0,this.y=void 0,this.z=void 0,this.bgColor=void 0,this.bgImage=void 0,this.type=void 0,this.tabIndex=void 0,this.visible=void 0,this.audio=void 0,this.onTouch=void 0,this.onInCorrect=void 0,this.onCorrect=void 0,this.onEntry=void 0,this.canplay=!0,this.showCheck=!1,this.isContinueOnCorrect=!1,this.isAllowOnlyCorrect=!1,this.baseUrl=""}convertToPixels(r,d=document.body){if(!r)return 0;if(r.endsWith("px"))return parseFloat(r);const f=document.createElement("div");f.style.position="absolute",f.style.visibility="hidden",f.style.height=r,d.appendChild(f);const g=f.offsetHeight;return d.removeChild(f),g}scaleContainer(r){var d;const f=[window.innerWidth],g=[window.innerHeight];!((d=window.screen)===null||d===void 0)&&d.width&&(f.push(window.screen.width),g.push(window.screen.height));const w=Math.min(...f),C=Math.min(...g),E=C>w;let b,x;E?(b=w/900,x=C/1600):(b=w/1600,x=C/900);const L=Math.min(b,x);r.style.transform=`translate(-50%, -50%) scale(${L})`,r.style.left="50%",r.style.top="50%",r.style.position="absolute",this.screenOrientation()}screenOrientation(){window.innerHeight>window.innerWidth?(this.el.style.height="1600px",this.el.style.width="900px"):(this.el.style.height="900px",this.el.style.width="1600px")}componentDidLoad(){this.scaleContainer(this.el);const r=this.bgImage?Ct(this.bgImage):"";if(document.body.style.backgroundColor=this.bgColor,document.body.style.backgroundImage=`url(${r})`,window.addEventListener("resize",()=>this.scaleContainer(this.el)),window.addEventListener("load",()=>this.scaleContainer(this.el)),gt(this.el,this.type),this.customStyle){const d=document.createElement("style");d.innerHTML=this.customStyle,document.head.appendChild(d)}}disconnectedCallback(){window.removeEventListener("resize",()=>this.scaleContainer(this.el)),window.removeEventListener("load",()=>this.scaleContainer(this.el)),document.body.style.backgroundColor="",document.body.style.backgroundImage=""}render(){const r={backgroundColor:this.bgColor,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"};return console.log("ðŸš€ ~ LidoContainer ~ canplay:",this.canplay),K(Ue,{key:"778b9f11c1611f510b9111f8a2ee837bc4c6b4ab",id:"lido-container",tabindex:0,class:"lido-container",objective:this.objective,baseUrl:this.baseUrl,style:r,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,onTouch:this.onTouch,onInCorrect:this.onInCorrect,onCorrect:this.onCorrect,onEntry:this.onEntry,showCheck:`${this.showCheck}`,isContinueOnCorrect:`${this.isContinueOnCorrect}`,isAllowOnlyCorrect:`${this.isAllowOnlyCorrect}`,canplay:`${this.canplay}`},K("slot",{key:"c5778fe8f1014c6136d01c2a5f34747be156a42b"}))}get el(){return at(this)}};yo.style=vo;const bo="@import url('https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap'); @import url('https://fonts.googleapis.com/css2?family=Baloo+2:wght@400..800&display=swap'); body{overflow:hidden;background-position:center;background-size:cover;background-repeat:no-repeat;height:100vh}.lido-disable-check-button{pointer-events:none;background-color:#9393935c !important;color:white}.lido-element-selected{border:2px solid;background-color:#ffdf7d !important}",wo=bo,Co="@keyframes rightToPlace{from{transform:translateX(2000px)}to{transform:translateX(0)}}@keyframes topToPlace{from{transform:translateY(-1000px)}to{transform:translateY(0)}}@keyframes bottomToPlace{from{transform:translateY(1000px)}to{transform:translateY(0)}}@keyframes placeToLeft{from{}to{transform:translateX(-2000px)}}@keyframes leftToPlace{from{transform:translateX(-2000px)}to{transform:translateX(0)}}@keyframes shake{0%{transform:translateX(0)}10%{transform:translateX(-5px)}20%{transform:translateX(5px)}30%{transform:translateX(-5px)}40%{transform:translateX(5px)}50%{transform:translateX(-5px)}60%{transform:translateX(5px)}70%{transform:translateX(-5px)}80%{transform:translateX(5px)}90%{transform:translateX(-5px)}100%{transform:translateX(0)}}@keyframes fallAndBounce{0%{transform:translateY(-1000px)}25%{transform:translateY(0px)}50%{transform:translateY(-200px)}75%{transform:translateY(0)}90%{transform:translateY(-100px)}100%{transform:translateY(0)}}@keyframes placeToDown{0%{transform:translateY(0)}100%{transform:translateY(1000px)}}",xo=Co,_o=".lido-snackbar{visibility:visible;min-width:250px;background-color:#333;color:#fff;text-align:center;border-radius:2px;padding:16px;position:fixed;z-index:1;bottom:30px;left:50%;transform:translateX(-50%);font-size:17px}.lido-dot-container{text-align:center;position:fixed;z-index:1;width:fit-content;top:1%;left:50%;transform:translate(-50%)}.lido-dot{height:15px;width:15px;margin:0 4px;background-color:#bbb;border-radius:50%;display:inline-block;transition:background-color 0.3s;cursor:pointer}.lido-dot.completed{background-color:grey}.lido-dot.current{background-color:green}.lido-dot:not(.completed):not(.current){background-color:#bbb}",So=_o,Ao=class{constructor(r){$e(this,r),this.NextContainerKey=d=>{d!=null&&d==this.currentContainerIndex||(localStorage.removeItem(je),localStorage.removeItem(Me),localStorage.removeItem(Gt),localStorage.removeItem(rt),d!=null&&d<this.containers.length?(this.currentContainerIndex=d,er(this.currentContainerIndex)):this.currentContainerIndex<this.containers.length-1?(this.currentContainerIndex++,er(this.currentContainerIndex)):this.currentContainerIndex>=this.containers.length-1&&(this.showCompletionMessage=!0,Gr(),this.currentContainerIndex=0,setTimeout(()=>{this.showCompletionMessage=!1},3e3)),this.containers=[...this.containers])},this.xmlData=void 0,this.initialIndex=0,this.canplay=!0,this.baseUrl="",this.height="",this.currentContainerIndex=this.initialIndex,this.showCompletionMessage=!1,this.containers=[]}componentWillLoad(){window.addEventListener(qn,()=>{this.NextContainerKey()}),window.addEventListener("changeContainer",r=>{this.NextContainerKey(r.detail.index)}),this.parseXMLData(this.xmlData),window.addEventListener("beforeunload",()=>{localStorage.removeItem(je),localStorage.removeItem(Me),localStorage.removeItem(Gt),localStorage.removeItem(rt)})}disconnectedCallback(){window.removeEventListener(qn,()=>{this.NextContainerKey()}),window.removeEventListener("changeContainer",r=>{this.NextContainerKey(r.detail.index)})}parseXMLData(r){if(r){const g=new DOMParser().parseFromString(r,"text/xml").documentElement;this.parseContainers(g)}}parseElement(r){const d=r.nodeName.toLowerCase(),f={};Array.from(r.attributes).forEach(C=>{f[C.name]=C.value});const g=Array.from(r.childNodes).map(C=>C.nodeType===1?this.parseElement(C):C.nodeType===3&&C.textContent.trim()!==""?C.textContent:null).filter(Boolean),w={"lido-container":K("lido-container",Object.assign({},f,{canplay:this.canplay,baseUrl:this.baseUrl,height:this.height}),g),"lido-col":K("lido-col",Object.assign({},f),g),"lido-trace":K("lido-trace",Object.assign({},f),g),"lido-image":K("lido-image",Object.assign({},f),g),"lido-row":K("lido-row",Object.assign({},f),g),"lido-text":K("lido-text",Object.assign({},f),g),"lido-pos":K("lido-pos",Object.assign({},f),g),"lido-shape":K("lido-shape",Object.assign({},f),g),"lido-wrap":K("lido-wrap",Object.assign({},f),g),"lido-random":K("lido-random",Object.assign({},f),g),"lido-avatar":K("lido-avatar",Object.assign({},f),g)};return w[d]?w[d]:(console.warn(`Unknown tag: ${d}`),null)}parseContainers(r){const d=[];r.querySelectorAll("lido-container").forEach(g=>{const w=this.parseElement(g);w&&d.push(w)}),this.containers=d}renderDots(){const r={pointerEvents:this.canplay?"none":""};return K("div",{id:"lido-dot-indicator",class:"lido-dot-container",style:r},this.containers.map((d,f)=>K("span",{class:`lido-dot ${f<this.currentContainerIndex?"completed":f===this.currentContainerIndex?"current":""}`,onClick:()=>this.jumpToContainer(f)})))}jumpToContainer(r){this.NextContainerKey(r)}render(){return console.log("ðŸš€ ~ LidoHome ~ render ~ this.containers:",this),this.xmlData?K(Ue,{index:this.currentContainerIndex,totalIndex:this.containers.length},K("div",{key:this.currentContainerIndex},this.containers[this.currentContainerIndex]),this.renderDots(),this.showCompletionMessage&&K("div",{class:"lido-snackbar"},"All containers have been displayed!")):K("div",null,"Please provide XML data.")}};Ao.style=wo+(xo+So);const Lo=".lido-image{user-select:none;-webkit-user-drag:none;object-fit:contain;max-width:100%;max-height:100%;aspect-ratio:1 / 1;}.slice{background-repeat:no-repeat;background-position:center;background-size:100% 100%}",Eo=Lo,Io=class{constructor(r){$e(this,r),this.id=void 0,this.value=void 0,this.height=void 0,this.width=void 0,this.ariaLabel=void 0,this.ariaHidden=void 0,this.x=void 0,this.y=void 0,this.z=void 0,this.bgColor=void 0,this.type=void 0,this.tabIndex=void 0,this.visible=void 0,this.audio=void 0,this.onTouch=void 0,this.onInCorrect=void 0,this.onCorrect=void 0,this.onEntry=void 0,this.src=void 0,this.isSlice=void 0,this.sliceWidth="30px",this.style=void 0}componentDidLoad(){gt(this.el,this.type)}componentWillLoad(){this.updateStyles(),window.addEventListener("resize",this.updateStyles.bind(this)),window.addEventListener("load",this.updateStyles.bind(this))}disconnectedCallback(){window.removeEventListener("resize",this.updateStyles.bind(this)),window.removeEventListener("load",this.updateStyles.bind(this))}updateStyles(){const r=window.innerHeight>window.innerWidth?"portrait":"landscape";this.style={height:Z(this.height,r),width:Z(this.width,r),backgroundColor:Z(this.bgColor,r),top:Z(this.y,r),left:Z(this.x,r),zIndex:this.z,display:JSON.parse(Z(`${this.visible}`,r))?"flex":"none",alignItems:"center",justifyContent:"center",borderImageSource:this.isSlice==="true"?`url(${Ct(this.src)})`:"none",borderImageSlice:this.isSlice==="true"?`${parseInt(this.sliceWidth)} fill`:"unset",borderImageRepeat:this.isSlice==="true"?"round":"unset",borderImageWidth:this.isSlice==="true"?`${this.sliceWidth}`:"unset",backgroundImage:this.isSlice==="true"?`url(${Ct(this.src)})`:"none"}}render(){return this.isSlice==="true"?K(Ue,{class:"slice",id:this.id,type:this.type,tabIndex:this.tabIndex,onEntry:this.onEntry,style:this.style}):K(Ue,{type:this.type,tabindex:this.tabIndex,style:this.style,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,value:this.value,audio:this.audio,onTouch:this.onTouch,onCorrect:this.onCorrect,onInCorrect:this.onInCorrect,onEntry:this.onEntry},K("img",{class:"lido-image",src:Ct(this.src),alt:"",style:this.style}))}get el(){return at(this)}};Io.style=Eo;const Po=".lido-pos{top:var(--y, 0);left:var(--x, 0);height:var(--height, 100%);width:var(--width, 100%);background-color:var(--bgColor, #eeeeee);display:flex;justify-content:space-around;flex-direction:column;position:fixed}.lido-pos>*{position:absolute}",To=Po,Ro=class{constructor(r){$e(this,r),this.id=void 0,this.value=void 0,this.height=void 0,this.width=void 0,this.ariaLabel=void 0,this.ariaHidden=void 0,this.x=void 0,this.y=void 0,this.z=void 0,this.bgColor=void 0,this.type=void 0,this.tabIndex=void 0,this.visible=void 0,this.audio=void 0,this.onTouch=void 0,this.onInCorrect=void 0,this.onCorrect=void 0,this.onEntry=void 0,this.style=void 0}componentDidLoad(){gt(this.el,this.type)}componentWillLoad(){this.updateStyles(),window.addEventListener("resize",this.updateStyles.bind(this)),window.addEventListener("load",this.updateStyles.bind(this))}disconnectedCallback(){window.removeEventListener("resize",this.updateStyles.bind(this)),window.removeEventListener("load",this.updateStyles.bind(this))}updateStyles(){const r=window.innerHeight>window.innerWidth?"portrait":"landscape";this.style={height:Z(this.height,r),width:Z(this.width,r),backgroundColor:Z(this.bgColor,r),top:Z(this.y,r),left:Z(this.x,r),zIndex:this.z,display:JSON.parse(Z(`${this.visible}`,r))?"block":"none"}}render(){return K(Ue,{key:"6f55b0039e3415641cd9e4d33ca13478a25ce7f2",id:this.id,class:"lido-pos",type:this.type,tabindex:this.tabIndex,style:this.style,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,value:this.value,audio:this.audio,onTouch:this.onTouch,onCorrect:this.onCorrect,onInCorrect:this.onInCorrect,onEntry:this.onEntry},K("slot",{key:"b8d40a30ea8228dfa9950d76929c48e57c558468"}))}get el(){return at(this)}};Ro.style=To;const Mo=".lido-random{display:flex;justify-content:space-between;align-items:center;position:absolute;}.lido-random>*{position:absolute}",Oo=Mo,ko=class{constructor(r){$e(this,r),this.id=void 0,this.value=void 0,this.height=void 0,this.width=void 0,this.ariaLabel=void 0,this.ariaHidden=void 0,this.x=void 0,this.y=void 0,this.z=void 0,this.bgColor=void 0,this.type=void 0,this.tabIndex=void 0,this.visible=void 0,this.audio=void 0,this.onTouch=void 0,this.onInCorrect=void 0,this.onCorrect=void 0,this.onEntry=void 0}componentDidLoad(){this.el.querySelectorAll(".lido-random > *").forEach(d=>{const f=Math.random()*100,g=Math.random()*100;d.style.top=`${f}%`,d.style.left=`${g}%`})}render(){const r={height:this.height,width:this.width,top:this.y,left:this.x,display:this.visible?"block":"none",zIndex:this.z,backgroundColor:this.bgColor};return K(Ue,{key:"61b776f3df8c0fc9afc674df75ce08b911563cdf",class:"lido-random",type:this.type,tabindex:this.tabIndex,value:this.value,style:r,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,audio:this.audio,onTouch:this.onTouch,onCorrect:this.onCorrect,onInCorrect:this.onInCorrect,onEntry:this.onEntry},K("slot",{key:"20931f862ba0ce21716df277645e1a67e85d196d"}))}get el(){return at(this)}};ko.style=Oo;const Zo=class{constructor(r){$e(this,r),this.xmlPath=void 0,this.initialIndex=0,this.canplay=!0,this.baseUrl="",this.xmlData=void 0}async componentWillLoad(){var r;const d=(r=this.xmlPath)!==null&&r!==void 0?r:this.baseUrl+"/index.xml";console.log("ðŸš€ ~ LidoRoot ~ componentWillLoad ~ this.baseUrl:",this.baseUrl),console.log("ðŸš€ ~ LidoRoot ~ componentWillLoad ~ this.xmlPath:",this.xmlPath),console.log("ðŸš€ ~ LidoRoot ~ componentWillLoad ~ xmlPath:",d);try{const f=d.startsWith("http")?d:ir(d),g=await fetch(f);if(!g.ok)throw new Error(`Failed to fetch XML data: ${g.statusText}`);const w=await g.text();this.xmlData=w}catch(f){console.error("Error fetching XML data:",f),this.xmlData=null}}render(){return this.xmlData===void 0?K("div",null,"Loading..."):this.xmlData===null?K("div",null,"Error loading XML data. Please check the path or URL."):K("lido-home",{initialIndex:this.initialIndex,canplay:this.canplay,xmlData:this.xmlData,baseUrl:this.baseUrl})}static get assetsDirs(){return["assets"]}},Fo=".lido-row{display:flex;justify-content:space-around;align-items:center;}.lido-row>*{}",Do=Fo,jo=class{constructor(r){$e(this,r),this.value=void 0,this.height=void 0,this.width=void 0,this.ariaLabel=void 0,this.ariaHidden=void 0,this.x=void 0,this.y=void 0,this.z=void 0,this.bgColor=void 0,this.type=void 0,this.tabIndex=void 0,this.visible=void 0,this.audio=void 0,this.onTouch=void 0,this.onInCorrect=void 0,this.onCorrect=void 0,this.onEntry=void 0,this.childElementsLength=void 0,this.minLength=void 0,this.maxLength=void 0,this.direction=void 0,this.style={},this.display=void 0}componentDidLoad(){gt(this.el,this.type),Zn(this.el,this.minLength,this.maxLength,this.childElementsLength,"flex")}componentWillLoad(){this.updateStyles(),window.addEventListener("resize",this.updateStyles.bind(this)),window.addEventListener("load",this.updateStyles.bind(this))}disconnectedCallback(){window.removeEventListener("resize",this.updateStyles.bind(this)),window.removeEventListener("load",this.updateStyles.bind(this))}updateStyles(){const r=window.innerHeight>window.innerWidth?"portrait":"landscape";this.style={height:Z(this.height,r),width:Z(this.width,r),backgroundColor:Z(this.bgColor,r),top:Z(this.y,r),left:Z(this.x,r),zIndex:this.z,display:this.visible?this.display?Z(this.display,r):"flex":"none",flexDirection:this.direction?Z(this.direction,r):"row",gridTemplateColumns:this.display&&Z(this.display,r)==="grid"?"repeat(auto-fill, minmax(186px, auto))":void 0,gap:this.display&&Z(this.display,r)==="grid"?"20px":void 0}}render(){return K(Ue,{key:"18ca4c576ea788276702192fca8598e8041865e8",class:"lido-row",type:this.type,tabindex:this.tabIndex,value:this.value,style:this.style,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,audio:this.audio,onTouch:this.onTouch,onCorrect:this.onCorrect,onInCorrect:this.onInCorrect,onEntry:this.onEntry},K("slot",{key:"5826548bae3bb8fbef8913f75f085a34624a24bb"}))}get el(){return at(this)}};jo.style=Do;const No=".lido-shape{position:absolute;top:var(--y);left:var(--x);display:var(--display);z-index:var(--z)}.lido-rectangle{border-radius:0}.lido-circle{width:var(--width);height:var(--width);border-radius:50%;background-color:var(--bgColor)}.lido-ellipse{width:var(--width);height:var(--height);border-radius:50%;background-color:var(--bgColor)}.lido-triangle{width:var(--triangleWidth);height:var(--triangleHeight);background-color:var(--bgColor);clip-path:polygon(50% 0%, 100% 100%, 0% 100%)}.lido-rightTriangle{width:var(--triangleWidth);height:var(--triangleHeight);background-color:var(--bgColor);clip-path:polygon(100% 0%, 100% 100%, 0% 100%)}.lido-leftTriangle{width:var(--triangleWidth);height:var(--triangleHeight);background-color:var(--triangleBgColor);clip-path:polygon(0% 0%, 100% 100%, 0% 100%)}.lido-parallelogram{width:var(--paralleWidth);height:var(--paralleHeight);transform:skew(20deg)}.lido-star{width:var(--starWidth);height:var(--starHeight);background-color:var(--starBgColor);clip-path:polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%)}.lido-pentagon{width:var(--pentagonWidth);height:var(--pentagonHeight);background-color:var(--pentagonBgColor);clip-path:polygon(50% 0%, 100% 38%, 82% 100%, 18% 100%, 0% 38%)}.lido-heptagon{width:var(--heptagonWidth);height:var(--heptagonHeight);background-color:var(--heptagonBgColor);clip-path:polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%)}.lido-octagon{width:var(--octagonWidth);height:var(--octagonHeight);background-color:var(--octagonBgColor);clip-path:polygon(25% 0%, 75% 0%, 100% 25%, 100% 75%, 75% 100%, 25% 100%, 0% 75%, 0% 25%)}.lido-rhombus{width:var(--rhombusWidth);height:var(--rhombusHeight);background-color:var(--rhombusBgColor);clip-path:polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%)}.lido-heart{height:var(--heartHeight);width:var(--heartWidth);border-image:radial-gradient(var(--heartBgColor) 69%, #0000 70%) 84.5%/50%;clip-path:polygon(-41% 0, 50% 91%, 141% 0)}",Wo=No,Bo=class{constructor(r){$e(this,r),this.id=void 0,this.value=void 0,this.height=void 0,this.width=void 0,this.ariaLabel=void 0,this.ariaHidden=void 0,this.x=void 0,this.y=void 0,this.z=void 0,this.bgColor=void 0,this.type=void 0,this.tabIndex=void 0,this.shapeType=void 0,this.visible=void 0,this.audio=void 0,this.onTouch=void 0,this.onInCorrect=void 0,this.onCorrect=void 0,this.onEntry=void 0}componentDidLoad(){gt(this.el,this.type)}render(){const r={height:this.shapeType!=="polygon"?this.height:void 0,width:this.shapeType!=="polygon"?this.width:void 0,top:this.y,left:this.x,display:this.visible?"block":"none",zIndex:this.z,backgroundColor:this.shapeType!=="polygon"?this.bgColor:"transparent"};return K(Ue,{key:"12495067d807532d470b048c50238c5335fb9370",class:`lido-shape ${this.shapeType}`,value:this.value,type:this.type,tabindex:this.tabIndex,style:r,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,audio:this.audio,onTouch:this.onTouch,onCorrect:this.onCorrect,onInCorrect:this.onInCorrect,onEntry:this.onEntry})}get el(){return at(this)}};Bo.style=Wo;const Uo=".lido-text{background-color:#fff;box-shadow:0 2px 4px rgba(0, 0, 0, 0.1);transition:background-color 0.3s ease;user-select:none;align-items:center;justify-content:center;text-align:center;border-radius:8px;color:#333;cursor:pointer}.lido-text:hover{background-color:#f0f0f0}",$o=Uo,Ho=class{constructor(r){$e(this,r),this.id=void 0,this.value=void 0,this.string=void 0,this.font=void 0,this.fontSize=void 0,this.fontColor=void 0,this.highlightWhileSpeaking=void 0,this.height=void 0,this.width=void 0,this.ariaLabel=void 0,this.ariaHidden=void 0,this.x=void 0,this.y=void 0,this.z=void 0,this.bgColor=void 0,this.borderImage=void 0,this.type=void 0,this.tabIndex=void 0,this.visible=void 0,this.audio=void 0,this.onTouch=void 0,this.onInCorrect=void 0,this.onCorrect=void 0,this.onEntry=void 0,this.style={}}componentDidLoad(){gt(this.el,this.type)}componentWillLoad(){this.updateStyles(),window.addEventListener("resize",this.updateStyles.bind(this)),window.addEventListener("load",this.updateStyles.bind(this))}disconnectedCallback(){window.removeEventListener("resize",this.updateStyles.bind(this)),window.removeEventListener("load",this.updateStyles.bind(this))}updateStyles(){const r=this.borderImage?Ct(this.borderImage):"",d=window.innerHeight>window.innerWidth?"portrait":"landscape";this.style={height:Z(this.height,d),width:Z(this.width,d),backgroundColor:Z(this.bgColor,d),top:Z(this.y,d),left:Z(this.x,d),zIndex:this.z,fontSize:Z(this.fontSize,d),fontFamily:this.font,color:Z(this.fontColor,d),display:JSON.parse(Z(`${this.visible}`,d))?"flex":"none",borderImage:`url(${r})`,borderImageSlice:r?"0 fill":""}}render(){return K(Ue,{key:"2072cdf8b90bf97efc3f403dfeef0e54a566d272",class:"lido-text",value:this.value,type:this.type,tabindex:this.tabIndex,audio:this.audio,onTouch:this.onTouch,onCorrect:this.onCorrect,onInCorrect:this.onInCorrect,onEntry:this.onEntry,id:this.id,style:this.style,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden},this.string)}get el(){return at(this)}};Ho.style=$o;const zo=":host{display:block;position:relative}#lido-svgContainer{position:absolute;top:0;left:0;right:0;bottom:50px;display:flex;justify-content:center;align-items:center;overflow:hidden}svg{width:100%;height:100%;max-height:calc(100vh - 50px);touch-action:none}#lido-draggableCircle{cursor:pointer;fill:red;transition:fill 0.2s, r 0.2s}.lido-blindTracing{stroke:none !important}.lido-blindFreeTrace{stroke:none !important}.lido-hovered{cursor:grab;fill:darkred}#lido-controls{position:fixed;bottom:0;left:0;right:0;display:flex;justify-content:space-between;padding:10px;background-color:#f0f0f0;border-top:1px solid #ccc}button{padding:10px;font-size:16px}@media (max-width: 600px){button{padding:8px;font-size:14px}}.lido-trace-path-green{stroke:green !important}",Xo=zo,Yo=class{constructor(r){$e(this,r),this.id=void 0,this.svgSource=void 0,this.value=void 0,this.height=void 0,this.width=void 0,this.x=void 0,this.y=void 0,this.z=void 0,this.ariaLabel=void 0,this.ariaHidden=void 0,this.tabIndex=void 0,this.mode=void 0,this.fileIndex=-1,this.isDragging=!1,this.activePointerId=null}async initializeSVG(){let r={fileIndex:-1,currentPathIndex:0,lastLength:0,totalPathLength:0,isDragging:!1,circle:null,paths:[],svg:null,proximityThreshold:100,freeTraceProximityThreshold:50,rafId:null,pointerMoveEvent:null,activePointerId:null,mode:this.mode,flowMarkers:[],freeTraceLines:[]};await this.loadAnotherSVG(r,!0)}componentWillLoad(){this.initializeSVG()}async fetchSVG(r){const d=await fetch(r);if(!d.ok)throw new Error(`Failed to fetch SVG (${r}): ${d.statusText}`);return await d.text()}calculateBoundingBox(r,d=22){let f=1/0,g=1/0,w=-1/0,C=-1/0;return r.forEach(E=>{const b=E.getTotalLength(),x=100;for(let L=0;L<=x;L++){const S=E.getPointAtLength(L/x*b);S.x<f&&(f=S.x),S.y<g&&(g=S.y),S.x>w&&(w=S.x),S.y>C&&(C=S.y)}}),f-=d,g-=d,w+=d,C+=d,{minX:f,minY:g,maxX:w,maxY:C}}insertSVG(r){const d=document.getElementById("svgContainer");d.innerHTML=r;const f=d.querySelector("svg");f.removeAttribute("width"),f.removeAttribute("height");const g=f.querySelectorAll("path, line"),w=this.calculateBoundingBox(Array.from(g)),C=w.maxX-w.minX,E=w.maxY-w.minY;f.setAttribute("viewBox",`${w.minX} ${w.minY} ${C} ${E}`)}getSVGElement(){return document.getElementById("svgContainer").querySelector("svg")}getPaths(r){return Array.from(r.querySelectorAll("path, line"))}createFlowMarkersForPath(r,d=10){var f;const w=r.getTotalLength()/(d+1),C=[];for(let E=1;E<=d;E++){const b=r.getPointAtLength(E*w),x=r.getPointAtLength((E+.5)*w),L=Math.atan2(x.y-b.y,x.x-b.x),S=document.createElementNS("http://www.w3.org/2000/svg","polygon");S.setAttribute("points","-5,-5 0,0 -5,5"),S.setAttribute("fill","blue"),S.setAttribute("transform",`translate(${b.x},${b.y}) rotate(${L*180/Math.PI})`),S.setAttribute("class","lido-flow-indicator"),C.push(S),(f=r.parentNode)===null||f===void 0||f.appendChild(S)}return C}updateFlowIndicators(r){r.svg.querySelectorAll(".lido-flow-indicator").forEach(f=>{r.mode===qe.NoFlow?f.style.display="none":r.mode===qe.ShowFlow&&(f.style.display="block")})}setupDrawingPath(r){r.paths.forEach((d,f)=>{const g=d.getTotalLength(),w=d.cloneNode();w.setAttribute("stroke","green"),w.setAttribute("stroke-width","13"),w.setAttribute("stroke-dasharray",g.toString()),w.setAttribute("stroke-dashoffset",g.toString()),d.parentNode.appendChild(w,d),d.setAttribute("class","lido-trace-path"),w.setAttribute("class","lido-trace-path-green"),d.greenPath=w,d.classList.add(r.mode),r.mode===qe.BlindTracing||r.mode===qe.BlindFreeTrace?d.setAttribute("stroke","none"):(d.setAttribute("stroke","#000"),d.setAttribute("stroke-width","10"),d.setAttribute("fill","none"),d.setAttribute("stroke-dasharray",g.toString()),d.setAttribute("stroke-dashoffset","0")),f===r.currentPathIndex&&r.mode===qe.ShowFlow&&(r.flowMarkers=this.createFlowMarkersForPath(d))}),r.totalPathLength=r.paths[r.currentPathIndex].getTotalLength()}setupDraggableCircle(r){var d;const f=r.paths[0].getPointAtLength(0),g=document.createElementNS("http://www.w3.org/2000/svg","circle");g.setAttribute("id","lido-draggableCircle"),g.setAttribute("cx",f.x.toString()),g.setAttribute("cy",f.y.toString()),g.setAttribute("r","20"),g.setAttribute("fill","red"),(d=r.svg)===null||d===void 0||d.appendChild(g),r.circle=g}addEventListeners(r){var d,f,g,w;!r.circle||!r.paths||r.paths.length===0||(r.circle.addEventListener("pointerdown",C=>{C.preventDefault();const E=this.getPointerPosition(C,r.svg),b={x:parseFloat(r.circle.getAttribute("cx")),y:parseFloat(r.circle.getAttribute("cy"))};this.getDistanceSquared(E,b)<=r.proximityThreshold*r.proximityThreshold&&(r.isDragging=!0,r.activePointerId=C.pointerId,r.circle.setPointerCapture(C.pointerId))}),(d=r.svg)===null||d===void 0||d.addEventListener("pointermove",C=>{!r.isDragging||C.pointerId!==r.activePointerId||(r.pointerMoveEvent=C,r.rafId||(r.rafId=requestAnimationFrame(()=>{this.handlePointerMove(r),r.rafId=null})))}),(f=r.svg)===null||f===void 0||f.addEventListener("pointerup",C=>{C.pointerId===r.activePointerId&&(r.isDragging=!1,r.activePointerId=null)}),(g=r.svg)===null||g===void 0||g.addEventListener("pointercancel",C=>{C.pointerId===r.activePointerId&&(r.isDragging=!1,r.activePointerId=null)}),(w=r.svg)===null||w===void 0||w.addEventListener("contextmenu",C=>{C.preventDefault()}))}handlePointerMove(r){var d,f,g,w;if(!r.isDragging||!r.circle||!r.paths||r.paths.length===0)return;const C=r.pointerMoveEvent,E=this.getPointerPosition(C,r.svg),b={x:parseFloat(r.circle.getAttribute("cx")),y:parseFloat(r.circle.getAttribute("cy"))},x=r.paths[r.currentPathIndex];if(!x){console.error("No valid path found at the current index");return}let L;if(r.mode===qe.FreeTrace||r.mode===qe.BlindFreeTrace?L=r.freeTraceProximityThreshold*r.freeTraceProximityThreshold:L=r.proximityThreshold*r.proximityThreshold,this.getDistanceSquared(E,b)>L)return;const k=this.getClosestPointOnPath(x,E);if(!(this.getDistanceSquared(E,k)>L)){if(r.mode===qe.FreeTrace||r.mode===qe.BlindFreeTrace){if(r.currentFreePath||(r.currentFreePath=[]),!r.currentFreePath[r.currentPathIndex]){const V=document.createElementNS("http://www.w3.org/2000/svg","path");V.setAttribute("stroke","green"),V.setAttribute("stroke-width","8"),V.setAttribute("fill","none"),V.setAttribute("d",`M${E.x},${E.y}`),(d=r.svg)===null||d===void 0||d.appendChild(V),r.currentFreePath[r.currentPathIndex]=V,r.lastPointerPos=E}const u=r.lastPointerPos||E,$=r.currentFreePath[r.currentPathIndex].getAttribute("d"),ee=(u.x+E.x)/2,he=(u.y+E.y)/2,X=`${$} Q ${u.x},${u.y} ${ee},${he}`;r.currentFreePath[r.currentPathIndex].setAttribute("d",X),r.circle.setAttribute("cx",E.x.toString()),r.circle.setAttribute("cy",E.y.toString()),(f=r.svg)===null||f===void 0||f.appendChild(r.circle),r.lastPointerPos=E,x.getTotalLength()-k.length<5&&(this.moveToNextPath(r),r.currentFreePath[r.currentPathIndex]=null);return}r.isDragging&&k.length>=r.lastLength&&(r.lastLength=k.length,r.circle.setAttribute("cx",k.x.toString()),r.circle.setAttribute("cy",k.y.toString()),(g=r.svg)===null||g===void 0||g.appendChild(r.circle),(w=x.greenPath)===null||w===void 0||w.setAttribute("stroke-dashoffset",(r.totalPathLength-r.lastLength).toString())),r.totalPathLength-1-r.lastLength<5&&r.currentPathIndex<r.paths.length-1?this.moveToNextPath(r):r.totalPathLength-1-r.lastLength<5&&r.currentPathIndex===r.paths.length-1&&An()}}getPointerPosition(r,d){var f;const g=d.createSVGPoint();g.x=r.clientX,g.y=r.clientY;const w=(f=d.getScreenCTM())===null||f===void 0?void 0:f.inverse();return w?g.matrixTransform(w):{x:r.clientX,y:r.clientY}}getDistanceSquared(r,d){const f=r.x-d.x,g=r.y-d.y;return f*f+g*g}getClosestPointOnPath(r,d){const f=r.getTotalLength();let g={x:0,y:0,length:0},w=1/0;const C=20;let E={length:0},b=1/0;for(let k=0;k<=f;k+=C){const D=r.getPointAtLength(k),u=this.getDistanceSquared(d,D);u<b&&(b=u,E={x:D.x,y:D.y,length:k})}const x=2,L=Math.max(E.length-C,0),S=Math.min(E.length+C,f);for(let k=L;k<=S;k+=x){const D=r.getPointAtLength(k),u=this.getDistanceSquared(d,D);u<w&&(w=u,g={x:D.x,y:D.y,length:k})}return g}async loadAnotherSVG(r,d){r.isDragging=!1;try{r.svg&&this.cleanupPreviousSVG(r);const f=await this.fetchSVG(this.svgSource);this.insertSVG(f),r.svg=this.getSVGElement(),r.paths=this.getPaths(r.svg),this.setupDrawingPath(r),this.setupDraggableCircle(r),this.addEventListeners(r)}catch(f){console.error(`Error loading SVG (${this.svgSource}):`,f)}}cleanupPreviousSVG(r){var d,f;r.circle&&((d=r.svg)===null||d===void 0||d.removeChild(r.circle),r.circle=null),((f=r.svg)===null||f===void 0?void 0:f.querySelectorAll(".lido-flow-indicator")).forEach(w=>{w.remove()}),r.currentPathIndex=0,r.lastLength=0,r.totalPathLength=r.paths[0].getTotalLength()}moveToNextPath(r){var d,f;if(r.isDragging=!1,r.currentPathIndex++,r.lastLength=0,r.currentPathIndex>=r.paths.length){An();return}const g=r.paths[r.currentPathIndex];if(!g){console.error("No valid path found at the next index");return}r.totalPathLength=g.getTotalLength();const w=g.getPointAtLength(0);(d=r.circle)===null||d===void 0||d.setAttribute("cx",w.x.toString()),(f=r.circle)===null||f===void 0||f.setAttribute("cy",w.y.toString()),r.mode===qe.ShowFlow&&(r.flowMarkers=this.createFlowMarkersForPath(g))}render(){const r={height:this.height,width:this.width,top:this.y,left:this.x,zIndex:this.z,position:"absolute"};return K(Ue,{key:"d5b46a1c9ed6831ff8046482475c3e4c6b0b465a",class:"lido-trace",id:this.id,style:r,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,tabindex:this.tabIndex},K("div",{key:"ba191bcf4c2ac99942293b4fc44eee416a229ab9",id:"lido-svgContainer"}))}static get assetsDirs(){return["svg"]}};Yo.style=Xo;const Vo=".lido-wrap{display:grid;grid-gap:10px;grid-template-columns:repeat(auto-fill, minmax(186px, auto))}.lido-wrap>*{padding:10px;background-color:var(--child-bg-color, #f0f0f0);box-sizing:border-box}",Go=Vo,qo=class{constructor(r){$e(this,r),this.id=void 0,this.value=void 0,this.height=void 0,this.width=void 0,this.ariaLabel=void 0,this.ariaHidden=void 0,this.x=void 0,this.y=void 0,this.z=void 0,this.bgColor=void 0,this.type=void 0,this.tabIndex=void 0,this.visible=void 0,this.audio=void 0,this.onTouch=void 0,this.onInCorrect=void 0,this.onCorrect=void 0,this.onEntry=void 0,this.childElementsLength=void 0,this.minLength=void 0,this.maxLength=void 0,this.style=void 0}componentDidLoad(){gt(this.el,this.type),Zn(this.el,this.minLength,this.maxLength,this.childElementsLength,"grid")}componentWillLoad(){this.updateStyles(),window.addEventListener("resize",this.updateStyles.bind(this)),window.addEventListener("load",this.updateStyles.bind(this))}disconnectedCallback(){window.removeEventListener("resize",this.updateStyles.bind(this)),window.removeEventListener("load",this.updateStyles.bind(this))}updateStyles(){const r=window.innerHeight>window.innerWidth?"portrait":"landscape";this.style={height:Z(this.height,r),width:Z(this.width,r),backgroundColor:Z(this.bgColor,r),top:Z(this.y,r),left:Z(this.x,r),zIndex:this.z,display:JSON.parse(Z(`${this.visible}`,r))?"grid":"none"}}render(){return K(Ue,{key:"5baccefd2215fadc0dcd99e269f2c3acd5895377",class:"lido-wrap",value:this.value,type:this.type,tabindex:this.tabIndex,style:this.style,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,audio:this.audio,onTouch:this.onTouch,onCorrect:this.onCorrect,onInCorrect:this.onInCorrect,onEntry:this.onEntry},K("slot",{key:"e9d9aa3cc6ddc7d64f7a3172ce413e7db4ad5b02"}))}get el(){return at(this)}};qo.style=Go;export{ho as lido_avatar,go as lido_col,yo as lido_container,Ao as lido_home,Io as lido_image,Ro as lido_pos,ko as lido_random,Zo as lido_root,jo as lido_row,Bo as lido_shape,Ho as lido_text,Yo as lido_trace,qo as lido_wrap};
