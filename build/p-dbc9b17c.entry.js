import{r as t,h as n,H as e,a as i,g as r}from"./p-37351245.js";import{i as o,c as s,R as a,h as u,p as h,S as f,D as c,d,a as l,N as v,T as w,t as p}from"./p-023728ad.js";var b=typeof globalThis!=="undefined"?globalThis:typeof window!=="undefined"?window:typeof global!=="undefined"?global:typeof self!=="undefined"?self:{};var m={exports:{}};(function(t,n){(function n(e,i){t.exports=i()})(b,(()=>(()=>{var t=[,(t,n,e)=>{e.r(n);e.d(n,{default:()=>r});var i=(()=>{var t=typeof document!=="undefined"&&document.currentScript?document.currentScript.src:undefined;return function(n={}){var e=n,i,r;e.ready=new Promise(((t,n)=>{i=t;r=n}));function o(){function t(t){const o=i;e=n=0;i=new Map;o.forEach((n=>{try{n(t)}catch(t){console.error(t)}}));this.ob();r&&r.Tb()}let n=0,e=0,i=new Map,r=null,o=null;this.requestAnimationFrame=function(r){n||(n=requestAnimationFrame(t.bind(this)));const o=++e;i.set(o,r);return o};this.cancelAnimationFrame=function(t){i.delete(t);n&&0==i.size&&(cancelAnimationFrame(n),n=0)};this.Rb=function(t){o&&(document.body.remove(o),o=null);t||(o=document.createElement("div"),o.style.backgroundColor="black",o.style.position="fixed",o.style.right=0,o.style.top=0,o.style.color="white",o.style.padding="4px",o.innerHTML="RIVE FPS",t=function(t){o.innerHTML="RIVE FPS "+t.toFixed(1)},document.body.appendChild(o));r=new function(){let n=0,e=0;this.Tb=function(){var i=performance.now();e?(++n,i-=e,1e3<i&&(t(1e3*n/i),n=e=0)):(e=i,n=0)}}};this.Ob=function(){o&&(document.body.remove(o),o=null);r=null};this.ob=function(){}}function s(t){console.assert(!0);const n=new Map;let e=-Infinity;this.push=function(i){i=i+((1<<t)-1)>>t;n.has(i)&&clearTimeout(n.get(i));n.set(i,setTimeout((function(){n.delete(i);0==n.length?e=-Infinity:i==e&&(e=Math.max(...n.keys()),console.assert(e<i))}),1e3));e=Math.max(i,e);return e<<t}}const a=e.onRuntimeInitialized;e.onRuntimeInitialized=function(){a&&a();let t=e.decodeAudio;e.decodeAudio=function(n,e){n=t(n);e(n)};let n=e.decodeFont;e.decodeFont=function(t,e){t=n(t);e(t)};const i=e.FileAssetLoader;e.ptrToAsset=t=>{let n=e.ptrToFileAsset(t);return n.isImage?e.ptrToImageAsset(t):n.isFont?e.ptrToFontAsset(t):n.isAudio?e.ptrToAudioAsset(t):n};e.CustomFileAssetLoader=i.extend("CustomFileAssetLoader",{__construct:function({loadContents:t}){this.__parent.__construct.call(this);this.Gb=t},loadContents:function(t,n){t=e.ptrToAsset(t);return this.Gb(t,n)}});e.CDNFileAssetLoader=i.extend("CDNFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this)},loadContents:function(t){let n=e.ptrToAsset(t);t=n.cdnUuid;if(""===t){return!1}(function(t,n){var e=new XMLHttpRequest;e.responseType="arraybuffer";e.onreadystatechange=function(){4==e.readyState&&200==e.status&&n(e)};e.open("GET",t,!0);e.send(null)})(n.cdnBaseUrl+"/"+t,(t=>{n.decode(new Uint8Array(t.response))}));return!0}});e.FallbackFileAssetLoader=i.extend("FallbackFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this);this.kb=[]},addLoader:function(t){this.kb.push(t)},loadContents:function(t,n){for(let e of this.kb){if(e.loadContents(t,n)){return!0}}return!1}});let r=e.computeAlignment;e.computeAlignment=function(t,n,e,i,o=1){return r.call(this,t,n,e,i,o)}};const u="createConicGradient createImageData createLinearGradient createPattern createRadialGradient getContextAttributes getImageData getLineDash getTransform isContextLost isPointInPath isPointInStroke measureText".split(" "),h=new function(){function t(){if(!n){var t=document.createElement("canvas"),s={alpha:1,depth:0,stencil:0,antialias:0,premultipliedAlpha:1,preserveDrawingBuffer:0,powerPreference:"high-performance",failIfMajorPerformanceCaveat:0,enableExtensionsByDefault:1,explicitSwapControl:1,renderViaOffscreenBackBuffer:1};let a;if(/iPhone|iPad|iPod/i.test(navigator.userAgent)){if(a=t.getContext("webgl",s),e=1,!a){return console.log("No WebGL support. Image mesh will not be drawn."),!1}}else{if(a=t.getContext("webgl2",s)){e=2}else{if(a=t.getContext("webgl",s)){e=1}else{return console.log("No WebGL support. Image mesh will not be drawn."),!1}}}a=new Proxy(a,{get(t,n){if(t.isContextLost()){if(h||(console.error("Cannot render the mesh because the GL Context was lost. Tried to invoke ",n),h=!0),"function"===typeof t[n]){return function(){}}}else{return"function"===typeof t[n]?function(...e){return t[n].apply(t,e)}:t[n]}},set(t,n,e){if(t.isContextLost()){h||(console.error("Cannot render the mesh because the GL Context was lost. Tried to set property "+n),h=!0)}else{return t[n]=e,!0}}});i=Math.min(a.getParameter(a.MAX_RENDERBUFFER_SIZE),a.getParameter(a.MAX_TEXTURE_SIZE));function u(t,n,e){n=a.createShader(n);a.shaderSource(n,e);a.compileShader(n);e=a.getShaderInfoLog(n);if(0<(e||"").length){throw e}a.attachShader(t,n)}t=a.createProgram();u(t,a.VERTEX_SHADER,"attribute vec2 vertex;\n                attribute vec2 uv;\n                uniform vec4 mat;\n                uniform vec2 translate;\n                varying vec2 st;\n                void main() {\n                    st = uv;\n                    gl_Position = vec4(mat2(mat) * vertex + translate, 0, 1);\n                }");u(t,a.FRAGMENT_SHADER,"precision highp float;\n                uniform sampler2D image;\n                varying vec2 st;\n                void main() {\n                    gl_FragColor = texture2D(image, st);\n                }");a.bindAttribLocation(t,0,"vertex");a.bindAttribLocation(t,1,"uv");a.linkProgram(t);s=a.getProgramInfoLog(t);if(0<(s||"").trim().length){throw s}r=a.getUniformLocation(t,"mat");o=a.getUniformLocation(t,"translate");a.useProgram(t);a.bindBuffer(a.ARRAY_BUFFER,a.createBuffer());a.enableVertexAttribArray(0);a.enableVertexAttribArray(1);a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,a.createBuffer());a.uniform1i(a.getUniformLocation(t,"image"),0);a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);n=a}return!0}let n=null,e=0,i=0,r=null,o=null,a=0,u=0,h=!1;t();this.hc=function(){t();return i};this.Mb=function(t){n.deleteTexture&&n.deleteTexture(t)};this.Lb=function(i){if(!t()){return null}const r=n.createTexture();if(!r){return null}n.bindTexture(n.TEXTURE_2D,r);n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,i);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR);2==e?(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR_MIPMAP_LINEAR),n.generateMipmap(n.TEXTURE_2D)):n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR);return r};const f=new s(8),c=new s(8),d=new s(10),l=new s(10);this.Qb=function(e,i,s,h,v){if(t()){var w=f.push(e),p=c.push(i);if(n.canvas){if(n.canvas.width!=w||n.canvas.height!=p){n.canvas.width=w,n.canvas.height=p}n.viewport(0,p-i,e,i);n.disable(n.SCISSOR_TEST);n.clearColor(0,0,0,0);n.clear(n.COLOR_BUFFER_BIT);n.enable(n.SCISSOR_TEST);s.sort(((t,n)=>n.wb-t.wb));w=d.push(h);a!=w&&(n.bufferData(n.ARRAY_BUFFER,8*w,n.DYNAMIC_DRAW),a=w);w=0;for(var b of s){n.bufferSubData(n.ARRAY_BUFFER,w,b.Ta),w+=4*b.Ta.length}console.assert(w==4*h);for(var m of s){n.bufferSubData(n.ARRAY_BUFFER,w,m.Db),w+=4*m.Db.length}console.assert(w==8*h);w=l.push(v);u!=w&&(n.bufferData(n.ELEMENT_ARRAY_BUFFER,2*w,n.DYNAMIC_DRAW),u=w);b=0;for(var g of s){n.bufferSubData(n.ELEMENT_ARRAY_BUFFER,b,g.indices),b+=2*g.indices.length}console.assert(b==2*v);g=0;m=!0;w=b=0;for(const t of s){t.image.Ka!=g&&(n.bindTexture(n.TEXTURE_2D,t.image.Ja||null),g=t.image.Ka);t.mc?(n.scissor(t.Ya,p-t.Za-t.jb,t.Ac,t.jb),m=!0):m&&(n.scissor(0,p-i,e,i),m=!1);s=2/e;const a=-2/i;n.uniform4f(r,t.ha[0]*s*t.Ba,t.ha[1]*a*t.Ca,t.ha[2]*s*t.Ba,t.ha[3]*a*t.Ca);n.uniform2f(o,t.ha[4]*s*t.Ba+s*(t.Ya-t.ic*t.Ba)-1,t.ha[5]*a*t.Ca+a*(t.Za-t.jc*t.Ca)+1);n.vertexAttribPointer(0,2,n.FLOAT,!1,0,w);n.vertexAttribPointer(1,2,n.FLOAT,!1,0,w+4*h);n.drawElements(n.TRIANGLES,t.indices.length,n.UNSIGNED_SHORT,b);w+=4*t.Ta.length;b+=2*t.indices.length}console.assert(w==4*h);console.assert(b==2*v)}}};this.canvas=function(){return t()&&n.canvas}},f=e.onRuntimeInitialized;e.onRuntimeInitialized=function(){function t(t){switch(t){case v.srcOver:return"source-over";case v.screen:return"screen";case v.overlay:return"overlay";case v.darken:return"darken";case v.lighten:return"lighten";case v.colorDodge:return"color-dodge";case v.colorBurn:return"color-burn";case v.hardLight:return"hard-light";case v.softLight:return"soft-light";case v.difference:return"difference";case v.exclusion:return"exclusion";case v.multiply:return"multiply";case v.hue:return"hue";case v.saturation:return"saturation";case v.color:return"color";case v.luminosity:return"luminosity"}}function n(t){return"rgba("+((16711680&t)>>>16)+","+((65280&t)>>>8)+","+((255&t)>>>0)+","+((4278190080&t)>>>24)/255+")"}function i(){0<C.length&&(h.Qb(k.drawWidth(),k.drawHeight(),C,A,j),C=[],j=A=0,k.reset(512,512));for(const t of _){for(const n of t.H){n()}t.H=[]}_.clear()}f&&f();var r=e.RenderPaintStyle;const s=e.RenderPath,a=e.RenderPaint,c=e.Renderer,d=e.StrokeCap,l=e.StrokeJoin,v=e.BlendMode,w=r.fill,p=r.stroke,b=e.FillRule.evenOdd;let m=1;var g=e.RenderImage.extend("CanvasRenderImage",{__construct:function({la:t,xa:n}={}){this.__parent.__construct.call(this);this.Ka=m;m=m+1&2147483647||1;this.la=t;this.xa=n},__destruct:function(){this.Ja&&(h.Mb(this.Ja),URL.revokeObjectURL(this.Wa));this.__parent.__destruct.call(this)},decode:function(t){var n=this;n.xa&&n.xa(n);var e=new Image;n.Wa=URL.createObjectURL(new Blob([t],{type:"image/png"}));e.onload=function(){n.Fb=e;n.Ja=h.Lb(e);n.size(e.width,e.height);n.la&&n.la(n)};e.src=n.Wa}}),y=s.extend("CanvasRenderPath",{__construct:function(){this.__parent.__construct.call(this);this.T=new Path2D},rewind:function(){this.T=new Path2D},addPath:function(t,n,e,i,r,o,s){var a=this.T,u=a.addPath;t=t.T;const h=new DOMMatrix;h.a=n;h.b=e;h.c=i;h.d=r;h.e=o;h.f=s;u.call(a,t,h)},fillRule:function(t){this.Va=t},moveTo:function(t,n){this.T.moveTo(t,n)},lineTo:function(t,n){this.T.lineTo(t,n)},cubicTo:function(t,n,e,i,r,o){this.T.bezierCurveTo(t,n,e,i,r,o)},close:function(){this.T.closePath()}}),x=a.extend("CanvasRenderPaint",{color:function(t){this.Xa=n(t)},thickness:function(t){this.Ib=t},join:function(t){switch(t){case l.miter:this.Ia="miter";break;case l.round:this.Ia="round";break;case l.bevel:this.Ia="bevel"}},cap:function(t){switch(t){case d.butt:this.Ha="butt";break;case d.round:this.Ha="round";break;case d.square:this.Ha="square"}},style:function(t){this.Hb=t},blendMode:function(n){this.Eb=t(n)},clearGradient:function(){this.ja=null},linearGradient:function(t,n,e,i){this.ja={yb:t,zb:n,bb:e,cb:i,Ra:[]}},radialGradient:function(t,n,e,i){this.ja={yb:t,zb:n,bb:e,cb:i,Ra:[],ec:!0}},addStop:function(t,n){this.ja.Ra.push({color:t,stop:n})},completeGradient:function(){},draw:function(t,e,i){let r=this.Hb;var o=this.Xa,s=this.ja;t.globalCompositeOperation=this.Eb;if(null!=s){o=s.yb;var a=s.zb;const e=s.bb;var u=s.cb;const i=s.Ra;s.ec?(s=e-o,u-=a,o=t.createRadialGradient(o,a,0,o,a,Math.sqrt(s*s+u*u))):o=t.createLinearGradient(o,a,e,u);for(let t=0,e=i.length;t<e;t++){a=i[t],o.addColorStop(a.stop,n(a.color))}this.Xa=o;this.ja=null}switch(r){case p:t.strokeStyle=o;t.lineWidth=this.Ib;t.lineCap=this.Ha;t.lineJoin=this.Ia;t.stroke(e);break;case w:t.fillStyle=o,t.fill(e,i)}}});const _=new Set;let k=null,C=[],A=0,j=0;var T=e.CanvasRenderer=c.extend("Renderer",{__construct:function(t){this.__parent.__construct.call(this);this.S=[1,0,0,1,0,0];this.C=t.getContext("2d");this.Ua=t;this.H=[]},save:function(){this.S.push(...this.S.slice(this.S.length-6));this.H.push(this.C.save.bind(this.C))},restore:function(){const t=this.S.length-6;if(6>t){throw"restore() called without matching save()."}this.S.splice(t);this.H.push(this.C.restore.bind(this.C))},transform:function(t,n,e,i,r,o){const s=this.S,a=s.length-6;s.splice(a,6,s[a]*t+s[a+2]*n,s[a+1]*t+s[a+3]*n,s[a]*e+s[a+2]*i,s[a+1]*e+s[a+3]*i,s[a]*r+s[a+2]*o+s[a+4],s[a+1]*r+s[a+3]*o+s[a+5]);this.H.push(this.C.transform.bind(this.C,t,n,e,i,r,o))},rotate:function(t){const n=Math.sin(t);t=Math.cos(t);this.transform(t,n,-n,t,0,0)},_drawPath:function(t,n){this.H.push(n.draw.bind(n,this.C,t.T,t.Va===b?"evenodd":"nonzero"))},_drawRiveImage:function(n,e,i){var r=n.Fb;if(r){var o=this.C,s=t(e);this.H.push((function(){o.globalCompositeOperation=s;o.globalAlpha=i;o.drawImage(r,0,0);o.globalAlpha=1}))}},_getMatrix:function(t){const n=this.S,e=n.length-6;for(let i=0;6>i;++i){t[i]=n[e+i]}},_drawImageMesh:function(n,r,o,s,a,u,f,c,d,l){var v=this.C.canvas.width,w=this.C.canvas.height;const p=d-f,b=l-c;f=Math.max(f,0);c=Math.max(c,0);d=Math.min(d,v);l=Math.min(l,w);const m=d-f,g=l-c;console.assert(m<=Math.min(p,v));console.assert(g<=Math.min(b,w));if(!(0>=m||0>=g)){d=m<p||g<b;v=l=1;var y=Math.ceil(m*l),x=Math.ceil(g*v);w=h.hc();y>w&&(l*=w/y,y=w);x>w&&(v*=w/x,x=w);k||(k=new e.DynamicRectanizer(w),k.reset(512,512));w=k.addRect(y,x);0>w&&(i(),_.add(this),w=k.addRect(y,x),console.assert(0<=w));var T=w&65535,$=w>>16;C.push({ha:this.S.slice(this.S.length-6),image:n,Ya:T,Za:$,ic:f,jc:c,Ac:y,jb:x,Ba:l,Ca:v,Ta:new Float32Array(s),Db:new Float32Array(a),indices:new Uint16Array(u),mc:d,wb:n.Ka<<1|(d?1:0)});A+=s.length;j+=u.length;var O=this.C,M=t(r);this.H.push((function(){O.save();O.resetTransform();O.globalCompositeOperation=M;O.globalAlpha=o;const t=h.canvas();t&&O.drawImage(t,T,$,y,x,f,c,m,g);O.restore()}))}},_clipPath:function(t){this.H.push(this.C.clip.bind(this.C,t.T,t.Va===b?"evenodd":"nonzero"))},clear:function(){_.add(this);this.H.push(this.C.clearRect.bind(this.C,0,0,this.Ua.width,this.Ua.height))},flush:function(){},translate:function(t,n){this.transform(1,0,0,1,t,n)}});e.makeRenderer=function(t){const n=new T(t),e=n.C;return new Proxy(n,{get(t,i){if("function"===typeof t[i]){return function(...n){return t[i].apply(t,n)}}if("function"===typeof e[i]){if(-1<u.indexOf(i)){throw Error("RiveException: Method call to '"+i+"()' is not allowed, as the renderer cannot immediately pass through the return                 values of any canvas 2d context methods.")}return function(...t){n.H.push(e[i].bind(e,...t))}}return t[i]},set(t,i,r){if(i in e){return n.H.push((()=>{e[i]=r})),!0}}})};e.decodeImage=function(t,n){new g({la:n}).decode(t)};e.renderFactory={makeRenderPaint:function(){return new x},makeRenderPath:function(){return new y},makeRenderImage:function(){let t=O;return new g({xa:()=>{t.total++},la:()=>{t.loaded++;if(t.loaded===t.total){const n=t.ready;n&&(n(),t.ready=null)}}})}};let $=e.load,O=null;e.load=function(t,n,i=!0){const r=new e.FallbackFileAssetLoader;void 0!==n&&r.addLoader(n);i&&(n=new e.CDNFileAssetLoader,r.addLoader(n));return new Promise((function(n){let e=null;O={total:0,loaded:0,ready:function(){n(e)}};e=$(t,r);0==O.total&&n(e)}))};let M=e.RendererWrapper.prototype.align;e.RendererWrapper.prototype.align=function(t,n,e,i,r=1){M.call(this,t,n,e,i,r)};r=new o;e.requestAnimationFrame=r.requestAnimationFrame.bind(r);e.cancelAnimationFrame=r.cancelAnimationFrame.bind(r);e.enableFPSCounter=r.Rb.bind(r);e.disableFPSCounter=r.Ob;r.ob=i;e.resolveAnimationFrame=i;e.cleanup=function(){k&&k.delete()}};var c=Object.assign({},e),d="./this.program",l="object"==typeof window,v="function"==typeof importScripts,w="",p,b;if(l||v){v?w=self.location.href:"undefined"!=typeof document&&document.currentScript&&(w=document.currentScript.src),t&&(w=t),0!==w.indexOf("blob:")?w=w.substr(0,w.replace(/[?#].*/,"").lastIndexOf("/")+1):w="",v&&(b=t=>{var n=new XMLHttpRequest;n.open("GET",t,!1);n.responseType="arraybuffer";n.send(null);return new Uint8Array(n.response)}),p=(t,n,e)=>{var i=new XMLHttpRequest;i.open("GET",t,!0);i.responseType="arraybuffer";i.onload=()=>{200==i.status||0==i.status&&i.response?n(i.response):e()};i.onerror=e;i.send(null)}}var m=e.print||console.log.bind(console),g=e.printErr||console.error.bind(console);Object.assign(e,c);c=null;e.thisProgram&&(d=e.thisProgram);var y;e.wasmBinary&&(y=e.wasmBinary);"object"!=typeof WebAssembly&&U("no native wasm support detected");var x,_,k=!1,C,A,j,T,$,O,M,P;function E(){var t=x.buffer;e.HEAP8=C=new Int8Array(t);e.HEAP16=j=new Int16Array(t);e.HEAP32=$=new Int32Array(t);e.HEAPU8=A=new Uint8Array(t);e.HEAPU16=T=new Uint16Array(t);e.HEAPU32=O=new Uint32Array(t);e.HEAPF32=M=new Float32Array(t);e.HEAPF64=P=new Float64Array(t)}var S,I=[],L=[],D=[];function F(){var t=e.preRun.shift();I.unshift(t)}var W=0,R=null;function U(t){if(e.onAbort){e.onAbort(t)}t="Aborted("+t+")";g(t);k=!0;t=new WebAssembly.RuntimeError(t+". Build with -sASSERTIONS for more info.");r(t);throw t}function z(t){return t.startsWith("data:application/octet-stream;base64,")}var X;X="canvas_advanced.wasm";if(!z(X)){var Y=X;X=e.locateFile?e.locateFile(Y,w):w+Y}function N(t){if(t==X&&y){return new Uint8Array(y)}if(b){return b(t)}throw"both async and sync fetching of the wasm failed"}function G(t){if(!y&&(l||v)){if("function"==typeof fetch&&!t.startsWith("file://")){return fetch(t,{credentials:"same-origin"}).then((n=>{if(!n.ok){throw"failed to load wasm binary file at '"+t+"'"}return n.arrayBuffer()})).catch((()=>N(t)))}if(p){return new Promise(((n,e)=>{p(t,(t=>n(new Uint8Array(t))),e)}))}}return Promise.resolve().then((()=>N(t)))}function B(t,n,e){return G(t).then((t=>WebAssembly.instantiate(t,n))).then((t=>t)).then(e,(t=>{g("failed to asynchronously prepare wasm: "+t);U(t)}))}function H(t,n){var e=X;return y||"function"!=typeof WebAssembly.instantiateStreaming||z(e)||e.startsWith("file://")||"function"!=typeof fetch?B(e,t,n):fetch(e,{credentials:"same-origin"}).then((i=>WebAssembly.instantiateStreaming(i,t).then(n,(function(i){g("wasm streaming compile failed: "+i);g("falling back to ArrayBuffer instantiation");return B(e,t,n)}))))}var V,q,K={446236:(t,n,e,i,r)=>{if("undefined"===typeof window||void 0===(window.AudioContext||window.webkitAudioContext)){return 0}if("undefined"===typeof window.h){window.h={Aa:0};window.h.I={};window.h.I.ya=t;window.h.I.capture=n;window.h.I.La=e;window.h.ga={};window.h.ga.stopped=i;window.h.ga.xb=r;let o=window.h;o.D=[];o.yc=function(t){for(var n=0;n<o.D.length;++n){if(null==o.D[n]){return o.D[n]=t,n}}o.D.push(t);return o.D.length-1};o.Cb=function(t){for(o.D[t]=null;0<o.D.length;){if(null==o.D[o.D.length-1]){o.D.pop()}else{break}}};o.Sc=function(t){for(var n=0;n<o.D.length;++n){if(o.D[n]==t){return o.Cb(n)}}};o.ra=function(t){return o.D[t]};o.Bb=["touchend","click"];o.unlock=function(){for(var t=0;t<o.D.length;++t){var n=o.D[t];null!=n&&null!=n.J&&n.state===o.ga.xb&&n.J.resume().then((()=>{Ue(n.pb)}),(t=>{console.error("Failed to resume audiocontext",t)}))}o.Bb.map((function(t){document.removeEventListener(t,o.unlock,!0)}))};o.Bb.map((function(t){document.addEventListener(t,o.unlock,!0)}))}window.h.Aa+=1;return 1},448414:()=>{"undefined"!==typeof window.h&&(--window.h.Aa,0===window.h.Aa&&delete window.h)},448578:()=>void 0!==navigator.mediaDevices&&void 0!==navigator.mediaDevices.getUserMedia,448682:()=>{try{var t=new(window.AudioContext||window.webkitAudioContext),n=t.sampleRate;t.close();return n}catch(t){return 0}},448853:(t,n,e,i,r,o)=>{if("undefined"===typeof window.h){return-1}var s={},a={};t==window.h.I.ya&&0!=e&&(a.sampleRate=e);s.J=new(window.AudioContext||window.webkitAudioContext)(a);s.J.suspend();s.state=window.h.ga.stopped;e=0;t!=window.h.I.ya&&(e=n);s.Z=s.J.createScriptProcessor(i,e,n);s.Z.onaudioprocess=function(e){if(null==s.sa||0==s.sa.length){s.sa=new Float32Array(M.buffer,r,i*n)}if(t==window.h.I.capture||t==window.h.I.La){for(var a=0;a<n;a+=1){for(var u=e.inputBuffer.getChannelData(a),h=s.sa,f=0;f<i;f+=1){h[f*n+a]=u[f]}}ze(o,i,r)}if(t==window.h.I.ya||t==window.h.I.La){for(Xe(o,i,r),a=0;a<e.outputBuffer.numberOfChannels;++a){for(u=e.outputBuffer.getChannelData(a),h=s.sa,f=0;f<i;f+=1){u[f]=h[f*n+a]}}}else{for(a=0;a<e.outputBuffer.numberOfChannels;++a){e.outputBuffer.getChannelData(a).fill(0)}}};t!=window.h.I.capture&&t!=window.h.I.La||navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then((function(t){s.Da=s.J.createMediaStreamSource(t);s.Da.connect(s.Z);s.Z.connect(s.J.destination)})).catch((function(t){console.log("Failed to get user media: "+t)}));t==window.h.I.ya&&s.Z.connect(s.J.destination);s.pb=o;return window.h.yc(s)},451730:t=>window.h.ra(t).J.sampleRate,451803:t=>{t=window.h.ra(t);void 0!==t.Z&&(t.Z.onaudioprocess=function(){},t.Z.disconnect(),t.Z=void 0);void 0!==t.Da&&(t.Da.disconnect(),t.Da=void 0);t.J.close();t.J=void 0;t.pb=void 0},452203:t=>{window.h.Cb(t)},452253:t=>{t=window.h.ra(t);t.J.resume();t.state=window.h.ga.xb},452392:t=>{t=window.h.ra(t);t.J.suspend();t.state=window.h.ga.stopped}},J=t=>{for(;0<t.length;){t.shift()(e)}},Q=(t,n)=>{for(var e=0,i=t.length-1;0<=i;i--){var r=t[i];"."===r?t.splice(i,1):".."===r?(t.splice(i,1),e++):e&&(t.splice(i,1),e--)}if(n){for(;e;e--){t.unshift("..")}}return t},Z=t=>{var n="/"===t.charAt(0),e="/"===t.substr(-1);(t=Q(t.split("/").filter((t=>!!t)),!n).join("/"))||n||(t=".");t&&e&&(t+="/");return(n?"/":"")+t},tt=t=>{var n=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(t).slice(1);t=n[0];n=n[1];if(!t&&!n){return"."}n&&(n=n.substr(0,n.length-1));return t+n},nt=t=>{if("/"===t){return"/"}t=Z(t);t=t.replace(/\/$/,"");var n=t.lastIndexOf("/");return-1===n?t:t.substr(n+1)},et=()=>{if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){return t=>crypto.getRandomValues(t)}U("initRandomDevice")},it=t=>(it=et())(t);function rt(){for(var t="",n=!1,e=arguments.length-1;-1<=e&&!n;e--){n=0<=e?arguments[e]:"/";if("string"!=typeof n){throw new TypeError("Arguments to path.resolve must be strings")}if(!n){return""}t=n+"/"+t;n="/"===n.charAt(0)}t=Q(t.split("/").filter((t=>!!t)),!n).join("/");return(n?"/":"")+t||"."}var ot="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0,st=(t,n,e)=>{var i=n+e;for(e=n;t[e]&&!(e>=i);){++e}if(16<e-n&&t.buffer&&ot){return ot.decode(t.subarray(n,e))}for(i="";n<e;){var r=t[n++];if(r&128){var o=t[n++]&63;if(192==(r&224)){i+=String.fromCharCode((r&31)<<6|o)}else{var s=t[n++]&63;r=224==(r&240)?(r&15)<<12|o<<6|s:(r&7)<<18|o<<12|s<<6|t[n++]&63;65536>r?i+=String.fromCharCode(r):(r-=65536,i+=String.fromCharCode(55296|r>>10,56320|r&1023))}}else{i+=String.fromCharCode(r)}}return i},at=[],ut=t=>{for(var n=0,e=0;e<t.length;++e){var i=t.charCodeAt(e);127>=i?n++:2047>=i?n+=2:55296<=i&&57343>=i?(n+=4,++e):n+=3}return n},ht=(t,n,e,i)=>{if(!(0<i)){return 0}var r=e;i=e+i-1;for(var o=0;o<t.length;++o){var s=t.charCodeAt(o);if(55296<=s&&57343>=s){var a=t.charCodeAt(++o);s=65536+((s&1023)<<10)|a&1023}if(127>=s){if(e>=i){break}n[e++]=s}else{if(2047>=s){if(e+1>=i){break}n[e++]=192|s>>6}else{if(65535>=s){if(e+2>=i){break}n[e++]=224|s>>12}else{if(e+3>=i){break}n[e++]=240|s>>18;n[e++]=128|s>>12&63}n[e++]=128|s>>6&63}n[e++]=128|s&63}}n[e]=0;return e-r};function ft(t,n){var e=Array(ut(t)+1);t=ht(t,e,0,e.length);n&&(e.length=t);return e}var ct=[];function dt(t,n){ct[t]={input:[],F:[],V:n};Rt(t,lt)}var lt={open:function(t){var n=ct[t.node.za];if(!n){throw new At(43)}t.s=n;t.seekable=!1},close:function(t){t.s.V.qa(t.s)},qa:function(t){t.s.V.qa(t.s)},read:function(t,n,e,i){if(!t.s||!t.s.V.ib){throw new At(60)}for(var r=0,o=0;o<i;o++){try{var s=t.s.V.ib(t.s)}catch(t){throw new At(29)}if(void 0===s&&0===r){throw new At(6)}if(null===s||void 0===s){break}r++;n[e+o]=s}r&&(t.node.timestamp=Date.now());return r},write:function(t,n,e,i){if(!t.s||!t.s.V.Oa){throw new At(60)}try{for(var r=0;r<i;r++){t.s.V.Oa(t.s,n[e+r])}}catch(t){throw new At(29)}i&&(t.node.timestamp=Date.now());return r}},vt={ib:function(){t:{if(!at.length){var t=null;"undefined"!=typeof window&&"function"==typeof window.prompt?(t=window.prompt("Input: "),null!==t&&(t+="\n")):"function"==typeof readline&&(t=readline(),null!==t&&(t+="\n"));if(!t){t=null;break t}at=ft(t,!0)}t=at.shift()}return t},Oa:function(t,n){null===n||10===n?(m(st(t.F,0)),t.F=[]):0!=n&&t.F.push(n)},qa:function(t){t.F&&0<t.F.length&&(m(st(t.F,0)),t.F=[])},bc:function(){return{Fc:25856,Hc:5,Ec:191,Gc:35387,Dc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},cc:function(){return 0},dc:function(){return[24,80]}},wt={Oa:function(t,n){null===n||10===n?(g(st(t.F,0)),t.F=[]):0!=n&&t.F.push(n)},qa:function(t){t.F&&0<t.F.length&&(g(st(t.F,0)),t.F=[])}};function pt(t,n){var e=t.j?t.j.length:0;e>=n||(n=Math.max(n,e*(1048576>e?2:1.125)>>>0),0!=e&&(n=Math.max(n,256)),e=t.j,t.j=new Uint8Array(n),0<t.v&&t.j.set(e.subarray(0,t.v),0))}var bt={O:null,U(){return bt.createNode(null,"/",16895,0)},createNode(t,n,e,i){if(24576===(e&61440)||4096===(e&61440)){throw new At(63)}bt.O||(bt.O={dir:{node:{Y:bt.l.Y,P:bt.l.P,ka:bt.l.ka,va:bt.l.va,ub:bt.l.ub,Ab:bt.l.Ab,vb:bt.l.vb,sb:bt.l.sb,Ea:bt.l.Ea},stream:{ba:bt.m.ba}},file:{node:{Y:bt.l.Y,P:bt.l.P},stream:{ba:bt.m.ba,read:bt.m.read,write:bt.m.write,pa:bt.m.pa,lb:bt.m.lb,nb:bt.m.nb}},link:{node:{Y:bt.l.Y,P:bt.l.P,ma:bt.l.ma},stream:{}},$a:{node:{Y:bt.l.Y,P:bt.l.P},stream:Wt}});e=Pt(t,n,e,i);16384===(e.mode&61440)?(e.l=bt.O.dir.node,e.m=bt.O.dir.stream,e.j={}):32768===(e.mode&61440)?(e.l=bt.O.file.node,e.m=bt.O.file.stream,e.v=0,e.j=null):40960===(e.mode&61440)?(e.l=bt.O.link.node,e.m=bt.O.link.stream):8192===(e.mode&61440)&&(e.l=bt.O.$a.node,e.m=bt.O.$a.stream);e.timestamp=Date.now();t&&(t.j[n]=e,t.timestamp=e.timestamp);return e},Kc(t){return t.j?t.j.subarray?t.j.subarray(0,t.v):new Uint8Array(t.j):new Uint8Array(0)},l:{Y(t){var n={};n.Jc=8192===(t.mode&61440)?t.id:1;n.Mc=t.id;n.mode=t.mode;n.Oc=1;n.uid=0;n.Lc=0;n.za=t.za;16384===(t.mode&61440)?n.size=4096:32768===(t.mode&61440)?n.size=t.v:40960===(t.mode&61440)?n.size=t.link.length:n.size=0;n.Bc=new Date(t.timestamp);n.Nc=new Date(t.timestamp);n.Ic=new Date(t.timestamp);n.Jb=4096;n.Cc=Math.ceil(n.size/n.Jb);return n},P(t,n){void 0!==n.mode&&(t.mode=n.mode);void 0!==n.timestamp&&(t.timestamp=n.timestamp);if(void 0!==n.size&&(n=n.size,t.v!=n)){if(0==n){t.j=null,t.v=0}else{var e=t.j;t.j=new Uint8Array(n);e&&t.j.set(e.subarray(0,Math.min(n,t.v)));t.v=n}}},ka(){throw jt[44]},va(t,n,e,i){return bt.createNode(t,n,e,i)},ub(t,n,e){if(16384===(t.mode&61440)){try{var i=Mt(n,e)}catch(t){}if(i){for(var r in i.j){throw new At(55)}}}delete t.parent.j[t.name];t.parent.timestamp=Date.now();t.name=e;n.j[e]=t;n.timestamp=t.parent.timestamp;t.parent=n},Ab(t,n){delete t.j[n];t.timestamp=Date.now()},vb(t,n){var e=Mt(t,n),i;for(i in e.j){throw new At(55)}delete t.j[n];t.timestamp=Date.now()},sb(t){var n=[".",".."],e;for(e in t.j){t.j.hasOwnProperty(e)&&n.push(e)}return n},Ea(t,n,e){t=bt.createNode(t,n,41471,0);t.link=e;return t},ma(t){if(40960!==(t.mode&61440)){throw new At(28)}return t.link}},m:{read(t,n,e,i,r){var o=t.node.j;if(r>=t.node.v){return 0}t=Math.min(t.node.v-r,i);if(8<t&&o.subarray){n.set(o.subarray(r,r+t),e)}else{for(i=0;i<t;i++){n[e+i]=o[r+i]}}return t},write(t,n,e,i,r,o){n.buffer===C.buffer&&(o=!1);if(!i){return 0}t=t.node;t.timestamp=Date.now();if(n.subarray&&(!t.j||t.j.subarray)){if(o){return t.j=n.subarray(e,e+i),t.v=i}if(0===t.v&&0===r){return t.j=n.slice(e,e+i),t.v=i}if(r+i<=t.v){return t.j.set(n.subarray(e,e+i),r),i}}pt(t,r+i);if(t.j.subarray&&n.subarray){t.j.set(n.subarray(e,e+i),r)}else{for(o=0;o<i;o++){t.j[r+o]=n[e+o]}}t.v=Math.max(t.v,r+i);return i},ba(t,n,e){1===e?n+=t.position:2===e&&32768===(t.node.mode&61440)&&(n+=t.node.v);if(0>n){throw new At(28)}return n},pa(t,n,e){pt(t.node,n+e);t.node.v=Math.max(t.node.v,n+e)},lb(t,n,e,i,r){if(32768!==(t.node.mode&61440)){throw new At(43)}t=t.node.j;if(r&2||t.buffer!==C.buffer){if(0<e||e+n<t.length){t.subarray?t=t.subarray(e,e+n):t=Array.prototype.slice.call(t,e,e+n)}e=!0;U();n=void 0;if(!n){throw new At(48)}C.set(t,n)}else{e=!1,n=t.byteOffset}return{o:n,M:e}},nb(t,n,e,i){bt.m.write(t,n,0,i,e,!1);return 0}}};function mt(t,n){var e=0;t&&(e|=365);n&&(e|=146);return e}var gt=null,yt={},xt=[],_t=1,kt=null,Ct=!0,At=null,jt={},Tt=(t,n={})=>{t=rt(t);if(!t){return{path:"",node:null}}n=Object.assign({gb:!0,Qa:0},n);if(8<n.Qa){throw new At(32)}t=t.split("/").filter((t=>!!t));for(var e=gt,i="/",r=0;r<t.length;r++){var o=r===t.length-1;if(o&&n.parent){break}e=Mt(e,t[r]);i=Z(i+"/"+t[r]);e.wa&&(!o||o&&n.gb)&&(e=e.wa.root);if(!o||n.fb){for(o=0;40960===(e.mode&61440);){if(e=Nt(i),i=rt(tt(i),e),e=Tt(i,{Qa:n.Qa+1}).node,40<o++){throw new At(32)}}}}return{path:i,node:e}},$t=t=>{for(var n;;){if(t===t.parent){return t=t.U.mb,n?"/"!==t[t.length-1]?`${t}/${n}`:t+n:t}n=n?`${t.name}/${n}`:t.name;t=t.parent}},Ot=(t,n)=>{for(var e=0,i=0;i<n.length;i++){e=(e<<5)-e+n.charCodeAt(i)|0}return(t+e>>>0)%kt.length},Mt=(t,n)=>{var e;if(e=(e=St(t,"x"))?e:t.l.ka?0:2){throw new At(e,t)}for(e=kt[Ot(t.id,n)];e;e=e.lc){var i=e.name;if(e.parent.id===t.id&&i===n){return e}}return t.l.ka(t,n)},Pt=(t,n,e,i)=>{t=new Ie(t,n,e,i);n=Ot(t.parent.id,t.name);t.lc=kt[n];return kt[n]=t},Et=t=>{var n=["r","w","rw"][t&3];t&512&&(n+="w");return n},St=(t,n)=>{if(Ct){return 0}if(!n.includes("r")||t.mode&292){if(n.includes("w")&&!(t.mode&146)||n.includes("x")&&!(t.mode&73)){return 2}}else{return 2}return 0},It=(t,n)=>{try{return Mt(t,n),20}catch(t){}return St(t,"wx")},Lt=()=>{for(var t=0;4096>=t;t++){if(!xt[t]){return t}}throw new At(33)},Dt=t=>{t=xt[t];if(!t){throw new At(8)}return t},Ft=(t,n=-1)=>{Qt||(Qt=function(){this.h={}},Qt.prototype={},Object.defineProperties(Qt.prototype,{object:{get(){return this.node},set(t){this.node=t}},flags:{get(){return this.h.flags},set(t){this.h.flags=t}},position:{get(){return this.h.position},set(t){this.h.position=t}}}));t=Object.assign(new Qt,t);-1==n&&(n=Lt());t.X=n;return xt[n]=t},Wt={open:t=>{t.m=yt[t.node.za].m;t.m.open&&t.m.open(t)},ba:()=>{throw new At(70)}},Rt=(t,n)=>{yt[t]={m:n}},Ut=(t,n)=>{var e="/"===n,i=!n;if(e&&gt){throw new At(10)}if(!e&&!i){var r=Tt(n,{gb:!1});n=r.path;r=r.node;if(r.wa){throw new At(10)}if(16384!==(r.mode&61440)){throw new At(54)}}n={type:t,Qc:{},mb:n,kc:[]};t=t.U(n);t.U=n;n.root=t;e?gt=t:r&&(r.wa=n,r.U&&r.U.kc.push(n))},zt=(t,n,e)=>{var i=Tt(t,{parent:!0}).node;t=nt(t);if(!t||"."===t||".."===t){throw new At(28)}var r=It(i,t);if(r){throw new At(r)}if(!i.l.va){throw new At(63)}return i.l.va(i,t,n,e)},Xt=(t,n,e)=>{"undefined"==typeof e&&(e=n,n=438);zt(t,n|8192,e)},Yt=(t,n)=>{if(!rt(t)){throw new At(44)}var e=Tt(n,{parent:!0}).node;if(!e){throw new At(44)}n=nt(n);var i=It(e,n);if(i){throw new At(i)}if(!e.l.Ea){throw new At(63)}e.l.Ea(e,n,t)},Nt=t=>{t=Tt(t).node;if(!t){throw new At(44)}if(!t.l.ma){throw new At(28)}return rt($t(t.parent),t.l.ma(t))},Gt=(t,n,i)=>{if(""===t){throw new At(44)}if("string"==typeof n){var r={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[n];if("undefined"==typeof r){throw Error(`Unknown file open mode: ${n}`)}n=r}i=n&64?("undefined"==typeof i?438:i)&4095|32768:0;if("object"==typeof t){var o=t}else{t=Z(t);try{o=Tt(t,{fb:!(n&131072)}).node}catch(t){}}r=!1;if(n&64){if(o){if(n&128){throw new At(20)}}else{o=zt(t,i,0),r=!0}}if(!o){throw new At(44)}8192===(o.mode&61440)&&(n&=-513);if(n&65536&&16384!==(o.mode&61440)){throw new At(54)}if(!r&&(i=o?40960===(o.mode&61440)?32:16384===(o.mode&61440)&&("r"!==Et(n)||n&512)?31:St(o,Et(n)):44)){throw new At(i)}if(n&512&&!r){i=o;i="string"==typeof i?Tt(i,{fb:!0}).node:i;if(!i.l.P){throw new At(63)}if(16384===(i.mode&61440)){throw new At(31)}if(32768!==(i.mode&61440)){throw new At(28)}if(r=St(i,"w")){throw new At(r)}i.l.P(i,{size:0,timestamp:Date.now()})}n&=-131713;o=Ft({node:o,path:$t(o),flags:n,seekable:!0,position:0,m:o.m,zc:[],error:!1});o.m.open&&o.m.open(o);!e.logReadFiles||n&1||(Zt||(Zt={}),t in Zt||(Zt[t]=1));return o},Bt=(t,n,e)=>{if(null===t.X){throw new At(8)}if(!t.seekable||!t.m.ba){throw new At(70)}if(0!=e&&1!=e&&2!=e){throw new At(28)}t.position=t.m.ba(t,n,e);t.zc=[]},Ht=()=>{At||(At=function(t,n){this.name="ErrnoError";this.node=n;this.pc=function(t){this.aa=t};this.pc(t);this.message="FS error"},At.prototype=Error(),At.prototype.constructor=At,[44].forEach((t=>{jt[t]=new At(t);jt[t].stack="<generic error, no stack>"})))},Vt,qt=(t,n,e)=>{t=Z("/dev/"+t);var i=mt(!!n,!!e);Kt||(Kt=64);var r=Kt++<<8|0;Rt(r,{open:t=>{t.seekable=!1},close:()=>{e&&e.buffer&&e.buffer.length&&e(10)},read:(t,e,i,r)=>{for(var o=0,s=0;s<r;s++){try{var a=n()}catch(t){throw new At(29)}if(void 0===a&&0===o){throw new At(6)}if(null===a||void 0===a){break}o++;e[i+s]=a}o&&(t.node.timestamp=Date.now());return o},write:(t,n,i,r)=>{for(var o=0;o<r;o++){try{e(n[i+o])}catch(t){throw new At(29)}}r&&(t.node.timestamp=Date.now());return o}});Xt(t,i,r)},Kt,Jt={},Qt,Zt,tn=void 0;function nn(){tn+=4;return $[tn-4>>2]}function en(t){if(void 0===t){return"_unknown"}t=t.replace(/[^a-zA-Z0-9_]/g,"$");var n=t.charCodeAt(0);return 48<=n&&57>=n?`_${t}`:t}function rn(t,n){t=en(t);return{[t]:function(){return n.apply(this,arguments)}}[t]}function on(){this.M=[void 0];this.hb=[]}var sn=new on,an=void 0;function un(t){throw new an(t)}var hn=t=>{t||un("Cannot use deleted val. handle = "+t);return sn.get(t).value},fn=t=>{switch(t){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return sn.pa({tb:1,value:t})}};function cn(t){var n=Error,e=rn(t,(function(n){this.name=t;this.message=n;n=Error(n).stack;void 0!==n&&(this.stack=this.toString()+"\n"+n.replace(/^Error(:[^\n]*)?\n/,""))}));e.prototype=Object.create(n.prototype);e.prototype.constructor=e;e.prototype.toString=function(){return void 0===this.message?this.name:`${this.name}: ${this.message}`};return e}var dn=void 0,ln=void 0;function vn(t){for(var n="";A[t];){n+=ln[A[t++]]}return n}var wn=[];function pn(){for(;wn.length;){var t=wn.pop();t.g.fa=!1;t["delete"]()}}var bn=void 0,mn={};function gn(t,n){for(void 0===n&&un("ptr should not be undefined");t.A;){n=t.na(n),t=t.A}return n}var yn={};function xn(t){t=Ne(t);var n=vn(t);We(t);return n}function _n(t,n){var e=yn[t];void 0===e&&un(n+" has unknown type "+xn(t));return e}function kn(){}var Cn=!1;function An(t){--t.count.value;0===t.count.value&&(t.G?t.L.W(t.G):t.u.i.W(t.o))}function jn(t,n,e){if(n===e){return t}if(void 0===e.A){return null}t=jn(t,n,e.A);return null===t?null:e.Pb(t)}var Tn={};function $n(t,n){n=gn(t,n);return mn[n]}var On=void 0;function Mn(t){throw new On(t)}function Pn(t,n){n.u&&n.o||Mn("makeClassHandle requires ptr and ptrType");!!n.L!==!!n.G&&Mn("Both smartPtrType and smartPtr must be specified");n.count={value:1};return En(Object.create(t,{g:{value:n}}))}function En(t){if("undefined"===typeof FinalizationRegistry){return En=t=>t,t}Cn=new FinalizationRegistry((t=>{An(t.g)}));En=t=>{var n=t.g;n.G&&Cn.register(t,{g:n},t);return t};kn=t=>{Cn.unregister(t)};return En(t)}var Sn={};function In(t){for(;t.length;){var n=t.pop();t.pop()(n)}}function Ln(t){return this.fromWireType($[t>>2])}var Dn={},Fn={};function Wn(t,n,e){function i(n){n=e(n);n.length!==t.length&&Mn("Mismatched type converter count");for(var i=0;i<t.length;++i){zn(t[i],n[i])}}t.forEach((function(t){Fn[t]=n}));var r=Array(n.length),o=[],s=0;n.forEach(((t,n)=>{yn.hasOwnProperty(t)?r[n]=yn[t]:(o.push(t),Dn.hasOwnProperty(t)||(Dn[t]=[]),Dn[t].push((()=>{r[n]=yn[t];++s;s===o.length&&i(r)})))}));0===o.length&&i(r)}function Rn(t){switch(t){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError(`Unknown type size: ${t}`)}}function Un(t,n,e={}){var i=n.name;t||un(`type "${i}" must have a positive integer typeid pointer`);if(yn.hasOwnProperty(t)){if(e.$b){return}un(`Cannot register type '${i}' twice`)}yn[t]=n;delete Fn[t];Dn.hasOwnProperty(t)&&(n=Dn[t],delete Dn[t],n.forEach((t=>t())))}function zn(t,n,e={}){if(!("argPackAdvance"in n)){throw new TypeError("registerType registeredInstance requires argPackAdvance")}Un(t,n,e)}function Xn(t){un(t.g.u.i.name+" instance already deleted")}function Yn(){}function Nn(t,n,e){if(void 0===t[n].B){var i=t[n];t[n]=function(){t[n].B.hasOwnProperty(arguments.length)||un(`Function '${e}' called with an invalid number of arguments (${arguments.length}) - expects one of (${t[n].B})!`);return t[n].B[arguments.length].apply(this,arguments)};t[n].B=[];t[n].B[i.ea]=i}}function Gn(t,n,i){e.hasOwnProperty(t)?((void 0===i||void 0!==e[t].B&&void 0!==e[t].B[i])&&un(`Cannot register public name '${t}' twice`),Nn(e,t,t),e.hasOwnProperty(i)&&un(`Cannot register multiple overloads of a function with the same number of arguments (${i})!`),e[t].B[i]=n):(e[t]=n,void 0!==i&&(e[t].Pc=i))}function Bn(t,n,e,i,r,o,s,a){this.name=t;this.constructor=n;this.N=e;this.W=i;this.A=r;this.Ub=o;this.na=s;this.Pb=a;this.qb=[]}function Hn(t,n,e){for(;n!==e;){n.na||un(`Expected null or instance of ${e.name}, got an instance of ${n.name}`),t=n.na(t),n=n.A}return t}function Vn(t,n){if(null===n){return this.Na&&un(`null is not a valid ${this.name}`),0}n.g||un(`Cannot pass "${fe(n)}" as a ${this.name}`);n.g.o||un(`Cannot pass deleted object as a pointer of type ${this.name}`);return Hn(n.g.o,n.g.u.i,this.i)}function qn(t,n){if(null===n){this.Na&&un(`null is not a valid ${this.name}`);if(this.ua){var e=this.Pa();null!==t&&t.push(this.W,e);return e}return 0}n.g||un(`Cannot pass "${fe(n)}" as a ${this.name}`);n.g.o||un(`Cannot pass deleted object as a pointer of type ${this.name}`);!this.ta&&n.g.u.ta&&un(`Cannot convert argument of type ${n.g.L?n.g.L.name:n.g.u.name} to parameter type ${this.name}`);e=Hn(n.g.o,n.g.u.i,this.i);if(this.ua){switch(void 0===n.g.G&&un("Passing raw pointer to smart pointer is illegal"),this.tc){case 0:n.g.L===this?e=n.g.G:un(`Cannot convert argument of type ${n.g.L?n.g.L.name:n.g.u.name} to parameter type ${this.name}`);break;case 1:e=n.g.G;break;case 2:if(n.g.L===this){e=n.g.G}else{var i=n.clone();e=this.oc(e,fn((function(){i["delete"]()})));null!==t&&t.push(this.W,e)}break;default:un("Unsupporting sharing policy")}}return e}function Kn(t,n){if(null===n){return this.Na&&un(`null is not a valid ${this.name}`),0}n.g||un(`Cannot pass "${fe(n)}" as a ${this.name}`);n.g.o||un(`Cannot pass deleted object as a pointer of type ${this.name}`);n.g.u.ta&&un(`Cannot convert argument of type ${n.g.u.name} to parameter type ${this.name}`);return Hn(n.g.o,n.g.u.i,this.i)}function Jn(t,n,e,i){this.name=t;this.i=n;this.Na=e;this.ta=i;this.ua=!1;this.W=this.oc=this.Pa=this.rb=this.tc=this.nc=void 0;void 0!==n.A?this.toWireType=qn:(this.toWireType=i?Vn:Kn,this.K=null)}function Qn(t,n,i){e.hasOwnProperty(t)||Mn("Replacing nonexistant public symbol");void 0!==e[t].B&&void 0!==i?e[t].B[i]=n:(e[t]=n,e[t].ea=i)}var Zn=[],te=t=>{var n=Zn[t];n||(t>=Zn.length&&(Zn.length=t+1),Zn[t]=n=S.get(t));return n},ne=(t,n)=>{var i=[];return function(){i.length=0;Object.assign(i,arguments);if(t.includes("j")){var r=e["dynCall_"+t];r=i&&i.length?r.apply(null,[n].concat(i)):r.call(null,n)}else{r=te(n).apply(null,i)}return r}};function ee(t,n){t=vn(t);var e=t.includes("j")?ne(t,n):te(n);"function"!=typeof e&&un(`unknown function pointer with signature ${t}: ${n}`);return e}var ie=void 0;function re(t,n){function e(t){r[t]||yn[t]||(Fn[t]?Fn[t].forEach(e):(i.push(t),r[t]=!0))}var i=[],r={};n.forEach(e);throw new ie(`${t}: `+i.map(xn).join([", "]))}function oe(t,n,e,i,r){var o=n.length;2>o&&un("argTypes array size mismatch! Must at least get return value and 'this' types!");var s=null!==n[1]&&null!==e,a=!1;for(e=1;e<n.length;++e){if(null!==n[e]&&void 0===n[e].K){a=!0;break}}var u="void"!==n[0].name,h=o-2,f=Array(h),c=[],d=[];return function(){arguments.length!==h&&un(`function ${t} called with ${arguments.length} arguments, expected ${h} args!`);d.length=0;c.length=s?2:1;c[0]=r;if(s){var e=n[1].toWireType(d,this);c[1]=e}for(var o=0;o<h;++o){f[o]=n[o+2].toWireType(d,arguments[o]),c.push(f[o])}o=i.apply(null,c);if(a){In(d)}else{for(var l=s?1:2;l<n.length;l++){var v=1===l?e:f[l-2];null!==n[l].K&&n[l].K(v)}}e=u?n[0].fromWireType(o):void 0;return e}}function se(t,n){for(var e=[],i=0;i<t;i++){e.push(O[n+4*i>>2])}return e}function ae(t,n,e){t instanceof Object||un(`${e} with invalid "this": ${t}`);t instanceof n.i.constructor||un(`${e} incompatible with "this" of type ${t.constructor.name}`);t.g.o||un(`cannot call emscripten binding method ${e} on deleted object`);return Hn(t.g.o,t.g.u.i,n.i)}function ue(t){t>=sn.h&&0===--sn.get(t).tb&&sn.Zb(t)}function he(t,n,e){switch(n){case 0:return function(t){return this.fromWireType((e?C:A)[t])};case 1:return function(t){return this.fromWireType((e?j:T)[t>>1])};case 2:return function(t){return this.fromWireType((e?$:O)[t>>2])};default:throw new TypeError("Unknown integer type: "+t)}}function fe(t){if(null===t){return"null"}var n=typeof t;return"object"===n||"array"===n||"function"===n?t.toString():""+t}function ce(t,n){switch(n){case 2:return function(t){return this.fromWireType(M[t>>2])};case 3:return function(t){return this.fromWireType(P[t>>3])};default:throw new TypeError("Unknown float type: "+t)}}function de(t,n,e){switch(n){case 0:return e?function(t){return C[t]}:function(t){return A[t]};case 1:return e?function(t){return j[t>>1]}:function(t){return T[t>>1]};case 2:return e?function(t){return $[t>>2]}:function(t){return O[t>>2]};default:throw new TypeError("Unknown integer type: "+t)}}var le="undefined"!=typeof TextDecoder?new TextDecoder("utf-16le"):void 0,ve=(t,n)=>{var e=t>>1;for(var i=e+n/2;!(e>=i)&&T[e];){++e}e<<=1;if(32<e-t&&le){return le.decode(A.subarray(t,e))}e="";for(i=0;!(i>=n/2);++i){var r=j[t+2*i>>1];if(0==r){break}e+=String.fromCharCode(r)}return e},we=(t,n,e)=>{void 0===e&&(e=2147483647);if(2>e){return 0}e-=2;var i=n;e=e<2*t.length?e/2:t.length;for(var r=0;r<e;++r){j[n>>1]=t.charCodeAt(r),n+=2}j[n>>1]=0;return n-i},pe=t=>2*t.length,be=(t,n)=>{for(var e=0,i="";!(e>=n/4);){var r=$[t+4*e>>2];if(0==r){break}++e;65536<=r?(r-=65536,i+=String.fromCharCode(55296|r>>10,56320|r&1023)):i+=String.fromCharCode(r)}return i},me=(t,n,e)=>{void 0===e&&(e=2147483647);if(4>e){return 0}var i=n;e=i+e-4;for(var r=0;r<t.length;++r){var o=t.charCodeAt(r);if(55296<=o&&57343>=o){var s=t.charCodeAt(++r);o=65536+((o&1023)<<10)|s&1023}$[n>>2]=o;n+=4;if(n+4>e){break}}$[n>>2]=0;return n-i},ge=t=>{for(var n=0,e=0;e<t.length;++e){var i=t.charCodeAt(e);55296<=i&&57343>=i&&++e;n+=4}return n},ye={};function xe(t){var n=ye[t];return void 0===n?vn(t):n}var _e=[];function ke(t){var n=_e.length;_e.push(t);return n}function Ce(t,n){for(var e=Array(t),i=0;i<t;++i){e[i]=_n(O[n+4*i>>2],"parameter "+i)}return e}var Ae=[],je=[],Te={},$e=()=>{if(!Oe){var t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:d||"./this.program"},n;for(n in Te){void 0===Te[n]?delete t[n]:t[n]=Te[n]}var e=[];for(n in t){e.push(`${n}=${t[n]}`)}Oe=e}return Oe},Oe,Me=t=>0===t%4&&(0!==t%100||0===t%400),Pe=[31,29,31,30,31,30,31,31,30,31,30,31],Ee=[31,28,31,30,31,30,31,31,30,31,30,31],Se=(t,n,e,i)=>{function r(t,n,e){for(t="number"==typeof t?t.toString():t||"";t.length<n;){t=e[0]+t}return t}function o(t,n){return r(t,n,"0")}function s(t,n){function e(t){return 0>t?-1:0<t?1:0}var i;0===(i=e(t.getFullYear()-n.getFullYear()))&&0===(i=e(t.getMonth()-n.getMonth()))&&(i=e(t.getDate()-n.getDate()));return i}function a(t){switch(t.getDay()){case 0:return new Date(t.getFullYear()-1,11,29);case 1:return t;case 2:return new Date(t.getFullYear(),0,3);case 3:return new Date(t.getFullYear(),0,2);case 4:return new Date(t.getFullYear(),0,1);case 5:return new Date(t.getFullYear()-1,11,31);case 6:return new Date(t.getFullYear()-1,11,30)}}function u(t){var n=t.ca;for(t=new Date(new Date(t.da+1900,0,1).getTime());0<n;){var e=t.getMonth(),i=(Me(t.getFullYear())?Pe:Ee)[e];if(n>i-t.getDate()){n-=i-t.getDate()+1,t.setDate(1),11>e?t.setMonth(e+1):(t.setMonth(0),t.setFullYear(t.getFullYear()+1))}else{t.setDate(t.getDate()+n);break}}e=new Date(t.getFullYear()+1,0,4);n=a(new Date(t.getFullYear(),0,4));e=a(e);return 0>=s(n,t)?0>=s(e,t)?t.getFullYear()+1:t.getFullYear():t.getFullYear()-1}var h=$[i+40>>2];i={wc:$[i>>2],vc:$[i+4>>2],Fa:$[i+8>>2],Sa:$[i+12>>2],Ga:$[i+16>>2],da:$[i+20>>2],R:$[i+24>>2],ca:$[i+28>>2],Rc:$[i+32>>2],uc:$[i+36>>2],xc:h?h?st(A,h):"":""};e=e?st(A,e):"";h={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var f in h){e=e.replace(new RegExp(f,"g"),h[f])}var c="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),d="January February March April May June July August September October November December".split(" ");h={"%a":t=>c[t.R].substring(0,3),"%A":t=>c[t.R],"%b":t=>d[t.Ga].substring(0,3),"%B":t=>d[t.Ga],"%C":t=>o((t.da+1900)/100|0,2),"%d":t=>o(t.Sa,2),"%e":t=>r(t.Sa,2," "),"%g":t=>u(t).toString().substring(2),"%G":t=>u(t),"%H":t=>o(t.Fa,2),"%I":t=>{t=t.Fa;0==t?t=12:12<t&&(t-=12);return o(t,2)},"%j":t=>{for(var n=0,e=0;e<=t.Ga-1;n+=(Me(t.da+1900)?Pe:Ee)[e++]){}return o(t.Sa+n,3)},"%m":t=>o(t.Ga+1,2),"%M":t=>o(t.vc,2),"%n":()=>"\n","%p":t=>0<=t.Fa&&12>t.Fa?"AM":"PM","%S":t=>o(t.wc,2),"%t":()=>"\t","%u":t=>t.R||7,"%U":t=>o(Math.floor((t.ca+7-t.R)/7),2),"%V":t=>{var n=Math.floor((t.ca+7-(t.R+6)%7)/7);2>=(t.R+371-t.ca-2)%7&&n++;if(n){53==n&&(e=(t.R+371-t.ca)%7,4==e||3==e&&Me(t.da)||(n=1))}else{n=52;var e=(t.R+7-t.ca-1)%7;(4==e||5==e&&Me(t.da%400-1))&&n++}return o(n,2)},"%w":t=>t.R,"%W":t=>o(Math.floor((t.ca+7-(t.R+6)%7)/7),2),"%y":t=>(t.da+1900).toString().substring(2),"%Y":t=>t.da+1900,"%z":t=>{t=t.uc;var n=0<=t;t=Math.abs(t)/60;return(n?"+":"-")+String("0000"+(t/60*100+t%60)).slice(-4)},"%Z":t=>t.xc,"%%":()=>"%"};e=e.replace(/%%/g,"\0\0");for(f in h){e.includes(f)&&(e=e.replace(new RegExp(f,"g"),h[f](i)))}e=e.replace(/\0\0/g,"%");f=ft(e,!1);if(f.length>n){return 0}C.set(f,t);return f.length-1};function Ie(t,n,e,i){t||(t=this);this.parent=t;this.U=t.U;this.wa=null;this.id=_t++;this.name=n;this.mode=e;this.l={};this.m={};this.za=i}Object.defineProperties(Ie.prototype,{read:{get:function(){return 365===(this.mode&365)},set:function(t){t?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146===(this.mode&146)},set:function(t){t?this.mode|=146:this.mode&=-147}}});Ht();kt=Array(4096);Ut(bt,"/");zt("/tmp",16895,0);zt("/home",16895,0);zt("/home/web_user",16895,0);(()=>{zt("/dev",16895,0);Rt(259,{read:()=>0,write:(t,n,e,i)=>i});Xt("/dev/null",259);dt(1280,vt);dt(1536,wt);Xt("/dev/tty",1280);Xt("/dev/tty1",1536);var t=new Uint8Array(1024),n=0,e=()=>{0===n&&(n=it(t).byteLength);return t[--n]};qt("random",e);qt("urandom",e);zt("/dev/shm",16895,0);zt("/dev/shm/tmp",16895,0)})();(()=>{zt("/proc",16895,0);var t=zt("/proc/self",16895,0);zt("/proc/self/fd",16895,0);Ut({U:()=>{var n=Pt(t,"fd",16895,73);n.l={ka:(t,n)=>{var e=Dt(+n);t={parent:null,U:{mb:"fake"},l:{ma:()=>e.path}};return t.parent=t}};return n}},"/proc/self/fd")})();Object.assign(on.prototype,{get(t){return this.M[t]},has(t){return void 0!==this.M[t]},pa(t){var n=this.hb.pop()||this.M.length;this.M[n]=t;return n},Zb(t){this.M[t]=void 0;this.hb.push(t)}});an=e.BindingError=class extends Error{constructor(t){super(t);this.name="BindingError"}};sn.M.push({value:void 0},{value:null},{value:!0},{value:!1});sn.h=sn.M.length;e.count_emval_handles=function(){for(var t=0,n=sn.h;n<sn.M.length;++n){void 0!==sn.M[n]&&++t}return t};dn=e.PureVirtualError=cn("PureVirtualError");for(var Le=Array(256),De=0;256>De;++De){Le[De]=String.fromCharCode(De)}ln=Le;e.getInheritedInstanceCount=function(){return Object.keys(mn).length};e.getLiveInheritedInstances=function(){var t=[],n;for(n in mn){mn.hasOwnProperty(n)&&t.push(mn[n])}return t};e.flushPendingDeletes=pn;e.setDelayFunction=function(t){bn=t;wn.length&&bn&&bn(pn)};On=e.InternalError=class extends Error{constructor(t){super(t);this.name="InternalError"}};Yn.prototype.isAliasOf=function(t){if(!(this instanceof Yn&&t instanceof Yn)){return!1}var n=this.g.u.i,e=this.g.o,i=t.g.u.i;for(t=t.g.o;n.A;){e=n.na(e),n=n.A}for(;i.A;){t=i.na(t),i=i.A}return n===i&&e===t};Yn.prototype.clone=function(){this.g.o||Xn(this);if(this.g.ia){return this.g.count.value+=1,this}var t=En,n=Object,e=n.create,i=Object.getPrototypeOf(this),r=this.g;t=t(e.call(n,i,{g:{value:{count:r.count,fa:r.fa,ia:r.ia,o:r.o,u:r.u,G:r.G,L:r.L}}}));t.g.count.value+=1;t.g.fa=!1;return t};Yn.prototype["delete"]=function(){this.g.o||Xn(this);this.g.fa&&!this.g.ia&&un("Object already scheduled for deletion");kn(this);An(this.g);this.g.ia||(this.g.G=void 0,this.g.o=void 0)};Yn.prototype.isDeleted=function(){return!this.g.o};Yn.prototype.deleteLater=function(){this.g.o||Xn(this);this.g.fa&&!this.g.ia&&un("Object already scheduled for deletion");wn.push(this);1===wn.length&&bn&&bn(pn);this.g.fa=!0;return this};Jn.prototype.Vb=function(t){this.rb&&(t=this.rb(t));return t};Jn.prototype.ab=function(t){this.W&&this.W(t)};Jn.prototype.argPackAdvance=8;Jn.prototype.readValueFromPointer=Ln;Jn.prototype.deleteObject=function(t){if(null!==t){t["delete"]()}};Jn.prototype.fromWireType=function(t){function n(){return this.ua?Pn(this.i.N,{u:this.nc,o:e,L:this,G:t}):Pn(this.i.N,{u:this,o:t})}var e=this.Vb(t);if(!e){return this.ab(t),null}var i=$n(this.i,e);if(void 0!==i){if(0===i.g.count.value){return i.g.o=e,i.g.G=t,i.clone()}i=i.clone();this.ab(t);return i}i=this.i.Ub(e);i=Tn[i];if(!i){return n.call(this)}i=this.ta?i.Kb:i.pointerType;var r=jn(e,this.i,i.i);return null===r?n.call(this):this.ua?Pn(i.i.N,{u:i,o:r,L:this,G:t}):Pn(i.i.N,{u:i,o:r})};ie=e.UnboundTypeError=cn("UnboundTypeError");var Fe={__syscall_fcntl64:function(t,n,e){tn=e;try{var i=Dt(t);switch(n){case 0:var r=nn();return 0>r?-28:Ft(i,r).X;case 1:case 2:return 0;case 3:return i.flags;case 4:return r=nn(),i.flags|=r,0;case 5:return r=nn(),j[r+0>>1]=2,0;case 6:case 7:return 0;case 16:case 8:return-28;case 9:return $[Ye()>>2]=28,-1;default:return-28}}catch(t){if("undefined"==typeof Jt||"ErrnoError"!==t.name){throw t}return-t.aa}},__syscall_ioctl:function(t,n,e){tn=e;try{var i=Dt(t);switch(n){case 21509:return i.s?0:-59;case 21505:if(!i.s){return-59}if(i.s.V.bc){n=[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];var r=nn();$[r>>2]=25856;$[r+4>>2]=5;$[r+8>>2]=191;$[r+12>>2]=35387;for(var o=0;32>o;o++){C[r+o+17>>0]=n[o]||0}}return 0;case 21510:case 21511:case 21512:return i.s?0:-59;case 21506:case 21507:case 21508:if(!i.s){return-59}if(i.s.V.cc){for(r=nn(),n=[],o=0;32>o;o++){n.push(C[r+o+17>>0])}}return 0;case 21519:if(!i.s){return-59}r=nn();return $[r>>2]=0;case 21520:return i.s?-28:-59;case 21531:r=nn();if(!i.m.ac){throw new At(59)}return i.m.ac(i,n,r);case 21523:if(!i.s){return-59}i.s.V.dc&&(o=[24,80],r=nn(),j[r>>1]=o[0],j[r+2>>1]=o[1]);return 0;case 21524:return i.s?0:-59;case 21515:return i.s?0:-59;default:return-28}}catch(t){if("undefined"==typeof Jt||"ErrnoError"!==t.name){throw t}return-t.aa}},__syscall_openat:function(t,n,e,i){tn=i;try{n=n?st(A,n):"";var r=n;if("/"===r.charAt(0)){n=r}else{var o=-100===t?"/":Dt(t).path;if(0==r.length){throw new At(44)}n=Z(o+"/"+r)}var s=i?nn():0;return Gt(n,e,s).X}catch(t){if("undefined"==typeof Jt||"ErrnoError"!==t.name){throw t}return-t.aa}},_embind_create_inheriting_constructor:function(t,n,e){t=vn(t);n=_n(n,"wrapper");e=hn(e);var i=[].slice,r=n.i,o=r.N,s=r.A.N,a=r.A.constructor;t=rn(t,(function(){r.A.qb.forEach(function(t){if(this[t]===s[t]){throw new dn(`Pure virtual function ${t} must be implemented in JavaScript`)}}.bind(this));Object.defineProperty(this,"__parent",{value:o});this.__construct.apply(this,i.call(arguments))}));o.__construct=function(){this===o&&un("Pass correct 'this' to __construct");var t=a.implement.apply(void 0,[this].concat(i.call(arguments)));kn(t);var n=t.g;t.notifyOnDestruction();n.ia=!0;Object.defineProperties(this,{g:{value:n}});En(this);t=n.o;t=gn(r,t);mn.hasOwnProperty(t)?un(`Tried to register registered instance: ${t}`):mn[t]=this};o.__destruct=function(){this===o&&un("Pass correct 'this' to __destruct");kn(this);var t=this.g.o;t=gn(r,t);mn.hasOwnProperty(t)?delete mn[t]:un(`Tried to unregister unregistered instance: ${t}`)};t.prototype=Object.create(o);for(var u in e){t.prototype[u]=e[u]}return fn(t)},_embind_finalize_value_object:function(t){var n=Sn[t];delete Sn[t];var e=n.Pa,i=n.W,r=n.eb,o=r.map((t=>t.Yb)).concat(r.map((t=>t.rc)));Wn([t],o,(t=>{var o={};r.forEach(((n,e)=>{var i=t[e],s=n.Wb,a=n.Xb,u=t[e+r.length],h=n.qc,f=n.sc;o[n.Sb]={read:t=>i.fromWireType(s(a,t)),write:(t,n)=>{var e=[];h(f,t,u.toWireType(e,n));In(e)}}}));return[{name:n.name,fromWireType:function(t){var n={},e;for(e in o){n[e]=o[e].read(t)}i(t);return n},toWireType:function(t,n){for(var r in o){if(!(r in n)){throw new TypeError(`Missing field: "${r}"`)}}var s=e();for(r in o){o[r].write(s,n[r])}null!==t&&t.push(i,s);return s},argPackAdvance:8,readValueFromPointer:Ln,K:i}]}))},_embind_register_bigint:function(){},_embind_register_bool:function(t,n,e,i,r){var o=Rn(e);n=vn(n);zn(t,{name:n,fromWireType:function(t){return!!t},toWireType:function(t,n){return n?i:r},argPackAdvance:8,readValueFromPointer:function(t){if(1===e){var i=C}else if(2===e){i=j}else if(4===e){i=$}else{throw new TypeError("Unknown boolean type size: "+n)}return this.fromWireType(i[t>>o])},K:null})},_embind_register_class:function(t,n,e,i,r,o,s,a,u,h,f,c,d){f=vn(f);o=ee(r,o);a&&(a=ee(s,a));h&&(h=ee(u,h));d=ee(c,d);var l=en(f);Gn(l,(function(){re(`Cannot construct ${f} due to unbound types`,[i])}));Wn([t,n,e],i?[i]:[],(function(n){n=n[0];if(i){var e=n.i;var r=e.N}else{r=Yn.prototype}n=rn(l,(function(){if(Object.getPrototypeOf(this)!==s){throw new an("Use 'new' to construct "+f)}if(void 0===u.$){throw new an(f+" has no accessible constructor")}var t=u.$[arguments.length];if(void 0===t){throw new an(`Tried to invoke ctor of ${f} with invalid number of parameters (${arguments.length}) - expected (${Object.keys(u.$).toString()}) parameters instead!`)}return t.apply(this,arguments)}));var s=Object.create(r,{constructor:{value:n}});n.prototype=s;var u=new Bn(f,n,s,d,e,o,a,h);u.A&&(void 0===u.A.oa&&(u.A.oa=[]),u.A.oa.push(u));e=new Jn(f,u,!0,!1);r=new Jn(f+"*",u,!1,!1);var c=new Jn(f+" const*",u,!1,!0);Tn[t]={pointerType:r,Kb:c};Qn(l,n);return[e,r,c]}))},_embind_register_class_class_function:function(t,n,e,i,r,o,s){var a=se(e,i);n=vn(n);o=ee(r,o);Wn([],[t],(function(t){function i(){re(`Cannot call ${r} due to unbound types`,a)}t=t[0];var r=`${t.name}.${n}`;n.startsWith("@@")&&(n=Symbol[n.substring(2)]);var u=t.i.constructor;void 0===u[n]?(i.ea=e-1,u[n]=i):(Nn(u,n,r),u[n].B[e-1]=i);Wn([],a,(function(i){i=oe(r,[i[0],null].concat(i.slice(1)),null,o,s);void 0===u[n].B?(i.ea=e-1,u[n]=i):u[n].B[e-1]=i;if(t.i.oa){for(const e of t.i.oa){e.constructor.hasOwnProperty(n)||(e.constructor[n]=i)}}return[]}));return[]}))},_embind_register_class_class_property:function(t,n,e,i,r,o,s,a){n=vn(n);o=ee(r,o);Wn([],[t],(function(t){t=t[0];var r=`${t.name}.${n}`,u={get(){re(`Cannot access ${r} due to unbound types`,[e])},enumerable:!0,configurable:!0};u.set=a?()=>{re(`Cannot access ${r} due to unbound types`,[e])}:()=>{un(`${r} is a read-only property`)};Object.defineProperty(t.i.constructor,n,u);Wn([],[e],(function(e){e=e[0];var r={get(){return e.fromWireType(o(i))},enumerable:!0};a&&(a=ee(s,a),r.set=t=>{var n=[];a(i,e.toWireType(n,t));In(n)});Object.defineProperty(t.i.constructor,n,r);return[]}));return[]}))},_embind_register_class_constructor:function(t,n,e,i,r,o){var s=se(n,e);r=ee(i,r);Wn([],[t],(function(t){t=t[0];var e=`constructor ${t.name}`;void 0===t.i.$&&(t.i.$=[]);if(void 0!==t.i.$[n-1]){throw new an(`Cannot register multiple constructors with identical number of parameters (${n-1}) for class '${t.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`)}t.i.$[n-1]=()=>{re(`Cannot construct ${t.name} due to unbound types`,s)};Wn([],s,(function(i){i.splice(1,0,null);t.i.$[n-1]=oe(e,i,null,r,o);return[]}));return[]}))},_embind_register_class_function:function(t,n,e,i,r,o,s,a){var u=se(e,i);n=vn(n);o=ee(r,o);Wn([],[t],(function(t){function i(){re(`Cannot call ${r} due to unbound types`,u)}t=t[0];var r=`${t.name}.${n}`;n.startsWith("@@")&&(n=Symbol[n.substring(2)]);a&&t.i.qb.push(n);var h=t.i.N,f=h[n];void 0===f||void 0===f.B&&f.className!==t.name&&f.ea===e-2?(i.ea=e-2,i.className=t.name,h[n]=i):(Nn(h,n,r),h[n].B[e-2]=i);Wn([],u,(function(i){i=oe(r,i,t,o,s);void 0===h[n].B?(i.ea=e-2,h[n]=i):h[n].B[e-2]=i;return[]}));return[]}))},_embind_register_class_property:function(t,n,e,i,r,o,s,a,u,h){n=vn(n);r=ee(i,r);Wn([],[t],(function(t){t=t[0];var i=`${t.name}.${n}`,f={get(){re(`Cannot access ${i} due to unbound types`,[e,s])},enumerable:!0,configurable:!0};f.set=u?()=>{re(`Cannot access ${i} due to unbound types`,[e,s])}:()=>{un(i+" is a read-only property")};Object.defineProperty(t.i.N,n,f);Wn([],u?[e,s]:[e],(function(e){var s=e[0],f={get(){var n=ae(this,t,i+" getter");return s.fromWireType(r(o,n))},enumerable:!0};if(u){u=ee(a,u);var c=e[1];f.set=function(n){var e=ae(this,t,i+" setter"),r=[];u(h,e,c.toWireType(r,n));In(r)}}Object.defineProperty(t.i.N,n,f);return[]}));return[]}))},_embind_register_emval:function(t,n){n=vn(n);zn(t,{name:n,fromWireType:function(t){var n=hn(t);ue(t);return n},toWireType:function(t,n){return fn(n)},argPackAdvance:8,readValueFromPointer:Ln,K:null})},_embind_register_enum:function(t,n,e,i){function r(){}e=Rn(e);n=vn(n);r.values={};zn(t,{name:n,constructor:r,fromWireType:function(t){return this.constructor.values[t]},toWireType:function(t,n){return n.value},argPackAdvance:8,readValueFromPointer:he(n,e,i),K:null});Gn(n,r)},_embind_register_enum_value:function(t,n,e){var i=_n(t,"enum");n=vn(n);t=i.constructor;i=Object.create(i.constructor.prototype,{value:{value:e},constructor:{value:rn(`${i.name}_${n}`,(function(){}))}});t.values[e]=i;t[n]=i},_embind_register_float:function(t,n,e){e=Rn(e);n=vn(n);zn(t,{name:n,fromWireType:function(t){return t},toWireType:function(t,n){return n},argPackAdvance:8,readValueFromPointer:ce(n,e),K:null})},_embind_register_function:function(t,n,e,i,r,o){var s=se(n,e);t=vn(t);r=ee(i,r);Gn(t,(function(){re(`Cannot call ${t} due to unbound types`,s)}),n-1);Wn([],s,(function(e){Qn(t,oe(t,[e[0],null].concat(e.slice(1)),null,r,o),n-1);return[]}))},_embind_register_integer:function(t,n,e,i,r){n=vn(n);-1===r&&(r=4294967295);r=Rn(e);var o=t=>t;if(0===i){var s=32-8*e;o=t=>t<<s>>>s}e=n.includes("unsigned")?function(t,n){return n>>>0}:function(t,n){return n};zn(t,{name:n,fromWireType:o,toWireType:e,argPackAdvance:8,readValueFromPointer:de(n,r,0!==i),K:null})},_embind_register_memory_view:function(t,n,e){function i(t){t>>=2;var n=O;return new r(n.buffer,n[t+1],n[t])}var r=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][n];e=vn(e);zn(t,{name:e,fromWireType:i,argPackAdvance:8,readValueFromPointer:i},{$b:!0})},_embind_register_std_string:function(t,n){n=vn(n);var e="std::string"===n;zn(t,{name:n,fromWireType:function(t){var n=O[t>>2],i=t+4;if(e){for(var r=i,o=0;o<=n;++o){var s=i+o;if(o==n||0==A[s]){r=r?st(A,r,s-r):"";if(void 0===a){var a=r}else{a+=String.fromCharCode(0),a+=r}r=s+1}}}else{a=Array(n);for(o=0;o<n;++o){a[o]=String.fromCharCode(A[i+o])}a=a.join("")}We(t);return a},toWireType:function(t,n){n instanceof ArrayBuffer&&(n=new Uint8Array(n));var i="string"==typeof n;i||n instanceof Uint8Array||n instanceof Uint8ClampedArray||n instanceof Int8Array||un("Cannot pass non-string to std::string");var r=e&&i?ut(n):n.length;var o=Re(4+r+1),s=o+4;O[o>>2]=r;if(e&&i){ht(n,A,s,r+1)}else{if(i){for(i=0;i<r;++i){var a=n.charCodeAt(i);255<a&&(We(s),un("String has UTF-16 code units that do not fit in 8 bits"));A[s+i]=a}}else{for(i=0;i<r;++i){A[s+i]=n[i]}}}null!==t&&t.push(We,o);return o},argPackAdvance:8,readValueFromPointer:Ln,K:function(t){We(t)}})},_embind_register_std_wstring:function(t,n,e){e=vn(e);if(2===n){var i=ve;var r=we;var o=pe;var s=()=>T;var a=1}else{4===n&&(i=be,r=me,o=ge,s=()=>O,a=2)}zn(t,{name:e,fromWireType:function(t){for(var e=O[t>>2],r=s(),o,u=t+4,h=0;h<=e;++h){var f=t+4+h*n;if(h==e||0==r[f>>a]){u=i(u,f-u),void 0===o?o=u:(o+=String.fromCharCode(0),o+=u),u=f+n}}We(t);return o},toWireType:function(t,i){"string"!=typeof i&&un(`Cannot pass non-string to C++ string type ${e}`);var s=o(i),u=Re(4+s+n);O[u>>2]=s>>a;r(i,u+4,s+n);null!==t&&t.push(We,u);return u},argPackAdvance:8,readValueFromPointer:Ln,K:function(t){We(t)}})},_embind_register_value_object:function(t,n,e,i,r,o){Sn[t]={name:vn(n),Pa:ee(e,i),W:ee(r,o),eb:[]}},_embind_register_value_object_field:function(t,n,e,i,r,o,s,a,u,h){Sn[t].eb.push({Sb:vn(n),Yb:e,Wb:ee(i,r),Xb:o,rc:s,qc:ee(a,u),sc:h})},_embind_register_void:function(t,n){n=vn(n);zn(t,{fc:!0,name:n,argPackAdvance:0,fromWireType:function(){},toWireType:function(){}})},_emscripten_get_now_is_monotonic:()=>!0,_emval_as:function(t,n,e){t=hn(t);n=_n(n,"emval::as");var i=[],r=fn(i);O[e>>2]=r;return n.toWireType(i,t)},_emval_call_method:function(t,n,e,i,r){t=_e[t];n=hn(n);e=xe(e);var o=[];O[i>>2]=fn(o);return t(n,e,o,r)},_emval_call_void_method:function(t,n,e,i){t=_e[t];n=hn(n);e=xe(e);t(n,e,null,i)},_emval_decref:ue,_emval_get_method_caller:function(t,n){var e=Ce(t,n),i=e[0];n=i.name+"_$"+e.slice(1).map((function(t){return t.name})).join("_")+"$";var r=Ae[n];if(void 0!==r){return r}var o=Array(t-1);r=ke(((n,r,s,a)=>{for(var u=0,h=0;h<t-1;++h){o[h]=e[h+1].readValueFromPointer(a+u),u+=e[h+1].argPackAdvance}n=n[r].apply(n,o);for(h=0;h<t-1;++h){e[h+1].Nb&&e[h+1].Nb(o[h])}if(!i.fc){return i.toWireType(s,n)}}));return Ae[n]=r},_emval_get_module_property:function(t){t=xe(t);return fn(e[t])},_emval_get_property:function(t,n){t=hn(t);n=hn(n);return fn(t[n])},_emval_incref:function(t){4<t&&(sn.get(t).tb+=1)},_emval_new_cstring:function(t){return fn(xe(t))},_emval_new_object:function(){return fn({})},_emval_run_destructors:function(t){var n=hn(t);In(n);ue(t)},_emval_set_property:function(t,n,e){t=hn(t);n=hn(n);e=hn(e);t[n]=e},_emval_take_value:function(t,n){t=_n(t,"_emval_take_value");t=t.readValueFromPointer(n);return fn(t)},abort:()=>{U("")},emscripten_asm_const_int:(t,n,e)=>{je.length=0;var i;for(e>>=2;i=A[n++];){e+=105!=i&e,je.push(105==i?$[e]:P[e++>>1]),++e}return K[t].apply(null,je)},emscripten_date_now:function(){return Date.now()},emscripten_get_now:()=>performance.now(),emscripten_memcpy_big:(t,n,e)=>A.copyWithin(t,n,n+e),emscripten_resize_heap:t=>{var n=A.length;t>>>=0;if(2147483648<t){return!1}for(var e=1;4>=e;e*=2){var i=n*(1+.2/e);i=Math.min(i,t+100663296);var r=Math;i=Math.max(t,i);t:{r=r.min.call(r,2147483648,i+(65536-i%65536)%65536)-x.buffer.byteLength+65535>>>16;try{x.grow(r);E();var o=1;break t}catch(t){}o=void 0}if(o){return!0}}return!1},environ_get:(t,n)=>{var e=0;$e().forEach((function(i,r){var o=n+e;r=O[t+4*r>>2]=o;for(o=0;o<i.length;++o){C[r++>>0]=i.charCodeAt(o)}C[r>>0]=0;e+=i.length+1}));return 0},environ_sizes_get:(t,n)=>{var e=$e();O[t>>2]=e.length;var i=0;e.forEach((function(t){i+=t.length+1}));O[n>>2]=i;return 0},fd_close:function(t){try{var n=Dt(t);if(null===n.X){throw new At(8)}n.Ma&&(n.Ma=null);try{n.m.close&&n.m.close(n)}catch(t){throw t}finally{xt[n.X]=null}n.X=null;return 0}catch(t){if("undefined"==typeof Jt||"ErrnoError"!==t.name){throw t}return t.aa}},fd_read:function(t,n,e,i){try{t:{var r=Dt(t);t=n;for(var o,s=n=0;s<e;s++){var a=O[t>>2],u=O[t+4>>2];t+=8;var h=r,f=a,c=u,d=o,l=C;if(0>c||0>d){throw new At(28)}if(null===h.X){throw new At(8)}if(1===(h.flags&2097155)){throw new At(8)}if(16384===(h.node.mode&61440)){throw new At(31)}if(!h.m.read){throw new At(28)}var v="undefined"!=typeof d;if(!v){d=h.position}else if(!h.seekable){throw new At(70)}var w=h.m.read(h,l,f,c,d);v||(h.position+=w);var p=w;if(0>p){var b=-1;break t}n+=p;if(p<u){break}"undefined"!==typeof o&&(o+=p)}b=n}O[i>>2]=b;return 0}catch(t){if("undefined"==typeof Jt||"ErrnoError"!==t.name){throw t}return t.aa}},fd_seek:function(t,n,e,i,r){n=e+2097152>>>0<4194305-!!n?(n>>>0)+4294967296*e:NaN;try{if(isNaN(n)){return 61}var o=Dt(t);Bt(o,n,i);q=[o.position>>>0,(V=o.position,1<=+Math.abs(V)?0<V?+Math.floor(V/4294967296)>>>0:~~+Math.ceil((V-+(~~V>>>0))/4294967296)>>>0:0)];$[r>>2]=q[0];$[r+4>>2]=q[1];o.Ma&&0===n&&0===i&&(o.Ma=null);return 0}catch(t){if("undefined"==typeof Jt||"ErrnoError"!==t.name){throw t}return t.aa}},fd_write:function(t,n,e,i){try{t:{var r=Dt(t);t=n;for(var o,s=n=0;s<e;s++){var a=O[t>>2],u=O[t+4>>2];t+=8;var h=r,f=a,c=u,d=o,l=C;if(0>c||0>d){throw new At(28)}if(null===h.X){throw new At(8)}if(0===(h.flags&2097155)){throw new At(8)}if(16384===(h.node.mode&61440)){throw new At(31)}if(!h.m.write){throw new At(28)}h.seekable&&h.flags&1024&&Bt(h,0,2);var v="undefined"!=typeof d;if(!v){d=h.position}else if(!h.seekable){throw new At(70)}var w=h.m.write(h,l,f,c,d,void 0);v||(h.position+=w);var p=w;if(0>p){var b=-1;break t}n+=p;"undefined"!==typeof o&&(o+=p)}b=n}O[i>>2]=b;return 0}catch(t){if("undefined"==typeof Jt||"ErrnoError"!==t.name){throw t}return t.aa}},strftime_l:(t,n,e,i)=>Se(t,n,e,i)};(function(){function t(t){_=t=t.exports;x=_.memory;E();S=_.__indirect_function_table;L.unshift(_.__wasm_call_ctors);W--;e.monitorRunDependencies&&e.monitorRunDependencies(W);if(0==W&&R){var n=R;R=null;n()}return t}var n={env:Fe,wasi_snapshot_preview1:Fe};W++;e.monitorRunDependencies&&e.monitorRunDependencies(W);if(e.instantiateWasm){try{return e.instantiateWasm(n,t)}catch(t){g("Module.instantiateWasm callback failed with error: "+t),r(t)}}H(n,(function(n){t(n.instance)})).catch(r);return{}})();var We=t=>(We=_.free)(t),Re=t=>(Re=_.malloc)(t),Ue=e._ma_device__on_notification_unlocked=t=>(Ue=e._ma_device__on_notification_unlocked=_.ma_device__on_notification_unlocked)(t);e._ma_malloc_emscripten=(t,n)=>(e._ma_malloc_emscripten=_.ma_malloc_emscripten)(t,n);e._ma_free_emscripten=(t,n)=>(e._ma_free_emscripten=_.ma_free_emscripten)(t,n);var ze=e._ma_device_process_pcm_frames_capture__webaudio=(t,n,i)=>(ze=e._ma_device_process_pcm_frames_capture__webaudio=_.ma_device_process_pcm_frames_capture__webaudio)(t,n,i),Xe=e._ma_device_process_pcm_frames_playback__webaudio=(t,n,i)=>(Xe=e._ma_device_process_pcm_frames_playback__webaudio=_.ma_device_process_pcm_frames_playback__webaudio)(t,n,i),Ye=()=>(Ye=_.__errno_location)(),Ne=t=>(Ne=_.__getTypeName)(t);e.__embind_initialize_bindings=()=>(e.__embind_initialize_bindings=_._embind_initialize_bindings)();e.dynCall_iiji=(t,n,i,r,o)=>(e.dynCall_iiji=_.dynCall_iiji)(t,n,i,r,o);e.dynCall_jiji=(t,n,i,r,o)=>(e.dynCall_jiji=_.dynCall_jiji)(t,n,i,r,o);e.dynCall_iiiji=(t,n,i,r,o,s)=>(e.dynCall_iiiji=_.dynCall_iiiji)(t,n,i,r,o,s);e.dynCall_iij=(t,n,i,r)=>(e.dynCall_iij=_.dynCall_iij)(t,n,i,r);e.dynCall_jii=(t,n,i)=>(e.dynCall_jii=_.dynCall_jii)(t,n,i);e.dynCall_viijii=(t,n,i,r,o,s,a)=>(e.dynCall_viijii=_.dynCall_viijii)(t,n,i,r,o,s,a);e.dynCall_iiiiij=(t,n,i,r,o,s,a)=>(e.dynCall_iiiiij=_.dynCall_iiiiij)(t,n,i,r,o,s,a);e.dynCall_iiiiijj=(t,n,i,r,o,s,a,u,h)=>(e.dynCall_iiiiijj=_.dynCall_iiiiijj)(t,n,i,r,o,s,a,u,h);e.dynCall_iiiiiijj=(t,n,i,r,o,s,a,u,h,f)=>(e.dynCall_iiiiiijj=_.dynCall_iiiiiijj)(t,n,i,r,o,s,a,u,h,f);var Ge;R=function t(){Ge||Be();Ge||(R=t)};function Be(){function t(){if(!Ge&&(Ge=!0,e.calledRun=!0,!k)){e.noFSInit||Vt||(Vt=!0,Ht(),e.stdin=e.stdin,e.stdout=e.stdout,e.stderr=e.stderr,e.stdin?qt("stdin",e.stdin):Yt("/dev/tty","/dev/stdin"),e.stdout?qt("stdout",null,e.stdout):Yt("/dev/tty","/dev/stdout"),e.stderr?qt("stderr",null,e.stderr):Yt("/dev/tty1","/dev/stderr"),Gt("/dev/stdin",0),Gt("/dev/stdout",1),Gt("/dev/stderr",1));Ct=!1;J(L);i(e);if(e.onRuntimeInitialized){e.onRuntimeInitialized()}if(e.postRun){for("function"==typeof e.postRun&&(e.postRun=[e.postRun]);e.postRun.length;){var t=e.postRun.shift();D.unshift(t)}}J(D)}}if(!(0<W)){if(e.preRun){for("function"==typeof e.preRun&&(e.preRun=[e.preRun]);e.preRun.length;){F()}}J(I);0<W||(e.setStatus?(e.setStatus("Running..."),setTimeout((function(){setTimeout((function(){e.setStatus("")}),1);t()}),1)):t())}}if(e.preInit){for("function"==typeof e.preInit&&(e.preInit=[e.preInit]);0<e.preInit.length;){e.preInit.pop()()}}Be();return n.ready}})();const r=i},t=>{t.exports=JSON.parse('{"name":"@rive-app/canvas","version":"2.25.7","description":"Rive\'s canvas based web api.","main":"rive.js","homepage":"https://rive.app","repository":{"type":"git","url":"https://github.com/rive-app/rive-wasm/tree/master/js"},"keywords":["rive","animation"],"author":"Rive","contributors":["Luigi Rosso <luigi@rive.app> (https://rive.app)","Maxwell Talbot <max@rive.app> (https://rive.app)","Arthur Vivian <arthur@rive.app> (https://rive.app)","Umberto Sonnino <umberto@rive.app> (https://rive.app)","Matthew Sullivan <matt.j.sullivan@gmail.com> (mailto:matt.j.sullivan@gmail.com)"],"license":"MIT","files":["rive.js","rive.js.map","rive.wasm","rive_fallback.wasm","rive.d.ts","rive_advanced.mjs.d.ts"],"typings":"rive.d.ts","dependencies":{},"browser":{"fs":false,"path":false}}')},(t,n,e)=>{e.r(n);e.d(n,{Animation:()=>i.Animation});var i=e(4)},(t,n,e)=>{e.r(n);e.d(n,{Animation:()=>i});var i=function(){function t(t,n,e,i){this.animation=t;this.artboard=n;this.playing=i;this.loopCount=0;this.scrubTo=null;this.instance=new e.LinearAnimationInstance(t,n)}Object.defineProperty(t.prototype,"name",{get:function(){return this.animation.name},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"time",{get:function(){return this.instance.time},set:function(t){this.instance.time=t},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"loopValue",{get:function(){return this.animation.loopValue},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"needsScrub",{get:function(){return this.scrubTo!==null},enumerable:false,configurable:true});t.prototype.advance=function(t){if(this.scrubTo===null){this.instance.advance(t)}else{this.instance.time=0;this.instance.advance(this.scrubTo);this.scrubTo=null}};t.prototype.apply=function(t){this.instance.apply(t)};t.prototype.cleanup=function(){this.instance.delete()};return t}()},(t,n,e)=>{e.r(n);e.d(n,{BLANK_URL:()=>r.BLANK_URL,registerTouchInteractions:()=>i.registerTouchInteractions,sanitizeUrl:()=>r.sanitizeUrl});var i=e(6);var r=e(7)},(t,n,e)=>{e.r(n);e.d(n,{registerTouchInteractions:()=>o});var i=undefined;var r=function(t,n){var e,i;if(["touchstart","touchmove"].indexOf(t.type)>-1&&((e=t.touches)===null||e===void 0?void 0:e.length)){if(!n){t.preventDefault()}return{clientX:t.touches[0].clientX,clientY:t.touches[0].clientY}}else if(t.type==="touchend"&&((i=t.changedTouches)===null||i===void 0?void 0:i.length)){return{clientX:t.changedTouches[0].clientX,clientY:t.changedTouches[0].clientY}}else{return{clientX:t.clientX,clientY:t.clientY}}};var o=function(t){var n=t.canvas,e=t.artboard,o=t.stateMachines,s=o===void 0?[]:o,a=t.renderer,u=t.rive,h=t.fit,f=t.alignment,c=t.isTouchScrollEnabled,d=c===void 0?false:c,l=t.layoutScaleFactor,v=l===void 0?1:l;if(!n||!s.length||!a||!u||!e||typeof window==="undefined"){return null}var w=null;var p=false;var b=function(t){if(p&&t instanceof MouseEvent){if(t.type=="mouseup"){p=false}return}p=d&&t.type==="touchend"&&w==="touchstart";w=t.type;var n=t.currentTarget.getBoundingClientRect();var i=r(t,d),o=i.clientX,a=i.clientY;if(!o&&!a){return}var c=o-n.left;var l=a-n.top;var b=u.computeAlignment(h,f,{minX:0,minY:0,maxX:n.width,maxY:n.height},e.bounds,v);var m=new u.Mat2D;b.invert(m);var g=new u.Vec2D(c,l);var y=u.mapXY(m,g);var x=y.x();var _=y.y();y.delete();m.delete();g.delete();b.delete();switch(t.type){case"mouseout":for(var k=0,C=s;k<C.length;k++){var A=C[k];A.pointerMove(x,_)}break;case"touchmove":case"mouseover":case"mousemove":{for(var j=0,T=s;j<T.length;j++){var A=T[j];A.pointerMove(x,_)}break}case"touchstart":case"mousedown":{for(var $=0,O=s;$<O.length;$++){var A=O[$];A.pointerDown(x,_)}break}case"touchend":case"mouseup":{for(var M=0,P=s;M<P.length;M++){var A=P[M];A.pointerUp(x,_)}break}}};var m=b.bind(i);n.addEventListener("mouseover",m);n.addEventListener("mouseout",m);n.addEventListener("mousemove",m);n.addEventListener("mousedown",m);n.addEventListener("mouseup",m);n.addEventListener("touchmove",m,{passive:d});n.addEventListener("touchstart",m,{passive:d});n.addEventListener("touchend",m);return function(){n.removeEventListener("mouseover",m);n.removeEventListener("mouseout",m);n.removeEventListener("mousemove",m);n.removeEventListener("mousedown",m);n.removeEventListener("mouseup",m);n.removeEventListener("touchmove",m);n.removeEventListener("touchstart",m);n.removeEventListener("touchend",m)}}},(t,n,e)=>{e.r(n);e.d(n,{BLANK_URL:()=>h,sanitizeUrl:()=>d});var i=/^([^\w]*)(javascript|data|vbscript)/im;var r=/&#(\w+)(^\w|;)?/g;var o=/&(newline|tab);/gi;var s=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim;var a=/^.+(:|&colon;)/gim;var u=[".","/"];var h="about:blank";function f(t){return u.indexOf(t[0])>-1}function c(t){var n=t.replace(s,"");return n.replace(r,(function(t,n){return String.fromCharCode(n)}))}function d(t){if(!t){return h}var n=c(t).replace(o,"").replace(s,"").trim();if(!n){return h}if(f(n)){return n}var e=n.match(a);if(!e){return n}var r=e[0];if(i.test(r)){return h}return n}}];var n={};function e(i){var r=n[i];if(r!==undefined){return r.exports}var o=n[i]={exports:{}};t[i](o,o.exports,e);return o.exports}(()=>{e.d=(t,n)=>{for(var i in n){if(e.o(n,i)&&!e.o(t,i)){Object.defineProperty(t,i,{enumerable:true,get:n[i]})}}}})();(()=>{e.o=(t,n)=>Object.prototype.hasOwnProperty.call(t,n)})();(()=>{e.r=t=>{if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(t,"__esModule",{value:true})}})();var i={};(()=>{e.r(i);e.d(i,{Alignment:()=>f,EventType:()=>m,Fit:()=>h,Layout:()=>c,LoopType:()=>g,Rive:()=>M,RiveEventType:()=>w,RiveFile:()=>O,RuntimeLoader:()=>d,StateMachineInput:()=>v,StateMachineInputType:()=>l,Testing:()=>S,decodeAudio:()=>I,decodeFont:()=>D,decodeImage:()=>L});var t=e(1);var n=e(2);var r=e(3);var o=e(5);var s=function(){var t=function(n,e){t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)if(Object.prototype.hasOwnProperty.call(n,e))t[e]=n[e]};return t(n,e)};return function(n,e){if(typeof e!=="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function i(){this.constructor=n}n.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}();var a=function(t,n,e,i){function r(t){return t instanceof e?t:new e((function(n){n(t)}))}return new(e||(e=Promise))((function(e,o){function s(t){try{u(i.next(t))}catch(t){o(t)}}function a(t){try{u(i["throw"](t))}catch(t){o(t)}}function u(t){t.done?e(t.value):r(t.value).then(s,a)}u((i=i.apply(t,n||[])).next())}))};var u=function(t,n){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,r,o,s=Object.create((typeof Iterator==="function"?Iterator:Object).prototype);return s.next=a(0),s["throw"]=a(1),s["return"]=a(2),typeof Symbol==="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(t){return function(n){return u([t,n])}}function u(a){if(i)throw new TypeError("Generator is already executing.");while(s&&(s=0,a[0]&&(e=0)),e)try{if(i=1,r&&(o=a[0]&2?r["return"]:a[0]?r["throw"]||((o=r["return"])&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;if(r=0,o)a=[a[0]&2,o.value];switch(a[0]){case 0:case 1:o=a;break;case 4:e.label++;return{value:a[1],done:false};case 5:e.label++;r=a[1];a=[0];continue;case 7:a=e.ops.pop();e.trys.pop();continue;default:if(!(o=e.trys,o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){e=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){e.label=a[1];break}if(a[0]===6&&e.label<o[1]){e.label=o[1];o=a;break}if(o&&e.label<o[2]){e.label=o[2];e.ops.push(a);break}if(o[2])e.ops.pop();e.trys.pop();continue}a=n.call(t,e)}catch(t){a=[6,t];r=0}finally{i=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var h;(function(t){t["Cover"]="cover";t["Contain"]="contain";t["Fill"]="fill";t["FitWidth"]="fitWidth";t["FitHeight"]="fitHeight";t["None"]="none";t["ScaleDown"]="scaleDown";t["Layout"]="layout"})(h||(h={}));var f;(function(t){t["Center"]="center";t["TopLeft"]="topLeft";t["TopCenter"]="topCenter";t["TopRight"]="topRight";t["CenterLeft"]="centerLeft";t["CenterRight"]="centerRight";t["BottomLeft"]="bottomLeft";t["BottomCenter"]="bottomCenter";t["BottomRight"]="bottomRight"})(f||(f={}));var c=function(){function t(t){var n,e,i,r,o,s,a;this.fit=(n=t===null||t===void 0?void 0:t.fit)!==null&&n!==void 0?n:h.Contain;this.alignment=(e=t===null||t===void 0?void 0:t.alignment)!==null&&e!==void 0?e:f.Center;this.layoutScaleFactor=(i=t===null||t===void 0?void 0:t.layoutScaleFactor)!==null&&i!==void 0?i:1;this.minX=(r=t===null||t===void 0?void 0:t.minX)!==null&&r!==void 0?r:0;this.minY=(o=t===null||t===void 0?void 0:t.minY)!==null&&o!==void 0?o:0;this.maxX=(s=t===null||t===void 0?void 0:t.maxX)!==null&&s!==void 0?s:0;this.maxY=(a=t===null||t===void 0?void 0:t.maxY)!==null&&a!==void 0?a:0}t.new=function(n){var e=n.fit,i=n.alignment,r=n.minX,o=n.minY,s=n.maxX,a=n.maxY;console.warn("This function is deprecated: please use `new Layout({})` instead");return new t({fit:e,alignment:i,minX:r,minY:o,maxX:s,maxY:a})};t.prototype.copyWith=function(n){var e=n.fit,i=n.alignment,r=n.layoutScaleFactor,o=n.minX,s=n.minY,a=n.maxX,u=n.maxY;return new t({fit:e!==null&&e!==void 0?e:this.fit,alignment:i!==null&&i!==void 0?i:this.alignment,layoutScaleFactor:r!==null&&r!==void 0?r:this.layoutScaleFactor,minX:o!==null&&o!==void 0?o:this.minX,minY:s!==null&&s!==void 0?s:this.minY,maxX:a!==null&&a!==void 0?a:this.maxX,maxY:u!==null&&u!==void 0?u:this.maxY})};t.prototype.runtimeFit=function(t){if(this.cachedRuntimeFit)return this.cachedRuntimeFit;var n;if(this.fit===h.Cover)n=t.Fit.cover;else if(this.fit===h.Contain)n=t.Fit.contain;else if(this.fit===h.Fill)n=t.Fit.fill;else if(this.fit===h.FitWidth)n=t.Fit.fitWidth;else if(this.fit===h.FitHeight)n=t.Fit.fitHeight;else if(this.fit===h.ScaleDown)n=t.Fit.scaleDown;else if(this.fit===h.Layout)n=t.Fit.layout;else n=t.Fit.none;this.cachedRuntimeFit=n;return n};t.prototype.runtimeAlignment=function(t){if(this.cachedRuntimeAlignment)return this.cachedRuntimeAlignment;var n;if(this.alignment===f.TopLeft)n=t.Alignment.topLeft;else if(this.alignment===f.TopCenter)n=t.Alignment.topCenter;else if(this.alignment===f.TopRight)n=t.Alignment.topRight;else if(this.alignment===f.CenterLeft)n=t.Alignment.centerLeft;else if(this.alignment===f.CenterRight)n=t.Alignment.centerRight;else if(this.alignment===f.BottomLeft)n=t.Alignment.bottomLeft;else if(this.alignment===f.BottomCenter)n=t.Alignment.bottomCenter;else if(this.alignment===f.BottomRight)n=t.Alignment.bottomRight;else n=t.Alignment.center;this.cachedRuntimeAlignment=n;return n};return t}();var d=function(){function e(){}e.loadRuntime=function(){t["default"]({locateFile:function(){return e.wasmURL}}).then((function(t){var n;e.runtime=t;while(e.callBackQueue.length>0){(n=e.callBackQueue.shift())===null||n===void 0?void 0:n(e.runtime)}})).catch((function(t){var i={message:(t===null||t===void 0?void 0:t.message)||"Unknown error",type:(t===null||t===void 0?void 0:t.name)||"Error",wasmError:t instanceof WebAssembly.CompileError||t instanceof WebAssembly.RuntimeError,originalError:t};console.debug("Rive WASM load error details:",i);var r="https://cdn.jsdelivr.net/npm/".concat(n.name,"@").concat(n.version,"/rive_fallback.wasm");if(e.wasmURL.toLowerCase()!==r){console.warn("Failed to load WASM from ".concat(e.wasmURL," (").concat(i.message,"), trying jsdelivr as a backup"));e.setWasmUrl(r);e.loadRuntime()}else{var o=["Could not load Rive WASM file from ".concat(e.wasmURL," or ").concat(r,"."),"Possible reasons:","- Network connection is down","- WebAssembly is not supported in this environment","- The WASM file is corrupted or incompatible","\nError details:","- Type: ".concat(i.type),"- Message: ".concat(i.message),"- WebAssembly-specific error: ".concat(i.wasmError),"\nTo resolve, you may need to:","1. Check your network connection","2. Set a new WASM source via RuntimeLoader.setWasmUrl()","3. Call RuntimeLoader.loadRuntime() again"].join("\n");console.error(o)}}))};e.getInstance=function(t){if(!e.isLoading){e.isLoading=true;e.loadRuntime()}if(!e.runtime){e.callBackQueue.push(t)}else{t(e.runtime)}};e.awaitInstance=function(){return new Promise((function(t){return e.getInstance((function(n){return t(n)}))}))};e.setWasmUrl=function(t){e.wasmURL=t};e.getWasmUrl=function(){return e.wasmURL};e.isLoading=false;e.callBackQueue=[];e.wasmURL="https://unpkg.com/".concat(n.name,"@").concat(n.version,"/rive.wasm");return e}();var l;(function(t){t[t["Number"]=56]="Number";t[t["Trigger"]=58]="Trigger";t[t["Boolean"]=59]="Boolean"})(l||(l={}));var v=function(){function t(t,n){this.type=t;this.runtimeInput=n}Object.defineProperty(t.prototype,"name",{get:function(){return this.runtimeInput.name},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"value",{get:function(){return this.runtimeInput.value},set:function(t){this.runtimeInput.value=t},enumerable:false,configurable:true});t.prototype.fire=function(){if(this.type===l.Trigger){this.runtimeInput.fire()}};t.prototype.delete=function(){this.runtimeInput=null};return t}();var w;(function(t){t[t["General"]=128]="General";t[t["OpenUrl"]=131]="OpenUrl"})(w||(w={}));var p=function(){function t(t,n,e,i){this.stateMachine=t;this.playing=e;this.artboard=i;this.inputs=[];this.instance=new n.StateMachineInstance(t,i);this.initInputs(n)}Object.defineProperty(t.prototype,"name",{get:function(){return this.stateMachine.name},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"statesChanged",{get:function(){var t=[];for(var n=0;n<this.instance.stateChangedCount();n++){t.push(this.instance.stateChangedNameByIndex(n))}return t},enumerable:false,configurable:true});t.prototype.advance=function(t){this.instance.advance(t)};t.prototype.advanceAndApply=function(t){this.instance.advanceAndApply(t)};t.prototype.reportedEventCount=function(){return this.instance.reportedEventCount()};t.prototype.reportedEventAt=function(t){return this.instance.reportedEventAt(t)};t.prototype.initInputs=function(t){for(var n=0;n<this.instance.inputCount();n++){var e=this.instance.input(n);this.inputs.push(this.mapRuntimeInput(e,t))}};t.prototype.mapRuntimeInput=function(t,n){if(t.type===n.SMIInput.bool){return new v(l.Boolean,t.asBool())}else if(t.type===n.SMIInput.number){return new v(l.Number,t.asNumber())}else if(t.type===n.SMIInput.trigger){return new v(l.Trigger,t.asTrigger())}};t.prototype.cleanup=function(){this.inputs.forEach((function(t){t.delete()}));this.inputs.length=0;this.instance.delete()};return t}();var b=function(){function t(t,n,e,i,r){if(i===void 0){i=[]}if(r===void 0){r=[]}this.runtime=t;this.artboard=n;this.eventManager=e;this.animations=i;this.stateMachines=r}t.prototype.add=function(t,n,e){if(e===void 0){e=true}t=E(t);if(t.length===0){this.animations.forEach((function(t){return t.playing=n}));this.stateMachines.forEach((function(t){return t.playing=n}))}else{var i=this.animations.map((function(t){return t.name}));var o=this.stateMachines.map((function(t){return t.name}));for(var s=0;s<t.length;s++){var a=i.indexOf(t[s]);var u=o.indexOf(t[s]);if(a>=0||u>=0){if(a>=0){this.animations[a].playing=n}else{this.stateMachines[u].playing=n}}else{var h=this.artboard.animationByName(t[s]);if(h){var f=new r.Animation(h,this.artboard,this.runtime,n);f.advance(0);f.apply(1);this.animations.push(f)}else{var c=this.artboard.stateMachineByName(t[s]);if(c){var d=new p(c,this.runtime,n,this.artboard);this.stateMachines.push(d)}}}}}if(e){if(n){this.eventManager.fire({type:m.Play,data:this.playing})}else{this.eventManager.fire({type:m.Pause,data:this.paused})}}return n?this.playing:this.paused};t.prototype.initLinearAnimations=function(t,n){var e=this.animations.map((function(t){return t.name}));for(var i=0;i<t.length;i++){var o=e.indexOf(t[i]);if(o>=0){this.animations[o].playing=n}else{var s=this.artboard.animationByName(t[i]);if(s){var a=new r.Animation(s,this.artboard,this.runtime,n);a.advance(0);a.apply(1);this.animations.push(a)}}}};t.prototype.initStateMachines=function(t,n){var e=this.stateMachines.map((function(t){return t.name}));for(var i=0;i<t.length;i++){var r=e.indexOf(t[i]);if(r>=0){this.stateMachines[r].playing=n}else{var o=this.artboard.stateMachineByName(t[i]);if(o){var s=new p(o,this.runtime,n,this.artboard);this.stateMachines.push(s)}else{this.initLinearAnimations([t[i]],n)}}}};t.prototype.play=function(t){return this.add(t,true)};t.prototype.pause=function(t){return this.add(t,false)};t.prototype.scrub=function(t,n){var e=this.animations.filter((function(n){return t.includes(n.name)}));e.forEach((function(t){return t.scrubTo=n}));return e.map((function(t){return t.name}))};Object.defineProperty(t.prototype,"playing",{get:function(){return this.animations.filter((function(t){return t.playing})).map((function(t){return t.name})).concat(this.stateMachines.filter((function(t){return t.playing})).map((function(t){return t.name})))},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"paused",{get:function(){return this.animations.filter((function(t){return!t.playing})).map((function(t){return t.name})).concat(this.stateMachines.filter((function(t){return!t.playing})).map((function(t){return t.name})))},enumerable:false,configurable:true});t.prototype.stop=function(t){var n=this;t=E(t);var e=[];if(t.length===0){e=this.animations.map((function(t){return t.name})).concat(this.stateMachines.map((function(t){return t.name})));this.animations.forEach((function(t){return t.cleanup()}));this.stateMachines.forEach((function(t){return t.cleanup()}));this.animations.splice(0,this.animations.length);this.stateMachines.splice(0,this.stateMachines.length)}else{var i=this.animations.filter((function(n){return t.includes(n.name)}));i.forEach((function(t){t.cleanup();n.animations.splice(n.animations.indexOf(t),1)}));var r=this.stateMachines.filter((function(n){return t.includes(n.name)}));r.forEach((function(t){t.cleanup();n.stateMachines.splice(n.stateMachines.indexOf(t),1)}));e=i.map((function(t){return t.name})).concat(r.map((function(t){return t.name})))}this.eventManager.fire({type:m.Stop,data:e});return e};Object.defineProperty(t.prototype,"isPlaying",{get:function(){return this.animations.reduce((function(t,n){return t||n.playing}),false)||this.stateMachines.reduce((function(t,n){return t||n.playing}),false)},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"isPaused",{get:function(){return!this.isPlaying&&(this.animations.length>0||this.stateMachines.length>0)},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"isStopped",{get:function(){return this.animations.length===0&&this.stateMachines.length===0},enumerable:false,configurable:true});t.prototype.atLeastOne=function(t,n){if(n===void 0){n=true}var e;if(this.animations.length===0&&this.stateMachines.length===0){if(this.artboard.animationCount()>0){this.add([e=this.artboard.animationByIndex(0).name],t,n)}else if(this.artboard.stateMachineCount()>0){this.add([e=this.artboard.stateMachineByIndex(0).name],t,n)}}return e};t.prototype.handleLooping=function(){for(var t=0,n=this.animations.filter((function(t){return t.playing}));t<n.length;t++){var e=n[t];if(e.loopValue===0&&e.loopCount){e.loopCount=0;this.stop(e.name)}else if(e.loopValue===1&&e.loopCount){this.eventManager.fire({type:m.Loop,data:{animation:e.name,type:g.Loop}});e.loopCount=0}else if(e.loopValue===2&&e.loopCount>1){this.eventManager.fire({type:m.Loop,data:{animation:e.name,type:g.PingPong}});e.loopCount=0}}};t.prototype.handleStateChanges=function(){var t=[];for(var n=0,e=this.stateMachines.filter((function(t){return t.playing}));n<e.length;n++){var i=e[n];t.push.apply(t,i.statesChanged)}if(t.length>0){this.eventManager.fire({type:m.StateChange,data:t})}};t.prototype.handleAdvancing=function(t){this.eventManager.fire({type:m.Advance,data:t})};return t}();var m;(function(t){t["Load"]="load";t["LoadError"]="loaderror";t["Play"]="play";t["Pause"]="pause";t["Stop"]="stop";t["Loop"]="loop";t["Draw"]="draw";t["Advance"]="advance";t["StateChange"]="statechange";t["RiveEvent"]="riveevent";t["AudioStatusChange"]="audiostatuschange"})(m||(m={}));var g;(function(t){t["OneShot"]="oneshot";t["Loop"]="loop";t["PingPong"]="pingpong"})(g||(g={}));var y=function(){function t(t){if(t===void 0){t=[]}this.listeners=t}t.prototype.getListeners=function(t){return this.listeners.filter((function(n){return n.type===t}))};t.prototype.add=function(t){if(!this.listeners.includes(t)){this.listeners.push(t)}};t.prototype.remove=function(t){for(var n=0;n<this.listeners.length;n++){var e=this.listeners[n];if(e.type===t.type){if(e.callback===t.callback){this.listeners.splice(n,1);break}}}};t.prototype.removeAll=function(t){var n=this;if(!t){this.listeners.splice(0,this.listeners.length)}else{this.listeners.filter((function(n){return n.type===t})).forEach((function(t){return n.remove(t)}))}};t.prototype.fire=function(t){var n=this.getListeners(t.type);n.forEach((function(n){return n.callback(t)}))};return t}();var x=function(){function t(t){this.eventManager=t;this.queue=[]}t.prototype.add=function(t){this.queue.push(t)};t.prototype.process=function(){while(this.queue.length>0){var t=this.queue.shift();if(t===null||t===void 0?void 0:t.action){t.action()}if(t===null||t===void 0?void 0:t.event){this.eventManager.fire(t.event)}}};return t}();var _;(function(t){t[t["AVAILABLE"]=0]="AVAILABLE";t[t["UNAVAILABLE"]=1]="UNAVAILABLE"})(_||(_={}));var k=function(t){s(n,t);function n(){var n=t!==null&&t.apply(this,arguments)||this;n._started=false;n._enabled=false;n._status=_.UNAVAILABLE;return n}n.prototype.delay=function(t){return a(this,void 0,void 0,(function(){return u(this,(function(n){return[2,new Promise((function(n){return setTimeout(n,t)}))]}))}))};n.prototype.timeout=function(){return a(this,void 0,void 0,(function(){return u(this,(function(t){return[2,new Promise((function(t,n){return setTimeout(n,50)}))]}))}))};n.prototype.reportToListeners=function(){this.fire({type:m.AudioStatusChange});this.removeAll()};n.prototype.enableAudio=function(){return a(this,void 0,void 0,(function(){return u(this,(function(t){if(!this._enabled){this._enabled=true;this._status=_.AVAILABLE;this.reportToListeners()}return[2]}))}))};n.prototype.testAudio=function(){return a(this,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:if(!(this._status===_.UNAVAILABLE&&this._audioContext!==null))return[3,4];t.label=1;case 1:t.trys.push([1,3,,4]);return[4,Promise.race([this._audioContext.resume(),this.timeout()])];case 2:t.sent();this.enableAudio();return[3,4];case 3:t.sent();return[3,4];case 4:return[2]}}))}))};n.prototype._establishAudio=function(){return a(this,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:if(!!this._started)return[3,5];this._started=true;if(!(typeof window=="undefined"))return[3,1];this.enableAudio();return[3,5];case 1:this._audioContext=new AudioContext;this.listenForUserAction();t.label=2;case 2:if(!(this._status===_.UNAVAILABLE))return[3,5];return[4,this.testAudio()];case 3:t.sent();return[4,this.delay(1e3)];case 4:t.sent();return[3,2];case 5:return[2]}}))}))};n.prototype.listenForUserAction=function(){var t=this;var n=function(){return a(t,void 0,void 0,(function(){return u(this,(function(t){this.enableAudio();return[2]}))}))};document.addEventListener("pointerdown",n,{once:true})};n.prototype.establishAudio=function(){return a(this,void 0,void 0,(function(){return u(this,(function(t){this._establishAudio();return[2]}))}))};Object.defineProperty(n.prototype,"systemVolume",{get:function(){if(this._status===_.UNAVAILABLE){this.testAudio();return 0}return 1},enumerable:false,configurable:true});Object.defineProperty(n.prototype,"status",{get:function(){return this._status},enumerable:false,configurable:true});return n}(y);var C=new k;var A=function(){function t(){}t.prototype.observe=function(){};t.prototype.unobserve=function(){};t.prototype.disconnect=function(){};return t}();var j=globalThis.ResizeObserver||A;var T=function(){function t(){var t=this;this._elementsMap=new Map;this._onObservedEntry=function(n){var e=t._elementsMap.get(n.target);if(e!==null){e.onResize(n.target.clientWidth==0||n.target.clientHeight==0)}else{t._resizeObserver.unobserve(n.target)}};this._onObserved=function(n){n.forEach(t._onObservedEntry)};this._resizeObserver=new j(this._onObserved)}t.prototype.add=function(t,n){var e={onResize:n,element:t};this._elementsMap.set(t,e);this._resizeObserver.observe(t);return e};t.prototype.remove=function(t){this._resizeObserver.unobserve(t.element);this._elementsMap.delete(t.element)};return t}();var $=new T;var O=function(){function t(t){this.enableRiveAssetCDN=true;this.referenceCount=0;this.src=t.src;this.buffer=t.buffer;if(t.assetLoader)this.assetLoader=t.assetLoader;this.enableRiveAssetCDN=typeof t.enableRiveAssetCDN=="boolean"?t.enableRiveAssetCDN:true;this.eventManager=new y;if(t.onLoad)this.on(m.Load,t.onLoad);if(t.onLoadError)this.on(m.LoadError,t.onLoadError)}t.prototype.initData=function(){return a(this,void 0,void 0,(function(){var n,e,i;return u(this,(function(r){switch(r.label){case 0:if(!this.src)return[3,2];n=this;return[4,P(this.src)];case 1:n.buffer=r.sent();r.label=2;case 2:if(this.assetLoader){e=new this.runtime.CustomFileAssetLoader({loadContents:this.assetLoader})}i=this;return[4,this.runtime.load(new Uint8Array(this.buffer),e,this.enableRiveAssetCDN)];case 3:i.file=r.sent();if(this.file!==null){this.eventManager.fire({type:m.Load,data:this})}else{this.eventManager.fire({type:m.LoadError,data:null});throw new Error(t.fileLoadErrorMessage)}return[2]}}))}))};t.prototype.init=function(){return a(this,void 0,void 0,(function(){var n;return u(this,(function(e){switch(e.label){case 0:if(!this.src&&!this.buffer){throw new Error(t.missingErrorMessage)}n=this;return[4,d.awaitInstance()];case 1:n.runtime=e.sent();return[4,this.initData()];case 2:e.sent();return[2]}}))}))};t.prototype.on=function(t,n){this.eventManager.add({type:t,callback:n})};t.prototype.off=function(t,n){this.eventManager.remove({type:t,callback:n})};t.prototype.cleanup=function(){var t;this.referenceCount-=1;if(this.referenceCount<=0){this.removeAllRiveEventListeners();(t=this.file)===null||t===void 0?void 0:t.delete()}};t.prototype.removeAllRiveEventListeners=function(t){this.eventManager.removeAll(t)};t.prototype.getInstance=function(){if(this.file!==null){this.referenceCount+=1;return this.file}};t.missingErrorMessage="Rive source file or data buffer required";t.fileLoadErrorMessage="The file failed to load";return t}();var M=function(){function t(t){var n=this;var e;this.loaded=false;this._observed=null;this.readyForPlaying=false;this.artboard=null;this.eventCleanup=null;this.shouldDisableRiveListeners=false;this.automaticallyHandleEvents=false;this.enableRiveAssetCDN=true;this._volume=1;this._artboardWidth=undefined;this._artboardHeight=undefined;this._devicePixelRatioUsed=1;this._hasZeroSize=false;this._audioEventListener=null;this.durations=[];this.frameTimes=[];this.frameCount=0;this.isTouchScrollEnabled=false;this.onCanvasResize=function(t){n._hasZeroSize=t;if(!n._layout.maxX||!n._layout.maxY){n.resizeToCanvas()}};this.renderSecondTimer=0;this.canvas=t.canvas;if(t.canvas.constructor===HTMLCanvasElement){this._observed=$.add(this.canvas,this.onCanvasResize)}this.src=t.src;this.buffer=t.buffer;this.riveFile=t.riveFile;this.layout=(e=t.layout)!==null&&e!==void 0?e:new c;this.shouldDisableRiveListeners=!!t.shouldDisableRiveListeners;this.isTouchScrollEnabled=!!t.isTouchScrollEnabled;this.automaticallyHandleEvents=!!t.automaticallyHandleEvents;this.enableRiveAssetCDN=t.enableRiveAssetCDN===undefined?true:t.enableRiveAssetCDN;this.eventManager=new y;if(t.onLoad)this.on(m.Load,t.onLoad);if(t.onLoadError)this.on(m.LoadError,t.onLoadError);if(t.onPlay)this.on(m.Play,t.onPlay);if(t.onPause)this.on(m.Pause,t.onPause);if(t.onStop)this.on(m.Stop,t.onStop);if(t.onLoop)this.on(m.Loop,t.onLoop);if(t.onStateChange)this.on(m.StateChange,t.onStateChange);if(t.onAdvance)this.on(m.Advance,t.onAdvance);if(t.onload&&!t.onLoad)this.on(m.Load,t.onload);if(t.onloaderror&&!t.onLoadError)this.on(m.LoadError,t.onloaderror);if(t.onplay&&!t.onPlay)this.on(m.Play,t.onplay);if(t.onpause&&!t.onPause)this.on(m.Pause,t.onpause);if(t.onstop&&!t.onStop)this.on(m.Stop,t.onstop);if(t.onloop&&!t.onLoop)this.on(m.Loop,t.onloop);if(t.onstatechange&&!t.onStateChange)this.on(m.StateChange,t.onstatechange);if(t.assetLoader)this.assetLoader=t.assetLoader;this.taskQueue=new x(this.eventManager);this.init({src:this.src,buffer:this.buffer,riveFile:this.riveFile,autoplay:t.autoplay,animations:t.animations,stateMachines:t.stateMachines,artboard:t.artboard,useOffscreenRenderer:t.useOffscreenRenderer})}t.new=function(n){console.warn("This function is deprecated: please use `new Rive({})` instead");return new t(n)};t.prototype.onSystemAudioChanged=function(){this.volume=this._volume};t.prototype.init=function(n){var e=this;var i=n.src,r=n.buffer,o=n.riveFile,s=n.animations,a=n.stateMachines,u=n.artboard,h=n.autoplay,f=h===void 0?false:h,c=n.useOffscreenRenderer,l=c===void 0?false:c;this.src=i;this.buffer=r;this.riveFile=o;if(!this.src&&!this.buffer&&!this.riveFile){throw new Error(t.missingErrorMessage)}var v=E(s);var w=E(a);this.loaded=false;this.readyForPlaying=false;d.awaitInstance().then((function(t){e.runtime=t;e.removeRiveListeners();e.deleteRiveRenderer();e.renderer=e.runtime.makeRenderer(e.canvas,l);if(!(e.canvas.width||e.canvas.height)){e.resizeDrawingSurfaceToCanvas()}e.initData(u,v,w,f).then((function(){return e.setupRiveListeners()})).catch((function(t){console.error(t)}))})).catch((function(t){console.error(t)}))};t.prototype.setupRiveListeners=function(t){var n=this;if(this.eventCleanup){this.eventCleanup()}if(!this.shouldDisableRiveListeners){var e=(this.animator.stateMachines||[]).filter((function(t){return t.playing&&n.runtime.hasListeners(t.instance)})).map((function(t){return t.instance}));var i=this.isTouchScrollEnabled;if(t&&"isTouchScrollEnabled"in t){i=t.isTouchScrollEnabled}this.eventCleanup=(0,o.registerTouchInteractions)({canvas:this.canvas,artboard:this.artboard,stateMachines:e,renderer:this.renderer,rive:this.runtime,fit:this._layout.runtimeFit(this.runtime),alignment:this._layout.runtimeAlignment(this.runtime),isTouchScrollEnabled:i,layoutScaleFactor:this._layout.layoutScaleFactor})}};t.prototype.removeRiveListeners=function(){if(this.eventCleanup){this.eventCleanup();this.eventCleanup=null}};t.prototype.initializeAudio=function(){var t=this;var n;if(C.status==_.UNAVAILABLE){if(((n=this.artboard)===null||n===void 0?void 0:n.hasAudio)&&this._audioEventListener===null){this._audioEventListener={type:m.AudioStatusChange,callback:function(){return t.onSystemAudioChanged()}};C.add(this._audioEventListener);C.establishAudio()}}};t.prototype.initArtboardSize=function(){if(!this.artboard)return;this._artboardWidth=this.artboard.width=this._artboardWidth||this.artboard.width;this._artboardHeight=this.artboard.height=this._artboardHeight||this.artboard.height};t.prototype.initData=function(t,n,e,i){return a(this,void 0,void 0,(function(){var r;var o;return u(this,(function(s){switch(s.label){case 0:s.trys.push([0,3,,4]);if(!(this.riveFile==null))return[3,2];this.riveFile=new O({src:this.src,buffer:this.buffer,enableRiveAssetCDN:this.enableRiveAssetCDN,assetLoader:this.assetLoader});return[4,this.riveFile.init()];case 1:s.sent();s.label=2;case 2:this.file=this.riveFile.getInstance();this.initArtboard(t,n,e,i);this.initArtboardSize();this.initializeAudio();this.loaded=true;this.eventManager.fire({type:m.Load,data:(o=this.src)!==null&&o!==void 0?o:"buffer"});this.readyForPlaying=true;this.taskQueue.process();this.drawFrame();return[2,Promise.resolve()];case 3:s.sent();r="Problem loading file; may be corrupt!";console.warn(r);this.eventManager.fire({type:m.LoadError,data:r});return[2,Promise.reject(r)];case 4:return[2]}}))}))};t.prototype.initArtboard=function(t,n,e,i){if(!this.file){return}var r=t?this.file.artboardByName(t):this.file.defaultArtboard();if(!r){var o="Invalid artboard name or no default artboard";console.warn(o);this.eventManager.fire({type:m.LoadError,data:o});return}this.artboard=r;r.volume=this._volume*C.systemVolume;if(this.artboard.animationCount()<1){var o="Artboard has no animations";this.eventManager.fire({type:m.LoadError,data:o});throw o}this.animator=new b(this.runtime,this.artboard,this.eventManager);var s;if(n.length>0||e.length>0){s=n.concat(e);this.animator.initLinearAnimations(n,i);this.animator.initStateMachines(e,i)}else{s=[this.animator.atLeastOne(i,false)]}this.taskQueue.add({event:{type:i?m.Play:m.Pause,data:s}})};t.prototype.drawFrame=function(){this.startRendering()};t.prototype.draw=function(t,n){this.frameRequestId=null;var e=performance.now();if(!this.lastRenderTime){this.lastRenderTime=t}this.renderSecondTimer+=t-this.lastRenderTime;if(this.renderSecondTimer>5e3){this.renderSecondTimer=0;n===null||n===void 0?void 0:n()}var i=(t-this.lastRenderTime)/1e3;this.lastRenderTime=t;var r=this.animator.animations.filter((function(t){return t.playing||t.needsScrub})).sort((function(t){return t.needsScrub?-1:1}));for(var s=0,a=r;s<a.length;s++){var u=a[s];u.advance(i);if(u.instance.didLoop){u.loopCount+=1}u.apply(1)}var h=this.animator.stateMachines.filter((function(t){return t.playing}));for(var f=0,c=h;f<c.length;f++){var d=c[f];var l=d.reportedEventCount();if(l){for(var v=0;v<l;v++){var p=d.reportedEventAt(v);if(p){if(p.type===w.OpenUrl){this.eventManager.fire({type:m.RiveEvent,data:p});if(this.automaticallyHandleEvents){var b=document.createElement("a");var g=p,y=g.url,x=g.target;var _=(0,o.sanitizeUrl)(y);y&&b.setAttribute("href",_);x&&b.setAttribute("target",x);if(_&&_!==o.BLANK_URL){b.click()}}}else{this.eventManager.fire({type:m.RiveEvent,data:p})}}}}d.advanceAndApply(i)}if(this.animator.stateMachines.length==0){this.artboard.advance(i)}var k=this.renderer;k.clear();k.save();this.alignRenderer();if(!this._hasZeroSize){this.artboard.draw(k)}k.restore();k.flush();this.animator.handleLooping();this.animator.handleStateChanges();this.animator.handleAdvancing(i);this.frameCount++;var C=performance.now();this.frameTimes.push(C);this.durations.push(C-e);while(this.frameTimes[0]<=C-1e3){this.frameTimes.shift();this.durations.shift()}if(this.animator.isPlaying){this.startRendering()}else if(this.animator.isPaused){this.lastRenderTime=0}else if(this.animator.isStopped){this.lastRenderTime=0}};t.prototype.alignRenderer=function(){var t=this,n=t.renderer,e=t.runtime,i=t._layout,r=t.artboard;n.align(i.runtimeFit(e),i.runtimeAlignment(e),{minX:i.minX,minY:i.minY,maxX:i.maxX,maxY:i.maxY},r.bounds,this._devicePixelRatioUsed*i.layoutScaleFactor)};Object.defineProperty(t.prototype,"fps",{get:function(){return this.durations.length},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"frameTime",{get:function(){if(this.durations.length===0){return 0}return(this.durations.reduce((function(t,n){return t+n}),0)/this.durations.length).toFixed(4)},enumerable:false,configurable:true});t.prototype.cleanup=function(){var t;this.stopRendering();this.cleanupInstances();if(this._observed!==null){$.remove(this._observed)}this.removeRiveListeners();(t=this.riveFile)===null||t===void 0?void 0:t.cleanup();this.riveFile=null;this.file=null;this.deleteRiveRenderer();if(this._audioEventListener!==null){C.remove(this._audioEventListener);this._audioEventListener=null}};t.prototype.deleteRiveRenderer=function(){var t;(t=this.renderer)===null||t===void 0?void 0:t.delete();this.renderer=null};t.prototype.cleanupInstances=function(){if(this.eventCleanup!==null){this.eventCleanup()}this.stop();if(this.artboard){this.artboard.delete();this.artboard=null}};t.prototype.retrieveTextRun=function(t){var n;if(!t){console.warn("No text run name provided");return}if(!this.artboard){console.warn("Tried to access text run, but the Artboard is null");return}var e=this.artboard.textRun(t);if(!e){console.warn("Could not access a text run with name '".concat(t,"' in the '").concat((n=this.artboard)===null||n===void 0?void 0:n.name,"' Artboard. Note that you must rename a text run node in the Rive editor to make it queryable at runtime."));return}return e};t.prototype.getTextRunValue=function(t){var n=this.retrieveTextRun(t);return n?n.text:undefined};t.prototype.setTextRunValue=function(t,n){var e=this.retrieveTextRun(t);if(e){e.text=n}};t.prototype.play=function(t,n){var e=this;t=E(t);if(!this.readyForPlaying){this.taskQueue.add({action:function(){return e.play(t,n)}});return}this.animator.play(t);if(this.eventCleanup){this.eventCleanup()}this.setupRiveListeners();this.startRendering()};t.prototype.pause=function(t){var n=this;t=E(t);if(!this.readyForPlaying){this.taskQueue.add({action:function(){return n.pause(t)}});return}if(this.eventCleanup){this.eventCleanup()}this.animator.pause(t)};t.prototype.scrub=function(t,n){var e=this;t=E(t);if(!this.readyForPlaying){this.taskQueue.add({action:function(){return e.scrub(t,n)}});return}this.animator.scrub(t,n||0);this.drawFrame()};t.prototype.stop=function(t){var n=this;t=E(t);if(!this.readyForPlaying){this.taskQueue.add({action:function(){return n.stop(t)}});return}if(this.animator){this.animator.stop(t)}if(this.eventCleanup){this.eventCleanup()}};t.prototype.reset=function(t){var n;var e=t===null||t===void 0?void 0:t.artboard;var i=E(t===null||t===void 0?void 0:t.animations);var r=E(t===null||t===void 0?void 0:t.stateMachines);var o=(n=t===null||t===void 0?void 0:t.autoplay)!==null&&n!==void 0?n:false;this.cleanupInstances();this.initArtboard(e,i,r,o);this.taskQueue.process()};t.prototype.load=function(t){this.file=null;this.stop();this.init(t)};Object.defineProperty(t.prototype,"layout",{get:function(){return this._layout},set:function(t){this._layout=t;if(!t.maxX||!t.maxY){this.resizeToCanvas()}if(this.loaded&&!this.animator.isPlaying){this.drawFrame()}},enumerable:false,configurable:true});t.prototype.resizeToCanvas=function(){this._layout=this.layout.copyWith({minX:0,minY:0,maxX:this.canvas.width,maxY:this.canvas.height})};t.prototype.resizeDrawingSurfaceToCanvas=function(t){if(this.canvas instanceof HTMLCanvasElement&&!!window){var n=this.canvas.getBoundingClientRect(),e=n.width,i=n.height;var r=t||window.devicePixelRatio||1;this.devicePixelRatioUsed=r;this.canvas.width=r*e;this.canvas.height=r*i;this.startRendering();this.resizeToCanvas();if(this.layout.fit===h.Layout){var o=this._layout.layoutScaleFactor;this.artboard.width=e/o;this.artboard.height=i/o}}};Object.defineProperty(t.prototype,"source",{get:function(){return this.src},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"activeArtboard",{get:function(){return this.artboard?this.artboard.name:""},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"animationNames",{get:function(){if(!this.loaded||!this.artboard){return[]}var t=[];for(var n=0;n<this.artboard.animationCount();n++){t.push(this.artboard.animationByIndex(n).name)}return t},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"stateMachineNames",{get:function(){if(!this.loaded||!this.artboard){return[]}var t=[];for(var n=0;n<this.artboard.stateMachineCount();n++){t.push(this.artboard.stateMachineByIndex(n).name)}return t},enumerable:false,configurable:true});t.prototype.stateMachineInputs=function(t){if(!this.loaded){return}var n=this.animator.stateMachines.find((function(n){return n.name===t}));return n===null||n===void 0?void 0:n.inputs};t.prototype.retrieveInputAtPath=function(t,n){if(!t){console.warn("No input name provided for path '".concat(n,"'"));return}if(!this.artboard){console.warn("Tried to access input: '".concat(t,"', at path: '").concat(n,"', but the Artboard is null"));return}var e=this.artboard.inputByPath(t,n);if(!e){console.warn("Could not access an input with name: '".concat(t,"', at path:'").concat(n,"'"));return}return e};t.prototype.setBooleanStateAtPath=function(t,n,e){var i=this.retrieveInputAtPath(t,e);if(!i)return;if(i.type===l.Boolean){i.asBool().value=n}else{console.warn("Input with name: '".concat(t,"', at path:'").concat(e,"' is not a boolean"))}};t.prototype.setNumberStateAtPath=function(t,n,e){var i=this.retrieveInputAtPath(t,e);if(!i)return;if(i.type===l.Number){i.asNumber().value=n}else{console.warn("Input with name: '".concat(t,"', at path:'").concat(e,"' is not a number"))}};t.prototype.fireStateAtPath=function(t,n){var e=this.retrieveInputAtPath(t,n);if(!e)return;if(e.type===l.Trigger){e.asTrigger().fire()}else{console.warn("Input with name: '".concat(t,"', at path:'").concat(n,"' is not a trigger"))}};t.prototype.retrieveTextAtPath=function(t,n){if(!t){console.warn("No text name provided for path '".concat(n,"'"));return}if(!n){console.warn("No path provided for text '".concat(t,"'"));return}if(!this.artboard){console.warn("Tried to access text: '".concat(t,"', at path: '").concat(n,"', but the Artboard is null"));return}var e=this.artboard.textByPath(t,n);if(!e){console.warn("Could not access text with name: '".concat(t,"', at path:'").concat(n,"'"));return}return e};t.prototype.getTextRunValueAtPath=function(t,n){var e=this.retrieveTextAtPath(t,n);if(!e){console.warn("Could not get text with name: '".concat(t,"', at path:'").concat(n,"'"));return}return e.text};t.prototype.setTextRunValueAtPath=function(t,n,e){var i=this.retrieveTextAtPath(t,e);if(!i){console.warn("Could not set text with name: '".concat(t,"', at path:'").concat(e,"'"));return}i.text=n};Object.defineProperty(t.prototype,"playingStateMachineNames",{get:function(){if(!this.loaded){return[]}return this.animator.stateMachines.filter((function(t){return t.playing})).map((function(t){return t.name}))},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"playingAnimationNames",{get:function(){if(!this.loaded){return[]}return this.animator.animations.filter((function(t){return t.playing})).map((function(t){return t.name}))},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"pausedAnimationNames",{get:function(){if(!this.loaded){return[]}return this.animator.animations.filter((function(t){return!t.playing})).map((function(t){return t.name}))},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"pausedStateMachineNames",{get:function(){if(!this.loaded){return[]}return this.animator.stateMachines.filter((function(t){return!t.playing})).map((function(t){return t.name}))},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"isPlaying",{get:function(){return this.animator.isPlaying},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"isPaused",{get:function(){return this.animator.isPaused},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"isStopped",{get:function(){return this.animator.isStopped},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"bounds",{get:function(){return this.artboard?this.artboard.bounds:undefined},enumerable:false,configurable:true});t.prototype.on=function(t,n){this.eventManager.add({type:t,callback:n})};t.prototype.off=function(t,n){this.eventManager.remove({type:t,callback:n})};t.prototype.unsubscribe=function(t,n){console.warn("This function is deprecated: please use `off()` instead.");this.off(t,n)};t.prototype.removeAllRiveEventListeners=function(t){this.eventManager.removeAll(t)};t.prototype.unsubscribeAll=function(t){console.warn("This function is deprecated: please use `removeAllRiveEventListeners()` instead.");this.removeAllRiveEventListeners(t)};t.prototype.stopRendering=function(){if(this.loaded&&this.frameRequestId){if(this.runtime.cancelAnimationFrame){this.runtime.cancelAnimationFrame(this.frameRequestId)}else{cancelAnimationFrame(this.frameRequestId)}this.frameRequestId=null}};t.prototype.startRendering=function(){if(this.loaded&&this.artboard&&!this.frameRequestId){if(this.runtime.requestAnimationFrame){this.frameRequestId=this.runtime.requestAnimationFrame(this.draw.bind(this))}else{this.frameRequestId=requestAnimationFrame(this.draw.bind(this))}}};t.prototype.enableFPSCounter=function(t){this.runtime.enableFPSCounter(t)};t.prototype.disableFPSCounter=function(){this.runtime.disableFPSCounter()};Object.defineProperty(t.prototype,"contents",{get:function(){if(!this.loaded){return undefined}var t={artboards:[]};for(var n=0;n<this.file.artboardCount();n++){var e=this.file.artboardByIndex(n);var i={name:e.name,animations:[],stateMachines:[]};for(var r=0;r<e.animationCount();r++){var o=e.animationByIndex(r);i.animations.push(o.name)}for(var s=0;s<e.stateMachineCount();s++){var a=e.stateMachineByIndex(s);var u=a.name;var h=new this.runtime.StateMachineInstance(a,e);var f=[];for(var c=0;c<h.inputCount();c++){var d=h.input(c);f.push({name:d.name,type:d.type})}i.stateMachines.push({name:u,inputs:f})}t.artboards.push(i)}return t},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"volume",{get:function(){if(this.artboard&&this.artboard.volume!==this._volume){this._volume=this.artboard.volume}return this._volume},set:function(t){this._volume=t;if(this.artboard){this.artboard.volume=t*C.systemVolume}},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"artboardWidth",{get:function(){var t;if(this.artboard){return this.artboard.width}return(t=this._artboardWidth)!==null&&t!==void 0?t:0},set:function(t){this._artboardWidth=t;if(this.artboard){this.artboard.width=t}},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"artboardHeight",{get:function(){var t;if(this.artboard){return this.artboard.height}return(t=this._artboardHeight)!==null&&t!==void 0?t:0},set:function(t){this._artboardHeight=t;if(this.artboard){this.artboard.height=t}},enumerable:false,configurable:true});t.prototype.resetArtboardSize=function(){if(this.artboard){this.artboard.resetArtboardSize();this._artboardWidth=this.artboard.width;this._artboardHeight=this.artboard.height}else{this._artboardWidth=undefined;this._artboardHeight=undefined}};Object.defineProperty(t.prototype,"devicePixelRatioUsed",{get:function(){return this._devicePixelRatioUsed},set:function(t){this._devicePixelRatioUsed=t},enumerable:false,configurable:true});t.missingErrorMessage="Rive source file or data buffer required";return t}();var P=function(t){return a(void 0,void 0,void 0,(function(){var n,e,i;return u(this,(function(r){switch(r.label){case 0:n=new Request(t);return[4,fetch(n)];case 1:e=r.sent();return[4,e.arrayBuffer()];case 2:i=r.sent();return[2,i]}}))}))};var E=function(t){if(typeof t==="string"){return[t]}else if(t instanceof Array){return t}return[]};var S={EventManager:y,TaskQueueManager:x};var I=function(t){return new Promise((function(n){return d.getInstance((function(e){e.decodeAudio(t,n)}))}))};var L=function(t){return new Promise((function(n){return d.getInstance((function(e){e.decodeImage(t,n)}))}))};var D=function(t){return new Promise((function(n){return d.getInstance((function(e){e.decodeFont(t,n)}))}))}})();return i})()))})(m);const g=".lido-canvas{height:100%;width:100%}";const y=g;const x=class{constructor(n){t(this,n);this.initializeRive=t=>{const n=a.getInstance();const e=this.el.querySelector("canvas");this.riveInstance=new m.exports.Rive({src:t,canvas:e,stateMachines:"Idle",autoplay:true,onLoad:()=>{this.riveInstance.resizeDrawingSurfaceToCanvas();n.setRiveInstance(this.riveInstance)}})};this.id=undefined;this.value=undefined;this.height=undefined;this.width=undefined;this.ariaLabel=undefined;this.ariaHidden=undefined;this.x=undefined;this.y=undefined;this.z=undefined;this.bgColor=undefined;this.type=undefined;this.tabIndex=undefined;this.visible=undefined;this.audio=undefined;this.src=undefined;this.onTouch=undefined;this.onInCorrect=undefined;this.onCorrect=undefined;this.onEntry=undefined}async componentDidLoad(){o(this.el,this.type);this.initializeRive(s(this.src))}render(){const t={height:this.height,width:this.width,backgroundColor:this.bgColor,top:this.y,left:this.x,display:this.visible?"flex":"none",zIndex:this.z};return n(e,{key:"7cbafd15e6ffab907fb5ce58446971a5681de60c",id:this.id,type:this.type,tabindex:this.tabIndex,value:this.value,style:t,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,audio:this.audio,onTouch:this.onTouch,onCorrect:this.onCorrect,onInCorrect:this.onInCorrect,onEntry:this.onEntry},n("canvas",{key:"e4809a9cbe812db6aace7dc00dd21f748d0170b5",class:"lido-canvas"}))}get el(){return i(this)}};x.style=y;const _=".lido-col{top:var(--y, 0);left:var(--x, 0);height:var(--height, 100%);width:var(--width, 100%);background-color:var(--bgColor, #eeeeee);padding:15px;border-radius:10px;display:flex;justify-content:space-around;flex-direction:column;align-items:center}.lido-col>*{}";const k=_;const C=class{constructor(n){t(this,n);this.id=undefined;this.value=undefined;this.height=undefined;this.width=undefined;this.ariaLabel=undefined;this.ariaHidden=undefined;this.x=undefined;this.y=undefined;this.z=undefined;this.bgColor=undefined;this.type=undefined;this.tabIndex=undefined;this.visible=undefined;this.audio=undefined;this.onTouch=undefined;this.onInCorrect=undefined;this.onCorrect=undefined;this.onEntry=undefined;this.childElementsLength=undefined;this.minLength=undefined;this.maxLength=undefined;this.direction=undefined;this.borderImage=undefined;this.style={}}componentDidLoad(){o(this.el,this.type);u(this.el,this.minLength,this.maxLength,this.childElementsLength,"flex")}componentWillLoad(){this.updateStyles();window.addEventListener("resize",this.updateStyles.bind(this));window.addEventListener("load",this.updateStyles.bind(this))}disconnectedCallback(){window.removeEventListener("resize",this.updateStyles.bind(this));window.removeEventListener("load",this.updateStyles.bind(this))}updateStyles(){const t=this.borderImage?s(this.borderImage):"";const n=window.innerHeight>window.innerWidth?"portrait":"landscape";this.style={height:h(this.height,n),width:h(this.width,n),backgroundColor:h(this.bgColor,n),top:h(this.y,n),left:h(this.x,n),zIndex:this.z,display:this.visible?"flex":"none",flexDirection:!this.direction?"column":h(this.direction,n),borderImage:`url(${t})`,borderImageSlice:t?"0 fill":""}}render(){return n(e,{key:"4afb56b6335599cfda9ec1da478ddc429d9f367a",id:this.id,class:"lido-col",type:this.type,tabindex:this.tabIndex,value:this.value,style:this.style,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,audio:this.audio,onTouch:this.onTouch,onCorrect:this.onCorrect,onInCorrect:this.onInCorrect,onEntry:this.onEntry},n("slot",{key:"b7484d56a201ee81911cbd7a2e658bf0af44a7ef"}))}get el(){return i(this)}};C.style=k;const A=".lido-container{position:relative;height:100%;width:100%;background-color:var(--bgColor, #ffffff);display:flex;flex-direction:column;justify-content:center;align-items:center}";const j=A;const T=class{constructor(n){t(this,n);this.id=undefined;this.objective=undefined;this.customStyle=undefined;this.value=undefined;this.height=undefined;this.width=undefined;this.ariaLabel=undefined;this.ariaHidden=undefined;this.x=undefined;this.y=undefined;this.z=undefined;this.bgColor=undefined;this.bgImage=undefined;this.type=undefined;this.tabIndex=undefined;this.visible=undefined;this.audio=undefined;this.onTouch=undefined;this.onInCorrect=undefined;this.onCorrect=undefined;this.onEntry=undefined;this.canplay=true;this.showCheck=false;this.isContinueOnCorrect=false;this.isAllowOnlyCorrect=false;this.baseUrl=""}convertToPixels(t,n=document.body){if(!t)return 0;if(t.endsWith("px")){return parseFloat(t)}const e=document.createElement("div");e.style.position="absolute";e.style.visibility="hidden";e.style.height=t;n.appendChild(e);const i=e.offsetHeight;n.removeChild(e);return i}scaleContainer(t){var n;const e=[window.innerWidth];const i=[window.innerHeight];if((n=window.screen)===null||n===void 0?void 0:n.width){e.push(window.screen.width);i.push(window.screen.height)}const r=Math.min(...e);const o=Math.min(...i);const s=o>r;let a;let u;if(s){a=r/900;u=o/1600}else{a=r/1600;u=o/900}const h=Math.min(a,u);t.style.transform=`translate(-50%, -50%) scale(${h})`;t.style.left="50%";t.style.top="50%";t.style.position="absolute";this.screenOrientation()}screenOrientation(){if(window.innerHeight>window.innerWidth){this.el.style.height="1600px";this.el.style.width="900px"}else{this.el.style.height="900px";this.el.style.width="1600px"}}componentDidLoad(){this.scaleContainer(this.el);const t=this.bgImage?s(this.bgImage):"";document.body.style.backgroundColor=this.bgColor;document.body.style.backgroundImage=`url(${t})`;window.addEventListener("resize",(()=>this.scaleContainer(this.el)));window.addEventListener("load",(()=>this.scaleContainer(this.el)));o(this.el,this.type);if(this.customStyle){const t=document.createElement("style");t.innerHTML=this.customStyle;document.head.appendChild(t)}}disconnectedCallback(){window.removeEventListener("resize",(()=>this.scaleContainer(this.el)));window.removeEventListener("load",(()=>this.scaleContainer(this.el)));document.body.style.backgroundColor="";document.body.style.backgroundImage=""}render(){const t={backgroundColor:this.bgColor,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"};console.log("🚀 ~ LidoContainer ~ canplay:",this.canplay);return n(e,{key:"1405439fb38afbedb8c29062766d9fb8358fe72a",id:"lido-container",tabindex:0,class:"lido-container",objective:this.objective,baseUrl:this.baseUrl,style:t,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,onTouch:this.onTouch,onInCorrect:this.onInCorrect,onCorrect:this.onCorrect,onEntry:this.onEntry,showCheck:`${this.showCheck}`,isContinueOnCorrect:`${this.isContinueOnCorrect}`,isAllowOnlyCorrect:`${this.isAllowOnlyCorrect}`,canplay:`${this.canplay}`},n("slot",{key:"eeb15e63789bff68b699893793dd4e59e3f96678"}))}get el(){return i(this)}};T.style=j;const $="@import url('https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap'); @import url('https://fonts.googleapis.com/css2?family=Baloo+2:wght@400..800&display=swap'); body{overflow:hidden;background-position:center;background-size:cover;background-repeat:no-repeat;height:100vh}.lido-disable-check-button{pointer-events:none;background-color:#9393935c !important;color:white}.lido-element-selected{border:2px solid;background-color:#ffdf7d !important}";const O=$;const M="@keyframes rightToPlace{from{transform:translateX(2000px)}to{transform:translateX(0)}}@keyframes topToPlace{from{transform:translateY(-1000px)}to{transform:translateY(0)}}@keyframes bottomToPlace{from{transform:translateY(1000px)}to{transform:translateY(0)}}@keyframes placeToLeft{from{}to{transform:translateX(-2000px)}}@keyframes leftToPlace{from{transform:translateX(-2000px)}to{transform:translateX(0)}}@keyframes shake{0%{transform:translateX(0)}10%{transform:translateX(-5px)}20%{transform:translateX(5px)}30%{transform:translateX(-5px)}40%{transform:translateX(5px)}50%{transform:translateX(-5px)}60%{transform:translateX(5px)}70%{transform:translateX(-5px)}80%{transform:translateX(5px)}90%{transform:translateX(-5px)}100%{transform:translateX(0)}}@keyframes fallAndBounce{0%{transform:translateY(-1000px)}25%{transform:translateY(0px)}50%{transform:translateY(-200px)}75%{transform:translateY(0)}90%{transform:translateY(-100px)}100%{transform:translateY(0)}}@keyframes placeToDown{0%{transform:translateY(0)}100%{transform:translateY(1000px)}}";const P=M;const E=".lido-snackbar{visibility:visible;min-width:250px;background-color:#333;color:#fff;text-align:center;border-radius:2px;padding:16px;position:fixed;z-index:1;bottom:30px;left:50%;transform:translateX(-50%);font-size:17px}.lido-dot-container{text-align:center;position:fixed;z-index:1;width:fit-content;top:1%;left:50%;transform:translate(-50%)}.lido-dot{height:15px;width:15px;margin:0 4px;background-color:#bbb;border-radius:50%;display:inline-block;transition:background-color 0.3s;cursor:pointer}.lido-dot.completed{background-color:grey}.lido-dot.current{background-color:green}.lido-dot:not(.completed):not(.current){background-color:#bbb}";const S=E;const I=class{constructor(n){t(this,n);this.NextContainerKey=t=>{if(t!=undefined&&t==this.currentContainerIndex)return;localStorage.removeItem(f);localStorage.removeItem(c);if(t!=undefined&&t<this.containers.length){this.currentContainerIndex=t;d(this.currentContainerIndex)}else if(this.currentContainerIndex<this.containers.length-1){this.currentContainerIndex++;d(this.currentContainerIndex)}else if(this.currentContainerIndex>=this.containers.length-1){this.showCompletionMessage=true;l();this.currentContainerIndex=0;setTimeout((()=>{this.showCompletionMessage=false}),3e3)}this.containers=[...this.containers]};this.xmlData=undefined;this.initialIndex=0;this.canplay=true;this.baseUrl="";this.height="";this.currentContainerIndex=this.initialIndex;this.showCompletionMessage=false;this.containers=[]}componentWillLoad(){window.addEventListener(v,(()=>{this.NextContainerKey()}));window.addEventListener("changeContainer",(t=>{this.NextContainerKey(t.detail.index)}));this.parseXMLData(this.xmlData);window.addEventListener("beforeunload",(()=>{localStorage.removeItem(f);localStorage.removeItem(c)}))}disconnectedCallback(){window.removeEventListener(v,(()=>{this.NextContainerKey()}));window.removeEventListener("changeContainer",(t=>{this.NextContainerKey(t.detail.index)}))}parseXMLData(t){if(t){const n=new DOMParser;const e=n.parseFromString(t,"text/xml");const i=e.documentElement;this.parseContainers(i)}}parseElement(t){const e=t.nodeName.toLowerCase();const i={};Array.from(t.attributes).forEach((t=>{i[t.name]=t.value}));const r=Array.from(t.childNodes).map((t=>{if(t.nodeType===1){return this.parseElement(t)}else if(t.nodeType===3&&t.textContent.trim()!==""){return t.textContent}return null})).filter(Boolean);const o={"lido-container":n("lido-container",Object.assign({},i,{canplay:this.canplay,baseUrl:this.baseUrl,height:this.height}),r),"lido-col":n("lido-col",Object.assign({},i),r),"lido-trace":n("lido-trace",Object.assign({},i),r),"lido-image":n("lido-image",Object.assign({},i),r),"lido-row":n("lido-row",Object.assign({},i),r),"lido-text":n("lido-text",Object.assign({},i),r),"lido-pos":n("lido-pos",Object.assign({},i),r),"lido-shape":n("lido-shape",Object.assign({},i),r),"lido-wrap":n("lido-wrap",Object.assign({},i),r),"lido-random":n("lido-random",Object.assign({},i),r),"lido-avatar":n("lido-avatar",Object.assign({},i),r)};if(o[e]){return o[e]}else{console.warn(`Unknown tag: ${e}`);return null}}parseContainers(t){const n=[];const e=t.querySelectorAll("lido-container");e.forEach((t=>{const e=this.parseElement(t);if(e){n.push(e)}}));this.containers=n}renderDots(){const t={pointerEvents:this.canplay?"none":""};return n("div",{id:"lido-dot-indicator",class:"lido-dot-container",style:t},this.containers.map(((t,e)=>n("span",{class:`lido-dot ${e<this.currentContainerIndex?"completed":e===this.currentContainerIndex?"current":""}`,onClick:()=>this.jumpToContainer(e)}))))}jumpToContainer(t){this.NextContainerKey(t)}render(){if(!this.xmlData){return n("div",null,"Please provide XML data.")}return n(e,{index:this.currentContainerIndex,totalIndex:this.containers.length},n("div",{key:this.currentContainerIndex},this.containers[this.currentContainerIndex]),this.renderDots(),this.showCompletionMessage&&n("div",{class:"lido-snackbar"},"All containers have been displayed!"))}};I.style=O+(P+S);const L=".lido-image{user-select:none;-webkit-user-drag:none;object-fit:contain;max-width:100%;max-height:100%;aspect-ratio:1 / 1;}";const D=L;const F=class{constructor(n){t(this,n);this.value=undefined;this.height=undefined;this.width=undefined;this.ariaLabel=undefined;this.ariaHidden=undefined;this.x=undefined;this.y=undefined;this.z=undefined;this.bgColor=undefined;this.type=undefined;this.tabIndex=undefined;this.visible=undefined;this.audio=undefined;this.onTouch=undefined;this.onInCorrect=undefined;this.onCorrect=undefined;this.onEntry=undefined;this.src=undefined;this.style=undefined}componentDidLoad(){o(this.el,this.type)}componentWillLoad(){this.updateStyles();window.addEventListener("resize",this.updateStyles.bind(this));window.addEventListener("load",this.updateStyles.bind(this))}disconnectedCallback(){window.removeEventListener("resize",this.updateStyles.bind(this));window.removeEventListener("load",this.updateStyles.bind(this))}updateStyles(){const t=window.innerHeight>window.innerWidth?"portrait":"landscape";this.style={height:h(this.height,t),width:h(this.width,t),backgroundColor:h(this.bgColor,t),top:h(this.y,t),left:h(this.x,t),zIndex:this.z,display:JSON.parse(h(`${this.visible}`,t))?"flex":"none",alignItems:"center",justifyContent:"center"}}render(){return n(e,{key:"430e4b71153836e73fb4611f2b5b0630a39624a2",type:this.type,tabindex:this.tabIndex,style:this.style,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,value:this.value,audio:this.audio,onTouch:this.onTouch,onCorrect:this.onCorrect,onInCorrect:this.onInCorrect,onEntry:this.onEntry},n("img",{key:"35709cfa8a2975e1f0cd326c5d7acc0f5a4ea711",class:"lido-image",src:s(this.src),alt:"",style:this.style}))}get el(){return i(this)}};F.style=D;const W=".lido-pos{top:var(--y, 0);left:var(--x, 0);height:var(--height, 100%);width:var(--width, 100%);background-color:var(--bgColor, #eeeeee);display:flex;justify-content:space-around;flex-direction:column;position:fixed}.lido-pos>*{position:absolute}";const R=W;const U=class{constructor(n){t(this,n);this.id=undefined;this.value=undefined;this.height=undefined;this.width=undefined;this.ariaLabel=undefined;this.ariaHidden=undefined;this.x=undefined;this.y=undefined;this.z=undefined;this.bgColor=undefined;this.type=undefined;this.tabIndex=undefined;this.visible=undefined;this.audio=undefined;this.onTouch=undefined;this.onInCorrect=undefined;this.onCorrect=undefined;this.onEntry=undefined;this.style=undefined}componentDidLoad(){o(this.el,this.type)}componentWillLoad(){this.updateStyles();window.addEventListener("resize",this.updateStyles.bind(this));window.addEventListener("load",this.updateStyles.bind(this))}disconnectedCallback(){window.removeEventListener("resize",this.updateStyles.bind(this));window.removeEventListener("load",this.updateStyles.bind(this))}updateStyles(){const t=window.innerHeight>window.innerWidth?"portrait":"landscape";this.style={height:h(this.height,t),width:h(this.width,t),backgroundColor:h(this.bgColor,t),top:h(this.y,t),left:h(this.x,t),zIndex:this.z,display:JSON.parse(h(`${this.visible}`,t))?"block":"none"}}render(){return n(e,{key:"26efb5dae4a9b1de11909d09b70045cf53069221",id:this.id,class:"lido-pos",type:this.type,tabindex:this.tabIndex,style:this.style,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,value:this.value,audio:this.audio,onTouch:this.onTouch,onCorrect:this.onCorrect,onInCorrect:this.onInCorrect,onEntry:this.onEntry},n("slot",{key:"069bac1f8b83b603f6c5fef9c584a788f5e61d82"}))}get el(){return i(this)}};U.style=R;const z=".lido-random{display:flex;justify-content:space-between;align-items:center;position:absolute;}.lido-random>*{position:absolute}";const X=z;const Y=class{constructor(n){t(this,n);this.id=undefined;this.value=undefined;this.height=undefined;this.width=undefined;this.ariaLabel=undefined;this.ariaHidden=undefined;this.x=undefined;this.y=undefined;this.z=undefined;this.bgColor=undefined;this.type=undefined;this.tabIndex=undefined;this.visible=undefined;this.audio=undefined;this.onTouch=undefined;this.onInCorrect=undefined;this.onCorrect=undefined;this.onEntry=undefined}componentDidLoad(){const t=this.el.querySelectorAll(".lido-random > *");t.forEach((t=>{const n=Math.random()*100;const e=Math.random()*100;t.style.top=`${n}%`;t.style.left=`${e}%`}))}render(){const t={height:this.height,width:this.width,top:this.y,left:this.x,display:this.visible?"block":"none",zIndex:this.z,backgroundColor:this.bgColor};return n(e,{key:"f8f12449a88c8725b4ad259ff5c23f655a6531c9",class:"lido-random",type:this.type,tabindex:this.tabIndex,value:this.value,style:t,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,audio:this.audio,onTouch:this.onTouch,onCorrect:this.onCorrect,onInCorrect:this.onInCorrect,onEntry:this.onEntry},n("slot",{key:"167be7b21eaacf43f8f4f3569c5d9ca5a2c6cd0a"}))}get el(){return i(this)}};Y.style=X;const N=class{constructor(n){t(this,n);this.xmlPath=undefined;this.initialIndex=0;this.canplay=true;this.baseUrl="";this.xmlData=undefined}async componentWillLoad(){var t;const n=(t=this.xmlPath)!==null&&t!==void 0?t:this.baseUrl+"/index.xml";console.log("🚀 ~ LidoRoot ~ componentWillLoad ~ this.baseUrl:",this.baseUrl);console.log("🚀 ~ LidoRoot ~ componentWillLoad ~ this.xmlPath:",this.xmlPath);console.log("🚀 ~ LidoRoot ~ componentWillLoad ~ xmlPath:",n);try{const t=n.startsWith("http")?n:r(n);const e=await fetch(t);if(!e.ok){throw new Error(`Failed to fetch XML data: ${e.statusText}`)}const i=await e.text();this.xmlData=i}catch(t){console.error("Error fetching XML data:",t);this.xmlData=null}}render(){if(this.xmlData===undefined){return n("div",null,"Loading...")}if(this.xmlData===null){return n("div",null,"Error loading XML data. Please check the path or URL.")}return n("lido-home",{initialIndex:this.initialIndex,canplay:this.canplay,xmlData:this.xmlData,baseUrl:this.baseUrl})}static get assetsDirs(){return["assets"]}};const G=".lido-row{display:flex;justify-content:space-around;align-items:center;}.lido-row>*{}";const B=G;const H=class{constructor(n){t(this,n);this.value=undefined;this.height=undefined;this.width=undefined;this.ariaLabel=undefined;this.ariaHidden=undefined;this.x=undefined;this.y=undefined;this.z=undefined;this.bgColor=undefined;this.type=undefined;this.tabIndex=undefined;this.visible=undefined;this.audio=undefined;this.onTouch=undefined;this.onInCorrect=undefined;this.onCorrect=undefined;this.onEntry=undefined;this.childElementsLength=undefined;this.minLength=undefined;this.maxLength=undefined;this.direction=undefined;this.style={}}componentDidLoad(){o(this.el,this.type);u(this.el,this.minLength,this.maxLength,this.childElementsLength,"flex")}componentWillLoad(){this.updateStyles();window.addEventListener("resize",this.updateStyles.bind(this));window.addEventListener("load",this.updateStyles.bind(this))}disconnectedCallback(){window.removeEventListener("resize",this.updateStyles.bind(this));window.removeEventListener("load",this.updateStyles.bind(this))}updateStyles(){const t=window.innerHeight>window.innerWidth?"portrait":"landscape";this.style={height:h(this.height,t),width:h(this.width,t),backgroundColor:h(this.bgColor,t),top:h(this.y,t),left:h(this.x,t),zIndex:this.z,display:this.visible?"flex":"none",flexDirection:!this.direction?"row":h(this.direction,t)}}render(){return n(e,{key:"f8b0bdf59e07c2247a0369a0078f8142f09c404b",class:"lido-row",type:this.type,tabindex:this.tabIndex,value:this.value,style:this.style,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,audio:this.audio,onTouch:this.onTouch,onCorrect:this.onCorrect,onInCorrect:this.onInCorrect,onEntry:this.onEntry},n("slot",{key:"bce3362f3c323be80ac5973f31f9bbd0d1afceca"}))}get el(){return i(this)}};H.style=B;const V=".lido-shape{position:absolute;top:var(--y);left:var(--x);display:var(--display);z-index:var(--z)}.lido-rectangle{border-radius:0}.lido-circle{width:var(--width);height:var(--width);border-radius:50%;background-color:var(--bgColor)}.lido-ellipse{width:var(--width);height:var(--height);border-radius:50%;background-color:var(--bgColor)}.lido-triangle{width:var(--triangleWidth);height:var(--triangleHeight);background-color:var(--bgColor);clip-path:polygon(50% 0%, 100% 100%, 0% 100%)}.lido-rightTriangle{width:var(--triangleWidth);height:var(--triangleHeight);background-color:var(--bgColor);clip-path:polygon(100% 0%, 100% 100%, 0% 100%)}.lido-leftTriangle{width:var(--triangleWidth);height:var(--triangleHeight);background-color:var(--triangleBgColor);clip-path:polygon(0% 0%, 100% 100%, 0% 100%)}.lido-parallelogram{width:var(--paralleWidth);height:var(--paralleHeight);transform:skew(20deg)}.lido-star{width:var(--starWidth);height:var(--starHeight);background-color:var(--starBgColor);clip-path:polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%)}.lido-pentagon{width:var(--pentagonWidth);height:var(--pentagonHeight);background-color:var(--pentagonBgColor);clip-path:polygon(50% 0%, 100% 38%, 82% 100%, 18% 100%, 0% 38%)}.lido-heptagon{width:var(--heptagonWidth);height:var(--heptagonHeight);background-color:var(--heptagonBgColor);clip-path:polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%)}.lido-octagon{width:var(--octagonWidth);height:var(--octagonHeight);background-color:var(--octagonBgColor);clip-path:polygon(25% 0%, 75% 0%, 100% 25%, 100% 75%, 75% 100%, 25% 100%, 0% 75%, 0% 25%)}.lido-rhombus{width:var(--rhombusWidth);height:var(--rhombusHeight);background-color:var(--rhombusBgColor);clip-path:polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%)}.lido-heart{height:var(--heartHeight);width:var(--heartWidth);border-image:radial-gradient(var(--heartBgColor) 69%, #0000 70%) 84.5%/50%;clip-path:polygon(-41% 0, 50% 91%, 141% 0)}";const q=V;const K=class{constructor(n){t(this,n);this.id=undefined;this.value=undefined;this.height=undefined;this.width=undefined;this.ariaLabel=undefined;this.ariaHidden=undefined;this.x=undefined;this.y=undefined;this.z=undefined;this.bgColor=undefined;this.type=undefined;this.tabIndex=undefined;this.shapeType=undefined;this.visible=undefined;this.audio=undefined;this.onTouch=undefined;this.onInCorrect=undefined;this.onCorrect=undefined;this.onEntry=undefined}componentDidLoad(){o(this.el,this.type)}render(){const t={height:this.shapeType!=="polygon"?this.height:undefined,width:this.shapeType!=="polygon"?this.width:undefined,top:this.y,left:this.x,display:this.visible?"block":"none",zIndex:this.z,backgroundColor:this.shapeType!=="polygon"?this.bgColor:"transparent"};return n(e,{key:"192d0bbf4ef6e5aa99060e22dd5be1c46866862c",class:`lido-shape ${this.shapeType}`,value:this.value,type:this.type,tabindex:this.tabIndex,style:t,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,audio:this.audio,onTouch:this.onTouch,onCorrect:this.onCorrect,onInCorrect:this.onInCorrect,onEntry:this.onEntry})}get el(){return i(this)}};K.style=q;const J=".lido-text{background-color:#fff;box-shadow:0 2px 4px rgba(0, 0, 0, 0.1);transition:background-color 0.3s ease;user-select:none;align-items:center;justify-content:center;text-align:center;border-radius:8px;color:#333;cursor:pointer}.lido-text:hover{background-color:#f0f0f0}";const Q=J;const Z=class{constructor(n){t(this,n);this.id=undefined;this.value=undefined;this.string=undefined;this.font=undefined;this.fontSize=undefined;this.fontColor=undefined;this.highlightWhileSpeaking=undefined;this.height=undefined;this.width=undefined;this.ariaLabel=undefined;this.ariaHidden=undefined;this.x=undefined;this.y=undefined;this.z=undefined;this.bgColor=undefined;this.borderImage=undefined;this.type=undefined;this.tabIndex=undefined;this.visible=undefined;this.audio=undefined;this.onTouch=undefined;this.onInCorrect=undefined;this.onCorrect=undefined;this.onEntry=undefined;this.isAllowOnlyOneDrop=false;this.style={}}componentDidLoad(){o(this.el,this.type)}componentWillLoad(){this.updateStyles();window.addEventListener("resize",this.updateStyles.bind(this));window.addEventListener("load",this.updateStyles.bind(this))}disconnectedCallback(){window.removeEventListener("resize",this.updateStyles.bind(this));window.removeEventListener("load",this.updateStyles.bind(this))}updateStyles(){const t=this.borderImage?s(this.borderImage):"";const n=window.innerHeight>window.innerWidth?"portrait":"landscape";this.style={height:h(this.height,n),width:h(this.width,n),backgroundColor:h(this.bgColor,n),top:h(this.y,n),left:h(this.x,n),zIndex:this.z,fontSize:h(this.fontSize,n),fontFamily:this.font,color:h(this.fontColor,n),display:JSON.parse(h(`${this.visible}`,n))?"flex":"none",borderImage:`url(${t})`,borderImageSlice:t?"0 fill":""}}render(){return n(e,{key:"b50567e3671de97d34cabaf355831ad6aac861f7",class:"lido-text",value:this.value,type:this.type,tabindex:this.tabIndex,audio:this.audio,onTouch:this.onTouch,onCorrect:this.onCorrect,onInCorrect:this.onInCorrect,onEntry:this.onEntry,id:this.id,style:this.style,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,isAllowOnlyOneDrop:`${this.isAllowOnlyOneDrop}`},this.string)}get el(){return i(this)}};Z.style=Q;const tt=":host{display:block;position:relative}#lido-svgContainer{position:absolute;top:0;left:0;right:0;bottom:50px;display:flex;justify-content:center;align-items:center;overflow:hidden}svg{width:100%;height:100%;max-height:calc(100vh - 50px);touch-action:none}#lido-draggableCircle{cursor:pointer;fill:red;transition:fill 0.2s, r 0.2s}.lido-blindTracing{stroke:none !important}.lido-blindFreeTrace{stroke:none !important}.lido-hovered{cursor:grab;fill:darkred}#lido-controls{position:fixed;bottom:0;left:0;right:0;display:flex;justify-content:space-between;padding:10px;background-color:#f0f0f0;border-top:1px solid #ccc}button{padding:10px;font-size:16px}@media (max-width: 600px){button{padding:8px;font-size:14px}}.lido-trace-path-green{stroke:green !important}";const nt=tt;const et=class{constructor(n){t(this,n);this.id=undefined;this.svgSource=undefined;this.value=undefined;this.height=undefined;this.width=undefined;this.x=undefined;this.y=undefined;this.z=undefined;this.ariaLabel=undefined;this.ariaHidden=undefined;this.tabIndex=undefined;this.mode=undefined;this.fileIndex=-1;this.isDragging=false;this.activePointerId=null}async initializeSVG(){let t={fileIndex:-1,currentPathIndex:0,lastLength:0,totalPathLength:0,isDragging:false,circle:null,paths:[],svg:null,proximityThreshold:100,freeTraceProximityThreshold:50,rafId:null,pointerMoveEvent:null,activePointerId:null,mode:this.mode,flowMarkers:[],freeTraceLines:[]};await this.loadAnotherSVG(t,true)}componentWillLoad(){this.initializeSVG()}async fetchSVG(t){const n=await fetch(t);if(!n.ok){throw new Error(`Failed to fetch SVG (${t}): ${n.statusText}`)}return await n.text()}calculateBoundingBox(t,n=22){let e=Infinity,i=Infinity,r=-Infinity,o=-Infinity;t.forEach((t=>{const n=t.getTotalLength();const s=100;for(let a=0;a<=s;a++){const u=t.getPointAtLength(a/s*n);if(u.x<e)e=u.x;if(u.y<i)i=u.y;if(u.x>r)r=u.x;if(u.y>o)o=u.y}}));e-=n;i-=n;r+=n;o+=n;return{minX:e,minY:i,maxX:r,maxY:o}}insertSVG(t){const n=document.getElementById("svgContainer");n.innerHTML=t;const e=n.querySelector("svg");e.removeAttribute("width");e.removeAttribute("height");const i=e.querySelectorAll("path, line");const r=this.calculateBoundingBox(Array.from(i));const o=r.maxX-r.minX;const s=r.maxY-r.minY;e.setAttribute("viewBox",`${r.minX} ${r.minY} ${o} ${s}`)}getSVGElement(){const t=document.getElementById("svgContainer");return t.querySelector("svg")}getPaths(t){return Array.from(t.querySelectorAll("path, line"))}createFlowMarkersForPath(t,n=10){var e;const i=t.getTotalLength();const r=i/(n+1);const o=[];for(let i=1;i<=n;i++){const n=t.getPointAtLength(i*r);const s=t.getPointAtLength((i+.5)*r);const a=Math.atan2(s.y-n.y,s.x-n.x);const u=document.createElementNS("http://www.w3.org/2000/svg","polygon");u.setAttribute("points","-5,-5 0,0 -5,5");u.setAttribute("fill","blue");u.setAttribute("transform",`translate(${n.x},${n.y}) rotate(${a*180/Math.PI})`);u.setAttribute("class","lido-flow-indicator");o.push(u);(e=t.parentNode)===null||e===void 0?void 0:e.appendChild(u)}return o}updateFlowIndicators(t){const n=t.svg.querySelectorAll(".lido-flow-indicator");n.forEach((n=>{if(t.mode===w.NoFlow){n.style.display="none"}else if(t.mode===w.ShowFlow){n.style.display="block"}}))}setupDrawingPath(t){t.paths.forEach(((n,e)=>{const i=n.getTotalLength();const r=n.cloneNode();r.setAttribute("stroke","green");r.setAttribute("stroke-width","13");r.setAttribute("stroke-dasharray",i.toString());r.setAttribute("stroke-dashoffset",i.toString());n.parentNode.appendChild(r,n);n.setAttribute("class","lido-trace-path");r.setAttribute("class","lido-trace-path-green");n.greenPath=r;n.classList.add(t.mode);if(t.mode===w.BlindTracing||t.mode===w.BlindFreeTrace){n.setAttribute("stroke","none")}else{n.setAttribute("stroke","#000");n.setAttribute("stroke-width","10");n.setAttribute("fill","none");n.setAttribute("stroke-dasharray",i.toString());n.setAttribute("stroke-dashoffset","0")}if(e===t.currentPathIndex&&t.mode===w.ShowFlow){t.flowMarkers=this.createFlowMarkersForPath(n)}}));t.totalPathLength=t.paths[t.currentPathIndex].getTotalLength()}setupDraggableCircle(t){var n;const e=t.paths[0].getPointAtLength(0);const i=document.createElementNS("http://www.w3.org/2000/svg","circle");i.setAttribute("id","lido-draggableCircle");i.setAttribute("cx",e.x.toString());i.setAttribute("cy",e.y.toString());i.setAttribute("r","20");i.setAttribute("fill","red");(n=t.svg)===null||n===void 0?void 0:n.appendChild(i);t.circle=i}addEventListeners(t){var n,e,i,r;if(!t.circle||!t.paths||t.paths.length===0)return;t.circle.addEventListener("pointerdown",(n=>{n.preventDefault();const e=this.getPointerPosition(n,t.svg);const i={x:parseFloat(t.circle.getAttribute("cx")),y:parseFloat(t.circle.getAttribute("cy"))};const r=this.getDistanceSquared(e,i);if(r<=t.proximityThreshold*t.proximityThreshold){t.isDragging=true;t.activePointerId=n.pointerId;t.circle.setPointerCapture(n.pointerId)}}));(n=t.svg)===null||n===void 0?void 0:n.addEventListener("pointermove",(n=>{if(!t.isDragging||n.pointerId!==t.activePointerId)return;t.pointerMoveEvent=n;if(!t.rafId){t.rafId=requestAnimationFrame((()=>{this.handlePointerMove(t);t.rafId=null}))}}));(e=t.svg)===null||e===void 0?void 0:e.addEventListener("pointerup",(n=>{if(n.pointerId===t.activePointerId){t.isDragging=false;t.activePointerId=null}}));(i=t.svg)===null||i===void 0?void 0:i.addEventListener("pointercancel",(n=>{if(n.pointerId===t.activePointerId){t.isDragging=false;t.activePointerId=null}}));(r=t.svg)===null||r===void 0?void 0:r.addEventListener("contextmenu",(t=>{t.preventDefault()}))}handlePointerMove(t){var n,e,i,r;if(!t.isDragging)return;if(!t.circle||!t.paths||t.paths.length===0)return;const o=t.pointerMoveEvent;const s=this.getPointerPosition(o,t.svg);const a={x:parseFloat(t.circle.getAttribute("cx")),y:parseFloat(t.circle.getAttribute("cy"))};const u=t.paths[t.currentPathIndex];if(!u){console.error("No valid path found at the current index");return}let h;if(t.mode===w.FreeTrace||t.mode===w.BlindFreeTrace){h=t.freeTraceProximityThreshold*t.freeTraceProximityThreshold}else{h=t.proximityThreshold*t.proximityThreshold}const f=this.getDistanceSquared(s,a);if(f>h){return}const c=this.getClosestPointOnPath(u,s);const d=this.getDistanceSquared(s,c);if(d>h){return}if(t.mode===w.FreeTrace||t.mode===w.BlindFreeTrace){if(!t.currentFreePath){t.currentFreePath=[]}if(!t.currentFreePath[t.currentPathIndex]){const e=document.createElementNS("http://www.w3.org/2000/svg","path");e.setAttribute("stroke","green");e.setAttribute("stroke-width","8");e.setAttribute("fill","none");e.setAttribute("d",`M${s.x},${s.y}`);(n=t.svg)===null||n===void 0?void 0:n.appendChild(e);t.currentFreePath[t.currentPathIndex]=e;t.lastPointerPos=s}const i=t.lastPointerPos||s;const r=t.currentFreePath[t.currentPathIndex].getAttribute("d");const o=(i.x+s.x)/2;const a=(i.y+s.y)/2;const h=`${r} Q ${i.x},${i.y} ${o},${a}`;t.currentFreePath[t.currentPathIndex].setAttribute("d",h);t.circle.setAttribute("cx",s.x.toString());t.circle.setAttribute("cy",s.y.toString());(e=t.svg)===null||e===void 0?void 0:e.appendChild(t.circle);t.lastPointerPos=s;const f=u.getTotalLength();const d=f-c.length;if(d<5){this.moveToNextPath(t);t.currentFreePath[t.currentPathIndex]=null}return}if(t.isDragging&&c.length>=t.lastLength){t.lastLength=c.length;t.circle.setAttribute("cx",c.x.toString());t.circle.setAttribute("cy",c.y.toString());(i=t.svg)===null||i===void 0?void 0:i.appendChild(t.circle);(r=u.greenPath)===null||r===void 0?void 0:r.setAttribute("stroke-dashoffset",(t.totalPathLength-t.lastLength).toString())}if(t.totalPathLength-1-t.lastLength<5&&t.currentPathIndex<t.paths.length-1){this.moveToNextPath(t)}else if(t.totalPathLength-1-t.lastLength<5&&t.currentPathIndex===t.paths.length-1){p()}}getPointerPosition(t,n){var e;const i=n.createSVGPoint();i.x=t.clientX;i.y=t.clientY;const r=(e=n.getScreenCTM())===null||e===void 0?void 0:e.inverse();return r?i.matrixTransform(r):{x:t.clientX,y:t.clientY}}getDistanceSquared(t,n){const e=t.x-n.x;const i=t.y-n.y;return e*e+i*i}getClosestPointOnPath(t,n){const e=t.getTotalLength();let i={x:0,y:0,length:0};let r=Infinity;const o=20;let s={x:0,y:0,length:0};let a=Infinity;for(let i=0;i<=e;i+=o){const e=t.getPointAtLength(i);const r=this.getDistanceSquared(n,e);if(r<a){a=r;s={x:e.x,y:e.y,length:i}}}const u=2;const h=Math.max(s.length-o,0);const f=Math.min(s.length+o,e);for(let e=h;e<=f;e+=u){const o=t.getPointAtLength(e);const s=this.getDistanceSquared(n,o);if(s<r){r=s;i={x:o.x,y:o.y,length:e}}}return i}async loadAnotherSVG(t,n){t.isDragging=false;try{if(t.svg){this.cleanupPreviousSVG(t)}const n=await this.fetchSVG(this.svgSource);this.insertSVG(n);t.svg=this.getSVGElement();t.paths=this.getPaths(t.svg);this.setupDrawingPath(t);this.setupDraggableCircle(t);this.addEventListeners(t)}catch(t){console.error(`Error loading SVG (${this.svgSource}):`,t)}}cleanupPreviousSVG(t){var n,e;if(t.circle){(n=t.svg)===null||n===void 0?void 0:n.removeChild(t.circle);t.circle=null}const i=(e=t.svg)===null||e===void 0?void 0:e.querySelectorAll(".lido-flow-indicator");i.forEach((t=>{t.remove()}));t.currentPathIndex=0;t.lastLength=0;t.totalPathLength=t.paths[0].getTotalLength()}moveToNextPath(t){var n,e;t.isDragging=false;t.currentPathIndex++;t.lastLength=0;if(t.currentPathIndex>=t.paths.length){p();return}const i=t.paths[t.currentPathIndex];if(!i){console.error("No valid path found at the next index");return}t.totalPathLength=i.getTotalLength();const r=i.getPointAtLength(0);(n=t.circle)===null||n===void 0?void 0:n.setAttribute("cx",r.x.toString());(e=t.circle)===null||e===void 0?void 0:e.setAttribute("cy",r.y.toString());if(t.mode===w.ShowFlow){t.flowMarkers=this.createFlowMarkersForPath(i)}}render(){const t={height:this.height,width:this.width,top:this.y,left:this.x,zIndex:this.z,position:"absolute"};return n(e,{key:"0de3d964cbd15ba6a8964c7ba14174643d0fed7b",class:"lido-trace",id:this.id,style:t,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,tabindex:this.tabIndex},n("div",{key:"2826b49767f2c5f781be2106c3fb05cd14bfe8dc",id:"lido-svgContainer"}))}static get assetsDirs(){return["svg"]}};et.style=nt;const it=".lido-wrap{display:grid;grid-gap:10px;grid-template-columns:repeat(auto-fill, minmax(186px, auto))}.lido-wrap>*{padding:10px;background-color:var(--child-bg-color, #f0f0f0);box-sizing:border-box}";const rt=it;const ot=class{constructor(n){t(this,n);this.id=undefined;this.value=undefined;this.height=undefined;this.width=undefined;this.ariaLabel=undefined;this.ariaHidden=undefined;this.x=undefined;this.y=undefined;this.z=undefined;this.bgColor=undefined;this.type=undefined;this.tabIndex=undefined;this.visible=undefined;this.audio=undefined;this.onTouch=undefined;this.onInCorrect=undefined;this.onCorrect=undefined;this.onEntry=undefined;this.childElementsLength=undefined;this.minLength=undefined;this.maxLength=undefined;this.style=undefined}componentDidLoad(){o(this.el,this.type);u(this.el,this.minLength,this.maxLength,this.childElementsLength,"grid")}componentWillLoad(){this.updateStyles();window.addEventListener("resize",this.updateStyles.bind(this));window.addEventListener("load",this.updateStyles.bind(this))}disconnectedCallback(){window.removeEventListener("resize",this.updateStyles.bind(this));window.removeEventListener("load",this.updateStyles.bind(this))}updateStyles(){const t=window.innerHeight>window.innerWidth?"portrait":"landscape";this.style={height:h(this.height,t),width:h(this.width,t),backgroundColor:h(this.bgColor,t),top:h(this.y,t),left:h(this.x,t),zIndex:this.z,display:JSON.parse(h(`${this.visible}`,t))?"grid":"none"}}render(){return n(e,{key:"743df51a1d832b87cd17ad840e9b2497b48d9b72",class:"lido-wrap",value:this.value,type:this.type,tabindex:this.tabIndex,style:this.style,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,audio:this.audio,onTouch:this.onTouch,onCorrect:this.onCorrect,onInCorrect:this.onInCorrect,onEntry:this.onEntry},n("slot",{key:"527bd48b5d85bf8e51133c2e6d29db541d82ae48"}))}get el(){return i(this)}};ot.style=rt;export{x as lido_avatar,C as lido_col,T as lido_container,I as lido_home,F as lido_image,U as lido_pos,Y as lido_random,N as lido_root,H as lido_row,K as lido_shape,Z as lido_text,et as lido_trace,ot as lido_wrap};
//# sourceMappingURL=p-dbc9b17c.entry.js.map