{"version":3,"names":["appColCss","AppColStyle0","AppCol","render","style","height","this","width","backgroundColor","bgColor","top","y","left","x","position","display","visible","padding","borderRadius","h","key","class","onClick","handleEvent","onTouch","event","console","log","appContainerCss","AppContainerStyle0","AppContainer","boxShadow","AppHome","xmlData","appImageCss","AppImageStyle0","AppImage","objectFit","src","objectiveCss","AppObjectiveStyle0","AppObjective","string","split","join","AppRoot","parseElement","element","tagName","nodeName","toLowerCase","props","Array","from","attributes","forEach","attr","name","value","children","childNodes","map","child","nodeType","textContent","trim","filter","Boolean","componentMapping","Object","assign","warn","parser","DOMParser","xmlDoc","parseFromString","rootElement","documentElement","appRowCss","AppRowStyle0","AppRow","MSPF","KEEP_LOOP","tasks","requestAnim","window","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","callback","setTimeout","cancelAnim","cancelAnimationFrame","mozCancelAnimationFrame","webkitCancelAnimationFrame","msCancelAnimationFrame","requestID","clearTimeout","lastFrameTime","Date","now","step","called","next","call","task","listener","indexOfTasks","index","some","i","AnimEvent","add","push","remove","iRemove","splice","length","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","descriptor","enumerable","configurable","writable","defineProperty","_createClass","protoProps","staticProps","prototype","MOUSE_EMU_INTERVAL","CLICK_EMULATOR_ELEMENTS","DBLCLICK_EMULATOR_ELEMENTS","passiveSupported","addEventListener","get","error","addEventListenerWithOptions","type","options","capture","getPointsLength","p0","p1","lx","ly","Math","sqrt","getTouchById","touches","id","identifier","hasXY","xy","clientX","clientY","dragstart","preventDefault","PointerEvent","_this","startHandlers","lastHandlerId","curPointerClass","curTouchId","lastPointerXY","lastTouchTime","stopPropagation","option","regStartHandler","startHandler","that","pointerClass","pointerXY","touchId","changedTouches","Error","cancel","unregStartHandler","handlerId","addStartHandler","concat","passive","removeStartHandler","removeEventListener","addMoveHandler","moveHandler","rawEvent","handler","move","wrappedHandler","curMoveHandler","addEndHandler","endHandler","end","curEndHandler","addCancelHandler","cancelHandler","curCancelHandler","initClickEmulator","moveTolerance","timeTolerance","includes","DEFAULT_MOVE_TOLERANCE","DEFAULT_TIME_TOLERANCE","startX","startY","startMs","touch","performance","newEvent","MouseEvent","emulated","dispatchEvent","initDblClickEmulator","ucf","text","substr","toUpperCase","PREFIXES","NAME_PREFIXES","reduce","prefixes","prefix","VALUE_PREFIXES","getDeclaration","declaration","document","createElement","normalizeName","rePrefixedName","RegExp","reUc","propName","replace","str","test","normalizeValue","rePrefixedValue","propValue","cssSupports","setProperty","getPropertyValue","propNames","propValues","getName","ucfName","prefixed","getValue","res","isArray","CSSPrefix","normalize","token","applyList","list","setAttribute","_add","tokens","indexOf","_remove","_toggle","force","_replace","newToken","mClassList","ignoreNative","classList","getAttribute","ins","item","contains","slice","arguments","methodChain","toggle","_typeof","obj","Symbol","iterator","constructor","ZINDEX","SNAP_GRAVITY","SNAP_CORNER","SNAP_SIDE","SNAP_EDGE","SNAP_BASE","SNAP_ALL_CORNERS","SNAP_ALL_SIDES","SNAP_ALL_EDGES","AUTOSCROLL_SPEED","AUTOSCROLL_SENSITIVITY","IS_EDGE","navigator","msPointerEnabled","IS_TRIDENT","uniqueID","IS_GECKO","IS_BLINK","chrome","CSS","IS_WEBKIT","isObject","toString","fnToString","hasOwnProperty","objFnString","proto","constr","getPrototypeOf","isFinite","Number","insProps","pointerOffset","pointerEvent","insId","activeProps","hasMoved","body","cssValueDraggableCursor","cssValueDraggingCursor","cssOrgValueBodyCursor","cssPropTransitionProperty","cssPropTransform","cssPropUserSelect","cssOrgValueBodyUserSelect","cssWantedValueDraggableCursor","cssWantedValueDraggingCursor","draggableClass","draggingClass","movingClass","scrollFrame","curXyMoveArgs","curElement","curScrollXY","frameUpdate","moveArgs","timeLen","absValue","curValue","lastValue","abs","dir","min","max","newValue","speed","frame","xyMoveArgs","scrollXY","stop","scrollXYWindow","scrollTo","pageYOffset","pageXOffset","scrollXYElement","prop","getScrollable","isWindow","dontScroll","scrollable","cmpStyleHtml","cmpStyleBody","cmpStyleElement","clientWidth","clientHeight","maxScrollLeft","maxScrollTop","curScrollLeft","curScrollTop","getComputedStyle","scrollWidth","len","parseFloat","scrollHeight","rect","getBoundingClientRect","borderLeftWidth","borderTopWidth","copyTree","keys","copyObj","hasChanged","a","b","typeA","keysA","sort","aVal","isElement","Node","ELEMENT_NODE","compareDocumentPosition","DOCUMENT_POSITION_DISCONNECTED","validBBox","bBox","right","bottom","validPPValue","string2PPValue","inString","matches","exec","isRatio","ppValue2OptionValue","ppValue","resolvePPValue","baseOrigin","baseSize","validPPBBox","ppBBox2OptionObject","ppBBox","resolvePPBBox","baseBBox","prop2Axis","baseOriginXY","baseSizeXY","getBBox","getPaddingBox","borderTop","borderRight","borderRightWidth","borderBottom","borderBottomWidth","borderLeft","initAnim","gpuTrigger","webkitTapHighlightColor","cssPropBoxShadow","setDraggableCursor","orgCursor","cursor","setDraggingCursor","viewPoint2SvgPoint","svgPoint","matrixTransform","svgCtmElement","getScreenCTM","inverse","moveTranslate","elementBBox","offset","htmlOffset","elementStyle","moveLeftTop","moved","moveSvg","svgOffset","originBBox","svgOriginBBox","point","svgTransform","setTranslate","cbCheck","fix","minLeft","maxLeft","minTop","maxTop","moveElm","initTranslate","curPosition","RESTORE_PROPS","unshift","orgTransitionProperty","fixPosition","orgStyle","lastStyle","orgSize","cmpStyle","dirProp","newBBox","initLeftTop","margin","initSvg","curRect","newRect","originPoint","curPoint","initBBox","eventType","docBBox","initElm","containmentBBox","containmentIsBBox","containment","parsedSnapTargets","elementSizeXY","minXY","maxXY","xStart","xEnd","xStep","yStart","yEnd","yStep","snapTargets","parsedSnapTarget","baseRect","base","addSnapTarget","targetXY","center","xGravity","gravity","yGravity","corners","corner","snapTarget","gravityXStart","gravityXEnd","gravityYStart","gravityYEnd","specAxis","rangeAxis","startProp","endProp","gravityProp","specAxisL","rangeAxisL","gravitySpecStartProp","gravitySpecEndProp","gravityRangeStartProp","gravityRangeEndProp","sides","side","gravitySpecStart","gravitySpecEnd","edges","edge","lengthenX","lengthenY","expanded","axis","stepProp","start","expandedXY","autoScroll","autoScrollOptions","scrollableBBox","wh","back","forward","maxAbs","lines","elementSize","sensitivity","dragEnd","handle","zIndex","orgZIndex","onDragEnd","dragStart","disabled","onDragStart","_setOptions","newOptions","needsInitBBox","commonSnapOptions","cleanString","added","cornersLen","snap","newSnapOptions","targets","snapTargetsOptions","snapOptions","isElementPre","ppBBoxPre","newSnapTargetOptions","boundingBox","expandedParsedSnapTargets","snapTargetOptions","newOptionsBBox","invalid","parsedXY","newOptionsXY","commonOptions","newAutoScrollOptions","every","newSensitivity","v","optionMin","optionMax","orgUserSelect","pointerEventHandlerId","needsMove","bind","PlainDraggable","_id","ownerSvg","SVGElement","ownerSVGElement","transform","baseVal","appendItem","createSVGTransform","createSVGPoint","svgView","nearestViewportElement","appendChild","createElementNS","namespaceURI","cssPropWillChange","leftTop","parent","parentNode","setOptions","set","onDrag","onMove","onMoveStart","iLen","snappedX","snappedY","snapped","clientXY","line","initDoc","LAZY_INIT_DELAY","initDoneItems","lazyInitTimer","checkInitBBox","initAll","layoutChanging","layoutChange","appTextCss","AppTextStyle0","AppText","componentDidLoad","initializeDraggable","draggable","Draggable","el","querySelectorAll","disconnectedCallback","destroy","fontSize","fontFamily","font","alignItems","justifyContent","textAlign","color","Host"],"sources":["src/components/common/app-col.css?tag=app-col","src/components/common/AppCol.tsx","src/components/common/app-container.css?tag=app-container","src/components/common/AppContainer.tsx","src/components/common/AppHome.tsx","src/components/common/app-image.css?tag=app-image","src/components/common/AppImage.tsx","src/components/common/objective.css?tag=app-objective","src/components/common/Objective.tsx","src/components/common/AppRoot.tsx","src/components/common/app-row.css?tag=app-row","src/components/common/AppRow.tsx","node_modules/plain-draggable/node_modules/anim-event/anim-event.esm.js","node_modules/plain-draggable/node_modules/pointer-event/pointer-event.esm.js","node_modules/plain-draggable/node_modules/cssprefix/cssprefix.esm.js","node_modules/plain-draggable/node_modules/m-class-list/m-class-list.esm.js","node_modules/plain-draggable/plain-draggable.esm.js","src/components/common/app-text.css?tag=app-text","src/components/common/AppText.tsx"],"sourcesContent":[".col {\n  position: absolute;\n  top: var(--y, 0);\n  left: var(--x, 0);\n  height: var(--height, 100%);\n  width: var(--width, 100%);\n  background-color: var(--bgColor, #eeeeee);\n}\n","import { Component, Prop, h } from '@stencil/core';\n\n@Component({\n  tag: 'app-col',\n  styleUrl: 'app-col.css',\n  shadow: false,\n})\nexport class AppCol {\n  @Prop() value: string;\n  @Prop() height: string;\n  @Prop() width: string;\n  @Prop() x: string;\n  @Prop() y: string;\n  @Prop() bgColor: string;\n  @Prop() type: string;\n  @Prop() visible: boolean;\n  @Prop() audio: string;\n  @Prop() onTouch: string;\n  @Prop() onMatch: string;\n  @Prop() onEntry: string;\n\n  render() {\n    const style = {\n      height: this.height,\n      width: this.width,\n      backgroundColor: this.bgColor,\n      top: this.y,\n      left: this.x,\n      position: 'relative',\n      display: this.visible ? 'block' : 'none',\n      padding: '15px',\n      borderRadius: '10px',\n    };\n\n    return (\n      <div class=\"col\" style={style} onClick={() => this.handleEvent(this.onTouch)}>\n        <slot />\n      </div>\n    );\n  }\n\n  private handleEvent(event: string) {\n    if (event) {\n      console.log(`Event Triggered: ${event}`);\n    }\n  }\n}\n",".container {\n  position: relative;\n  height: 100%;\n  width: 100%;\n  background-color: var(--bgColor, #ffffff);\n}\n","import { Component, Prop, h } from '@stencil/core';\n\n@Component({\n  tag: 'app-container',\n  styleUrl: 'app-container.css',\n  shadow: false,\n})\nexport class AppContainer {\n  @Prop() value: string;\n  @Prop() height: string;\n  @Prop() width: string;\n  @Prop() x: string;\n  @Prop() y: string;\n  @Prop() bgColor: string;\n  @Prop() type: string;\n  @Prop() visible: boolean;\n  @Prop() audio: string;\n  @Prop() onTouch: string;\n  @Prop() onMatch: string;\n  @Prop() onEntry: string;\n\n  render() {\n    const style = {\n      height: this.height,\n      width: this.width,\n      backgroundColor: this.bgColor,\n      top: this.y,\n      left: this.x,\n      position: 'absolute',\n      boxShadow: '0 4px 8px rgba(0, 0, 0, 0.1)',\n      borderRadius: '10px',\n    };\n\n    return (\n      <div class=\"container\" style={style} onClick={() => this.handleEvent(this.onTouch)}>\n        <slot />\n      </div>\n    );\n  }\n\n  private handleEvent(event: string) {\n    if (event) {\n      console.log(`Event Triggered: ${event}`);\n    }\n  }\n}\n","import { Component, h } from '@stencil/core';\n\n@Component({\n  tag: 'app-home',\n  shadow: false,\n})\nexport class AppHome {\n  render() {\n    const xmlData = `\n      <app-container\n        id=\"container1\"\n        value=\"mainContainer1\"\n        height=\"100vh\"\n        width=\"100vw\"\n        x=\"0\"\n        y=\"0\"\n        bgColor=\"#FFFFFF\"\n        type=\"slide\"\n        visible=\"true\"\n        audio=\"background1.mp3\"\n        onTouch=\"handleContainer1Touch\"\n        onMatch=\"handleContainer1Match\"\n        onEntry=\"handleContainer1Entry\"\n      >\n\n        <app-col\n          id=\"col1\"\n          value=\"column1\"\n          height=\"60vh\"\n          width=\"80vw\"\n          x=\"0\"\n          y=\"0\"\n          bgColor=\"#EEEEEE\"\n          type=\"drag\"\n          visible=\"true\"\n          audio=\"col1.mp3\"\n          onTouch=\"handleCol1Touch\"\n          onMatch=\"handleCol1Match\"\n          onEntry=\"handleCol1Entry\"\n        >\n          <app-image\n            id=\"image1\"\n            value=\"carImage\"\n            height=\"100vh\"\n            width=\"100vw\"\n            x=\"0\"\n            y=\"0\"\n            bgColor=\"#FFFFFF\"\n            type=\"click\"\n            visible=\"true\"\n            audio=\"image1.mp3\"\n            onTouch=\"handleImage1Touch\"\n            onMatch=\"handleImage1Match\"\n            onEntry=\"handleImage1Entry\"\n            src=\"https://storage.needpix.com/rsynced_images/motorcycle-309786_1280.png\"\n          ></app-image>\n          <app-row\n            id=\"row1\"\n            value=\"row1\"\n            height=\"7vh\"\n            width=\"100%\"\n            x=\"10vw\"\n            y=\"17vh\"\n            bgColor=\"#FFFFFF\"\n            type=\"slide\"\n            visible=\"true\"\n            audio=\"row1.mp3\"\n            onTouch=\"handleRow1Touch\"\n            onMatch=\"handleRow1Match\"\n            onEntry=\"handleRow1Entry\"\n          >\n            <app-text\n              id=\"text1\"\n              string=\"The\"\n              font=\"Arial\"\n              font-size=\"2vh\"\n              highlightWhileSpeaking=\"true\"\n              value=\"word1\"\n              height=\"7vh\"\n              width=\"20vw\"\n              x=\"0vw\"\n              y=\"0\"\n              bgColor=\"#DDDDDD\"\n              type=\"\"\n              drag=\"true\"\n              audio=\"\"\n              visible=\"true\"\n              onTouch=\"\"\n              onMatch=\"handleText1Match\"\n              onEntry=\"\"\n            ></app-text>\n            <app-text\n              id=\"text2\"\n              string=\"car\"\n              font=\"Arial\"\n              font-size=\"2vh\"\n              highlightWhileSpeaking=\"true\"\n              value=\"word2\"\n              height=\"7vh\"\n              width=\"20vw\"\n              x=\"20vw\"\n              visible=\"true\"\n              y=\"0\"\n              bgColor=\"#DDDDDD\"\n              type=\"\"\n              drag=\"true\"\n              audio=\"\"\n              onTouch=\"\"\n              onMatch=\"handleText2Match\"\n              onEntry=\"\"\n            ></app-text>\n            <app-text\n              id=\"text3\"\n              string=\"is\"\n              font=\"Arial\"\n              font-size=\"2vh\"\n              highlightWhileSpeaking=\"true\"\n              value=\"word3\"\n              height=\"7vh\"\n              width=\"20vw\"\n              x=\"40vw\"\n              y=\"0\"\n              bgColor=\"#DDDDDD\"\n              type=\"\"\n              audio=\"\"\n              visible=\"true\"\n              onTouch=\"\"\n              onMatch=\"handleText3Match\"\n              onEntry=\"\"\n            ></app-text>\n            <app-text\n              id=\"text4\"\n              string=\"red\"\n              font=\"Arial\"\n              font-size=\"2vh\"\n              highlightWhileSpeaking=\"true\"\n              value=\"word4\"\n              height=\"7vh\"\n              width=\"20vw\"\n              x=\"60vw\"\n              y=\"0\"\n              bgColor=\"#DDDDDD\"\n              type=\"drag\"\n              visible=\"true\"\n              audio=\"\"\n              onTouch=\"\"\n              onMatch=\"\"\n              onEntry=\"\"\n            ></app-text>\n          </app-row>\n          <app-row\n            id=\"row2\"\n            value=\"row2\"\n            height=\"7vh\"\n            width=\"100%\"\n            x=\"0\"\n            y=\"34vh\"\n            bgColor=\"#FFFFFF\"\n            type=\"slide\"\n            visible=\"true\"\n            audio=\"row2.mp3\"\n            onTouch=\"handleRow2Touch\"\n            onMatch=\"handleRow2Match\"\n            onEntry=\"handleRow2Entry\"\n          >\n            <app-text\n              id=\"text5\"\n              string=\"This\"\n              font=\"Arial\"\n              font-size=\"2vh\"\n              highlightWhileSpeaking=\"true\"\n              value=\"word5\"\n              height=\"7vh\"\n              width=\"20vw\"\n              x=\"0vw\"\n              y=\"0\"\n              bgColor=\"#DDDDDD\"\n              type=\"\"\n              visible=\"true\"\n              audio=\"\"\n              onTouch=\"\"\n              onMatch=\"handleText5Match\"\n              onEntry=\"\"\n            ></app-text>\n            <app-text\n              id=\"text6\"\n              string=\"is\"\n              font=\"Arial\"\n              font-size=\"2vh\"\n              highlightWhileSpeaking=\"true\"\n              value=\"word6\"\n              height=\"7vh\"\n              width=\"20vw\"\n              x=\"20vw\"\n              y=\"0\"\n              bgColor=\"#DDDDDD\"\n              type=\"\"\n              visible=\"true\"\n              audio=\"\"\n              onTouch=\"\"\n              onMatch=\"handleText6Match\"\n              onEntry=\"\"\n            ></app-text>\n            <app-text\n              id=\"text7\"\n              string=\"another\"\n              font=\"Arial\"\n              font-size=\"2vh\"\n              highlightWhileSpeaking=\"true\"\n              value=\"word7\"\n              height=\"7vh\"\n              width=\"20vw\"\n              x=\"40vw\"\n              y=\"0\"\n              bgColor=\"#DDDDDD\"\n              type=\"\"\n              visible=\"true\"\n              audio=\"\"\n              onTouch=\"\"\n              onMatch=\"handleText7Match\"\n              onEntry=\"\"\n            ></app-text>\n            <app-text\n              id=\"text8\"\n              string=\"row\"\n              font=\"Arial\"\n              font-size=\"2vh\"\n              highlightWhileSpeaking=\"true\"\n              value=\"word8\"\n              height=\"7vh\"\n              width=\"20vw\"\n              x=\"60vw\"\n              y=\"0\"\n              bgColor=\"#DDDDDD\"\n              type=\"\"\n              visible=\"true\"\n              audio=\"\"\n              onTouch=\"\"\n              onMatch=\"handleText8Match\"\n              onEntry=\"\"\n            ></app-text>\n\n   <app-image\n            id=\"image2\"\n            value=\"carImage1\"\n            height=\"10vh\"\n            width=\"10vw\"\n            x=\"85vw\"\n            y=\"2vh\"\n            bgColor=\"#FFFFFF\"\n            type=\"click\"\n            visible=\"true\"\n            audio=\"image1.mp3\"\n            onTouch=\"handleImage1Touch\"\n            onMatch=\"handleImage1Match\"\n            onEntry=\"handleImage1Entry\"\n            src=\"https://storage.needpix.com/rsynced_images/motorcycle-309786_1280.png\"\n          ></app-image>\n\n\n          </app-row>\n        </app-col>\n      </app-container>\n    `;\n\n    return <app-root xmlData={xmlData}></app-root>;\n  }\n}\n",".image {\n  /* cursor: pointer; */\n  /* transition: transform 0.3s ease; */\n  user-select: none;\n  -webkit-user-drag: none;\n}\n\n/* .image:hover {\n    transform: scale(1.05);\n  }\n   */\n","import { Component, Prop, h } from '@stencil/core';\n\n@Component({\n  tag: 'app-image',\n  styleUrl: 'app-image.css',\n  shadow: false,\n})\nexport class AppImage {\n  @Prop() value: string;\n  @Prop() height: string;\n  @Prop() width: string;\n  @Prop() x: string;\n  @Prop() y: string;\n  @Prop() bgColor: string;\n  @Prop() type: string;\n  @Prop() visible: boolean;\n  @Prop() audio: string;\n  @Prop() onTouch: string;\n  @Prop() onMatch: string;\n  @Prop() onEntry: string;\n  @Prop() src: string;\n\n  render() {\n    const style = {\n      height: this.height,\n      width: this.width,\n      backgroundColor: this.bgColor,\n      top: this.y,\n      left: this.x,\n      position: 'absolute',\n      display: this.visible ? 'block' : 'none',\n      objectFit: 'cover',\n      // borderRadius: '10px',\n      // boxShadow: '0 4px 8px rgba(0, 0, 0, 0.1)',\n    };\n\n    return <img src={this.src} class=\"image\" style={style} onClick={() => this.handleEvent(this.onTouch)} />;\n  }\n\n  private handleEvent(event: string) {\n    if (event) {\n      console.log(`Event Triggered: ${event}`);\n    }\n  }\n}\n",".objective {\n  font-size: 1.5rem;\n  font-weight: 600;\n  color: #555;\n  margin-bottom: 10px;\n}\n","import { Component, Prop, h } from '@stencil/core';\n\n@Component({\n  tag: 'app-objective',\n  styleUrl: 'objective.css',\n  shadow: false,\n})\nexport class AppObjective {\n  @Prop() value: string;\n  @Prop() string: string;\n\n  render() {\n    return <div class=\"objective\">{this.string.split(',').join(' ')}</div>;\n  }\n}\n","import { Component, Prop, h } from '@stencil/core';\n\n@Component({\n  tag: 'app-root',\n  shadow: false,\n})\nexport class AppRoot {\n  @Prop() xmlData: string;\n  private parseElement(element: Element): any {\n    const tagName = element.nodeName.toLowerCase();\n    const props: { [key: string]: any } = {};\n\n    // Convert attributes to props using reduce for cleaner code\n    Array.from(element.attributes).forEach(attr => {\n      props[attr.name] = attr.value;\n    });\n\n    // Recursively parse child elements\n    const children = Array.from(element.childNodes)\n      .map(child => {\n        if (child.nodeType === 1) {\n          // ELEMENT_NODE\n          return this.parseElement(child as Element);\n        } else if (child.nodeType === 3 && child.textContent.trim() !== '') {\n          // TEXT_NODE\n          return child.textContent;\n        }\n        return null;\n      })\n      .filter(Boolean); // Remove null/undefined values\n\n    // Dynamically map tag names to Stencil components\n    const componentMapping = {\n      'app-container': <app-container {...props}>{children}</app-container>,\n      'app-objective': <app-objective {...props}>{children}</app-objective>,\n      'app-col': <app-col {...props}>{children}</app-col>,\n      'app-image': <app-image {...props}>{children}</app-image>,\n      'app-row': <app-row {...props}>{children}</app-row>,\n      'app-text': <app-text {...props}>{children}</app-text>,\n    };\n\n    if (componentMapping[tagName]) {\n      return componentMapping[tagName];\n    } else {\n      console.warn(`Unknown tag: ${tagName}`);\n      return null;\n    }\n  }\n\n  render() {\n    if (!this.xmlData) {\n      return <div>Please provide XML data.</div>;\n    }\n\n    const parser = new DOMParser();\n    const xmlDoc = parser.parseFromString(this.xmlData, 'text/xml');\n\n    const rootElement = xmlDoc.documentElement;\n\n    return this.parseElement(rootElement);\n  }\n}\n",".row {\n  display: flex;\n  /* justify-content: space-between; */\n  align-items: center;\n  /* box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); */\n}\n","import { Component, Prop, h } from '@stencil/core';\n\n@Component({\n  tag: 'app-row',\n  styleUrl: 'app-row.css',\n  shadow: false,\n})\nexport class AppRow {\n  @Prop() value: string;\n  @Prop() height: string;\n  @Prop() width: string;\n  @Prop() x: string;\n  @Prop() y: string;\n  @Prop() bgColor: string;\n  @Prop() type: string;\n  @Prop() visible: boolean;\n  @Prop() audio: string;\n  @Prop() onTouch: string;\n  @Prop() onMatch: string;\n  @Prop() onEntry: string;\n\n  render() {\n    const style = {\n      height: this.height,\n      width: this.width,\n      // backgroundColor: this.bgColor,\n      top: this.y,\n      left: this.x,\n      position: 'absolute',\n      display: this.visible ? 'flex' : 'none',\n      // alignItems: 'center',\n      // justifyContent: 'space-between',\n      // padding: '10px',\n      // borderRadius: '8px',\n    };\n\n    return (\n      <div class=\"row\" style={style} onClick={() => this.handleEvent(this.onTouch)}>\n        <slot />\n      </div>\n    );\n  }\n\n  private handleEvent(event: string) {\n    if (event) {\n      console.log(`Event Triggered: ${event}`);\n    }\n  }\n}\n","/* ================================================\n        DON'T MANUALLY EDIT THIS FILE\n================================================ */\n\n/*\n * AnimEvent\n * https://github.com/anseki/anim-event\n *\n * Copyright (c) 2021 anseki\n * Licensed under the MIT license.\n */\nvar MSPF = 1000 / 60,\n    // ms/frame (FPS: 60)\nKEEP_LOOP = 500,\n\n/**\n * @typedef {Object} task\n * @property {Event} event\n * @property {function} listener\n */\n\n/** @type {task[]} */\ntasks = [];\n\nvar requestAnim = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || function (callback) {\n  return setTimeout(callback, MSPF);\n},\n    cancelAnim = window.cancelAnimationFrame || window.mozCancelAnimationFrame || window.webkitCancelAnimationFrame || window.msCancelAnimationFrame || function (requestID) {\n  return clearTimeout(requestID);\n};\n\nvar lastFrameTime = Date.now(),\n    requestID;\n\nfunction step() {\n  var called, next;\n\n  if (requestID) {\n    cancelAnim.call(window, requestID);\n    requestID = null;\n  }\n\n  tasks.forEach(function (task) {\n    var event;\n\n    if (event = task.event) {\n      task.event = null; // Clear it before `task.listener()` because that might fire another event.\n\n      task.listener(event);\n      called = true;\n    }\n  });\n\n  if (called) {\n    lastFrameTime = Date.now();\n    next = true;\n  } else if (Date.now() - lastFrameTime < KEEP_LOOP) {\n    // Go on for a while\n    next = true;\n  }\n\n  if (next) {\n    requestID = requestAnim.call(window, step);\n  }\n}\n\nfunction indexOfTasks(listener) {\n  var index = -1;\n  tasks.some(function (task, i) {\n    if (task.listener === listener) {\n      index = i;\n      return true;\n    }\n\n    return false;\n  });\n  return index;\n}\n\nvar AnimEvent = {\n  /**\n   * @param {function} listener - An event listener.\n   * @returns {(function|null)} A wrapped event listener.\n   */\n  add: function add(listener) {\n    var task;\n\n    if (indexOfTasks(listener) === -1) {\n      tasks.push(task = {\n        listener: listener\n      });\n      return function (event) {\n        task.event = event;\n\n        if (!requestID) {\n          step();\n        }\n      };\n    }\n\n    return null;\n  },\n  remove: function remove(listener) {\n    var iRemove;\n\n    if ((iRemove = indexOfTasks(listener)) > -1) {\n      tasks.splice(iRemove, 1);\n\n      if (!tasks.length && requestID) {\n        cancelAnim.call(window, requestID);\n        requestID = null;\n      }\n    }\n  }\n};\nexport default AnimEvent;","/* ================================================\n        DON'T MANUALLY EDIT THIS FILE\n================================================ */\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/*\n * PointerEvent\n * https://github.com/anseki/pointer-event\n *\n * Copyright (c) 2022 anseki\n * Licensed under the MIT license.\n */\nimport AnimEvent from 'anim-event';\nvar MOUSE_EMU_INTERVAL = 400,\n    // Avoid mouse events emulation\nCLICK_EMULATOR_ELEMENTS = [],\n    DBLCLICK_EMULATOR_ELEMENTS = []; // Support options for addEventListener\n\nvar passiveSupported = false;\n\ntry {\n  window.addEventListener('test', null, Object.defineProperty({}, 'passive', {\n    get: function get() {\n      passiveSupported = true;\n    }\n  }));\n} catch (error) {\n  /* ignore */\n}\n/**\n * addEventListener with specific option.\n * @param {Element} target - An event-target element.\n * @param {string} type - The event type to listen for.\n * @param {function} listener - The EventListener.\n * @param {Object} options - An options object.\n * @returns {void}\n */\n\n\nfunction addEventListenerWithOptions(target, type, listener, options) {\n  // When `passive` is not supported, consider that the `useCapture` is supported instead of\n  // `options` (i.e. options other than the `passive` also are not supported).\n  target.addEventListener(type, listener, passiveSupported ? options : options.capture);\n}\n\nfunction getPointsLength(p0, p1) {\n  var lx = p0.x - p1.x,\n      ly = p0.y - p1.y;\n  return Math.sqrt(lx * lx + ly * ly);\n}\n/**\n * Get Touch instance in list.\n * @param {Touch[]} touches - An Array or TouchList instance.\n * @param {number} id - Touch#identifier\n * @returns {(Touch|null)} - A found Touch instance.\n */\n\n\nfunction getTouchById(touches, id) {\n  if (touches != null && id != null) {\n    for (var i = 0; i < touches.length; i++) {\n      if (touches[i].identifier === id) {\n        return touches[i];\n      }\n    }\n  }\n\n  return null;\n}\n/**\n * @param {Object} xy - Something that might have clientX and clientY.\n * @returns {boolean} - `true` if it has valid clientX and clientY.\n */\n\n\nfunction hasXY(xy) {\n  return xy && typeof xy.clientX === 'number' && typeof xy.clientY === 'number';\n} // Gecko, Trident pick drag-event of some elements such as img, a, etc.\n\n\nfunction dragstart(event) {\n  event.preventDefault();\n}\n\nvar PointerEvent = /*#__PURE__*/function () {\n  /**\n   * Create a `PointerEvent` instance.\n   * @param {Object} [options] - Options\n   */\n  function PointerEvent(options) {\n    var _this = this;\n\n    _classCallCheck(this, PointerEvent);\n\n    this.startHandlers = {};\n    this.lastHandlerId = 0;\n    this.curPointerClass = null;\n    this.curTouchId = null;\n    this.lastPointerXY = {\n      clientX: 0,\n      clientY: 0\n    };\n    this.lastTouchTime = 0; // Options\n\n    this.options = {\n      // Default\n      preventDefault: true,\n      stopPropagation: true\n    };\n\n    if (options) {\n      ['preventDefault', 'stopPropagation'].forEach(function (option) {\n        if (typeof options[option] === 'boolean') {\n          _this.options[option] = options[option];\n        }\n      });\n    }\n  }\n  /**\n   * @param {function} startHandler - This is called with pointerXY when it starts. This returns boolean.\n   * @returns {number} handlerId which is used for adding/removing to element.\n   */\n\n\n  _createClass(PointerEvent, [{\n    key: \"regStartHandler\",\n    value: function regStartHandler(startHandler) {\n      var that = this;\n\n      that.startHandlers[++that.lastHandlerId] = function (event) {\n        var pointerClass = event.type === 'mousedown' ? 'mouse' : 'touch',\n            now = Date.now();\n        var pointerXY, touchId;\n\n        if (pointerClass === 'touch') {\n          that.lastTouchTime = now; // Avoid mouse events emulation\n\n          pointerXY = event.changedTouches[0];\n          touchId = event.changedTouches[0].identifier;\n        } else {\n          // Avoid mouse events emulation\n          if (now - that.lastTouchTime < MOUSE_EMU_INTERVAL) {\n            return;\n          }\n\n          pointerXY = event;\n        }\n\n        if (!hasXY(pointerXY)) {\n          throw new Error('No clientX/clientY');\n        } // It is new one even if those are 'mouse' or ID is same, then cancel current one.\n\n\n        if (that.curPointerClass) {\n          that.cancel();\n        }\n\n        if (startHandler.call(that, pointerXY)) {\n          that.curPointerClass = pointerClass;\n          that.curTouchId = pointerClass === 'touch' ? touchId : null;\n          that.lastPointerXY.clientX = pointerXY.clientX;\n          that.lastPointerXY.clientY = pointerXY.clientY;\n\n          if (that.options.preventDefault) {\n            event.preventDefault();\n          }\n\n          if (that.options.stopPropagation) {\n            event.stopPropagation();\n          }\n        }\n      };\n\n      return that.lastHandlerId;\n    }\n    /**\n     * @param {number} handlerId - An ID which was returned by regStartHandler.\n     * @returns {void}\n     */\n\n  }, {\n    key: \"unregStartHandler\",\n    value: function unregStartHandler(handlerId) {\n      delete this.startHandlers[handlerId];\n    }\n    /**\n     * @param {Element} element - A target element.\n     * @param {number} handlerId - An ID which was returned by regStartHandler.\n     * @returns {number} handlerId which was passed.\n     */\n\n  }, {\n    key: \"addStartHandler\",\n    value: function addStartHandler(element, handlerId) {\n      if (!this.startHandlers[handlerId]) {\n        throw new Error(\"Invalid handlerId: \".concat(handlerId));\n      }\n\n      addEventListenerWithOptions(element, 'mousedown', this.startHandlers[handlerId], {\n        capture: false,\n        passive: false\n      });\n      addEventListenerWithOptions(element, 'touchstart', this.startHandlers[handlerId], {\n        capture: false,\n        passive: false\n      });\n      addEventListenerWithOptions(element, 'dragstart', dragstart, {\n        capture: false,\n        passive: false\n      });\n      return handlerId;\n    }\n    /**\n     * @param {Element} element - A target element.\n     * @param {number} handlerId - An ID which was returned by regStartHandler.\n     * @returns {number} handlerId which was passed.\n     */\n\n  }, {\n    key: \"removeStartHandler\",\n    value: function removeStartHandler(element, handlerId) {\n      if (!this.startHandlers[handlerId]) {\n        throw new Error(\"Invalid handlerId: \".concat(handlerId));\n      }\n\n      element.removeEventListener('mousedown', this.startHandlers[handlerId], false);\n      element.removeEventListener('touchstart', this.startHandlers[handlerId], false);\n      element.removeEventListener('dragstart', dragstart, false);\n      return handlerId;\n    }\n    /**\n     * @param {Element} element - A target element.\n     * @param {function} moveHandler - This is called with pointerXY when it moves.\n     * @param {?boolean} rawEvent - Capture events without `requestAnimationFrame`.\n     * @returns {void}\n     */\n\n  }, {\n    key: \"addMoveHandler\",\n    value: function addMoveHandler(element, moveHandler, rawEvent) {\n      var that = this;\n\n      function handler(event) {\n        var pointerClass = event.type === 'mousemove' ? 'mouse' : 'touch'; // Avoid mouse events emulation\n\n        if (pointerClass === 'touch') {\n          that.lastTouchTime = Date.now();\n        }\n\n        if (pointerClass === that.curPointerClass) {\n          var pointerXY = pointerClass === 'touch' ? getTouchById(event.changedTouches, that.curTouchId) : event;\n\n          if (hasXY(pointerXY)) {\n            if (pointerXY.clientX !== that.lastPointerXY.clientX || pointerXY.clientY !== that.lastPointerXY.clientY) {\n              that.move(pointerXY);\n            }\n\n            if (that.options.preventDefault) {\n              event.preventDefault();\n            }\n\n            if (that.options.stopPropagation) {\n              event.stopPropagation();\n            }\n          }\n        }\n      }\n\n      var wrappedHandler = rawEvent ? handler : AnimEvent.add(handler);\n      addEventListenerWithOptions(element, 'mousemove', wrappedHandler, {\n        capture: false,\n        passive: false\n      });\n      addEventListenerWithOptions(element, 'touchmove', wrappedHandler, {\n        capture: false,\n        passive: false\n      });\n      that.curMoveHandler = moveHandler;\n    }\n    /**\n     * @param {{clientX, clientY}} [pointerXY] - This might be MouseEvent, Touch of TouchEvent or Object.\n     * @returns {void}\n     */\n\n  }, {\n    key: \"move\",\n    value: function move(pointerXY) {\n      if (hasXY(pointerXY)) {\n        this.lastPointerXY.clientX = pointerXY.clientX;\n        this.lastPointerXY.clientY = pointerXY.clientY;\n      }\n\n      if (this.curMoveHandler) {\n        this.curMoveHandler(this.lastPointerXY);\n      }\n    }\n    /**\n     * @param {Element} element - A target element.\n     * @param {function} endHandler - This is called with pointerXY when it ends.\n     * @returns {void}\n     */\n\n  }, {\n    key: \"addEndHandler\",\n    value: function addEndHandler(element, endHandler) {\n      var that = this;\n\n      function wrappedHandler(event) {\n        var pointerClass = event.type === 'mouseup' ? 'mouse' : 'touch'; // Avoid mouse events emulation\n\n        if (pointerClass === 'touch') {\n          that.lastTouchTime = Date.now();\n        }\n\n        if (pointerClass === that.curPointerClass) {\n          var pointerXY = pointerClass === 'touch' ? getTouchById(event.changedTouches, that.curTouchId) || ( // It might have been removed from `touches` even if it is not in `changedTouches`.\n          getTouchById(event.touches, that.curTouchId) ? null : {}) : // `{}` means matching\n          event;\n\n          if (pointerXY) {\n            that.end(pointerXY);\n\n            if (that.options.preventDefault) {\n              event.preventDefault();\n            }\n\n            if (that.options.stopPropagation) {\n              event.stopPropagation();\n            }\n          }\n        }\n      }\n\n      addEventListenerWithOptions(element, 'mouseup', wrappedHandler, {\n        capture: false,\n        passive: false\n      });\n      addEventListenerWithOptions(element, 'touchend', wrappedHandler, {\n        capture: false,\n        passive: false\n      });\n      that.curEndHandler = endHandler;\n    }\n    /**\n     * @param {{clientX, clientY}} [pointerXY] - This might be MouseEvent, Touch of TouchEvent or Object.\n     * @returns {void}\n     */\n\n  }, {\n    key: \"end\",\n    value: function end(pointerXY) {\n      if (hasXY(pointerXY)) {\n        this.lastPointerXY.clientX = pointerXY.clientX;\n        this.lastPointerXY.clientY = pointerXY.clientY;\n      }\n\n      if (this.curEndHandler) {\n        this.curEndHandler(this.lastPointerXY);\n      }\n\n      this.curPointerClass = this.curTouchId = null;\n    }\n    /**\n     * @param {Element} element - A target element.\n     * @param {function} cancelHandler - This is called when it cancels.\n     * @returns {void}\n     */\n\n  }, {\n    key: \"addCancelHandler\",\n    value: function addCancelHandler(element, cancelHandler) {\n      var that = this;\n\n      function wrappedHandler(event) {\n        /*\n          Now, this is fired by touchcancel only, but it might be fired even if curPointerClass is mouse.\n        */\n        // const pointerClass = 'touch';\n        that.lastTouchTime = Date.now(); // Avoid mouse events emulation\n\n        if (that.curPointerClass != null) {\n          var pointerXY = getTouchById(event.changedTouches, that.curTouchId) || ( // It might have been removed from `touches` even if it is not in `changedTouches`.\n          getTouchById(event.touches, that.curTouchId) ? null : {}); // `{}` means matching\n\n          if (pointerXY) {\n            that.cancel();\n          }\n        }\n      }\n\n      addEventListenerWithOptions(element, 'touchcancel', wrappedHandler, {\n        capture: false,\n        passive: false\n      });\n      that.curCancelHandler = cancelHandler;\n    }\n    /**\n     * @returns {void}\n     */\n\n  }, {\n    key: \"cancel\",\n    value: function cancel() {\n      if (this.curCancelHandler) {\n        this.curCancelHandler();\n      }\n\n      this.curPointerClass = this.curTouchId = null;\n    }\n  }], [{\n    key: \"addEventListenerWithOptions\",\n    get: function get() {\n      return addEventListenerWithOptions;\n    }\n    /**\n     * Emulate `click` event via `touchend` event.\n     * @param {Element} element - Target element, listeners that call `event.preventDefault()` are attached later.\n     * @param {?number} moveTolerance - Move tolerance.\n     * @param {?number} timeTolerance - Time tolerance.\n     * @returns {Element} The passed `element`.\n     */\n\n  }, {\n    key: \"initClickEmulator\",\n    value: function initClickEmulator(element, moveTolerance, timeTolerance) {\n      if (CLICK_EMULATOR_ELEMENTS.includes(element)) {\n        return element;\n      }\n\n      CLICK_EMULATOR_ELEMENTS.push(element);\n      var DEFAULT_MOVE_TOLERANCE = 16,\n          // px\n      DEFAULT_TIME_TOLERANCE = 400; // ms\n\n      var startX, startY, touchId, startMs;\n\n      if (moveTolerance == null) {\n        moveTolerance = DEFAULT_MOVE_TOLERANCE;\n      }\n\n      if (timeTolerance == null) {\n        timeTolerance = DEFAULT_TIME_TOLERANCE;\n      }\n\n      addEventListenerWithOptions(element, 'touchstart', function (event) {\n        var touch = event.changedTouches[0];\n        startX = touch.clientX;\n        startY = touch.clientY;\n        touchId = touch.identifier;\n        startMs = performance.now();\n      }, {\n        capture: false,\n        passive: false\n      });\n      addEventListenerWithOptions(element, 'touchend', function (event) {\n        var touch = getTouchById(event.changedTouches, touchId);\n\n        if (typeof startX === 'number' && typeof startY === 'number' && typeof startMs === 'number' && touch && typeof touch.clientX === 'number' && typeof touch.clientY === 'number' && getPointsLength({\n          x: startX,\n          y: startY\n        }, {\n          x: touch.clientX,\n          y: touch.clientY\n        }) <= moveTolerance && performance.now() - startMs <= timeTolerance) {\n          // FIRE\n          setTimeout(function () {\n            var newEvent = new MouseEvent('click', {\n              clientX: touch.clientX,\n              clientY: touch.clientY\n            });\n            newEvent.emulated = true;\n            element.dispatchEvent(newEvent);\n          }, 0);\n        }\n\n        startX = startY = touchId = startMs = null;\n      }, {\n        capture: false,\n        passive: false\n      });\n      addEventListenerWithOptions(element, 'touchcancel', function () {\n        startX = startY = touchId = startMs = null;\n      }, {\n        capture: false,\n        passive: false\n      });\n      return element;\n    }\n    /**\n     * Emulate `dblclick` event via `touchend` event.\n     * @param {Element} element - Target element, listeners that call `event.preventDefault()` are attached later.\n     * @param {?number} moveTolerance - Move tolerance.\n     * @param {?number} timeTolerance - Time tolerance.\n     * @returns {Element} The passed `element`.\n     */\n\n  }, {\n    key: \"initDblClickEmulator\",\n    value: function initDblClickEmulator(element, moveTolerance, timeTolerance) {\n      if (DBLCLICK_EMULATOR_ELEMENTS.includes(element)) {\n        return element;\n      }\n\n      DBLCLICK_EMULATOR_ELEMENTS.push(element);\n      var DEFAULT_MOVE_TOLERANCE = 16,\n          // px\n      DEFAULT_TIME_TOLERANCE = 400; // ms\n\n      var startX, startY, startMs;\n\n      if (moveTolerance == null) {\n        moveTolerance = DEFAULT_MOVE_TOLERANCE;\n      }\n\n      if (timeTolerance == null) {\n        timeTolerance = DEFAULT_TIME_TOLERANCE;\n      }\n\n      PointerEvent.initClickEmulator(element, moveTolerance, timeTolerance);\n      addEventListenerWithOptions(element, 'click', function (event) {\n        if (!event.emulated || // Ignore events that are not from `touchend`.\n        typeof event.clientX !== 'number' || typeof event.clientY !== 'number') {\n          return;\n        }\n\n        if (typeof startX === 'number' && getPointsLength({\n          x: startX,\n          y: startY\n        }, {\n          x: event.clientX,\n          y: event.clientY\n        }) <= moveTolerance && performance.now() - startMs <= timeTolerance * 2) {\n          // up (tolerance) down (tolerance) up\n          setTimeout(function () {\n            // FIRE\n            var newEvent = new MouseEvent('dblclick', {\n              clientX: event.clientX,\n              clientY: event.clientY\n            });\n            newEvent.emulated = true;\n            element.dispatchEvent(newEvent);\n          }, 0);\n          startX = startY = startMs = null;\n        } else {\n          // 1st\n          startX = event.clientX;\n          startY = event.clientY;\n          startMs = performance.now();\n        }\n      }, {\n        capture: false,\n        passive: false\n      });\n      return element;\n    }\n  }]);\n\n  return PointerEvent;\n}();\n\nexport default PointerEvent;","/* ================================================\n        DON'T MANUALLY EDIT THIS FILE\n================================================ */\n\n/*\n * CSSPrefix\n * https://github.com/anseki/cssprefix\n *\n * Copyright (c) 2021 anseki\n * Licensed under the MIT license.\n */\nfunction ucf(text) {\n  return text.substr(0, 1).toUpperCase() + text.substr(1);\n}\n\nvar PREFIXES = ['webkit', 'moz', 'ms', 'o'],\n    NAME_PREFIXES = PREFIXES.reduce(function (prefixes, prefix) {\n  prefixes.push(prefix);\n  prefixes.push(ucf(prefix));\n  return prefixes;\n}, []),\n    VALUE_PREFIXES = PREFIXES.map(function (prefix) {\n  return \"-\".concat(prefix, \"-\");\n}),\n\n/**\n * Get sample CSSStyleDeclaration.\n * @returns {CSSStyleDeclaration}\n */\ngetDeclaration = function () {\n  var declaration;\n  return function () {\n    return declaration = declaration || document.createElement('div').style;\n  };\n}(),\n\n/**\n * Normalize name.\n * @param {} propName - A name that is normalized.\n * @returns {string} A normalized name.\n */\nnormalizeName = function () {\n  var rePrefixedName = new RegExp('^(?:' + PREFIXES.join('|') + ')(.)', 'i'),\n      reUc = /[A-Z]/;\n  return function (propName) {\n    return (propName = (propName + '').replace(/\\s/g, '').replace(/-([\\da-z])/gi, function (str, p1) {\n      return p1.toUpperCase();\n    }) // camelCase\n    // 'ms' and 'Ms' are found by rePrefixedName 'i' option\n    .replace(rePrefixedName, function (str, p1) {\n      return reUc.test(p1) ? p1.toLowerCase() : str;\n    }) // Remove prefix\n    ).toLowerCase() === 'float' ? 'cssFloat' : propName;\n  }; // For old CSSOM\n}(),\n\n/**\n * Normalize value.\n * @param {} propValue - A value that is normalized.\n * @returns {string} A normalized value.\n */\nnormalizeValue = function () {\n  var rePrefixedValue = new RegExp('^(?:' + VALUE_PREFIXES.join('|') + ')', 'i');\n  return function (propValue) {\n    return (propValue != null ? propValue + '' : '').replace(/\\s/g, '').replace(rePrefixedValue, '');\n  };\n}(),\n\n/**\n * Polyfill for `CSS.supports`.\n * @param {string} propName - A name.\n * @param {string} propValue - A value.\n *     Since `CSSStyleDeclaration.setProperty` might return unexpected result,\n *     the `propValue` should be checked before the `cssSupports` is called.\n * @returns {boolean} `true` if given pair is accepted.\n */\ncssSupports = function () {\n  return (// return window.CSS && window.CSS.supports || ((propName, propValue) => {\n    // `CSS.supports` doesn't find prefixed property.\n    function (propName, propValue) {\n      var declaration = getDeclaration(); // In some browsers, `declaration[prop] = value` updates any property.\n\n      propName = propName.replace(/[A-Z]/g, function (str) {\n        return \"-\".concat(str.toLowerCase());\n      }); // kebab-case\n\n      declaration.setProperty(propName, propValue);\n      return declaration[propName] != null && // Because getPropertyValue returns '' if it is unsupported\n      declaration.getPropertyValue(propName) === propValue;\n    }\n  );\n}(),\n    // Cache\npropNames = {},\n    propValues = {};\n\nfunction getName(propName) {\n  propName = normalizeName(propName);\n\n  if (propName && propNames[propName] == null) {\n    var declaration = getDeclaration();\n\n    if (declaration[propName] != null) {\n      // Original\n      propNames[propName] = propName;\n    } else {\n      // Try with prefixes\n      var ucfName = ucf(propName);\n\n      if (!NAME_PREFIXES.some(function (prefix) {\n        var prefixed = prefix + ucfName;\n\n        if (declaration[prefixed] != null) {\n          propNames[propName] = prefixed;\n          return true;\n        }\n\n        return false;\n      })) {\n        propNames[propName] = false;\n      }\n    }\n  }\n\n  return propNames[propName] || void 0;\n}\n\nfunction getValue(propName, propValue) {\n  var res;\n\n  if (!(propName = getName(propName))) {\n    return res;\n  } // Invalid property\n\n\n  propValues[propName] = propValues[propName] || {};\n  (Array.isArray(propValue) ? propValue : [propValue]).some(function (propValue) {\n    propValue = normalizeValue(propValue);\n\n    if (propValues[propName][propValue] != null) {\n      // Cache\n      if (propValues[propName][propValue] !== false) {\n        res = propValues[propName][propValue];\n        return true;\n      }\n\n      return false; // Continue to next value\n    }\n\n    if (cssSupports(propName, propValue)) {\n      // Original\n      res = propValues[propName][propValue] = propValue;\n      return true;\n    }\n\n    if (VALUE_PREFIXES.some(function (prefix) {\n      // Try with prefixes\n      var prefixed = prefix + propValue;\n\n      if (cssSupports(propName, prefixed)) {\n        res = propValues[propName][propValue] = prefixed;\n        return true;\n      }\n\n      return false;\n    })) {\n      return true;\n    }\n\n    propValues[propName][propValue] = false;\n    return false; // Continue to next value\n  });\n  return typeof res === 'string' ? res : void 0; // It might be empty string.\n}\n\nvar CSSPrefix = {\n  getName: getName,\n  getValue: getValue\n};\nexport default CSSPrefix;","/* ================================================\n        DON'T MANUALLY EDIT THIS FILE\n================================================ */\n\n/*\n * mClassList\n * https://github.com/anseki/m-class-list\n *\n * Copyright (c) 2021 anseki\n * Licensed under the MIT license.\n */\nfunction normalize(token) {\n  return (token + '').trim();\n} // Not `||`\n\n\nfunction applyList(list, element) {\n  element.setAttribute('class', list.join(' '));\n}\n\nfunction _add(list, element, tokens) {\n  if (tokens.filter(function (token) {\n    if (!(token = normalize(token)) || list.indexOf(token) !== -1) {\n      return false;\n    }\n\n    list.push(token);\n    return true;\n  }).length) {\n    applyList(list, element);\n  }\n}\n\nfunction _remove(list, element, tokens) {\n  if (tokens.filter(function (token) {\n    var i;\n\n    if (!(token = normalize(token)) || (i = list.indexOf(token)) === -1) {\n      return false;\n    }\n\n    list.splice(i, 1);\n    return true;\n  }).length) {\n    applyList(list, element);\n  }\n}\n\nfunction _toggle(list, element, token, force) {\n  var i = list.indexOf(token = normalize(token));\n\n  if (i !== -1) {\n    if (force) {\n      return true;\n    }\n\n    list.splice(i, 1);\n    applyList(list, element);\n    return false;\n  }\n\n  if (force === false) {\n    return false;\n  }\n\n  list.push(token);\n  applyList(list, element);\n  return true;\n}\n\nfunction _replace(list, element, token, newToken) {\n  var i;\n\n  if (!(token = normalize(token)) || !(newToken = normalize(newToken)) || token === newToken || (i = list.indexOf(token)) === -1) {\n    return;\n  }\n\n  list.splice(i, 1);\n\n  if (list.indexOf(newToken) === -1) {\n    list.push(newToken);\n  }\n\n  applyList(list, element);\n}\n\nfunction mClassList(element) {\n  return !mClassList.ignoreNative && element.classList || function () {\n    var list = (element.getAttribute('class') || '').trim().split(/\\s+/).filter(function (token) {\n      return !!token;\n    }),\n        ins = {\n      length: list.length,\n      item: function item(i) {\n        return list[i];\n      },\n      contains: function contains(token) {\n        return list.indexOf(normalize(token)) !== -1;\n      },\n      add: function add() {\n        _add(list, element, Array.prototype.slice.call(arguments));\n\n        return mClassList.methodChain ? ins : void 0;\n      },\n      remove: function remove() {\n        _remove(list, element, Array.prototype.slice.call(arguments));\n\n        return mClassList.methodChain ? ins : void 0;\n      },\n      toggle: function toggle(token, force) {\n        return _toggle(list, element, token, force);\n      },\n      replace: function replace(token, newToken) {\n        _replace(list, element, token, newToken);\n\n        return mClassList.methodChain ? ins : void 0;\n      }\n    };\n    return ins;\n  }();\n}\n\nmClassList.methodChain = true;\nexport default mClassList;","/* ================================================\n        DON'T MANUALLY EDIT THIS FILE\n================================================ */\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/*\n * PlainDraggable\n * https://anseki.github.io/plain-draggable/\n *\n * Copyright (c) 2021 anseki\n * Licensed under the MIT license.\n */\nimport PointerEvent from 'pointer-event';\nimport CSSPrefix from 'cssprefix';\nimport AnimEvent from 'anim-event';\nimport mClassList from 'm-class-list';\nmClassList.ignoreNative = true;\n\nvar ZINDEX = 9000,\n    // [SNAP]\nSNAP_GRAVITY = 20,\n    SNAP_CORNER = 'tl',\n    SNAP_SIDE = 'both',\n    SNAP_EDGE = 'both',\n    SNAP_BASE = 'containment',\n    SNAP_ALL_CORNERS = ['tl', 'tr', 'bl', 'br'],\n    SNAP_ALL_SIDES = ['start', 'end'],\n    SNAP_ALL_EDGES = ['inside', 'outside'],\n    // [/SNAP]\n// [AUTO-SCROLL]\nAUTOSCROLL_SPEED = [40, 200, 1000],\n    AUTOSCROLL_SENSITIVITY = [100, 40, 0],\n    // [/AUTO-SCROLL]\nIS_EDGE = '-ms-scroll-limit' in document.documentElement.style && '-ms-ime-align' in document.documentElement.style && !window.navigator.msPointerEnabled,\n    IS_TRIDENT = !IS_EDGE && !!document.uniqueID,\n    // Future Edge might support `document.uniqueID`.\nIS_GECKO = ('MozAppearance' in document.documentElement.style),\n    IS_BLINK = !IS_EDGE && !IS_GECKO && // Edge has `window.chrome`, and future Gecko might have that.\n!!window.chrome && !!window.CSS,\n    IS_WEBKIT = !IS_EDGE && !IS_TRIDENT && !IS_GECKO && !IS_BLINK && // Some engines support `webkit-*` properties.\n!window.chrome && 'WebkitAppearance' in document.documentElement.style,\n    isObject = function () {\n  var toString = {}.toString,\n      fnToString = {}.hasOwnProperty.toString,\n      objFnString = fnToString.call(Object);\n  return function (obj) {\n    var proto, constr;\n    return obj && toString.call(obj) === '[object Object]' && (!(proto = Object.getPrototypeOf(obj)) || (constr = proto.hasOwnProperty('constructor') && proto.constructor) && typeof constr === 'function' && fnToString.call(constr) === objFnString);\n  };\n}(),\n    isFinite = Number.isFinite || function (value) {\n  return typeof value === 'number' && window.isFinite(value);\n},\n\n/** @type {Object.<_id: number, props>} */\ninsProps = {},\n    pointerOffset = {},\n    pointerEvent = new PointerEvent();\n\nvar insId = 0,\n    activeProps,\n    hasMoved,\n    body,\n    // CSS property/value\ncssValueDraggableCursor,\n    cssValueDraggingCursor,\n    cssOrgValueBodyCursor,\n    cssPropTransitionProperty,\n    cssPropTransform,\n    cssPropUserSelect,\n    cssOrgValueBodyUserSelect,\n    // Try to set `cursor` property.\ncssWantedValueDraggableCursor = IS_WEBKIT ? ['all-scroll', 'move'] : ['grab', 'all-scroll', 'move'],\n    cssWantedValueDraggingCursor = IS_WEBKIT ? 'move' : ['grabbing', 'move'],\n    // class\ndraggableClass = 'plain-draggable',\n    draggingClass = 'plain-draggable-dragging',\n    movingClass = 'plain-draggable-moving'; // [AUTO-SCROLL]\n// Scroll Animation Controller\n\nvar scrollFrame = {},\n    MSPF = 1000 / 60,\n    // ms/frame (FPS: 60)\nrequestAnim = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || function (callback) {\n  return setTimeout(callback, MSPF);\n},\n    cancelAnim = window.cancelAnimationFrame || window.mozCancelAnimationFrame || window.webkitCancelAnimationFrame || window.msCancelAnimationFrame || function (requestID) {\n  return clearTimeout(requestID);\n};\n\n{\n  /**\n   * @typedef {Object} MoveArgs\n   * @property {number} dir - [-1 | 1] minus or plus to position value.\n   * @property {number} speed - px/ms\n   * @property {number} min - Minimum position value.\n   * @property {number} max - Maximum position value.\n   * @property {number} [lastFrameTime] - Time of last frame.\n   * @property {number} [lastValue] - Strict value of last frame.\n   */\n  var curXyMoveArgs = {},\n      curElement,\n      curScrollXY,\n      requestID;\n\n  function frameUpdate() {\n    var now = Date.now();\n    ['x', 'y'].forEach(function (xy) {\n      var moveArgs = curXyMoveArgs[xy];\n\n      if (moveArgs) {\n        var timeLen = now - moveArgs.lastFrameTime,\n            absValue = curScrollXY(curElement, xy),\n            curValue = moveArgs.lastValue != null && Math.abs(moveArgs.lastValue - absValue) < 10 // It was not moved manually\n        ? moveArgs.lastValue : absValue;\n\n        if (moveArgs.dir === -1 ? curValue > moveArgs.min : curValue < moveArgs.max) {\n          var newValue = curValue + moveArgs.speed * timeLen * moveArgs.dir;\n\n          if (newValue < moveArgs.min) {\n            newValue = moveArgs.min;\n          } else if (newValue > moveArgs.max) {\n            newValue = moveArgs.max;\n          }\n\n          curScrollXY(curElement, xy, newValue);\n          moveArgs.lastValue = newValue;\n        }\n\n        moveArgs.lastFrameTime = now;\n      }\n    });\n  }\n\n  function frame() {\n    cancelAnim.call(window, requestID);\n    frameUpdate();\n    requestID = requestAnim.call(window, frame);\n  }\n  /**\n   * @param {Element} element - A target element.\n   * @param {{x: ?MoveArgs, y: ?MoveArgs}} xyMoveArgs - MoveArgs for x and y\n   * @param {function} scrollXY - (element: Element, xy: string, value: number) => number\n   * @returns {void}\n   */\n\n\n  scrollFrame.move = function (element, xyMoveArgs, scrollXY) {\n    cancelAnim.call(window, requestID);\n    frameUpdate(); // Update current data now because it might be not continuation.\n    // Re-use lastValue\n\n    if (curElement === element) {\n      if (xyMoveArgs.x && curXyMoveArgs.x) {\n        xyMoveArgs.x.lastValue = curXyMoveArgs.x.lastValue;\n      }\n\n      if (xyMoveArgs.y && curXyMoveArgs.y) {\n        xyMoveArgs.y.lastValue = curXyMoveArgs.y.lastValue;\n      }\n    }\n\n    curElement = element;\n    curXyMoveArgs = xyMoveArgs;\n    curScrollXY = scrollXY;\n    var now = Date.now();\n    ['x', 'y'].forEach(function (xy) {\n      var moveArgs = curXyMoveArgs[xy];\n\n      if (moveArgs) {\n        moveArgs.lastFrameTime = now;\n      }\n    });\n    requestID = requestAnim.call(window, frame);\n  };\n\n  scrollFrame.stop = function () {\n    cancelAnim.call(window, requestID);\n    frameUpdate();\n    curXyMoveArgs = {};\n    curElement = null; // Remove reference\n  };\n}\n\nfunction scrollXYWindow(element, xy, value) {\n  if (value != null) {\n    if (xy === 'x') {\n      element.scrollTo(value, element.pageYOffset);\n    } else {\n      element.scrollTo(element.pageXOffset, value);\n    }\n  }\n\n  return xy === 'x' ? element.pageXOffset : element.pageYOffset;\n}\n\nfunction scrollXYElement(element, xy, value) {\n  var prop = xy === 'x' ? 'scrollLeft' : 'scrollTop';\n\n  if (value != null) {\n    element[prop] = value;\n  }\n\n  return element[prop];\n}\n/**\n * @typedef {Object} Scrollable\n * @property {number} clientWidth - width of scrollable area.\n * @property {number} clientHeight - height of scrollable area.\n * @property {number} scrollWidth - width of inner content.\n * @property {number} scrollHeight - height of inner content.\n * @property {number} clientX - X of scrollable area, document coordinate.\n * @property {number} clientY - T of scrollable area, document coordinate.\n */\n\n/**\n * @param {Element} element - A target element.\n * @param {boolean} [isWindow] - `true` if element is window.\n * @param {boolean} [dontScroll] - `true` makes it skip scroll that gets scrollWidth/Height.\n * @returns {Scrollable} Information for scroll.\n */\n\n\nfunction getScrollable(element, isWindow, dontScroll) {\n  var scrollable = {};\n  var cmpStyleHtml, cmpStyleBody, cmpStyleElement; // clientWidth/Height\n\n  (function (target) {\n    scrollable.clientWidth = target.clientWidth;\n    scrollable.clientHeight = target.clientHeight;\n  })(isWindow ? document.documentElement : element); // scrollWidth/Height\n\n  /*\n    Gecko bug, bottom-padding of element is reduced.\n    Blink for Android bug, borders of <html> is rendered but those are not added to scrollW/H.\n    Then, move it to max scroll position (sufficiently larger values) forcibly, and get scroll position.\n  */\n\n\n  var maxScrollLeft = 0,\n      maxScrollTop = 0;\n\n  if (!dontScroll) {\n    var curScrollLeft, curScrollTop;\n\n    if (isWindow) {\n      curScrollLeft = scrollXYWindow(element, 'x');\n      curScrollTop = scrollXYWindow(element, 'y');\n      cmpStyleHtml = getComputedStyle(document.documentElement, '');\n      cmpStyleBody = getComputedStyle(document.body, '');\n      maxScrollLeft = scrollXYWindow(element, 'x', document.documentElement.scrollWidth + scrollable.clientWidth + // Blink for Android bug, scroll* returns size of smaller body\n      ['marginLeft', 'marginRight', 'borderLeftWidth', 'borderRightWidth', 'paddingLeft', 'paddingRight'].reduce(function (len, prop) {\n        return len + (parseFloat(cmpStyleHtml[prop]) || 0) + (parseFloat(cmpStyleBody[prop]) || 0);\n      }, 0));\n      maxScrollTop = scrollXYWindow(element, 'y', document.documentElement.scrollHeight + scrollable.clientHeight + ['marginTop', 'marginBottom', 'borderTopWidth', 'borderBottomWidth', 'paddingTop', 'paddingBottom'].reduce(function (len, prop) {\n        return len + (parseFloat(cmpStyleHtml[prop]) || 0) + (parseFloat(cmpStyleBody[prop]) || 0);\n      }, 0));\n      scrollXYWindow(element, 'x', curScrollLeft);\n      scrollXYWindow(element, 'y', curScrollTop);\n    } else {\n      curScrollLeft = scrollXYElement(element, 'x');\n      curScrollTop = scrollXYElement(element, 'y');\n      cmpStyleElement = getComputedStyle(element, '');\n      maxScrollLeft = scrollXYElement(element, 'x', element.scrollWidth + scrollable.clientWidth + // Blink for Android bug, scroll* returns size of smaller body\n      ['marginLeft', 'marginRight', 'borderLeftWidth', 'borderRightWidth', 'paddingLeft', 'paddingRight'].reduce(function (len, prop) {\n        return len + (parseFloat(cmpStyleElement[prop]) || 0);\n      }, 0));\n      maxScrollTop = scrollXYElement(element, 'y', element.scrollHeight + scrollable.clientHeight + ['marginTop', 'marginBottom', 'borderTopWidth', 'borderBottomWidth', 'paddingTop', 'paddingBottom'].reduce(function (len, prop) {\n        return len + (parseFloat(cmpStyleElement[prop]) || 0);\n      }, 0));\n      scrollXYElement(element, 'x', curScrollLeft);\n      scrollXYElement(element, 'y', curScrollTop);\n    }\n  }\n\n  scrollable.scrollWidth = scrollable.clientWidth + maxScrollLeft;\n  scrollable.scrollHeight = scrollable.clientHeight + maxScrollTop; // clientX/Y\n\n  var rect;\n\n  if (isWindow) {\n    scrollable.clientX = scrollable.clientY = 0;\n  } else {\n    // padding-box\n    rect = element.getBoundingClientRect();\n\n    if (!cmpStyleElement) {\n      cmpStyleElement = getComputedStyle(element, '');\n    }\n\n    scrollable.clientX = rect.left + (parseFloat(cmpStyleElement.borderLeftWidth) || 0);\n    scrollable.clientY = rect.top + (parseFloat(cmpStyleElement.borderTopWidth) || 0);\n  }\n\n  return scrollable;\n} // [/AUTO-SCROLL]\n\n\nfunction copyTree(obj) {\n  return !obj ? obj : isObject(obj) ? Object.keys(obj).reduce(function (copyObj, key) {\n    copyObj[key] = copyTree(obj[key]);\n    return copyObj;\n  }, {}) : Array.isArray(obj) ? obj.map(copyTree) : obj;\n}\n\nfunction hasChanged(a, b) {\n  var typeA, keysA;\n  return _typeof(a) !== _typeof(b) || (typeA = isObject(a) ? 'obj' : Array.isArray(a) ? 'array' : '') !== (isObject(b) ? 'obj' : Array.isArray(b) ? 'array' : '') || (typeA === 'obj' ? hasChanged(keysA = Object.keys(a).sort(), Object.keys(b).sort()) || keysA.some(function (prop) {\n    return hasChanged(a[prop], b[prop]);\n  }) : typeA === 'array' ? a.length !== b.length || a.some(function (aVal, i) {\n    return hasChanged(aVal, b[i]);\n  }) : a !== b);\n}\n/**\n * @param {Element} element - A target element.\n * @returns {boolean} `true` if connected element.\n */\n\n\nfunction isElement(element) {\n  return !!(element && element.nodeType === Node.ELEMENT_NODE && // element instanceof HTMLElement &&\n  typeof element.getBoundingClientRect === 'function' && !(element.compareDocumentPosition(document) & Node.DOCUMENT_POSITION_DISCONNECTED));\n}\n/**\n * An object that simulates `DOMRect` to indicate a bounding-box.\n * @typedef {Object} BBox\n * @property {(number|null)} left - document coordinate\n * @property {(number|null)} top - document coordinate\n * @property {(number|null)} right - document coordinate\n * @property {(number|null)} bottom - document coordinate\n * @property {(number|null)} x - Substitutes for left\n * @property {(number|null)} y - Substitutes for top\n * @property {(number|null)} width\n * @property {(number|null)} height\n */\n\n/**\n * @param {Object} bBox - A target object.\n * @returns {(BBox|null)} A normalized `BBox`, or null if `bBox` is invalid.\n */\n\n\nfunction validBBox(bBox) {\n  if (!isObject(bBox)) {\n    return null;\n  }\n\n  var value;\n\n  if (isFinite(value = bBox.left) || isFinite(value = bBox.x)) {\n    bBox.left = bBox.x = value;\n  } else {\n    return null;\n  }\n\n  if (isFinite(value = bBox.top) || isFinite(value = bBox.y)) {\n    bBox.top = bBox.y = value;\n  } else {\n    return null;\n  }\n\n  if (isFinite(bBox.width) && bBox.width >= 0) {\n    bBox.right = bBox.left + bBox.width;\n  } else if (isFinite(bBox.right) && bBox.right >= bBox.left) {\n    bBox.width = bBox.right - bBox.left;\n  } else {\n    return null;\n  }\n\n  if (isFinite(bBox.height) && bBox.height >= 0) {\n    bBox.bottom = bBox.top + bBox.height;\n  } else if (isFinite(bBox.bottom) && bBox.bottom >= bBox.top) {\n    bBox.height = bBox.bottom - bBox.top;\n  } else {\n    return null;\n  }\n\n  return bBox;\n}\n/**\n * A value that is Pixels or Ratio\n * @typedef {{value: number, isRatio: boolean}} PPValue\n */\n\n\nfunction validPPValue(value) {\n  // Get PPValue from string (all `/s` were already removed)\n  function string2PPValue(inString) {\n    var matches = /^(.+?)(%)?$/.exec(inString);\n    var value, isRatio;\n    return matches && isFinite(value = parseFloat(matches[1])) ? {\n      value: (isRatio = !!(matches[2] && value)) ? value / 100 : value,\n      isRatio: isRatio\n    } : null; // 0% -> 0\n  }\n\n  return isFinite(value) ? {\n    value: value,\n    isRatio: false\n  } : typeof value === 'string' ? string2PPValue(value.replace(/\\s/g, '')) : null;\n}\n\nfunction ppValue2OptionValue(ppValue) {\n  return ppValue.isRatio ? \"\".concat(ppValue.value * 100, \"%\") : ppValue.value;\n}\n\nfunction resolvePPValue(ppValue, baseOrigin, baseSize) {\n  return typeof ppValue === 'number' ? ppValue : baseOrigin + ppValue.value * (ppValue.isRatio ? baseSize : 1);\n}\n/**\n * An object that simulates BBox but properties are PPValue.\n * @typedef {Object} PPBBox\n */\n\n/**\n * @param {Object} bBox - A target object.\n * @returns {(PPBBox|null)} A normalized `PPBBox`, or null if `bBox` is invalid.\n */\n\n\nfunction validPPBBox(bBox) {\n  if (!isObject(bBox)) {\n    return null;\n  }\n\n  var ppValue;\n\n  if ((ppValue = validPPValue(bBox.left)) || (ppValue = validPPValue(bBox.x))) {\n    bBox.left = bBox.x = ppValue;\n  } else {\n    return null;\n  }\n\n  if ((ppValue = validPPValue(bBox.top)) || (ppValue = validPPValue(bBox.y))) {\n    bBox.top = bBox.y = ppValue;\n  } else {\n    return null;\n  }\n\n  if ((ppValue = validPPValue(bBox.width)) && ppValue.value >= 0) {\n    bBox.width = ppValue;\n    delete bBox.right;\n  } else if (ppValue = validPPValue(bBox.right)) {\n    bBox.right = ppValue;\n    delete bBox.width;\n  } else {\n    return null;\n  }\n\n  if ((ppValue = validPPValue(bBox.height)) && ppValue.value >= 0) {\n    bBox.height = ppValue;\n    delete bBox.bottom;\n  } else if (ppValue = validPPValue(bBox.bottom)) {\n    bBox.bottom = ppValue;\n    delete bBox.height;\n  } else {\n    return null;\n  }\n\n  return bBox;\n}\n\nfunction ppBBox2OptionObject(ppBBox) {\n  return Object.keys(ppBBox).reduce(function (obj, prop) {\n    obj[prop] = ppValue2OptionValue(ppBBox[prop]);\n    return obj;\n  }, {});\n} // PPBBox -> BBox\n\n\nfunction resolvePPBBox(ppBBox, baseBBox) {\n  var prop2Axis = {\n    left: 'x',\n    right: 'x',\n    x: 'x',\n    width: 'x',\n    top: 'y',\n    bottom: 'y',\n    y: 'y',\n    height: 'y'\n  },\n      baseOriginXY = {\n    x: baseBBox.left,\n    y: baseBBox.top\n  },\n      baseSizeXY = {\n    x: baseBBox.width,\n    y: baseBBox.height\n  };\n  return validBBox(Object.keys(ppBBox).reduce(function (bBox, prop) {\n    bBox[prop] = resolvePPValue(ppBBox[prop], prop === 'width' || prop === 'height' ? 0 : baseOriginXY[prop2Axis[prop]], baseSizeXY[prop2Axis[prop]]);\n    return bBox;\n  }, {}));\n}\n/**\n * @param {Element} element - A target element.\n * @param {?boolean} getPaddingBox - Get padding-box instead of border-box as bounding-box.\n * @returns {BBox} A bounding-box of `element`.\n */\n\n\nfunction getBBox(element, getPaddingBox) {\n  var rect = element.getBoundingClientRect(),\n      bBox = {\n    left: rect.left,\n    top: rect.top,\n    width: rect.width,\n    height: rect.height\n  };\n  bBox.left += window.pageXOffset;\n  bBox.top += window.pageYOffset;\n\n  if (getPaddingBox) {\n    var style = window.getComputedStyle(element, ''),\n        borderTop = parseFloat(style.borderTopWidth) || 0,\n        borderRight = parseFloat(style.borderRightWidth) || 0,\n        borderBottom = parseFloat(style.borderBottomWidth) || 0,\n        borderLeft = parseFloat(style.borderLeftWidth) || 0;\n    bBox.left += borderLeft;\n    bBox.top += borderTop;\n    bBox.width -= borderLeft + borderRight;\n    bBox.height -= borderTop + borderBottom;\n  }\n\n  return validBBox(bBox);\n}\n/**\n * Optimize an element for animation.\n * @param {Element} element - A target element.\n * @param {?boolean} gpuTrigger - Initialize for SVGElement if `true`.\n * @returns {Element} A target element.\n */\n\n\nfunction initAnim(element, gpuTrigger) {\n  var style = element.style;\n  style.webkitTapHighlightColor = 'transparent'; // Only when it has no shadow\n\n  var cssPropBoxShadow = CSSPrefix.getName('boxShadow'),\n      boxShadow = window.getComputedStyle(element, '')[cssPropBoxShadow];\n\n  if (!boxShadow || boxShadow === 'none') {\n    style[cssPropBoxShadow] = '0 0 1px transparent';\n  }\n\n  if (gpuTrigger && cssPropTransform) {\n    style[cssPropTransform] = 'translateZ(0)';\n  }\n\n  return element;\n}\n\nfunction setDraggableCursor(element, orgCursor) {\n  if (cssValueDraggableCursor == null) {\n    if (cssWantedValueDraggableCursor !== false) {\n      cssValueDraggableCursor = CSSPrefix.getValue('cursor', cssWantedValueDraggableCursor);\n    } // The wanted value was denied, or changing is not wanted.\n\n\n    if (cssValueDraggableCursor == null) {\n      cssValueDraggableCursor = false;\n    }\n  } // Update it to change a state even if cssValueDraggableCursor is false.\n\n\n  element.style.cursor = cssValueDraggableCursor === false ? orgCursor : cssValueDraggableCursor;\n}\n\nfunction setDraggingCursor(element) {\n  if (cssValueDraggingCursor == null) {\n    if (cssWantedValueDraggingCursor !== false) {\n      cssValueDraggingCursor = CSSPrefix.getValue('cursor', cssWantedValueDraggingCursor);\n    } // The wanted value was denied, or changing is not wanted.\n\n\n    if (cssValueDraggingCursor == null) {\n      cssValueDraggingCursor = false;\n    }\n  }\n\n  if (cssValueDraggingCursor !== false) {\n    element.style.cursor = cssValueDraggingCursor;\n  }\n} // [SVG]\n\n/**\n * Get SVG coordinates from viewport coordinates.\n * @param {props} props - `props` of instance.\n * @param {number} clientX - viewport X.\n * @param {number} clientY - viewport Y.\n * @returns {SVGPoint} SVG coordinates.\n */\n\n\nfunction viewPoint2SvgPoint(props, clientX, clientY) {\n  var svgPoint = props.svgPoint;\n  svgPoint.x = clientX;\n  svgPoint.y = clientY;\n  return svgPoint.matrixTransform(props.svgCtmElement.getScreenCTM().inverse());\n} // [/SVG]\n\n/**\n * Move by `translate`.\n * @param {props} props - `props` of instance.\n * @param {{left: number, top: number}} position - New position.\n * @returns {boolean} `true` if it was moved.\n */\n\n\nfunction moveTranslate(props, position) {\n  var elementBBox = props.elementBBox;\n\n  if (position.left !== elementBBox.left || position.top !== elementBBox.top) {\n    var offset = props.htmlOffset;\n    props.elementStyle[cssPropTransform] = \"translate(\".concat(position.left + offset.left, \"px, \").concat(position.top + offset.top, \"px)\");\n    return true;\n  }\n\n  return false;\n} // [LEFTTOP]\n\n/**\n * Move by `left` and `top`.\n * @param {props} props - `props` of instance.\n * @param {{left: number, top: number}} position - New position.\n * @returns {boolean} `true` if it was moved.\n */\n\n\nfunction moveLeftTop(props, position) {\n  var elementBBox = props.elementBBox,\n      elementStyle = props.elementStyle,\n      offset = props.htmlOffset;\n  var moved = false;\n\n  if (position.left !== elementBBox.left) {\n    elementStyle.left = position.left + offset.left + 'px';\n    moved = true;\n  }\n\n  if (position.top !== elementBBox.top) {\n    elementStyle.top = position.top + offset.top + 'px';\n    moved = true;\n  }\n\n  return moved;\n} // [/LEFTTOP]\n// [SVG]\n\n/**\n * Move SVGElement.\n * @param {props} props - `props` of instance.\n * @param {{left: number, top: number}} position - New position.\n * @returns {boolean} `true` if it was moved.\n */\n\n\nfunction moveSvg(props, position) {\n  var elementBBox = props.elementBBox;\n\n  if (position.left !== elementBBox.left || position.top !== elementBBox.top) {\n    var offset = props.svgOffset,\n        originBBox = props.svgOriginBBox,\n        point = viewPoint2SvgPoint(props, position.left - window.pageXOffset, position.top - window.pageYOffset);\n    props.svgTransform.setTranslate(point.x + offset.x - originBBox.x, point.y + offset.y - originBBox.y);\n    return true;\n  }\n\n  return false;\n} // [/SVG]\n\n/**\n * Set `props.element` position.\n * @param {props} props - `props` of instance.\n * @param {{left: number, top: number}} position - New position.\n * @param {function} [cbCheck] - Callback that is called with valid position, cancel moving if it returns `false`.\n * @returns {boolean} `true` if it was moved.\n */\n\n\nfunction move(props, position, cbCheck) {\n  var elementBBox = props.elementBBox;\n\n  function fix() {\n    if (props.minLeft >= props.maxLeft) {\n      // Disabled\n      position.left = elementBBox.left;\n    } else if (position.left < props.minLeft) {\n      position.left = props.minLeft;\n    } else if (position.left > props.maxLeft) {\n      position.left = props.maxLeft;\n    }\n\n    if (props.minTop >= props.maxTop) {\n      // Disabled\n      position.top = elementBBox.top;\n    } else if (position.top < props.minTop) {\n      position.top = props.minTop;\n    } else if (position.top > props.maxTop) {\n      position.top = props.maxTop;\n    }\n  }\n\n  fix();\n\n  if (cbCheck) {\n    if (cbCheck(position) === false) {\n      return false;\n    }\n\n    fix(); // Again\n  }\n\n  var moved = props.moveElm(props, position);\n\n  if (moved) {\n    // Update elementBBox\n    props.elementBBox = validBBox({\n      left: position.left,\n      top: position.top,\n      width: elementBBox.width,\n      height: elementBBox.height\n    });\n  }\n\n  return moved;\n}\n/**\n * Initialize HTMLElement for `translate`, and get `offset` that is used by `moveTranslate`.\n * @param {props} props - `props` of instance.\n * @returns {BBox} Current BBox without animation, i.e. left/top properties.\n */\n\n\nfunction initTranslate(props) {\n  var element = props.element,\n      elementStyle = props.elementStyle,\n      curPosition = getBBox(element),\n      // Get BBox before change style.\n  RESTORE_PROPS = ['display', 'marginTop', 'marginBottom', 'width', 'height'];\n  RESTORE_PROPS.unshift(cssPropTransform); // Reset `transition-property` every time because it might be changed frequently.\n\n  var orgTransitionProperty = elementStyle[cssPropTransitionProperty];\n  elementStyle[cssPropTransitionProperty] = 'none'; // Disable animation\n\n  var fixPosition = getBBox(element);\n\n  if (!props.orgStyle) {\n    props.orgStyle = RESTORE_PROPS.reduce(function (orgStyle, prop) {\n      orgStyle[prop] = elementStyle[prop] || '';\n      return orgStyle;\n    }, {});\n    props.lastStyle = {};\n  } else {\n    RESTORE_PROPS.forEach(function (prop) {\n      // Skip this if it seems user changed it. (it can't check perfectly.)\n      if (props.lastStyle[prop] == null || elementStyle[prop] === props.lastStyle[prop]) {\n        elementStyle[prop] = props.orgStyle[prop];\n      }\n    });\n  }\n\n  var orgSize = getBBox(element),\n      cmpStyle = window.getComputedStyle(element, ''); // https://www.w3.org/TR/css-transforms-1/#transformable-element\n\n  if (cmpStyle.display === 'inline') {\n    elementStyle.display = 'inline-block';\n    ['Top', 'Bottom'].forEach(function (dirProp) {\n      var padding = parseFloat(cmpStyle[\"padding\".concat(dirProp)]); // paddingTop/Bottom make padding but don't make space -> negative margin in inline-block\n      // marginTop/Bottom don't work in inline element -> `0` in inline-block\n\n      elementStyle[\"margin\".concat(dirProp)] = padding ? \"-\".concat(padding, \"px\") : '0';\n    });\n  }\n\n  elementStyle[cssPropTransform] = 'translate(0, 0)'; // Get document offset.\n\n  var newBBox = getBBox(element);\n  var offset = props.htmlOffset = {\n    left: newBBox.left ? -newBBox.left : 0,\n    top: newBBox.top ? -newBBox.top : 0\n  }; // avoid `-0`\n  // Restore position\n\n  elementStyle[cssPropTransform] = \"translate(\".concat(curPosition.left + offset.left, \"px, \").concat(curPosition.top + offset.top, \"px)\"); // Restore size\n\n  ['width', 'height'].forEach(function (prop) {\n    if (newBBox[prop] !== orgSize[prop]) {\n      // Ignore `box-sizing`\n      elementStyle[prop] = orgSize[prop] + 'px';\n      newBBox = getBBox(element);\n\n      if (newBBox[prop] !== orgSize[prop]) {\n        // Retry\n        elementStyle[prop] = orgSize[prop] - (newBBox[prop] - orgSize[prop]) + 'px';\n      }\n    }\n\n    props.lastStyle[prop] = elementStyle[prop];\n  }); // Restore `transition-property`\n\n  element.offsetWidth;\n  /* force reflow */\n  // eslint-disable-line no-unused-expressions\n\n  elementStyle[cssPropTransitionProperty] = orgTransitionProperty;\n\n  if (fixPosition.left !== curPosition.left || fixPosition.top !== curPosition.top) {\n    // It seems that it is moving.\n    elementStyle[cssPropTransform] = \"translate(\".concat(fixPosition.left + offset.left, \"px, \").concat(fixPosition.top + offset.top, \"px)\");\n  }\n\n  return fixPosition;\n} // [LEFTTOP]\n\n/**\n * Initialize HTMLElement for `left` and `top`, and get `offset` that is used by `moveLeftTop`.\n * @param {props} props - `props` of instance.\n * @returns {BBox} Current BBox without animation, i.e. left/top properties.\n */\n\n\nfunction initLeftTop(props) {\n  var element = props.element,\n      elementStyle = props.elementStyle,\n      curPosition = getBBox(element),\n      // Get BBox before change style.\n  RESTORE_PROPS = ['position', 'marginTop', 'marginRight', 'marginBottom', 'marginLeft', 'width', 'height']; // Reset `transition-property` every time because it might be changed frequently.\n\n  var orgTransitionProperty = elementStyle[cssPropTransitionProperty];\n  elementStyle[cssPropTransitionProperty] = 'none'; // Disable animation\n\n  var fixPosition = getBBox(element);\n\n  if (!props.orgStyle) {\n    props.orgStyle = RESTORE_PROPS.reduce(function (orgStyle, prop) {\n      orgStyle[prop] = elementStyle[prop] || '';\n      return orgStyle;\n    }, {});\n    props.lastStyle = {};\n  } else {\n    RESTORE_PROPS.forEach(function (prop) {\n      // Skip this if it seems user changed it. (it can't check perfectly.)\n      if (props.lastStyle[prop] == null || elementStyle[prop] === props.lastStyle[prop]) {\n        elementStyle[prop] = props.orgStyle[prop];\n      }\n    });\n  }\n\n  var orgSize = getBBox(element);\n  elementStyle.position = 'absolute';\n  elementStyle.left = elementStyle.top = elementStyle.margin = '0'; // Get document offset.\n\n  var newBBox = getBBox(element);\n  var offset = props.htmlOffset = {\n    left: newBBox.left ? -newBBox.left : 0,\n    top: newBBox.top ? -newBBox.top : 0\n  }; // avoid `-0`\n  // Restore position\n\n  elementStyle.left = curPosition.left + offset.left + 'px';\n  elementStyle.top = curPosition.top + offset.top + 'px'; // Restore size\n\n  ['width', 'height'].forEach(function (prop) {\n    if (newBBox[prop] !== orgSize[prop]) {\n      // Ignore `box-sizing`\n      elementStyle[prop] = orgSize[prop] + 'px';\n      newBBox = getBBox(element);\n\n      if (newBBox[prop] !== orgSize[prop]) {\n        // Retry\n        elementStyle[prop] = orgSize[prop] - (newBBox[prop] - orgSize[prop]) + 'px';\n      }\n    }\n\n    props.lastStyle[prop] = elementStyle[prop];\n  }); // Restore `transition-property`\n\n  element.offsetWidth;\n  /* force reflow */\n  // eslint-disable-line no-unused-expressions\n\n  elementStyle[cssPropTransitionProperty] = orgTransitionProperty;\n\n  if (fixPosition.left !== curPosition.left || fixPosition.top !== curPosition.top) {\n    // It seems that it is moving.\n    elementStyle.left = fixPosition.left + offset.left + 'px';\n    elementStyle.top = fixPosition.top + offset.top + 'px';\n  }\n\n  return fixPosition;\n} // [/LEFTTOP]\n// [SVG]\n\n/**\n * Initialize SVGElement, and get `offset` that is used by `moveSvg`.\n * @param {props} props - `props` of instance.\n * @returns {BBox} Current BBox without animation, i.e. left/top properties.\n */\n\n\nfunction initSvg(props) {\n  var element = props.element,\n      svgTransform = props.svgTransform,\n      curRect = element.getBoundingClientRect(),\n      // Get Rect before change position.\n  fixPosition = getBBox(element);\n  svgTransform.setTranslate(0, 0);\n  var originBBox = props.svgOriginBBox = element.getBBox(),\n      // Try to get SVG coordinates of current position.\n  newRect = element.getBoundingClientRect(),\n      originPoint = viewPoint2SvgPoint(props, newRect.left, newRect.top),\n      // Gecko bug, getScreenCTM returns incorrect CTM, and originPoint might not be current position.\n  offset = props.svgOffset = {\n    x: originBBox.x - originPoint.x,\n    y: originBBox.y - originPoint.y\n  },\n      // Restore position\n  curPoint = viewPoint2SvgPoint(props, curRect.left, curRect.top);\n  svgTransform.setTranslate(curPoint.x + offset.x - originBBox.x, curPoint.y + offset.y - originBBox.y);\n  return fixPosition;\n} // [/SVG]\n\n/**\n * Set `elementBBox`, `containmentBBox`, `min/max``Left/Top` and `snapTargets`.\n * @param {props} props - `props` of instance.\n * @param {string} [eventType] - A type of event that kicked this method.\n * @returns {void}\n */\n\n\nfunction initBBox(props, eventType) {\n  // eslint-disable-line no-unused-vars\n  var docBBox = getBBox(document.documentElement),\n      elementBBox = props.elementBBox = props.initElm(props),\n      // reset offset etc.\n  containmentBBox = props.containmentBBox = props.containmentIsBBox ? resolvePPBBox(props.options.containment, docBBox) || docBBox : getBBox(props.options.containment, true);\n  props.minLeft = containmentBBox.left;\n  props.maxLeft = containmentBBox.right - elementBBox.width;\n  props.minTop = containmentBBox.top;\n  props.maxTop = containmentBBox.bottom - elementBBox.height; // Adjust position\n\n  move(props, {\n    left: elementBBox.left,\n    top: elementBBox.top\n  }); // [SNAP]\n  // Snap-targets\n\n  /**\n   * @typedef {Object} SnapTarget\n   * @property {number} [x] - A coordinate it moves to. It has x or y or both.\n   * @property {number} [y]\n   * @property {number} [gravityXStart] - Gravity zone. It has *Start or *End or both, and *X* or *Y* or both.\n   * @property {number} [gravityXEnd]\n   * @property {number} [gravityYStart]\n   * @property {number} [gravityYEnd]\n   */\n\n  if (props.parsedSnapTargets) {\n    var elementSizeXY = {\n      x: elementBBox.width,\n      y: elementBBox.height\n    },\n        minXY = {\n      x: props.minLeft,\n      y: props.minTop\n    },\n        maxXY = {\n      x: props.maxLeft,\n      y: props.maxTop\n    },\n        prop2Axis = {\n      left: 'x',\n      right: 'x',\n      x: 'x',\n      width: 'x',\n      xStart: 'x',\n      xEnd: 'x',\n      xStep: 'x',\n      top: 'y',\n      bottom: 'y',\n      y: 'y',\n      height: 'y',\n      yStart: 'y',\n      yEnd: 'y',\n      yStep: 'y'\n    },\n        snapTargets = props.parsedSnapTargets.reduce(function (snapTargets, parsedSnapTarget) {\n      var baseRect = parsedSnapTarget.base === 'containment' ? containmentBBox : docBBox,\n          baseOriginXY = {\n        x: baseRect.left,\n        y: baseRect.top\n      },\n          baseSizeXY = {\n        x: baseRect.width,\n        y: baseRect.height\n      };\n      /**\n       * Basically, shallow copy from parsedSnapTarget, and it can have resolved values.\n       * @typedef {{x: (number|PPValue), y, xStart, xEnd, xStep, yStart, yEnd, yStep}} TargetXY\n       * @property {string[]} [corners] - Applied value.\n       * @property {string[]} [sides]\n       * @property {boolean} center\n       * @property {number} [xGravity] - Override parsedSnapTarget.gravity.\n       * @property {number} [yGravity]\n       */\n      // Add single Point or Line (i.e. targetXY has no *Step)\n\n      function addSnapTarget(targetXY) {\n        if (targetXY.center == null) {\n          targetXY.center = parsedSnapTarget.center;\n        }\n\n        if (targetXY.xGravity == null) {\n          targetXY.xGravity = parsedSnapTarget.gravity;\n        }\n\n        if (targetXY.yGravity == null) {\n          targetXY.yGravity = parsedSnapTarget.gravity;\n        }\n\n        if (targetXY.x != null && targetXY.y != null) {\n          // Point\n          targetXY.x = resolvePPValue(targetXY.x, baseOriginXY.x, baseSizeXY.x);\n          targetXY.y = resolvePPValue(targetXY.y, baseOriginXY.y, baseSizeXY.y);\n\n          if (targetXY.center) {\n            targetXY.x -= elementSizeXY.x / 2;\n            targetXY.y -= elementSizeXY.y / 2;\n            targetXY.corners = ['tl'];\n          }\n\n          (targetXY.corners || parsedSnapTarget.corners).forEach(function (corner) {\n            var x = targetXY.x - (corner === 'tr' || corner === 'br' ? elementSizeXY.x : 0),\n                y = targetXY.y - (corner === 'bl' || corner === 'br' ? elementSizeXY.y : 0);\n\n            if (x >= minXY.x && x <= maxXY.x && y >= minXY.y && y <= maxXY.y) {\n              var snapTarget = {\n                x: x,\n                y: y\n              },\n                  gravityXStart = x - targetXY.xGravity,\n                  gravityXEnd = x + targetXY.xGravity,\n                  gravityYStart = y - targetXY.yGravity,\n                  gravityYEnd = y + targetXY.yGravity;\n\n              if (gravityXStart > minXY.x) {\n                snapTarget.gravityXStart = gravityXStart;\n              }\n\n              if (gravityXEnd < maxXY.x) {\n                snapTarget.gravityXEnd = gravityXEnd;\n              }\n\n              if (gravityYStart > minXY.y) {\n                snapTarget.gravityYStart = gravityYStart;\n              }\n\n              if (gravityYEnd < maxXY.y) {\n                snapTarget.gravityYEnd = gravityYEnd;\n              }\n\n              snapTargets.push(snapTarget);\n            }\n          });\n        } else {\n          // Line\n          var specAxis = targetXY.x != null ? 'x' : 'y',\n              rangeAxis = specAxis === 'x' ? 'y' : 'x',\n              startProp = \"\".concat(rangeAxis, \"Start\"),\n              endProp = \"\".concat(rangeAxis, \"End\"),\n              gravityProp = \"\".concat(specAxis, \"Gravity\"),\n              specAxisL = specAxis.toUpperCase(),\n              rangeAxisL = rangeAxis.toUpperCase(),\n              gravitySpecStartProp = \"gravity\".concat(specAxisL, \"Start\"),\n              gravitySpecEndProp = \"gravity\".concat(specAxisL, \"End\"),\n              gravityRangeStartProp = \"gravity\".concat(rangeAxisL, \"Start\"),\n              gravityRangeEndProp = \"gravity\".concat(rangeAxisL, \"End\");\n          targetXY[specAxis] = resolvePPValue(targetXY[specAxis], baseOriginXY[specAxis], baseSizeXY[specAxis]);\n          targetXY[startProp] = resolvePPValue(targetXY[startProp], baseOriginXY[rangeAxis], baseSizeXY[rangeAxis]);\n          targetXY[endProp] = resolvePPValue(targetXY[endProp], baseOriginXY[rangeAxis], baseSizeXY[rangeAxis]) - elementSizeXY[rangeAxis]; // Reduce the end of the line.\n\n          if (targetXY[startProp] > targetXY[endProp] || // Smaller than element size.\n          targetXY[startProp] > maxXY[rangeAxis] || targetXY[endProp] < minXY[rangeAxis]) {\n            return;\n          }\n\n          if (targetXY.center) {\n            targetXY[specAxis] -= elementSizeXY[specAxis] / 2;\n            targetXY.sides = ['start'];\n          }\n\n          (targetXY.sides || parsedSnapTarget.sides).forEach(function (side) {\n            var xy = targetXY[specAxis] - (side === 'end' ? elementSizeXY[specAxis] : 0);\n\n            if (xy >= minXY[specAxis] && xy <= maxXY[specAxis]) {\n              var snapTarget = {},\n                  gravitySpecStart = xy - targetXY[gravityProp],\n                  gravitySpecEnd = xy + targetXY[gravityProp];\n              snapTarget[specAxis] = xy;\n\n              if (gravitySpecStart > minXY[specAxis]) {\n                snapTarget[gravitySpecStartProp] = gravitySpecStart;\n              }\n\n              if (gravitySpecEnd < maxXY[specAxis]) {\n                snapTarget[gravitySpecEndProp] = gravitySpecEnd;\n              }\n\n              if (targetXY[startProp] > minXY[rangeAxis]) {\n                snapTarget[gravityRangeStartProp] = targetXY[startProp];\n              }\n\n              if (targetXY[endProp] < maxXY[rangeAxis]) {\n                snapTarget[gravityRangeEndProp] = targetXY[endProp];\n              }\n\n              snapTargets.push(snapTarget);\n            }\n          });\n        }\n      }\n\n      var bBox;\n\n      if ((bBox = parsedSnapTarget.element ? getBBox(parsedSnapTarget.element) : null) || // Element\n      parsedSnapTarget.ppBBox) {\n        if (parsedSnapTarget.ppBBox) {\n          bBox = resolvePPBBox(parsedSnapTarget.ppBBox, baseRect);\n        } // BBox\n\n\n        if (bBox) {\n          // Drop invalid BBox.\n          // Expand into 4 lines.\n          parsedSnapTarget.edges.forEach(function (edge) {\n            var lengthenX = parsedSnapTarget.gravity,\n                lengthenY = parsedSnapTarget.gravity;\n\n            if (edge === 'outside') {\n              // Snap it when a part of the element is part of the range.\n              lengthenX += elementBBox.width;\n              lengthenY += elementBBox.height;\n            }\n\n            var xStart = bBox.left - lengthenX,\n                xEnd = bBox.right + lengthenX,\n                yStart = bBox.top - lengthenY,\n                yEnd = bBox.bottom + lengthenY;\n            var side = edge === 'inside' ? 'start' : 'end';\n            addSnapTarget({\n              xStart: xStart,\n              xEnd: xEnd,\n              y: bBox.top,\n              sides: [side],\n              center: false\n            }); // Top\n\n            addSnapTarget({\n              x: bBox.left,\n              yStart: yStart,\n              yEnd: yEnd,\n              sides: [side],\n              center: false\n            }); // Left\n\n            side = edge === 'inside' ? 'end' : 'start';\n            addSnapTarget({\n              xStart: xStart,\n              xEnd: xEnd,\n              y: bBox.bottom,\n              sides: [side],\n              center: false\n            }); // Bottom\n\n            addSnapTarget({\n              x: bBox.right,\n              yStart: yStart,\n              yEnd: yEnd,\n              sides: [side],\n              center: false\n            }); // Right\n          });\n        }\n      } else {\n        var expanded = [['x', 'y', 'xStart', 'xEnd', 'xStep', 'yStart', 'yEnd', 'yStep'].reduce(function (targetXY, prop) {\n          if (parsedSnapTarget[prop]) {\n            targetXY[prop] = resolvePPValue(parsedSnapTarget[prop], prop === 'xStep' || prop === 'yStep' ? 0 : baseOriginXY[prop2Axis[prop]], baseSizeXY[prop2Axis[prop]]);\n          }\n\n          return targetXY;\n        }, {})];\n        ['x', 'y'].forEach(function (axis) {\n          var startProp = \"\".concat(axis, \"Start\"),\n              endProp = \"\".concat(axis, \"End\"),\n              stepProp = \"\".concat(axis, \"Step\"),\n              gravityProp = \"\".concat(axis, \"Gravity\");\n          expanded = expanded.reduce(function (expanded, targetXY) {\n            var start = targetXY[startProp],\n                end = targetXY[endProp],\n                step = targetXY[stepProp];\n\n            if (start != null && end != null && start >= end) {\n              return expanded;\n            } // start >= end\n\n\n            if (step != null) {\n              if (step < 2) {\n                return expanded;\n              } // step >= 2px -> Expand by step\n\n\n              var gravity = step / 2; // max\n\n              gravity = parsedSnapTarget.gravity > gravity ? gravity : null;\n\n              for (var curValue = start; curValue <= end; curValue += step) {\n                var expandedXY = Object.keys(targetXY).reduce(function (expandedXY, prop) {\n                  if (prop !== startProp && prop !== endProp && prop !== stepProp) {\n                    expandedXY[prop] = targetXY[prop];\n                  }\n\n                  return expandedXY;\n                }, {});\n                expandedXY[axis] = curValue;\n                expandedXY[gravityProp] = gravity;\n                expanded.push(expandedXY);\n              }\n            } else {\n              expanded.push(targetXY);\n            }\n\n            return expanded;\n          }, []);\n        });\n        expanded.forEach(function (targetXY) {\n          addSnapTarget(targetXY);\n        });\n      }\n\n      return snapTargets;\n    }, []);\n    props.snapTargets = snapTargets.length ? snapTargets : null;\n  } // [/SNAP]\n  // [AUTO-SCROLL]\n\n\n  var autoScroll = {},\n      autoScrollOptions = props.options.autoScroll;\n\n  if (autoScrollOptions) {\n    autoScroll.isWindow = autoScrollOptions.target === window;\n    autoScroll.target = autoScrollOptions.target;\n    var dontScroll = eventType === 'scroll',\n        // Avoid duplicated calling\n    scrollable = getScrollable(autoScrollOptions.target, autoScroll.isWindow, dontScroll),\n        scrollableBBox = validBBox({\n      left: scrollable.clientX,\n      top: scrollable.clientY,\n      width: scrollable.clientWidth,\n      height: scrollable.clientHeight\n    });\n\n    if (!dontScroll) {\n      autoScroll.scrollWidth = scrollable.scrollWidth;\n      autoScroll.scrollHeight = scrollable.scrollHeight;\n    } else if (props.autoScroll) {\n      autoScroll.scrollWidth = props.autoScroll.scrollWidth;\n      autoScroll.scrollHeight = props.autoScroll.scrollHeight;\n    }\n\n    [['X', 'Width', 'left', 'right'], ['Y', 'Height', 'top', 'bottom']].forEach(function (axis) {\n      var xy = axis[0],\n          wh = axis[1],\n          back = axis[2],\n          forward = axis[3],\n          maxAbs = (autoScroll[\"scroll\".concat(wh)] || 0) - scrollable[\"client\".concat(wh)],\n          min = autoScrollOptions[\"min\".concat(xy)] || 0;\n      var max = isFinite(autoScrollOptions[\"max\".concat(xy)]) ? autoScrollOptions[\"max\".concat(xy)] : maxAbs;\n\n      if (min < max && min < maxAbs) {\n        if (max > maxAbs) {\n          max = maxAbs;\n        }\n\n        var lines = [],\n            elementSize = elementBBox[wh.toLowerCase()];\n\n        for (var i = autoScrollOptions.sensitivity.length - 1; i >= 0; i--) {\n          // near -> far\n          var sensitivity = autoScrollOptions.sensitivity[i],\n              speed = autoScrollOptions.speed[i]; // back\n\n          lines.push({\n            dir: -1,\n            speed: speed,\n            position: scrollableBBox[back] + sensitivity\n          }); // forward\n\n          lines.push({\n            dir: 1,\n            speed: speed,\n            position: scrollableBBox[forward] - sensitivity - elementSize\n          });\n        }\n\n        autoScroll[xy.toLowerCase()] = {\n          min: min,\n          max: max,\n          lines: lines\n        };\n      }\n    });\n  }\n\n  props.autoScroll = autoScroll.x || autoScroll.y ? autoScroll : null; // [/AUTO-SCROLL]\n}\n/**\n * @param {props} props - `props` of instance.\n * @returns {void}\n */\n\n\nfunction dragEnd(props) {\n  scrollFrame.stop(); // [AUTO-SCROLL/]\n\n  setDraggableCursor(props.options.handle, props.orgCursor);\n  body.style.cursor = cssOrgValueBodyCursor;\n\n  if (props.options.zIndex !== false) {\n    props.elementStyle.zIndex = props.orgZIndex;\n  }\n\n  if (cssPropUserSelect) {\n    body.style[cssPropUserSelect] = cssOrgValueBodyUserSelect;\n  }\n\n  var classList = mClassList(props.element);\n\n  if (movingClass) {\n    classList.remove(movingClass);\n  }\n\n  if (draggingClass) {\n    classList.remove(draggingClass);\n  }\n\n  activeProps = null;\n  pointerEvent.cancel(); // Reset pointer (activeProps must be null because this calls endHandler)\n\n  if (props.onDragEnd) {\n    props.onDragEnd({\n      left: props.elementBBox.left,\n      top: props.elementBBox.top\n    });\n  }\n}\n/**\n * @param {props} props - `props` of instance.\n * @param {{clientX, clientY}} pointerXY - This might be MouseEvent, Touch of TouchEvent or Object.\n * @returns {boolean} `true` if it started.\n */\n\n\nfunction dragStart(props, pointerXY) {\n  if (props.disabled) {\n    return false;\n  }\n\n  if (props.onDragStart && props.onDragStart(pointerXY) === false) {\n    return false;\n  }\n\n  if (activeProps) {\n    dragEnd(activeProps);\n  } // activeItem is normally null by pointerEvent.end.\n\n\n  setDraggingCursor(props.options.handle);\n  body.style.cursor = cssValueDraggingCursor || // If it is `false` or `''`\n  window.getComputedStyle(props.options.handle, '').cursor;\n\n  if (props.options.zIndex !== false) {\n    props.elementStyle.zIndex = props.options.zIndex;\n  }\n\n  if (cssPropUserSelect) {\n    body.style[cssPropUserSelect] = 'none';\n  }\n\n  if (draggingClass) {\n    mClassList(props.element).add(draggingClass);\n  }\n\n  activeProps = props;\n  hasMoved = false;\n  pointerOffset.left = props.elementBBox.left - (pointerXY.clientX + window.pageXOffset);\n  pointerOffset.top = props.elementBBox.top - (pointerXY.clientY + window.pageYOffset);\n  return true;\n}\n/**\n * @param {props} props - `props` of instance.\n * @param {Object} newOptions - New options.\n * @returns {void}\n */\n\n\nfunction _setOptions(props, newOptions) {\n  var options = props.options;\n  var needsInitBBox; // containment\n\n  if (newOptions.containment) {\n    var bBox;\n\n    if (isElement(newOptions.containment)) {\n      // Specific element\n      if (newOptions.containment !== options.containment) {\n        options.containment = newOptions.containment;\n        props.containmentIsBBox = false;\n        needsInitBBox = true;\n      }\n    } else if ((bBox = validPPBBox(copyTree(newOptions.containment))) && // bBox\n    hasChanged(bBox, options.containment)) {\n      options.containment = bBox;\n      props.containmentIsBBox = true;\n      needsInitBBox = true;\n    }\n  } // [SNAP]\n\n  /**\n   * @typedef {Object} SnapOptions\n   * @property {SnapTargetOptions[]} targets\n   * @property {number} [gravity]\n   * @property {string} [corner]\n   * @property {string} [side]\n   * @property {boolean} [center]\n   * @property {string} [edge]\n   * @property {string} [base]\n   */\n\n  /**\n   * @typedef {Object} SnapTargetOptions\n   * @property {(number|string)} [x] - pixels | '<n>%' | {start, end} | {step, start, end}\n   * @property {(number|string)} [y]\n   * @property {(Element|Object)} [boundingBox] - Object has properties that are string or number from PPBBox.\n   * @property {number} [gravity]\n   * @property {string} [corner]\n   * @property {string} [side]\n   * @property {boolean} [center]\n   * @property {string} [edge]\n   * @property {string} [base]\n   */\n\n  /**\n   * @typedef {Object} ParsedSnapTarget\n   * @property {PPValue} [x] - (input: pixels | '<n>%')\n   * @property {PPValue} [y]\n   * @property {PPValue} [xStart] - (input: {start, end} | {step, start, end})\n   * @property {PPValue} [xEnd]\n   * @property {PPValue} [xStep] - (input: {step, start, end})\n   * @property {PPValue} [yStart]\n   * @property {PPValue} [yEnd]\n   * @property {PPValue} [yStep]\n   * @property {Element} [element]\n   * @property {PPBBox} [ppBBox]\n   * @property {number} gravity\n   * @property {string[]} corners\n   * @property {string[]} sides\n   * @property {boolean} center\n   * @property {string[]} edges\n   * @property {string} base\n   */\n  // Normalize `gravity`, `corner`, `side`, `center`, `edge`, `base`\n\n\n  function commonSnapOptions(options, newOptions) {\n    function cleanString(inString) {\n      return typeof inString === 'string' ? inString.replace(/[, ]+/g, ' ').trim().toLowerCase() : null;\n    } // gravity\n\n\n    if (isFinite(newOptions.gravity) && newOptions.gravity > 0) {\n      options.gravity = newOptions.gravity;\n    } // corner\n\n\n    var corner = cleanString(newOptions.corner);\n\n    if (corner) {\n      if (corner !== 'all') {\n        var added = {},\n            corners = corner.split(/\\s/).reduce(function (corners, corner) {\n          corner = corner.trim().replace(/^(.).*?-(.).*$/, '$1$2');\n\n          if ((corner = corner === 'tl' || corner === 'lt' ? 'tl' : corner === 'tr' || corner === 'rt' ? 'tr' : corner === 'bl' || corner === 'lb' ? 'bl' : corner === 'br' || corner === 'rb' ? 'br' : null) && !added[corner]) {\n            corners.push(corner);\n            added[corner] = true;\n          }\n\n          return corners;\n        }, []),\n            cornersLen = corners.length;\n        corner = !cornersLen ? null : cornersLen === 4 ? 'all' : corners.join(' ');\n      }\n\n      if (corner) {\n        options.corner = corner;\n      }\n    } // side\n\n\n    var side = cleanString(newOptions.side);\n\n    if (side) {\n      if (side === 'start' || side === 'end' || side === 'both') {\n        options.side = side;\n      } else if (side === 'start end' || side === 'end start') {\n        options.side = 'both';\n      }\n    } // center\n\n\n    if (typeof newOptions.center === 'boolean') {\n      options.center = newOptions.center;\n    } // edge\n\n\n    var edge = cleanString(newOptions.edge);\n\n    if (edge) {\n      if (edge === 'inside' || edge === 'outside' || edge === 'both') {\n        options.edge = edge;\n      } else if (edge === 'inside outside' || edge === 'outside inside') {\n        options.edge = 'both';\n      }\n    } // base\n\n\n    var base = typeof newOptions.base === 'string' ? newOptions.base.trim().toLowerCase() : null;\n\n    if (base && (base === 'containment' || base === 'document')) {\n      options.base = base;\n    }\n\n    return options;\n  } // snap\n\n\n  if (newOptions.snap != null) {\n    var newSnapOptions = isObject(newOptions.snap) && newOptions.snap.targets != null ? newOptions.snap : {\n      targets: newOptions.snap\n    },\n        snapTargetsOptions = [],\n        snapOptions = commonSnapOptions({\n      targets: snapTargetsOptions\n    }, newSnapOptions); // Set default options into top level.\n\n    if (!snapOptions.gravity) {\n      snapOptions.gravity = SNAP_GRAVITY;\n    }\n\n    if (!snapOptions.corner) {\n      snapOptions.corner = SNAP_CORNER;\n    }\n\n    if (!snapOptions.side) {\n      snapOptions.side = SNAP_SIDE;\n    }\n\n    if (typeof snapOptions.center !== 'boolean') {\n      snapOptions.center = false;\n    }\n\n    if (!snapOptions.edge) {\n      snapOptions.edge = SNAP_EDGE;\n    }\n\n    if (!snapOptions.base) {\n      snapOptions.base = SNAP_BASE;\n    }\n\n    var parsedSnapTargets = (Array.isArray(newSnapOptions.targets) ? newSnapOptions.targets : [newSnapOptions.targets]).reduce(function (parsedSnapTargets, target) {\n      if (target == null) {\n        return parsedSnapTargets;\n      }\n\n      var isElementPre = isElement(target),\n          // Pre-check direct value\n      ppBBoxPre = validPPBBox(copyTree(target)),\n          // Pre-check direct value\n      newSnapTargetOptions = isElementPre || ppBBoxPre ? {\n        boundingBox: target\n      } : // Direct Element | PPBBox\n      isObject(target) && target.start == null && target.end == null && target.step == null ? target : // SnapTargetOptions\n      {\n        x: target,\n        y: target\n      },\n          // Others, it might be {step, start, end}\n      expandedParsedSnapTargets = [],\n          snapTargetOptions = {},\n          newOptionsBBox = newSnapTargetOptions.boundingBox;\n      var ppBBox;\n\n      if (isElementPre || isElement(newOptionsBBox)) {\n        // Element\n        expandedParsedSnapTargets.push({\n          element: newOptionsBBox\n        });\n        snapTargetOptions.boundingBox = newOptionsBBox;\n      } else if (ppBBox = ppBBoxPre || validPPBBox(copyTree(newOptionsBBox))) {\n        // Object -> PPBBox\n        expandedParsedSnapTargets.push({\n          ppBBox: ppBBox\n        });\n        snapTargetOptions.boundingBox = ppBBox2OptionObject(ppBBox);\n      } else {\n        var invalid; // `true` if valid PPValue was given but the contained value is invalid.\n\n        var parsedXY = ['x', 'y'].reduce(function (parsedXY, axis) {\n          var newOptionsXY = newSnapTargetOptions[axis];\n          var ppValue;\n\n          if (ppValue = validPPValue(newOptionsXY)) {\n            // pixels | '<n>%'\n            parsedXY[axis] = ppValue;\n            snapTargetOptions[axis] = ppValue2OptionValue(ppValue);\n          } else {\n            // {start, end} | {step, start, end}\n            var start, end, step;\n\n            if (isObject(newOptionsXY)) {\n              start = validPPValue(newOptionsXY.start);\n              end = validPPValue(newOptionsXY.end);\n              step = validPPValue(newOptionsXY.step);\n\n              if (start && end && start.isRatio === end.isRatio && start.value >= end.value) {\n                // start >= end\n                invalid = true;\n              }\n            }\n\n            start = parsedXY[\"\".concat(axis, \"Start\")] = start || {\n              value: 0,\n              isRatio: false\n            };\n            end = parsedXY[\"\".concat(axis, \"End\")] = end || {\n              value: 1,\n              isRatio: true\n            };\n            snapTargetOptions[axis] = {\n              start: ppValue2OptionValue(start),\n              end: ppValue2OptionValue(end)\n            };\n\n            if (step) {\n              if (step.isRatio ? step.value > 0 : step.value >= 2) {\n                // step > 0% || step >= 2px\n                parsedXY[\"\".concat(axis, \"Step\")] = step;\n                snapTargetOptions[axis].step = ppValue2OptionValue(step);\n              } else {\n                invalid = true;\n              }\n            }\n          }\n\n          return parsedXY;\n        }, {});\n\n        if (invalid) {\n          return parsedSnapTargets;\n        }\n\n        if (parsedXY.xStart && !parsedXY.xStep && parsedXY.yStart && !parsedXY.yStep) {\n          // Expand into 4 lines. This is not BBox, and `edge` is ignored.\n          expandedParsedSnapTargets.push({\n            xStart: parsedXY.xStart,\n            xEnd: parsedXY.xEnd,\n            y: parsedXY.yStart\n          }, // Top\n          {\n            xStart: parsedXY.xStart,\n            xEnd: parsedXY.xEnd,\n            y: parsedXY.yEnd\n          }, // Bottom\n          {\n            x: parsedXY.xStart,\n            yStart: parsedXY.yStart,\n            yEnd: parsedXY.yEnd\n          }, // Left\n          {\n            x: parsedXY.xEnd,\n            yStart: parsedXY.yStart,\n            yEnd: parsedXY.yEnd\n          } // Right\n          );\n        } else {\n          expandedParsedSnapTargets.push(parsedXY);\n        }\n      }\n\n      if (expandedParsedSnapTargets.length) {\n        snapTargetsOptions.push(commonSnapOptions(snapTargetOptions, newSnapTargetOptions)); // Copy common SnapOptions\n\n        var corner = snapTargetOptions.corner || snapOptions.corner,\n            side = snapTargetOptions.side || snapOptions.side,\n            edge = snapTargetOptions.edge || snapOptions.edge,\n            commonOptions = {\n          gravity: snapTargetOptions.gravity || snapOptions.gravity,\n          base: snapTargetOptions.base || snapOptions.base,\n          center: typeof snapTargetOptions.center === 'boolean' ? snapTargetOptions.center : snapOptions.center,\n          corners: corner === 'all' ? SNAP_ALL_CORNERS : corner.split(' '),\n          // Split\n          sides: side === 'both' ? SNAP_ALL_SIDES : [side],\n          // Split\n          edges: edge === 'both' ? SNAP_ALL_EDGES : [edge] // Split\n\n        };\n        expandedParsedSnapTargets.forEach(function (parsedSnapTarget) {\n          // Set common SnapOptions\n          ['gravity', 'corners', 'sides', 'center', 'edges', 'base'].forEach(function (option) {\n            parsedSnapTarget[option] = commonOptions[option];\n          });\n          parsedSnapTargets.push(parsedSnapTarget);\n        });\n      }\n\n      return parsedSnapTargets;\n    }, []);\n\n    if (parsedSnapTargets.length) {\n      options.snap = snapOptions; // Update always\n\n      if (hasChanged(parsedSnapTargets, props.parsedSnapTargets)) {\n        props.parsedSnapTargets = parsedSnapTargets;\n        needsInitBBox = true;\n      }\n    }\n  } else if (newOptions.hasOwnProperty('snap') && props.parsedSnapTargets) {\n    options.snap = props.parsedSnapTargets = props.snapTargets = void 0;\n  } // [/SNAP]\n  // [AUTO-SCROLL]\n\n  /**\n   * @typedef {Object} AutoScrollOptions\n   * @property {(Element|Window)} target\n   * @property {Array} speed\n   * @property {Array} sensitivity\n   * @property {number} [minX]\n   * @property {number} [maxX]\n   * @property {number} [minY]\n   * @property {number} [maxY]\n   */\n  // autoScroll\n\n\n  if (newOptions.autoScroll) {\n    var newAutoScrollOptions = isObject(newOptions.autoScroll) ? newOptions.autoScroll : {\n      target: newOptions.autoScroll === true ? window : newOptions.autoScroll\n    },\n        autoScrollOptions = {}; // target\n\n    autoScrollOptions.target = isElement(newAutoScrollOptions.target) ? newAutoScrollOptions.target : window; // speed\n\n    autoScrollOptions.speed = [];\n    (Array.isArray(newAutoScrollOptions.speed) ? newAutoScrollOptions.speed : [newAutoScrollOptions.speed]).every(function (speed, i) {\n      if (i <= 2 && isFinite(speed)) {\n        autoScrollOptions.speed[i] = speed;\n        return true;\n      }\n\n      return false;\n    });\n\n    if (!autoScrollOptions.speed.length) {\n      autoScrollOptions.speed = AUTOSCROLL_SPEED;\n    } // sensitivity\n\n\n    var newSensitivity = Array.isArray(newAutoScrollOptions.sensitivity) ? newAutoScrollOptions.sensitivity : [newAutoScrollOptions.sensitivity];\n    autoScrollOptions.sensitivity = autoScrollOptions.speed.map(function (v, i) {\n      return isFinite(newSensitivity[i]) ? newSensitivity[i] : AUTOSCROLL_SENSITIVITY[i];\n    }); // min*, max*\n\n    ['X', 'Y'].forEach(function (option) {\n      var optionMin = \"min\".concat(option),\n          optionMax = \"max\".concat(option);\n\n      if (isFinite(newAutoScrollOptions[optionMin]) && newAutoScrollOptions[optionMin] >= 0) {\n        autoScrollOptions[optionMin] = newAutoScrollOptions[optionMin];\n      }\n\n      if (isFinite(newAutoScrollOptions[optionMax]) && newAutoScrollOptions[optionMax] >= 0 && (!autoScrollOptions[optionMin] || newAutoScrollOptions[optionMax] >= autoScrollOptions[optionMin])) {\n        autoScrollOptions[optionMax] = newAutoScrollOptions[optionMax];\n      }\n    });\n\n    if (hasChanged(autoScrollOptions, options.autoScroll)) {\n      options.autoScroll = autoScrollOptions;\n      needsInitBBox = true;\n    }\n  } else if (newOptions.hasOwnProperty('autoScroll')) {\n    if (options.autoScroll) {\n      needsInitBBox = true;\n    }\n\n    options.autoScroll = void 0;\n  } // [/AUTO-SCROLL]\n\n\n  if (needsInitBBox) {\n    initBBox(props);\n  } // handle\n\n\n  if (isElement(newOptions.handle) && newOptions.handle !== options.handle) {\n    if (options.handle) {\n      // Restore\n      options.handle.style.cursor = props.orgCursor;\n\n      if (cssPropUserSelect) {\n        options.handle.style[cssPropUserSelect] = props.orgUserSelect;\n      }\n\n      pointerEvent.removeStartHandler(options.handle, props.pointerEventHandlerId);\n    }\n\n    var handle = options.handle = newOptions.handle;\n    props.orgCursor = handle.style.cursor;\n    setDraggableCursor(handle, props.orgCursor);\n\n    if (cssPropUserSelect) {\n      props.orgUserSelect = handle.style[cssPropUserSelect];\n      handle.style[cssPropUserSelect] = 'none';\n    }\n\n    pointerEvent.addStartHandler(handle, props.pointerEventHandlerId);\n  } // zIndex\n\n\n  if (isFinite(newOptions.zIndex) || newOptions.zIndex === false) {\n    options.zIndex = newOptions.zIndex;\n\n    if (props === activeProps) {\n      props.elementStyle.zIndex = options.zIndex === false ? props.orgZIndex : options.zIndex;\n    }\n  } // left/top\n\n\n  var position = {\n    left: props.elementBBox.left,\n    top: props.elementBBox.top\n  };\n  var needsMove;\n\n  if (isFinite(newOptions.left) && newOptions.left !== position.left) {\n    position.left = newOptions.left;\n    needsMove = true;\n  }\n\n  if (isFinite(newOptions.top) && newOptions.top !== position.top) {\n    position.top = newOptions.top;\n    needsMove = true;\n  }\n\n  if (needsMove) {\n    move(props, position);\n  } // Event listeners\n\n\n  ['onDrag', 'onMove', 'onDragStart', 'onMoveStart', 'onDragEnd'].forEach(function (option) {\n    if (typeof newOptions[option] === 'function') {\n      options[option] = newOptions[option];\n      props[option] = options[option].bind(props.ins);\n    } else if (newOptions.hasOwnProperty(option) && newOptions[option] == null) {\n      options[option] = props[option] = void 0;\n    }\n  });\n}\n\nvar PlainDraggable = /*#__PURE__*/function () {\n  /**\n   * Create a `PlainDraggable` instance.\n   * @param {Element} element - Target element.\n   * @param {Object} [options] - Options.\n   */\n  function PlainDraggable(element, options) {\n    _classCallCheck(this, PlainDraggable);\n\n    var props = {\n      ins: this,\n      options: {\n        // Initial options (not default)\n        zIndex: ZINDEX // Initial state.\n\n      },\n      disabled: false\n    };\n    Object.defineProperty(this, '_id', {\n      value: ++insId\n    });\n    props._id = this._id;\n    insProps[this._id] = props;\n\n    if (!isElement(element) || element === body) {\n      throw new Error('This element is not accepted.');\n    }\n\n    if (!options) {\n      options = {};\n    } else if (!isObject(options)) {\n      throw new Error('Invalid options.');\n    }\n\n    var gpuTrigger = true; // [SVG]\n\n    var ownerSvg; // SVGElement which is not root view\n\n    if (element instanceof SVGElement && (ownerSvg = element.ownerSVGElement)) {\n      // It means `instanceof SVGLocatable` (many browsers don't have SVGLocatable)\n      if (!element.getBBox) {\n        throw new Error('This element is not accepted. (SVGLocatable)');\n      } // Trident and Edge bug, SVGSVGElement doesn't have SVGAnimatedTransformList?\n\n\n      if (!element.transform) {\n        throw new Error('This element is not accepted. (SVGAnimatedTransformList)');\n      } // Trident bug, returned value must be used (That is not given value).\n\n\n      props.svgTransform = element.transform.baseVal.appendItem(ownerSvg.createSVGTransform());\n      props.svgPoint = ownerSvg.createSVGPoint(); // Gecko bug, view.getScreenCTM returns CTM with root view.\n\n      var svgView = element.nearestViewportElement;\n      props.svgCtmElement = !IS_GECKO ? svgView : svgView.appendChild(document.createElementNS(ownerSvg.namespaceURI, 'rect'));\n      gpuTrigger = false;\n      props.initElm = initSvg;\n      props.moveElm = moveSvg;\n    } else {\n      // [/SVG]\n\n      /* eslint-disable indent */\n\n      /* [SVG/] */\n      var cssPropWillChange = CSSPrefix.getName('willChange');\n\n      if (cssPropWillChange) {\n        gpuTrigger = false;\n      }\n\n      if (!options.leftTop && cssPropTransform) {\n        // translate\n        if (cssPropWillChange) {\n          element.style[cssPropWillChange] = 'transform';\n        }\n\n        props.initElm = initTranslate;\n        props.moveElm = moveTranslate;\n      } else {\n        // left and top\n        // [LEFTTOP]\n        if (cssPropWillChange) {\n          element.style[cssPropWillChange] = 'left, top';\n        }\n\n        props.initElm = initLeftTop;\n        props.moveElm = moveLeftTop; // [/LEFTTOP]\n\n        /* [LEFTTOP/]\n        throw new Error('`transform` is not supported.');\n        [LEFTTOP/] */\n      }\n      /* eslint-enable indent */\n\n      /* [SVG/] */\n\n    } // [SVG/]\n\n\n    props.element = initAnim(element, gpuTrigger);\n    props.elementStyle = element.style;\n    props.orgZIndex = props.elementStyle.zIndex;\n\n    if (draggableClass) {\n      mClassList(element).add(draggableClass);\n    }\n\n    props.pointerEventHandlerId = pointerEvent.regStartHandler(function (pointerXY) {\n      return dragStart(props, pointerXY);\n    }); // Default options\n\n    if (!options.containment) {\n      var parent;\n      options.containment = (parent = element.parentNode) && isElement(parent) ? parent : body;\n    }\n\n    if (!options.handle) {\n      options.handle = element;\n    }\n\n    _setOptions(props, options);\n  }\n\n  _createClass(PlainDraggable, [{\n    key: \"remove\",\n    value: function remove() {\n      var props = insProps[this._id];\n      this.disabled = true; // To restore element and reset pointer\n\n      pointerEvent.unregStartHandler(pointerEvent.removeStartHandler(props.options.handle, props.pointerEventHandlerId));\n      delete insProps[this._id];\n    }\n    /**\n     * @param {Object} options - New options.\n     * @returns {PlainDraggable} Current instance itself.\n     */\n\n  }, {\n    key: \"setOptions\",\n    value: function setOptions(options) {\n      if (isObject(options)) {\n        _setOptions(insProps[this._id], options);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"position\",\n    value: function position() {\n      initBBox(insProps[this._id]);\n      return this;\n    }\n  }, {\n    key: \"disabled\",\n    get: function get() {\n      return insProps[this._id].disabled;\n    },\n    set: function set(value) {\n      var props = insProps[this._id];\n\n      if ((value = !!value) !== props.disabled) {\n        props.disabled = value;\n\n        if (props.disabled) {\n          if (props === activeProps) {\n            dragEnd(props);\n          }\n\n          props.options.handle.style.cursor = props.orgCursor;\n\n          if (cssPropUserSelect) {\n            props.options.handle.style[cssPropUserSelect] = props.orgUserSelect;\n          }\n\n          if (draggableClass) {\n            mClassList(props.element).remove(draggableClass);\n          }\n        } else {\n          setDraggableCursor(props.options.handle, props.orgCursor);\n\n          if (cssPropUserSelect) {\n            props.options.handle.style[cssPropUserSelect] = 'none';\n          }\n\n          if (draggableClass) {\n            mClassList(props.element).add(draggableClass);\n          }\n        }\n      }\n    }\n  }, {\n    key: \"element\",\n    get: function get() {\n      return insProps[this._id].element;\n    }\n  }, {\n    key: \"rect\",\n    get: function get() {\n      return copyTree(insProps[this._id].elementBBox);\n    }\n  }, {\n    key: \"left\",\n    get: function get() {\n      return insProps[this._id].elementBBox.left;\n    },\n    set: function set(value) {\n      _setOptions(insProps[this._id], {\n        left: value\n      });\n    }\n  }, {\n    key: \"top\",\n    get: function get() {\n      return insProps[this._id].elementBBox.top;\n    },\n    set: function set(value) {\n      _setOptions(insProps[this._id], {\n        top: value\n      });\n    }\n  }, {\n    key: \"containment\",\n    get: function get() {\n      var props = insProps[this._id];\n      return props.containmentIsBBox ? ppBBox2OptionObject(props.options.containment) : props.options.containment;\n    },\n    set: function set(value) {\n      _setOptions(insProps[this._id], {\n        containment: value\n      });\n    } // [SNAP]\n\n  }, {\n    key: \"snap\",\n    get: function get() {\n      return copyTree(insProps[this._id].options.snap);\n    },\n    set: function set(value) {\n      _setOptions(insProps[this._id], {\n        snap: value\n      });\n    } // [/SNAP]\n    // [AUTO-SCROLL]\n\n  }, {\n    key: \"autoScroll\",\n    get: function get() {\n      return copyTree(insProps[this._id].options.autoScroll);\n    },\n    set: function set(value) {\n      _setOptions(insProps[this._id], {\n        autoScroll: value\n      });\n    } // [/AUTO-SCROLL]\n\n  }, {\n    key: \"handle\",\n    get: function get() {\n      return insProps[this._id].options.handle;\n    },\n    set: function set(value) {\n      _setOptions(insProps[this._id], {\n        handle: value\n      });\n    }\n  }, {\n    key: \"zIndex\",\n    get: function get() {\n      return insProps[this._id].options.zIndex;\n    },\n    set: function set(value) {\n      _setOptions(insProps[this._id], {\n        zIndex: value\n      });\n    }\n  }, {\n    key: \"onDrag\",\n    get: function get() {\n      return insProps[this._id].options.onDrag;\n    },\n    set: function set(value) {\n      _setOptions(insProps[this._id], {\n        onDrag: value\n      });\n    }\n  }, {\n    key: \"onMove\",\n    get: function get() {\n      return insProps[this._id].options.onMove;\n    },\n    set: function set(value) {\n      _setOptions(insProps[this._id], {\n        onMove: value\n      });\n    }\n  }, {\n    key: \"onDragStart\",\n    get: function get() {\n      return insProps[this._id].options.onDragStart;\n    },\n    set: function set(value) {\n      _setOptions(insProps[this._id], {\n        onDragStart: value\n      });\n    }\n  }, {\n    key: \"onMoveStart\",\n    get: function get() {\n      return insProps[this._id].options.onMoveStart;\n    },\n    set: function set(value) {\n      _setOptions(insProps[this._id], {\n        onMoveStart: value\n      });\n    }\n  }, {\n    key: \"onDragEnd\",\n    get: function get() {\n      return insProps[this._id].options.onDragEnd;\n    },\n    set: function set(value) {\n      _setOptions(insProps[this._id], {\n        onDragEnd: value\n      });\n    }\n  }], [{\n    key: \"draggableCursor\",\n    get: function get() {\n      return cssWantedValueDraggableCursor;\n    },\n    set: function set(value) {\n      if (cssWantedValueDraggableCursor !== value) {\n        cssWantedValueDraggableCursor = value;\n        cssValueDraggableCursor = null; // Reset\n\n        Object.keys(insProps).forEach(function (id) {\n          var props = insProps[id];\n\n          if (props.disabled || props === activeProps && cssValueDraggingCursor !== false) {\n            return;\n          }\n\n          setDraggableCursor(props.options.handle, props.orgCursor);\n\n          if (props === activeProps) {\n            // Since cssValueDraggingCursor is `false`, copy cursor again.\n            body.style.cursor = cssOrgValueBodyCursor;\n            body.style.cursor = window.getComputedStyle(props.options.handle, '').cursor;\n          }\n        });\n      }\n    }\n  }, {\n    key: \"draggingCursor\",\n    get: function get() {\n      return cssWantedValueDraggingCursor;\n    },\n    set: function set(value) {\n      if (cssWantedValueDraggingCursor !== value) {\n        cssWantedValueDraggingCursor = value;\n        cssValueDraggingCursor = null; // Reset\n\n        if (activeProps) {\n          setDraggingCursor(activeProps.options.handle);\n\n          if (cssValueDraggingCursor === false) {\n            setDraggableCursor(activeProps.options.handle, activeProps.orgCursor); // draggableCursor\n\n            body.style.cursor = cssOrgValueBodyCursor;\n          }\n\n          body.style.cursor = cssValueDraggingCursor || // If it is `false` or `''`\n          window.getComputedStyle(activeProps.options.handle, '').cursor;\n        }\n      }\n    }\n  }, {\n    key: \"draggableClass\",\n    get: function get() {\n      return draggableClass;\n    },\n    set: function set(value) {\n      value = value ? value + '' : void 0;\n\n      if (value !== draggableClass) {\n        Object.keys(insProps).forEach(function (id) {\n          var props = insProps[id];\n\n          if (!props.disabled) {\n            var classList = mClassList(props.element);\n\n            if (draggableClass) {\n              classList.remove(draggableClass);\n            }\n\n            if (value) {\n              classList.add(value);\n            }\n          }\n        });\n        draggableClass = value;\n      }\n    }\n  }, {\n    key: \"draggingClass\",\n    get: function get() {\n      return draggingClass;\n    },\n    set: function set(value) {\n      value = value ? value + '' : void 0;\n\n      if (value !== draggingClass) {\n        if (activeProps) {\n          var classList = mClassList(activeProps.element);\n\n          if (draggingClass) {\n            classList.remove(draggingClass);\n          }\n\n          if (value) {\n            classList.add(value);\n          }\n        }\n\n        draggingClass = value;\n      }\n    }\n  }, {\n    key: \"movingClass\",\n    get: function get() {\n      return movingClass;\n    },\n    set: function set(value) {\n      value = value ? value + '' : void 0;\n\n      if (value !== movingClass) {\n        if (activeProps && hasMoved) {\n          var classList = mClassList(activeProps.element);\n\n          if (movingClass) {\n            classList.remove(movingClass);\n          }\n\n          if (value) {\n            classList.add(value);\n          }\n        }\n\n        movingClass = value;\n      }\n    }\n  }]);\n\n  return PlainDraggable;\n}();\n\npointerEvent.addMoveHandler(document, function (pointerXY) {\n  if (!activeProps) {\n    return;\n  }\n\n  var position = {\n    left: pointerXY.clientX + window.pageXOffset + pointerOffset.left,\n    top: pointerXY.clientY + window.pageYOffset + pointerOffset.top\n  };\n\n  if (move(activeProps, position, // [SNAP]\n  activeProps.snapTargets ? function (position) {\n    // Snap\n    var iLen = activeProps.snapTargets.length;\n    var snappedX = false,\n        snappedY = false,\n        i;\n\n    for (i = 0; i < iLen && (!snappedX || !snappedY); i++) {\n      var snapTarget = activeProps.snapTargets[i];\n\n      if ((snapTarget.gravityXStart == null || position.left >= snapTarget.gravityXStart) && (snapTarget.gravityXEnd == null || position.left <= snapTarget.gravityXEnd) && (snapTarget.gravityYStart == null || position.top >= snapTarget.gravityYStart) && (snapTarget.gravityYEnd == null || position.top <= snapTarget.gravityYEnd)) {\n        if (!snappedX && snapTarget.x != null) {\n          position.left = snapTarget.x;\n          snappedX = true;\n          i = -1; // Restart loop\n        }\n\n        if (!snappedY && snapTarget.y != null) {\n          position.top = snapTarget.y;\n          snappedY = true;\n          i = -1; // Restart loop\n        }\n      }\n    }\n\n    position.snapped = snappedX || snappedY;\n    return activeProps.onDrag ? activeProps.onDrag(position) : true;\n  } : // [/SNAP]\n  activeProps.onDrag)) {\n    // [AUTO-SCROLL]\n    var xyMoveArgs = {},\n        autoScroll = activeProps.autoScroll;\n\n    if (autoScroll) {\n      var clientXY = {\n        x: activeProps.elementBBox.left - window.pageXOffset,\n        y: activeProps.elementBBox.top - window.pageYOffset\n      };\n      ['x', 'y'].forEach(function (axis) {\n        if (autoScroll[axis]) {\n          var min = autoScroll[axis].min,\n              max = autoScroll[axis].max;\n          autoScroll[axis].lines.some(function (line) {\n            if (line.dir === -1 ? clientXY[axis] <= line.position : clientXY[axis] >= line.position) {\n              xyMoveArgs[axis] = {\n                dir: line.dir,\n                speed: line.speed / 1000,\n                min: min,\n                max: max\n              };\n              return true;\n            }\n\n            return false;\n          });\n        }\n      });\n    }\n\n    if (xyMoveArgs.x || xyMoveArgs.y) {\n      scrollFrame.move(autoScroll.target, xyMoveArgs, autoScroll.isWindow ? scrollXYWindow : scrollXYElement);\n      position.autoScroll = true;\n    } else {\n      scrollFrame.stop();\n    } // [/AUTO-SCROLL]\n\n\n    if (!hasMoved) {\n      hasMoved = true;\n\n      if (movingClass) {\n        mClassList(activeProps.element).add(movingClass);\n      }\n\n      if (activeProps.onMoveStart) {\n        activeProps.onMoveStart(position);\n      }\n    }\n\n    if (activeProps.onMove) {\n      activeProps.onMove(position);\n    }\n  }\n});\n{\n  function endHandler() {\n    if (activeProps) {\n      dragEnd(activeProps);\n    }\n  }\n\n  pointerEvent.addEndHandler(document, endHandler);\n  pointerEvent.addCancelHandler(document, endHandler);\n}\n{\n  function initDoc() {\n    cssPropTransitionProperty = CSSPrefix.getName('transitionProperty');\n    cssPropTransform = CSSPrefix.getName('transform');\n    cssOrgValueBodyCursor = body.style.cursor;\n\n    if (cssPropUserSelect = CSSPrefix.getName('userSelect')) {\n      cssOrgValueBodyUserSelect = body.style[cssPropUserSelect];\n    } // Init active item when layout is changed, and init others later.\n\n\n    var LAZY_INIT_DELAY = 200;\n    var initDoneItems = {},\n        lazyInitTimer;\n\n    function checkInitBBox(props, eventType) {\n      if (props.initElm) {\n        // Easy checking for instance without errors.\n        initBBox(props, eventType);\n      } // eslint-disable-line brace-style\n\n    }\n\n    function initAll(eventType) {\n      clearTimeout(lazyInitTimer);\n      Object.keys(insProps).forEach(function (id) {\n        if (!initDoneItems[id]) {\n          checkInitBBox(insProps[id], eventType);\n        }\n      });\n      initDoneItems = {};\n    }\n\n    var layoutChanging = false; // Gecko bug, multiple calling by `resize`.\n\n    var layoutChange = AnimEvent.add(function (event) {\n      if (layoutChanging) {\n        return;\n      }\n\n      layoutChanging = true;\n\n      if (activeProps) {\n        checkInitBBox(activeProps, event.type);\n        pointerEvent.move();\n        initDoneItems[activeProps._id] = true;\n      }\n\n      clearTimeout(lazyInitTimer);\n      lazyInitTimer = setTimeout(function () {\n        initAll(event.type);\n      }, LAZY_INIT_DELAY);\n      layoutChanging = false;\n    });\n    window.addEventListener('resize', layoutChange, true);\n    window.addEventListener('scroll', layoutChange, true);\n  }\n\n  if (body = document.body) {\n    initDoc();\n  } else {\n    document.addEventListener('DOMContentLoaded', function () {\n      body = document.body;\n      initDoc();\n    }, true);\n  }\n}\n/* [SNAP/]\nPlainDraggable.limit = true;\n[SNAP/] */\n\nexport default PlainDraggable;",".text {\n  background-color: #fff;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n  transition: background-color 0.3s ease;\n  user-select: none;\n}\n\n.text:hover {\n  background-color: #f0f0f0;\n}\n","import { Component, Prop, h, Element, Host } from '@stencil/core';\nimport Draggable from 'plain-draggable';\n\n@Component({\n  tag: 'app-text',\n  styleUrl: 'app-text.css',\n  shadow: false,\n})\nexport class AppText {\n  @Prop() id: string;\n  @Prop() value: string;\n  @Prop() string: string;\n  @Prop() font: string;\n  @Prop() fontSize: string;\n  @Prop() highlightWhileSpeaking: boolean;\n  @Prop() height: string;\n  @Prop() width: string;\n  @Prop() x: string;\n  @Prop() y: string;\n  @Prop() bgColor: string;\n  @Prop() type: string;\n  @Prop() visible: boolean;\n  @Prop() audio: string;\n  @Prop() onTouch: string;\n  @Prop() onMatch: string;\n  @Prop() onEntry: string;\n\n  @Element() el: HTMLElement;\n\n  draggable: Draggable;\n\n  componentDidLoad() {\n    this.initializeDraggable();\n  }\n\n  initializeDraggable() {\n    this.draggable = new Draggable(this.el, {\n      onDrag: () => {\n        const rect = this.draggable.element.getBoundingClientRect();\n        console.log(` ~ AppText ~ Dragging: left: ${rect.left}, top: ${rect.top}`);\n      },\n      containment: { left: 0, top: 0, width: 10000, height: 10000 },\n      snap: {\n        targets: document.querySelectorAll('.text'),\n      },\n    });\n\n    console.log(' ~ AppText ~ initializeDraggable ~ draggable:', this.draggable);\n  }\n\n  disconnectedCallback() {\n    if (this.draggable) {\n      this.draggable.destroy();\n    }\n  }\n\n  render() {\n    const style = {\n      height: this.height,\n      width: this.width,\n      backgroundColor: this.bgColor,\n      top: this.y,\n      left: this.x,\n      position: 'absolute',\n      fontSize: this.fontSize,\n      fontFamily: this.font,\n      display: this.visible ? 'flex' : 'none',\n      alignItems: 'center',\n      justifyContent: 'center',\n      textAlign: 'center',\n      borderRadius: '8px',\n      color: '#333',\n      cursor: 'pointer',\n    };\n\n    return (\n      <Host class=\"text\" id={this.id} style={style} onClick={() => this.handleEvent(this.onTouch)}>\n        {this.string}\n      </Host>\n    );\n  }\n\n  private handleEvent(event: string) {\n    if (event) {\n      console.log(`Event Triggered: ${event}`);\n    }\n  }\n}\n"],"mappings":"yDAAA,MAAMA,EAAY,wJAClB,MAAAC,EAAeD,E,MCMFE,EAAM,M,uRAcjB,MAAAC,GACE,MAAMC,EAAQ,CACZC,OAAQC,KAAKD,OACbE,MAAOD,KAAKC,MACZC,gBAAiBF,KAAKG,QACtBC,IAAKJ,KAAKK,EACVC,KAAMN,KAAKO,EACXC,SAAU,WACVC,QAAST,KAAKU,QAAU,QAAU,OAClCC,QAAS,OACTC,aAAc,QAGhB,OACEC,EAAA,OAAAC,IAAA,2CAAKC,MAAM,MAAMjB,MAAOA,EAAOkB,QAAS,IAAMhB,KAAKiB,YAAYjB,KAAKkB,UAClEL,EAAA,QAAAC,IAAA,6C,CAKE,WAAAG,CAAYE,GAClB,GAAIA,EAAO,CACTC,QAAQC,IAAI,oBAAoBF,I,cC3CtC,MAAMG,EAAkB,gGACxB,MAAAC,EAAeD,E,MCMFE,EAAY,M,uRAcvB,MAAA3B,GACE,MAAMC,EAAQ,CACZC,OAAQC,KAAKD,OACbE,MAAOD,KAAKC,MACZC,gBAAiBF,KAAKG,QACtBC,IAAKJ,KAAKK,EACVC,KAAMN,KAAKO,EACXC,SAAU,WACViB,UAAW,+BACXb,aAAc,QAGhB,OACEC,EAAA,OAAAC,IAAA,2CAAKC,MAAM,YAAYjB,MAAOA,EAAOkB,QAAS,IAAMhB,KAAKiB,YAAYjB,KAAKkB,UACxEL,EAAA,QAAAC,IAAA,6C,CAKE,WAAAG,CAAYE,GAClB,GAAIA,EAAO,CACTC,QAAQC,IAAI,oBAAoBF,I,oBCpCzBO,EAAO,M,yBAClB,MAAA7B,GACE,MAAM8B,EAAU,q8NAiQhB,OAAOd,EAAA,YAAAC,IAAA,2CAAUa,QAASA,G,GCzQ9B,MAAMC,EAAc,kDACpB,MAAAC,EAAeD,E,MCMFE,EAAQ,M,0SAenB,MAAAjC,GACE,MAAMC,EAAQ,CACZC,OAAQC,KAAKD,OACbE,MAAOD,KAAKC,MACZC,gBAAiBF,KAAKG,QACtBC,IAAKJ,KAAKK,EACVC,KAAMN,KAAKO,EACXC,SAAU,WACVC,QAAST,KAAKU,QAAU,QAAU,OAClCqB,UAAW,SAKb,OAAOlB,EAAA,OAAAC,IAAA,2CAAKkB,IAAKhC,KAAKgC,IAAKjB,MAAM,QAAQjB,MAAOA,EAAOkB,QAAS,IAAMhB,KAAKiB,YAAYjB,KAAKkB,U,CAGtF,WAAAD,CAAYE,GAClB,GAAIA,EAAO,CACTC,QAAQC,IAAI,oBAAoBF,I,cCzCtC,MAAMc,EAAe,6EACrB,MAAAC,EAAeD,E,MCMFE,EAAY,M,oEAIvB,MAAAtC,GACE,OAAOgB,EAAA,OAAAC,IAAA,2CAAKC,MAAM,aAAaf,KAAKoC,OAAOC,MAAM,KAAKC,KAAK,K,mBCNlDC,EAAO,M,gDAEV,YAAAC,CAAaC,GACnB,MAAMC,EAAUD,EAAQE,SAASC,cACjC,MAAMC,EAAgC,GAGtCC,MAAMC,KAAKN,EAAQO,YAAYC,SAAQC,IACrCL,EAAMK,EAAKC,MAAQD,EAAKE,KAAK,IAI/B,MAAMC,EAAWP,MAAMC,KAAKN,EAAQa,YACjCC,KAAIC,IACH,GAAIA,EAAMC,WAAa,EAAG,CAExB,OAAOzD,KAAKwC,aAAagB,E,MACpB,GAAIA,EAAMC,WAAa,GAAKD,EAAME,YAAYC,SAAW,GAAI,CAElE,OAAOH,EAAME,W,CAEf,OAAO,IAAI,IAEZE,OAAOC,SAGV,MAAMC,EAAmB,CACvB,gBAAiBjD,EAAA,gBAAAkD,OAAAC,OAAA,GAAmBnB,GAAQQ,GAC5C,gBAAiBxC,EAAA,gBAAAkD,OAAAC,OAAA,GAAmBnB,GAAQQ,GAC5C,UAAWxC,EAAA,UAAAkD,OAAAC,OAAA,GAAanB,GAAQQ,GAChC,YAAaxC,EAAA,YAAAkD,OAAAC,OAAA,GAAenB,GAAQQ,GACpC,UAAWxC,EAAA,UAAAkD,OAAAC,OAAA,GAAanB,GAAQQ,GAChC,WAAYxC,EAAA,WAAAkD,OAAAC,OAAA,GAAcnB,GAAQQ,IAGpC,GAAIS,EAAiBpB,GAAU,CAC7B,OAAOoB,EAAiBpB,E,KACnB,CACLtB,QAAQ6C,KAAK,gBAAgBvB,KAC7B,OAAO,I,EAIX,MAAA7C,GACE,IAAKG,KAAK2B,QAAS,CACjB,OAAOd,EAAA,sC,CAGT,MAAMqD,EAAS,IAAIC,UACnB,MAAMC,EAASF,EAAOG,gBAAgBrE,KAAK2B,QAAS,YAEpD,MAAM2C,EAAcF,EAAOG,gBAE3B,OAAOvE,KAAKwC,aAAa8B,E,GC3D7B,MAAME,EAAY,yCAClB,MAAAC,EAAeD,E,MCMFE,EAAM,M,uRAcjB,MAAA7E,GACE,MAAMC,EAAQ,CACZC,OAAQC,KAAKD,OACbE,MAAOD,KAAKC,MAEZG,IAAKJ,KAAKK,EACVC,KAAMN,KAAKO,EACXC,SAAU,WACVC,QAAST,KAAKU,QAAU,OAAS,QAOnC,OACEG,EAAA,OAAAC,IAAA,2CAAKC,MAAM,MAAMjB,MAAOA,EAAOkB,QAAS,IAAMhB,KAAKiB,YAAYjB,KAAKkB,UAClEL,EAAA,QAAAC,IAAA,6C,CAKE,WAAAG,CAAYE,GAClB,GAAIA,EAAO,CACTC,QAAQC,IAAI,oBAAoBF,I,cClCtC,IAAIwD,EAAO,IAAO,GAElBC,EAAY,IASZC,EAAQ,GAER,IAAIC,EAAcC,OAAOC,uBAAyBD,OAAOE,0BAA4BF,OAAOG,6BAA+BH,OAAOI,yBAA2B,SAAUC,GACrK,OAAOC,WAAWD,EAAUT,EAC9B,EACIW,EAAaP,OAAOQ,sBAAwBR,OAAOS,yBAA2BT,OAAOU,4BAA8BV,OAAOW,wBAA0B,SAAUC,GAChK,OAAOC,aAAaD,EACtB,EAEA,IAAIE,EAAgBC,KAAKC,MACrBJ,EAEJ,SAASK,IACP,IAAIC,EAAQC,EAEZ,GAAIP,EAAW,CACbL,EAAWa,KAAKpB,OAAQY,GACxBA,EAAY,IAChB,CAEEd,EAAM5B,SAAQ,SAAUmD,GACtB,IAAIjF,EAEJ,GAAIA,EAAQiF,EAAKjF,MAAO,CACtBiF,EAAKjF,MAAQ,KAEbiF,EAAKC,SAASlF,GACd8E,EAAS,IACf,CACA,IAEE,GAAIA,EAAQ,CACVJ,EAAgBC,KAAKC,MACrBG,EAAO,IACX,MAAS,GAAIJ,KAAKC,MAAQF,EAAgBjB,EAAW,CAEjDsB,EAAO,IACX,CAEE,GAAIA,EAAM,CACRP,EAAYb,EAAYqB,KAAKpB,OAAQiB,EACzC,CACA,CAEA,SAASM,EAAaD,GACpB,IAAIE,GAAS,EACb1B,EAAM2B,MAAK,SAAUJ,EAAMK,GACzB,GAAIL,EAAKC,WAAaA,EAAU,CAC9BE,EAAQE,EACR,OAAO,IACb,CAEI,OAAO,KACX,IACE,OAAOF,CACT,CAEA,IAAIG,EAAY,CAKdC,IAAK,SAASA,EAAIN,GAChB,IAAID,EAEJ,GAAIE,EAAaD,MAAe,EAAG,CACjCxB,EAAM+B,KAAKR,EAAO,CAChBC,SAAUA,IAEZ,OAAO,SAAUlF,GACfiF,EAAKjF,MAAQA,EAEb,IAAKwE,EAAW,CACdK,GACV,CACA,CACA,CAEI,OAAO,IACX,EACEa,OAAQ,SAASA,EAAOR,GACtB,IAAIS,EAEJ,IAAKA,EAAUR,EAAaD,KAAc,EAAG,CAC3CxB,EAAMkC,OAAOD,EAAS,GAEtB,IAAKjC,EAAMmC,QAAUrB,EAAW,CAC9BL,EAAWa,KAAKpB,OAAQY,GACxBA,EAAY,IACpB,CACA,CACA,GC7GA,SAASsB,EAAgBC,EAAUC,GAAe,KAAMD,aAAoBC,GAAc,CAAE,MAAM,IAAIC,UAAU,oCAAqC,CAAE,CAEvJ,SAASC,EAAkBC,EAAQzE,GAAS,IAAK,IAAI4D,EAAI,EAAGA,EAAI5D,EAAMmE,OAAQP,IAAK,CAAE,IAAIc,EAAa1E,EAAM4D,GAAIc,EAAWC,WAAaD,EAAWC,YAAc,MAAOD,EAAWE,aAAe,KAAM,GAAI,UAAWF,EAAYA,EAAWG,SAAW,KAAM3D,OAAO4D,eAAeL,EAAQC,EAAWzG,IAAKyG,EAAY,CAAE,CAE3T,SAASK,EAAaT,EAAaU,EAAYC,GAAe,GAAID,EAAYR,EAAkBF,EAAYY,UAAWF,GAAa,GAAIC,EAAaT,EAAkBF,EAAaW,GAAc,OAAOX,CAAY,CAUrN,IAAIa,EAAqB,IAEzBC,EAA0B,GACtBC,EAA6B,GAEjC,IAAIC,EAAmB,MAEvB,IACEpD,OAAOqD,iBAAiB,OAAQ,KAAMrE,OAAO4D,eAAe,GAAI,UAAW,CACzEU,IAAK,SAASA,IACZF,EAAmB,IACzB,IAEA,CAAE,MAAOG,IAET,CAWA,SAASC,EAA4BjB,EAAQkB,EAAMnC,EAAUoC,GAG3DnB,EAAOc,iBAAiBI,EAAMnC,EAAU8B,EAAmBM,EAAUA,EAAQC,QAC/E,CAEA,SAASC,EAAgBC,EAAIC,GAC3B,IAAIC,EAAKF,EAAGrI,EAAIsI,EAAGtI,EACfwI,EAAKH,EAAGvI,EAAIwI,EAAGxI,EACnB,OAAO2I,KAAKC,KAAKH,EAAKA,EAAKC,EAAKA,EAClC,CASA,SAASG,EAAaC,EAASC,GAC7B,GAAID,GAAW,MAAQC,GAAM,KAAM,CACjC,IAAK,IAAI3C,EAAI,EAAGA,EAAI0C,EAAQnC,OAAQP,IAAK,CACvC,GAAI0C,EAAQ1C,GAAG4C,aAAeD,EAAI,CAChC,OAAOD,EAAQ1C,EACvB,CACA,CACA,CAEE,OAAO,IACT,CAOA,SAAS6C,EAAMC,GACb,OAAOA,UAAaA,EAAGC,UAAY,iBAAmBD,EAAGE,UAAY,QACvE,CAGA,SAASC,EAAUvI,GACjBA,EAAMwI,gBACR,CAEA,IAAIC,EAA4B,WAK9B,SAASA,EAAanB,GACpB,IAAIoB,EAAQ7J,KAEZiH,EAAgBjH,KAAM4J,GAEtB5J,KAAK8J,cAAgB,GACrB9J,KAAK+J,cAAgB,EACrB/J,KAAKgK,gBAAkB,KACvBhK,KAAKiK,WAAa,KAClBjK,KAAKkK,cAAgB,CACnBV,QAAS,EACTC,QAAS,GAEXzJ,KAAKmK,cAAgB,EAErBnK,KAAKyI,QAAU,CAEbkB,eAAgB,KAChBS,gBAAiB,MAGnB,GAAI3B,EAAS,CACX,CAAC,iBAAkB,mBAAmBxF,SAAQ,SAAUoH,GACtD,UAAW5B,EAAQ4B,KAAY,UAAW,CACxCR,EAAMpB,QAAQ4B,GAAU5B,EAAQ4B,EAC1C,CACA,GACA,CACA,CAOEzC,EAAagC,EAAc,CAAC,CAC1B9I,IAAK,kBACLsC,MAAO,SAASkH,EAAgBC,GAC9B,IAAIC,EAAOxK,KAEXwK,EAAKV,gBAAgBU,EAAKT,eAAiB,SAAU5I,GACnD,IAAIsJ,EAAetJ,EAAMqH,OAAS,YAAc,QAAU,QACtDzC,EAAMD,KAAKC,MACf,IAAI2E,EAAWC,EAEf,GAAIF,IAAiB,QAAS,CAC5BD,EAAKL,cAAgBpE,EAErB2E,EAAYvJ,EAAMyJ,eAAe,GACjCD,EAAUxJ,EAAMyJ,eAAe,GAAGvB,UAC5C,KAAe,CAEL,GAAItD,EAAMyE,EAAKL,cAAgBnC,EAAoB,CACjD,MACZ,CAEU0C,EAAYvJ,CACtB,CAEQ,IAAKmI,EAAMoB,GAAY,CACrB,MAAM,IAAIG,MAAM,qBAC1B,CAGQ,GAAIL,EAAKR,gBAAiB,CACxBQ,EAAKM,QACf,CAEQ,GAAIP,EAAapE,KAAKqE,EAAME,GAAY,CACtCF,EAAKR,gBAAkBS,EACvBD,EAAKP,WAAaQ,IAAiB,QAAUE,EAAU,KACvDH,EAAKN,cAAcV,QAAUkB,EAAUlB,QACvCgB,EAAKN,cAAcT,QAAUiB,EAAUjB,QAEvC,GAAIe,EAAK/B,QAAQkB,eAAgB,CAC/BxI,EAAMwI,gBAClB,CAEU,GAAIa,EAAK/B,QAAQ2B,gBAAiB,CAChCjJ,EAAMiJ,iBAClB,CACA,CACA,EAEM,OAAOI,EAAKT,aAClB,GAMK,CACDjJ,IAAK,oBACLsC,MAAO,SAAS2H,EAAkBC,UACzBhL,KAAK8J,cAAckB,EAChC,GAOK,CACDlK,IAAK,kBACLsC,MAAO,SAAS6H,EAAgBxI,EAASuI,GACvC,IAAKhL,KAAK8J,cAAckB,GAAY,CAClC,MAAM,IAAIH,MAAM,sBAAsBK,OAAOF,GACrD,CAEMzC,EAA4B9F,EAAS,YAAazC,KAAK8J,cAAckB,GAAY,CAC/EtC,QAAS,MACTyC,QAAS,QAEX5C,EAA4B9F,EAAS,aAAczC,KAAK8J,cAAckB,GAAY,CAChFtC,QAAS,MACTyC,QAAS,QAEX5C,EAA4B9F,EAAS,YAAaiH,EAAW,CAC3DhB,QAAS,MACTyC,QAAS,QAEX,OAAOH,CACb,GAOK,CACDlK,IAAK,qBACLsC,MAAO,SAASgI,EAAmB3I,EAASuI,GAC1C,IAAKhL,KAAK8J,cAAckB,GAAY,CAClC,MAAM,IAAIH,MAAM,sBAAsBK,OAAOF,GACrD,CAEMvI,EAAQ4I,oBAAoB,YAAarL,KAAK8J,cAAckB,GAAY,OACxEvI,EAAQ4I,oBAAoB,aAAcrL,KAAK8J,cAAckB,GAAY,OACzEvI,EAAQ4I,oBAAoB,YAAa3B,EAAW,OACpD,OAAOsB,CACb,GAQK,CACDlK,IAAK,iBACLsC,MAAO,SAASkI,EAAe7I,EAAS8I,EAAaC,GACnD,IAAIhB,EAAOxK,KAEX,SAASyL,EAAQtK,GACf,IAAIsJ,EAAetJ,EAAMqH,OAAS,YAAc,QAAU,QAE1D,GAAIiC,IAAiB,QAAS,CAC5BD,EAAKL,cAAgBrE,KAAKC,KACpC,CAEQ,GAAI0E,IAAiBD,EAAKR,gBAAiB,CACzC,IAAIU,EAAYD,IAAiB,QAAUvB,EAAa/H,EAAMyJ,eAAgBJ,EAAKP,YAAc9I,EAEjG,GAAImI,EAAMoB,GAAY,CACpB,GAAIA,EAAUlB,UAAYgB,EAAKN,cAAcV,SAAWkB,EAAUjB,UAAYe,EAAKN,cAAcT,QAAS,CACxGe,EAAKkB,KAAKhB,EACxB,CAEY,GAAIF,EAAK/B,QAAQkB,eAAgB,CAC/BxI,EAAMwI,gBACpB,CAEY,GAAIa,EAAK/B,QAAQ2B,gBAAiB,CAChCjJ,EAAMiJ,iBACpB,CACA,CACA,CACA,CAEM,IAAIuB,EAAiBH,EAAWC,EAAU/E,EAAUC,IAAI8E,GACxDlD,EAA4B9F,EAAS,YAAakJ,EAAgB,CAChEjD,QAAS,MACTyC,QAAS,QAEX5C,EAA4B9F,EAAS,YAAakJ,EAAgB,CAChEjD,QAAS,MACTyC,QAAS,QAEXX,EAAKoB,eAAiBL,CAC5B,GAMK,CACDzK,IAAK,OACLsC,MAAO,SAASsI,EAAKhB,GACnB,GAAIpB,EAAMoB,GAAY,CACpB1K,KAAKkK,cAAcV,QAAUkB,EAAUlB,QACvCxJ,KAAKkK,cAAcT,QAAUiB,EAAUjB,OAC/C,CAEM,GAAIzJ,KAAK4L,eAAgB,CACvB5L,KAAK4L,eAAe5L,KAAKkK,cACjC,CACA,GAOK,CACDpJ,IAAK,gBACLsC,MAAO,SAASyI,EAAcpJ,EAASqJ,GACrC,IAAItB,EAAOxK,KAEX,SAAS2L,EAAexK,GACtB,IAAIsJ,EAAetJ,EAAMqH,OAAS,UAAY,QAAU,QAExD,GAAIiC,IAAiB,QAAS,CAC5BD,EAAKL,cAAgBrE,KAAKC,KACpC,CAEQ,GAAI0E,IAAiBD,EAAKR,gBAAiB,CACzC,IAAIU,EAAYD,IAAiB,QAAUvB,EAAa/H,EAAMyJ,eAAgBJ,EAAKP,cACnFf,EAAa/H,EAAMgI,QAASqB,EAAKP,YAAc,KAAO,IACtD9I,EAEA,GAAIuJ,EAAW,CACbF,EAAKuB,IAAIrB,GAET,GAAIF,EAAK/B,QAAQkB,eAAgB,CAC/BxI,EAAMwI,gBACpB,CAEY,GAAIa,EAAK/B,QAAQ2B,gBAAiB,CAChCjJ,EAAMiJ,iBACpB,CACA,CACA,CACA,CAEM7B,EAA4B9F,EAAS,UAAWkJ,EAAgB,CAC9DjD,QAAS,MACTyC,QAAS,QAEX5C,EAA4B9F,EAAS,WAAYkJ,EAAgB,CAC/DjD,QAAS,MACTyC,QAAS,QAEXX,EAAKwB,cAAgBF,CAC3B,GAMK,CACDhL,IAAK,MACLsC,MAAO,SAAS2I,EAAIrB,GAClB,GAAIpB,EAAMoB,GAAY,CACpB1K,KAAKkK,cAAcV,QAAUkB,EAAUlB,QACvCxJ,KAAKkK,cAAcT,QAAUiB,EAAUjB,OAC/C,CAEM,GAAIzJ,KAAKgM,cAAe,CACtBhM,KAAKgM,cAAchM,KAAKkK,cAChC,CAEMlK,KAAKgK,gBAAkBhK,KAAKiK,WAAa,IAC/C,GAOK,CACDnJ,IAAK,mBACLsC,MAAO,SAAS6I,EAAiBxJ,EAASyJ,GACxC,IAAI1B,EAAOxK,KAEX,SAAS2L,EAAexK,GAKtBqJ,EAAKL,cAAgBrE,KAAKC,MAE1B,GAAIyE,EAAKR,iBAAmB,KAAM,CAChC,IAAIU,EAAYxB,EAAa/H,EAAMyJ,eAAgBJ,EAAKP,cACxDf,EAAa/H,EAAMgI,QAASqB,EAAKP,YAAc,KAAO,IAEtD,GAAIS,EAAW,CACbF,EAAKM,QACjB,CACA,CACA,CAEMvC,EAA4B9F,EAAS,cAAekJ,EAAgB,CAClEjD,QAAS,MACTyC,QAAS,QAEXX,EAAK2B,iBAAmBD,CAC9B,GAKK,CACDpL,IAAK,SACLsC,MAAO,SAAS0H,IACd,GAAI9K,KAAKmM,iBAAkB,CACzBnM,KAAKmM,kBACb,CAEMnM,KAAKgK,gBAAkBhK,KAAKiK,WAAa,IAC/C,IACM,CAAC,CACHnJ,IAAK,8BACLuH,IAAK,SAASA,IACZ,OAAOE,CACb,GASK,CACDzH,IAAK,oBACLsC,MAAO,SAASgJ,EAAkB3J,EAAS4J,EAAeC,GACxD,GAAIrE,EAAwBsE,SAAS9J,GAAU,CAC7C,OAAOA,CACf,CAEMwF,EAAwBrB,KAAKnE,GAC7B,IAAI+J,EAAyB,GAE7BC,EAAyB,IAEzB,IAAIC,EAAQC,EAAQhC,EAASiC,EAE7B,GAAIP,GAAiB,KAAM,CACzBA,EAAgBG,CACxB,CAEM,GAAIF,GAAiB,KAAM,CACzBA,EAAgBG,CACxB,CAEMlE,EAA4B9F,EAAS,cAAc,SAAUtB,GAC3D,IAAI0L,EAAQ1L,EAAMyJ,eAAe,GACjC8B,EAASG,EAAMrD,QACfmD,EAASE,EAAMpD,QACfkB,EAAUkC,EAAMxD,WAChBuD,EAAUE,YAAY/G,KAC9B,GAAS,CACD2C,QAAS,MACTyC,QAAS,QAEX5C,EAA4B9F,EAAS,YAAY,SAAUtB,GACzD,IAAI0L,EAAQ3D,EAAa/H,EAAMyJ,eAAgBD,GAE/C,UAAW+B,IAAW,iBAAmBC,IAAW,iBAAmBC,IAAY,UAAYC,UAAgBA,EAAMrD,UAAY,iBAAmBqD,EAAMpD,UAAY,UAAYd,EAAgB,CAChMpI,EAAGmM,EACHrM,EAAGsM,GACF,CACDpM,EAAGsM,EAAMrD,QACTnJ,EAAGwM,EAAMpD,WACL4C,GAAiBS,YAAY/G,MAAQ6G,GAAWN,EAAe,CAEnEjH,YAAW,WACT,IAAI0H,EAAW,IAAIC,WAAW,QAAS,CACrCxD,QAASqD,EAAMrD,QACfC,QAASoD,EAAMpD,UAEjBsD,EAASE,SAAW,KACpBxK,EAAQyK,cAAcH,EAClC,GAAa,EACb,CAEQL,EAASC,EAAShC,EAAUiC,EAAU,IAC9C,GAAS,CACDlE,QAAS,MACTyC,QAAS,QAEX5C,EAA4B9F,EAAS,eAAe,WAClDiK,EAASC,EAAShC,EAAUiC,EAAU,IAC9C,GAAS,CACDlE,QAAS,MACTyC,QAAS,QAEX,OAAO1I,CACb,GASK,CACD3B,IAAK,uBACLsC,MAAO,SAAS+J,EAAqB1K,EAAS4J,EAAeC,GAC3D,GAAIpE,EAA2BqE,SAAS9J,GAAU,CAChD,OAAOA,CACf,CAEMyF,EAA2BtB,KAAKnE,GAChC,IAAI+J,EAAyB,GAE7BC,EAAyB,IAEzB,IAAIC,EAAQC,EAAQC,EAEpB,GAAIP,GAAiB,KAAM,CACzBA,EAAgBG,CACxB,CAEM,GAAIF,GAAiB,KAAM,CACzBA,EAAgBG,CACxB,CAEM7C,EAAawC,kBAAkB3J,EAAS4J,EAAeC,GACvD/D,EAA4B9F,EAAS,SAAS,SAAUtB,GACtD,IAAKA,EAAM8L,iBACJ9L,EAAMqI,UAAY,iBAAmBrI,EAAMsI,UAAY,SAAU,CACtE,MACV,CAEQ,UAAWiD,IAAW,UAAY/D,EAAgB,CAChDpI,EAAGmM,EACHrM,EAAGsM,GACF,CACDpM,EAAGY,EAAMqI,QACTnJ,EAAGc,EAAMsI,WACL4C,GAAiBS,YAAY/G,MAAQ6G,GAAWN,EAAgB,EAAG,CAEvEjH,YAAW,WAET,IAAI0H,EAAW,IAAIC,WAAW,WAAY,CACxCxD,QAASrI,EAAMqI,QACfC,QAAStI,EAAMsI,UAEjBsD,EAASE,SAAW,KACpBxK,EAAQyK,cAAcH,EAClC,GAAa,GACHL,EAASC,EAASC,EAAU,IACtC,KAAe,CAELF,EAASvL,EAAMqI,QACfmD,EAASxL,EAAMsI,QACfmD,EAAUE,YAAY/G,KAChC,CACA,GAAS,CACD2C,QAAS,MACTyC,QAAS,QAEX,OAAO1I,CACb,KAGE,OAAOmH,CACT,CA1dgC,GC9EhC,SAASwD,EAAIC,GACX,OAAOA,EAAKC,OAAO,EAAG,GAAGC,cAAgBF,EAAKC,OAAO,EACvD,CAEA,IAAIE,EAAW,CAAC,SAAU,MAAO,KAAM,KACnCC,EAAgBD,EAASE,QAAO,SAAUC,EAAUC,GACtDD,EAAS/G,KAAKgH,GACdD,EAAS/G,KAAKwG,EAAIQ,IAClB,OAAOD,CACT,GAAG,IACCE,EAAiBL,EAASjK,KAAI,SAAUqK,GAC1C,MAAO,IAAI1C,OAAO0C,EAAQ,IAC5B,IAMAE,EAAiB,WACf,IAAIC,EACJ,OAAO,WACL,OAAOA,EAAcA,GAAeC,SAASC,cAAc,OAAOnO,KACtE,CACA,CALiB,GAYjBoO,EAAgB,WACd,IAAIC,EAAiB,IAAIC,OAAO,OAASZ,EAASlL,KAAK,KAAO,OAAQ,KAClE+L,EAAO,QACX,OAAO,SAAUC,GACf,OAAQA,GAAYA,EAAW,IAAIC,QAAQ,MAAO,IAAIA,QAAQ,gBAAgB,SAAUC,EAAK3F,GAC3F,OAAOA,EAAG0E,aAChB,IAEKgB,QAAQJ,GAAgB,SAAUK,EAAK3F,GACtC,OAAOwF,EAAKI,KAAK5F,GAAMA,EAAGjG,cAAgB4L,CAChD,KACM5L,gBAAkB,QAAU,WAAa0L,CAC/C,CACA,CAbgB,GAoBhBI,EAAiB,WACf,IAAIC,EAAkB,IAAIP,OAAO,OAASP,EAAevL,KAAK,KAAO,IAAK,KAC1E,OAAO,SAAUsM,GACf,OAAQA,GAAa,KAAOA,EAAY,GAAK,IAAIL,QAAQ,MAAO,IAAIA,QAAQI,EAAiB,GACjG,CACA,CALiB,GAejBE,EAAc,WACZ,gBAEYP,EAAUM,GAClB,IAAIb,EAAcD,IAElBQ,EAAWA,EAASC,QAAQ,UAAU,SAAUC,GAC9C,MAAO,IAAItD,OAAOsD,EAAI5L,cAC9B,IAEMmL,EAAYe,YAAYR,EAAUM,GAClC,OAAOb,EAAYO,IAAa,MAChCP,EAAYgB,iBAAiBT,KAAcM,CAEjD,CACA,CAfc,GAiBdI,EAAY,GACRC,EAAa,GAEjB,SAASC,GAAQZ,GACfA,EAAWJ,EAAcI,GAEzB,GAAIA,GAAYU,EAAUV,IAAa,KAAM,CAC3C,IAAIP,EAAcD,IAElB,GAAIC,EAAYO,IAAa,KAAM,CAEjCU,EAAUV,GAAYA,CAC5B,KAAW,CAEL,IAAIa,EAAU/B,EAAIkB,GAElB,IAAKb,EAAcjH,MAAK,SAAUoH,GAChC,IAAIwB,EAAWxB,EAASuB,EAExB,GAAIpB,EAAYqB,IAAa,KAAM,CACjCJ,EAAUV,GAAYc,EACtB,OAAO,IACjB,CAEQ,OAAO,KACf,IAAU,CACFJ,EAAUV,GAAY,KAC9B,CACA,CACA,CAEE,OAAOU,EAAUV,SAAkB,CACrC,CAEA,SAASe,GAASf,EAAUM,GAC1B,IAAIU,EAEJ,KAAMhB,EAAWY,GAAQZ,IAAY,CACnC,OAAOgB,CACX,CAGEL,EAAWX,GAAYW,EAAWX,IAAa,IAC9CxL,MAAMyM,QAAQX,GAAaA,EAAY,CAACA,IAAYpI,MAAK,SAAUoI,GAClEA,EAAYF,EAAeE,GAE3B,GAAIK,EAAWX,GAAUM,IAAc,KAAM,CAE3C,GAAIK,EAAWX,GAAUM,KAAe,MAAO,CAC7CU,EAAML,EAAWX,GAAUM,GAC3B,OAAO,IACf,CAEM,OAAO,KACb,CAEI,GAAIC,EAAYP,EAAUM,GAAY,CAEpCU,EAAML,EAAWX,GAAUM,GAAaA,EACxC,OAAO,IACb,CAEI,GAAIf,EAAerH,MAAK,SAAUoH,GAEhC,IAAIwB,EAAWxB,EAASgB,EAExB,GAAIC,EAAYP,EAAUc,GAAW,CACnCE,EAAML,EAAWX,GAAUM,GAAaQ,EACxC,OAAO,IACf,CAEM,OAAO,KACb,IAAQ,CACF,OAAO,IACb,CAEIH,EAAWX,GAAUM,GAAa,MAClC,OAAO,KACX,IACE,cAAcU,IAAQ,SAAWA,OAAW,CAC9C,CAEA,IAAIE,GAAY,CACdN,QAASA,GACTG,SAAUA,ICtKZ,SAASI,GAAUC,GACjB,OAAQA,EAAQ,IAAI/L,MACtB,CAGA,SAASgM,GAAUC,EAAMnN,GACvBA,EAAQoN,aAAa,QAASD,EAAKtN,KAAK,KAC1C,CAEA,SAASwN,GAAKF,EAAMnN,EAASsN,GAC3B,GAAIA,EAAOnM,QAAO,SAAU8L,GAC1B,KAAMA,EAAQD,GAAUC,KAAWE,EAAKI,QAAQN,MAAY,EAAG,CAC7D,OAAO,KACb,CAEIE,EAAKhJ,KAAK8I,GACV,OAAO,IACX,IAAK1I,OAAQ,CACT2I,GAAUC,EAAMnN,EACpB,CACA,CAEA,SAASwN,GAAQL,EAAMnN,EAASsN,GAC9B,GAAIA,EAAOnM,QAAO,SAAU8L,GAC1B,IAAIjJ,EAEJ,KAAMiJ,EAAQD,GAAUC,MAAYjJ,EAAImJ,EAAKI,QAAQN,OAAa,EAAG,CACnE,OAAO,KACb,CAEIE,EAAK7I,OAAON,EAAG,GACf,OAAO,IACX,IAAKO,OAAQ,CACT2I,GAAUC,EAAMnN,EACpB,CACA,CAEA,SAASyN,GAAQN,EAAMnN,EAASiN,EAAOS,GACrC,IAAI1J,EAAImJ,EAAKI,QAAQN,EAAQD,GAAUC,IAEvC,GAAIjJ,KAAO,EAAG,CACZ,GAAI0J,EAAO,CACT,OAAO,IACb,CAEIP,EAAK7I,OAAON,EAAG,GACfkJ,GAAUC,EAAMnN,GAChB,OAAO,KACX,CAEE,GAAI0N,IAAU,MAAO,CACnB,OAAO,KACX,CAEEP,EAAKhJ,KAAK8I,GACVC,GAAUC,EAAMnN,GAChB,OAAO,IACT,CAEA,SAAS2N,GAASR,EAAMnN,EAASiN,EAAOW,GACtC,IAAI5J,EAEJ,KAAMiJ,EAAQD,GAAUC,OAAaW,EAAWZ,GAAUY,KAAcX,IAAUW,IAAa5J,EAAImJ,EAAKI,QAAQN,OAAa,EAAG,CAC9H,MACJ,CAEEE,EAAK7I,OAAON,EAAG,GAEf,GAAImJ,EAAKI,QAAQK,MAAe,EAAG,CACjCT,EAAKhJ,KAAKyJ,EACd,CAEEV,GAAUC,EAAMnN,EAClB,CAEA,SAAS6N,GAAW7N,GAClB,OAAQ6N,GAAWC,cAAgB9N,EAAQ+N,WAAa,WACtD,IAAIZ,GAAQnN,EAAQgO,aAAa,UAAY,IAAI9M,OAAOtB,MAAM,OAAOuB,QAAO,SAAU8L,GACpF,QAASA,CACf,IACQgB,EAAM,CACR1J,OAAQ4I,EAAK5I,OACb2J,KAAM,SAASA,EAAKlK,GAClB,OAAOmJ,EAAKnJ,EACpB,EACMmK,SAAU,SAASA,EAASlB,GAC1B,OAAOE,EAAKI,QAAQP,GAAUC,OAAa,CACnD,EACM/I,IAAK,SAASA,IACZmJ,GAAKF,EAAMnN,EAASK,MAAMiF,UAAU8I,MAAM1K,KAAK2K,YAE/C,OAAOR,GAAWS,YAAcL,OAAW,CACnD,EACM7J,OAAQ,SAASA,IACfoJ,GAAQL,EAAMnN,EAASK,MAAMiF,UAAU8I,MAAM1K,KAAK2K,YAElD,OAAOR,GAAWS,YAAcL,OAAW,CACnD,EACMM,OAAQ,SAASA,EAAOtB,EAAOS,GAC7B,OAAOD,GAAQN,EAAMnN,EAASiN,EAAOS,EAC7C,EACM5B,QAAS,SAASA,EAAQmB,EAAOW,GAC/BD,GAASR,EAAMnN,EAASiN,EAAOW,GAE/B,OAAOC,GAAWS,YAAcL,OAAW,CACnD,GAEI,OAAOA,CACX,CAhC0D,EAiC1D,CAEAJ,GAAWS,YAAc,KCtHzB,SAAS9J,GAAgBC,EAAUC,GAAe,KAAMD,aAAoBC,GAAc,CAAE,MAAM,IAAIC,UAAU,oCAAqC,CAAE,CAEvJ,SAASC,GAAkBC,EAAQzE,GAAS,IAAK,IAAI4D,EAAI,EAAGA,EAAI5D,EAAMmE,OAAQP,IAAK,CAAE,IAAIc,EAAa1E,EAAM4D,GAAIc,EAAWC,WAAaD,EAAWC,YAAc,MAAOD,EAAWE,aAAe,KAAM,GAAI,UAAWF,EAAYA,EAAWG,SAAW,KAAM3D,OAAO4D,eAAeL,EAAQC,EAAWzG,IAAKyG,EAAY,CAAE,CAE3T,SAASK,GAAaT,EAAaU,EAAYC,GAAe,GAAID,EAAYR,GAAkBF,EAAYY,UAAWF,GAAa,GAAIC,EAAaT,GAAkBF,EAAaW,GAAc,OAAOX,CAAY,CAErN,SAAS8J,GAAQC,GAAO,0BAA2B,UAAWC,SAAW,mBAAqBA,OAAOC,WAAa,SAAU,CAAEH,GAAU,SAASA,EAAQC,GAAO,cAAcA,CAAI,CAAG,KAAQ,CAAED,GAAU,SAASA,EAAQC,GAAO,OAAOA,UAAcC,SAAW,YAAcD,EAAIG,cAAgBF,QAAUD,IAAQC,OAAOpJ,UAAY,gBAAkBmJ,CAAI,CAAG,CAAG,OAAOD,GAAQC,EAAK,CAaxXZ,GAAWC,aAAe,KAE1B,IAAIe,GAAS,IAEbC,GAAe,GACXC,GAAc,KACdC,GAAY,OACZC,GAAY,OACZC,GAAY,cACZC,GAAmB,CAAC,KAAM,KAAM,KAAM,MACtCC,GAAiB,CAAC,QAAS,OAC3BC,GAAiB,CAAC,SAAU,WAGhCC,GAAmB,CAAC,GAAI,IAAK,KACzBC,GAAyB,CAAC,IAAK,GAAI,GAEvCC,GAAU,qBAAsBjE,SAASzJ,gBAAgBzE,OAAS,kBAAmBkO,SAASzJ,gBAAgBzE,QAAUiF,OAAOmN,UAAUC,iBACrIC,IAAcH,MAAajE,SAASqE,SAExCC,GAAY,kBAAmBtE,SAASzJ,gBAAgBzE,MACpDyS,IAAYN,KAAYK,MAC1BvN,OAAOyN,UAAYzN,OAAO0N,IACxBC,IAAaT,KAAYG,KAAeE,KAAaC,KACxDxN,OAAOyN,QAAU,qBAAsBxE,SAASzJ,gBAAgBzE,MAC7D6S,GAAW,WACb,IAAIC,EAAW,GAAGA,SACdC,EAAa,GAAGC,eAAeF,SAC/BG,EAAcF,EAAW1M,KAAKpC,QAClC,OAAO,SAAUmN,GACf,IAAI8B,EAAOC,EACX,OAAO/B,GAAO0B,EAASzM,KAAK+K,KAAS,sBAAwB8B,EAAQjP,OAAOmP,eAAehC,MAAU+B,EAASD,EAAMF,eAAe,gBAAkBE,EAAM3B,qBAAuB4B,IAAW,YAAcJ,EAAW1M,KAAK8M,KAAYF,EAC3O,CACA,CARe,GASXI,GAAWC,OAAOD,UAAY,SAAU/P,GAC1C,cAAcA,IAAU,UAAY2B,OAAOoO,SAAS/P,EACtD,EAGAiQ,GAAW,GACPC,GAAgB,GAChBC,GAAe,IAAI3J,EAEvB,IAAI4J,GAAQ,EACRC,GACAC,GACAC,GAEJC,GACIC,GACAC,GACAC,GACAC,GACAC,GACAC,GAEJC,GAAgCzB,GAAY,CAAC,aAAc,QAAU,CAAC,OAAQ,aAAc,QACxF0B,GAA+B1B,GAAY,OAAS,CAAC,WAAY,QAErE2B,GAAiB,kBACbC,GAAgB,2BAChBC,GAAc,yBAGlB,IAAIC,GAAc,GACd7P,GAAO,IAAO,GAElBG,GAAcC,OAAOC,uBAAyBD,OAAOE,0BAA4BF,OAAOG,6BAA+BH,OAAOI,yBAA2B,SAAUC,GACjK,OAAOC,WAAWD,EAAUT,GAC9B,EACIW,GAAaP,OAAOQ,sBAAwBR,OAAOS,yBAA2BT,OAAOU,4BAA8BV,OAAOW,wBAA0B,SAAUC,GAChK,OAAOC,aAAaD,EACtB,EAEA,CAUE,IAAI8O,GAAgB,GAChBC,GACAC,GACAhP,GAEJ,SAASiP,KACP,IAAI7O,EAAMD,KAAKC,MACf,CAAC,IAAK,KAAK9C,SAAQ,SAAUsG,GAC3B,IAAIsL,EAAWJ,GAAclL,GAE7B,GAAIsL,EAAU,CACZ,IAAIC,EAAU/O,EAAM8O,EAAShP,cACzBkP,EAAWJ,GAAYD,GAAYnL,GACnCyL,EAAWH,EAASI,WAAa,MAAQjM,KAAKkM,IAAIL,EAASI,UAAYF,GAAY,GACrFF,EAASI,UAAYF,EAEvB,GAAIF,EAASM,OAAS,EAAIH,EAAWH,EAASO,IAAMJ,EAAWH,EAASQ,IAAK,CAC3E,IAAIC,EAAWN,EAAWH,EAASU,MAAQT,EAAUD,EAASM,IAE9D,GAAIG,EAAWT,EAASO,IAAK,CAC3BE,EAAWT,EAASO,GAChC,MAAiB,GAAIE,EAAWT,EAASQ,IAAK,CAClCC,EAAWT,EAASQ,GAChC,CAEUV,GAAYD,GAAYnL,EAAI+L,GAC5BT,EAASI,UAAYK,CAC/B,CAEQT,EAAShP,cAAgBE,CACjC,CACA,GACA,CAEE,SAASyP,KACPlQ,GAAWa,KAAKpB,OAAQY,IACxBiP,KACAjP,GAAYb,GAAYqB,KAAKpB,OAAQyQ,GACzC,CASEhB,GAAY9I,KAAO,SAAUjJ,EAASgT,EAAYC,GAChDpQ,GAAWa,KAAKpB,OAAQY,IACxBiP,KAGA,GAAIF,KAAejS,EAAS,CAC1B,GAAIgT,EAAWlV,GAAKkU,GAAclU,EAAG,CACnCkV,EAAWlV,EAAE0U,UAAYR,GAAclU,EAAE0U,SACjD,CAEM,GAAIQ,EAAWpV,GAAKoU,GAAcpU,EAAG,CACnCoV,EAAWpV,EAAE4U,UAAYR,GAAcpU,EAAE4U,SACjD,CACA,CAEIP,GAAajS,EACbgS,GAAgBgB,EAChBd,GAAce,EACd,IAAI3P,EAAMD,KAAKC,MACf,CAAC,IAAK,KAAK9C,SAAQ,SAAUsG,GAC3B,IAAIsL,EAAWJ,GAAclL,GAE7B,GAAIsL,EAAU,CACZA,EAAShP,cAAgBE,CACjC,CACA,IACIJ,GAAYb,GAAYqB,KAAKpB,OAAQyQ,GACzC,EAEEhB,GAAYmB,KAAO,WACjBrQ,GAAWa,KAAKpB,OAAQY,IACxBiP,KACAH,GAAgB,GAChBC,GAAa,IACjB,CACA,CAEA,SAASkB,GAAenT,EAAS8G,EAAInG,GACnC,GAAIA,GAAS,KAAM,CACjB,GAAImG,IAAO,IAAK,CACd9G,EAAQoT,SAASzS,EAAOX,EAAQqT,YACtC,KAAW,CACLrT,EAAQoT,SAASpT,EAAQsT,YAAa3S,EAC5C,CACA,CAEE,OAAOmG,IAAO,IAAM9G,EAAQsT,YAActT,EAAQqT,WACpD,CAEA,SAASE,GAAgBvT,EAAS8G,EAAInG,GACpC,IAAI6S,EAAO1M,IAAO,IAAM,aAAe,YAEvC,GAAInG,GAAS,KAAM,CACjBX,EAAQwT,GAAQ7S,CACpB,CAEE,OAAOX,EAAQwT,EACjB,CAmBA,SAASC,GAAczT,EAAS0T,EAAUC,GACxC,IAAIC,EAAa,GACjB,IAAIC,EAAcC,EAAcC,GAEhC,SAAWlP,GACT+O,EAAWI,YAAcnP,EAAOmP,YAChCJ,EAAWK,aAAepP,EAAOoP,YAClC,EAHD,CAGGP,EAAWnI,SAASzJ,gBAAkB9B,GASzC,IAAIkU,EAAgB,EAChBC,EAAe,EAEnB,IAAKR,EAAY,CACf,IAAIS,EAAeC,EAEnB,GAAIX,EAAU,CACZU,EAAgBjB,GAAenT,EAAS,KACxCqU,EAAelB,GAAenT,EAAS,KACvC6T,EAAeS,iBAAiB/I,SAASzJ,gBAAiB,IAC1DgS,EAAeQ,iBAAiB/I,SAAS2F,KAAM,IAC/CgD,EAAgBf,GAAenT,EAAS,IAAKuL,SAASzJ,gBAAgByS,YAAcX,EAAWI,YAC/F,CAAC,aAAc,cAAe,kBAAmB,mBAAoB,cAAe,gBAAgB/I,QAAO,SAAUuJ,EAAKhB,GACxH,OAAOgB,GAAOC,WAAWZ,EAAaL,KAAU,IAAMiB,WAAWX,EAAaN,KAAU,EAChG,GAAS,IACHW,EAAehB,GAAenT,EAAS,IAAKuL,SAASzJ,gBAAgB4S,aAAed,EAAWK,aAAe,CAAC,YAAa,eAAgB,iBAAkB,oBAAqB,aAAc,iBAAiBhJ,QAAO,SAAUuJ,EAAKhB,GACtO,OAAOgB,GAAOC,WAAWZ,EAAaL,KAAU,IAAMiB,WAAWX,EAAaN,KAAU,EAChG,GAAS,IACHL,GAAenT,EAAS,IAAKoU,GAC7BjB,GAAenT,EAAS,IAAKqU,EACnC,KAAW,CACLD,EAAgBb,GAAgBvT,EAAS,KACzCqU,EAAed,GAAgBvT,EAAS,KACxC+T,EAAkBO,iBAAiBtU,EAAS,IAC5CkU,EAAgBX,GAAgBvT,EAAS,IAAKA,EAAQuU,YAAcX,EAAWI,YAC/E,CAAC,aAAc,cAAe,kBAAmB,mBAAoB,cAAe,gBAAgB/I,QAAO,SAAUuJ,EAAKhB,GACxH,OAAOgB,GAAOC,WAAWV,EAAgBP,KAAU,EAC3D,GAAS,IACHW,EAAeZ,GAAgBvT,EAAS,IAAKA,EAAQ0U,aAAed,EAAWK,aAAe,CAAC,YAAa,eAAgB,iBAAkB,oBAAqB,aAAc,iBAAiBhJ,QAAO,SAAUuJ,EAAKhB,GACtN,OAAOgB,GAAOC,WAAWV,EAAgBP,KAAU,EAC3D,GAAS,IACHD,GAAgBvT,EAAS,IAAKoU,GAC9Bb,GAAgBvT,EAAS,IAAKqU,EACpC,CACA,CAEET,EAAWW,YAAcX,EAAWI,YAAcE,EAClDN,EAAWc,aAAed,EAAWK,aAAeE,EAEpD,IAAIQ,EAEJ,GAAIjB,EAAU,CACZE,EAAW7M,QAAU6M,EAAW5M,QAAU,CAC9C,KAAS,CAEL2N,EAAO3U,EAAQ4U,wBAEf,IAAKb,EAAiB,CACpBA,EAAkBO,iBAAiBtU,EAAS,GAClD,CAEI4T,EAAW7M,QAAU4N,EAAK9W,MAAQ4W,WAAWV,EAAgBc,kBAAoB,GACjFjB,EAAW5M,QAAU2N,EAAKhX,KAAO8W,WAAWV,EAAgBe,iBAAmB,EACnF,CAEE,OAAOlB,CACT,CAGA,SAASmB,GAAStG,GAChB,OAAQA,EAAMA,EAAMyB,GAASzB,GAAOnN,OAAO0T,KAAKvG,GAAKxD,QAAO,SAAUgK,EAAS5W,GAC7E4W,EAAQ5W,GAAO0W,GAAStG,EAAIpQ,IAC5B,OAAO4W,CACX,GAAK,IAAM5U,MAAMyM,QAAQ2B,GAAOA,EAAI3N,IAAIiU,IAAYtG,CACpD,CAEA,SAASyG,GAAWC,EAAGC,GACrB,IAAIC,EAAOC,EACX,OAAO9G,GAAQ2G,KAAO3G,GAAQ4G,KAAOC,EAAQnF,GAASiF,GAAK,MAAQ9U,MAAMyM,QAAQqI,GAAK,QAAU,OAASjF,GAASkF,GAAK,MAAQ/U,MAAMyM,QAAQsI,GAAK,QAAU,MAAQC,IAAU,MAAQH,GAAWI,EAAQhU,OAAO0T,KAAKG,GAAGI,OAAQjU,OAAO0T,KAAKI,GAAGG,SAAWD,EAAMvR,MAAK,SAAUyP,GAC7Q,OAAO0B,GAAWC,EAAE3B,GAAO4B,EAAE5B,GACjC,IAAO6B,IAAU,QAAUF,EAAE5Q,SAAW6Q,EAAE7Q,QAAU4Q,EAAEpR,MAAK,SAAUyR,EAAMxR,GACvE,OAAOkR,GAAWM,EAAMJ,EAAEpR,GAC9B,IAAOmR,IAAMC,EACb,CAOA,SAASK,GAAUzV,GACjB,SAAUA,GAAWA,EAAQgB,WAAa0U,KAAKC,qBACxC3V,EAAQ4U,wBAA0B,cAAgB5U,EAAQ4V,wBAAwBrK,UAAYmK,KAAKG,gCAC5G,CAoBA,SAASC,GAAUC,GACjB,IAAK7F,GAAS6F,GAAO,CACnB,OAAO,IACX,CAEE,IAAIpV,EAEJ,GAAI+P,GAAS/P,EAAQoV,EAAKlY,OAAS6S,GAAS/P,EAAQoV,EAAKjY,GAAI,CAC3DiY,EAAKlY,KAAOkY,EAAKjY,EAAI6C,CACzB,KAAS,CACL,OAAO,IACX,CAEE,GAAI+P,GAAS/P,EAAQoV,EAAKpY,MAAQ+S,GAAS/P,EAAQoV,EAAKnY,GAAI,CAC1DmY,EAAKpY,IAAMoY,EAAKnY,EAAI+C,CACxB,KAAS,CACL,OAAO,IACX,CAEE,GAAI+P,GAASqF,EAAKvY,QAAUuY,EAAKvY,OAAS,EAAG,CAC3CuY,EAAKC,MAAQD,EAAKlY,KAAOkY,EAAKvY,KAClC,MAAS,GAAIkT,GAASqF,EAAKC,QAAUD,EAAKC,OAASD,EAAKlY,KAAM,CAC1DkY,EAAKvY,MAAQuY,EAAKC,MAAQD,EAAKlY,IACnC,KAAS,CACL,OAAO,IACX,CAEE,GAAI6S,GAASqF,EAAKzY,SAAWyY,EAAKzY,QAAU,EAAG,CAC7CyY,EAAKE,OAASF,EAAKpY,IAAMoY,EAAKzY,MAClC,MAAS,GAAIoT,GAASqF,EAAKE,SAAWF,EAAKE,QAAUF,EAAKpY,IAAK,CAC3DoY,EAAKzY,OAASyY,EAAKE,OAASF,EAAKpY,GACrC,KAAS,CACL,OAAO,IACX,CAEE,OAAOoY,CACT,CAOA,SAASG,GAAavV,GAEpB,SAASwV,EAAeC,GACtB,IAAIC,EAAU,cAAcC,KAAKF,GACjC,IAAIzV,EAAO4V,EACX,OAAOF,GAAW3F,GAAS/P,EAAQ8T,WAAW4B,EAAQ,KAAO,CAC3D1V,OAAQ4V,KAAaF,EAAQ,IAAM1V,IAAUA,EAAQ,IAAMA,EAC3D4V,QAASA,GACP,IACR,CAEE,OAAO7F,GAAS/P,GAAS,CACvBA,MAAOA,EACP4V,QAAS,cACA5V,IAAU,SAAWwV,EAAexV,EAAMmL,QAAQ,MAAO,KAAO,IAC7E,CAEA,SAAS0K,GAAoBC,GAC3B,OAAOA,EAAQF,QAAU,GAAG9N,OAAOgO,EAAQ9V,MAAQ,IAAK,KAAO8V,EAAQ9V,KACzE,CAEA,SAAS+V,GAAeD,EAASE,EAAYC,GAC3C,cAAcH,IAAY,SAAWA,EAAUE,EAAaF,EAAQ9V,OAAS8V,EAAQF,QAAUK,EAAW,EAC5G,CAYA,SAASC,GAAYd,GACnB,IAAK7F,GAAS6F,GAAO,CACnB,OAAO,IACX,CAEE,IAAIU,EAEJ,IAAKA,EAAUP,GAAaH,EAAKlY,SAAW4Y,EAAUP,GAAaH,EAAKjY,IAAK,CAC3EiY,EAAKlY,KAAOkY,EAAKjY,EAAI2Y,CACzB,KAAS,CACL,OAAO,IACX,CAEE,IAAKA,EAAUP,GAAaH,EAAKpY,QAAU8Y,EAAUP,GAAaH,EAAKnY,IAAK,CAC1EmY,EAAKpY,IAAMoY,EAAKnY,EAAI6Y,CACxB,KAAS,CACL,OAAO,IACX,CAEE,IAAKA,EAAUP,GAAaH,EAAKvY,SAAWiZ,EAAQ9V,OAAS,EAAG,CAC9DoV,EAAKvY,MAAQiZ,SACNV,EAAKC,KAChB,MAAS,GAAIS,EAAUP,GAAaH,EAAKC,OAAQ,CAC7CD,EAAKC,MAAQS,SACNV,EAAKvY,KAChB,KAAS,CACL,OAAO,IACX,CAEE,IAAKiZ,EAAUP,GAAaH,EAAKzY,UAAYmZ,EAAQ9V,OAAS,EAAG,CAC/DoV,EAAKzY,OAASmZ,SACPV,EAAKE,MAChB,MAAS,GAAIQ,EAAUP,GAAaH,EAAKE,QAAS,CAC9CF,EAAKE,OAASQ,SACPV,EAAKzY,MAChB,KAAS,CACL,OAAO,IACX,CAEE,OAAOyY,CACT,CAEA,SAASe,GAAoBC,GAC3B,OAAOzV,OAAO0T,KAAK+B,GAAQ9L,QAAO,SAAUwD,EAAK+E,GAC/C/E,EAAI+E,GAAQgD,GAAoBO,EAAOvD,IACvC,OAAO/E,CACX,GAAK,GACL,CAGA,SAASuI,GAAcD,EAAQE,GAC7B,IAAIC,EAAY,CACdrZ,KAAM,IACNmY,MAAO,IACPlY,EAAG,IACHN,MAAO,IACPG,IAAK,IACLsY,OAAQ,IACRrY,EAAG,IACHN,OAAQ,KAEN6Z,EAAe,CACjBrZ,EAAGmZ,EAASpZ,KACZD,EAAGqZ,EAAStZ,KAEVyZ,EAAa,CACftZ,EAAGmZ,EAASzZ,MACZI,EAAGqZ,EAAS3Z,QAEd,OAAOwY,GAAUxU,OAAO0T,KAAK+B,GAAQ9L,QAAO,SAAU8K,EAAMvC,GAC1DuC,EAAKvC,GAAQkD,GAAeK,EAAOvD,GAAOA,IAAS,SAAWA,IAAS,SAAW,EAAI2D,EAAaD,EAAU1D,IAAQ4D,EAAWF,EAAU1D,KAC1I,OAAOuC,CACX,GAAK,IACL,CAQA,SAASsB,GAAQrX,EAASsX,GACxB,IAAI3C,EAAO3U,EAAQ4U,wBACfmB,EAAO,CACTlY,KAAM8W,EAAK9W,KACXF,IAAKgX,EAAKhX,IACVH,MAAOmX,EAAKnX,MACZF,OAAQqX,EAAKrX,QAEfyY,EAAKlY,MAAQyE,OAAOgR,YACpByC,EAAKpY,KAAO2E,OAAO+Q,YAEnB,GAAIiE,EAAe,CACjB,IAAIja,EAAQiF,OAAOgS,iBAAiBtU,EAAS,IACzCuX,EAAY9C,WAAWpX,EAAMyX,iBAAmB,EAChD0C,EAAc/C,WAAWpX,EAAMoa,mBAAqB,EACpDC,EAAejD,WAAWpX,EAAMsa,oBAAsB,EACtDC,EAAanD,WAAWpX,EAAMwX,kBAAoB,EACtDkB,EAAKlY,MAAQ+Z,EACb7B,EAAKpY,KAAO4Z,EACZxB,EAAKvY,OAASoa,EAAaJ,EAC3BzB,EAAKzY,QAAUia,EAAYG,CAC/B,CAEE,OAAO5B,GAAUC,EACnB,CASA,SAAS8B,GAAS7X,EAAS8X,GACzB,IAAIza,EAAQ2C,EAAQ3C,MACpBA,EAAM0a,wBAA0B,cAEhC,IAAIC,EAAmBjL,GAAUN,QAAQ,aACrCzN,EAAYsD,OAAOgS,iBAAiBtU,EAAS,IAAIgY,GAErD,IAAKhZ,GAAaA,IAAc,OAAQ,CACtC3B,EAAM2a,GAAoB,qBAC9B,CAEE,GAAIF,GAAcvG,GAAkB,CAClClU,EAAMkU,IAAoB,eAC9B,CAEE,OAAOvR,CACT,CAEA,SAASiY,GAAmBjY,EAASkY,GACnC,GAAI/G,IAA2B,KAAM,CACnC,GAAIO,KAAkC,MAAO,CAC3CP,GAA0BpE,GAAUH,SAAS,SAAU8E,GAC7D,CAGI,GAAIP,IAA2B,KAAM,CACnCA,GAA0B,KAChC,CACA,CAGEnR,EAAQ3C,MAAM8a,OAAShH,KAA4B,MAAQ+G,EAAY/G,EACzE,CAEA,SAASiH,GAAkBpY,GACzB,GAAIoR,IAA0B,KAAM,CAClC,GAAIO,KAAiC,MAAO,CAC1CP,GAAyBrE,GAAUH,SAAS,SAAU+E,GAC5D,CAGI,GAAIP,IAA0B,KAAM,CAClCA,GAAyB,KAC/B,CACA,CAEE,GAAIA,KAA2B,MAAO,CACpCpR,EAAQ3C,MAAM8a,OAAS/G,EAC3B,CACA,CAWA,SAASiH,GAAmBjY,EAAO2G,EAASC,GAC1C,IAAIsR,EAAWlY,EAAMkY,SACrBA,EAASxa,EAAIiJ,EACbuR,EAAS1a,EAAIoJ,EACb,OAAOsR,EAASC,gBAAgBnY,EAAMoY,cAAcC,eAAeC,UACrE,CAUA,SAASC,GAAcvY,EAAOrC,GAC5B,IAAI6a,EAAcxY,EAAMwY,YAExB,GAAI7a,EAASF,OAAS+a,EAAY/a,MAAQE,EAASJ,MAAQib,EAAYjb,IAAK,CAC1E,IAAIkb,EAASzY,EAAM0Y,WACnB1Y,EAAM2Y,aAAaxH,IAAoB,aAAa9I,OAAO1K,EAASF,KAAOgb,EAAOhb,KAAM,QAAQ4K,OAAO1K,EAASJ,IAAMkb,EAAOlb,IAAK,OAClI,OAAO,IACX,CAEE,OAAO,KACT,CAUA,SAASqb,GAAY5Y,EAAOrC,GAC1B,IAAI6a,EAAcxY,EAAMwY,YACpBG,EAAe3Y,EAAM2Y,aACrBF,EAASzY,EAAM0Y,WACnB,IAAIG,EAAQ,MAEZ,GAAIlb,EAASF,OAAS+a,EAAY/a,KAAM,CACtCkb,EAAalb,KAAOE,EAASF,KAAOgb,EAAOhb,KAAO,KAClDob,EAAQ,IACZ,CAEE,GAAIlb,EAASJ,MAAQib,EAAYjb,IAAK,CACpCob,EAAapb,IAAMI,EAASJ,IAAMkb,EAAOlb,IAAM,KAC/Csb,EAAQ,IACZ,CAEE,OAAOA,CACT,CAWA,SAASC,GAAQ9Y,EAAOrC,GACtB,IAAI6a,EAAcxY,EAAMwY,YAExB,GAAI7a,EAASF,OAAS+a,EAAY/a,MAAQE,EAASJ,MAAQib,EAAYjb,IAAK,CAC1E,IAAIkb,EAASzY,EAAM+Y,UACfC,EAAahZ,EAAMiZ,cACnBC,EAAQjB,GAAmBjY,EAAOrC,EAASF,KAAOyE,OAAOgR,YAAavV,EAASJ,IAAM2E,OAAO+Q,aAChGjT,EAAMmZ,aAAaC,aAAaF,EAAMxb,EAAI+a,EAAO/a,EAAIsb,EAAWtb,EAAGwb,EAAM1b,EAAIib,EAAOjb,EAAIwb,EAAWxb,GACnG,OAAO,IACX,CAEE,OAAO,KACT,CAWA,SAASqL,GAAK7I,EAAOrC,EAAU0b,GAC7B,IAAIb,EAAcxY,EAAMwY,YAExB,SAASc,IACP,GAAItZ,EAAMuZ,SAAWvZ,EAAMwZ,QAAS,CAElC7b,EAASF,KAAO+a,EAAY/a,IAClC,MAAW,GAAIE,EAASF,KAAOuC,EAAMuZ,QAAS,CACxC5b,EAASF,KAAOuC,EAAMuZ,OAC5B,MAAW,GAAI5b,EAASF,KAAOuC,EAAMwZ,QAAS,CACxC7b,EAASF,KAAOuC,EAAMwZ,OAC5B,CAEI,GAAIxZ,EAAMyZ,QAAUzZ,EAAM0Z,OAAQ,CAEhC/b,EAASJ,IAAMib,EAAYjb,GACjC,MAAW,GAAII,EAASJ,IAAMyC,EAAMyZ,OAAQ,CACtC9b,EAASJ,IAAMyC,EAAMyZ,MAC3B,MAAW,GAAI9b,EAASJ,IAAMyC,EAAM0Z,OAAQ,CACtC/b,EAASJ,IAAMyC,EAAM0Z,MAC3B,CACA,CAEEJ,IAEA,GAAID,EAAS,CACX,GAAIA,EAAQ1b,KAAc,MAAO,CAC/B,OAAO,KACb,CAEI2b,GACJ,CAEE,IAAIT,EAAQ7Y,EAAM2Z,QAAQ3Z,EAAOrC,GAEjC,GAAIkb,EAAO,CAET7Y,EAAMwY,YAAc9C,GAAU,CAC5BjY,KAAME,EAASF,KACfF,IAAKI,EAASJ,IACdH,MAAOob,EAAYpb,MACnBF,OAAQsb,EAAYtb,QAE1B,CAEE,OAAO2b,CACT,CAQA,SAASe,GAAc5Z,GACrB,IAAIJ,EAAUI,EAAMJ,QAChB+Y,EAAe3Y,EAAM2Y,aACrBkB,EAAc5C,GAAQrX,GAE1Bka,EAAgB,CAAC,UAAW,YAAa,eAAgB,QAAS,UAClEA,EAAcC,QAAQ5I,IAEtB,IAAI6I,EAAwBrB,EAAazH,IACzCyH,EAAazH,IAA6B,OAE1C,IAAI+I,EAAchD,GAAQrX,GAE1B,IAAKI,EAAMka,SAAU,CACnBla,EAAMka,SAAWJ,EAAcjP,QAAO,SAAUqP,EAAU9G,GACxD8G,EAAS9G,GAAQuF,EAAavF,IAAS,GACvC,OAAO8G,CACb,GAAO,IACHla,EAAMma,UAAY,EACtB,KAAS,CACLL,EAAc1Z,SAAQ,SAAUgT,GAE9B,GAAIpT,EAAMma,UAAU/G,IAAS,MAAQuF,EAAavF,KAAUpT,EAAMma,UAAU/G,GAAO,CACjFuF,EAAavF,GAAQpT,EAAMka,SAAS9G,EAC5C,CACA,GACA,CAEE,IAAIgH,EAAUnD,GAAQrX,GAClBya,EAAWnY,OAAOgS,iBAAiBtU,EAAS,IAEhD,GAAIya,EAASzc,UAAY,SAAU,CACjC+a,EAAa/a,QAAU,eACvB,CAAC,MAAO,UAAUwC,SAAQ,SAAUka,GAClC,IAAIxc,EAAUuW,WAAWgG,EAAS,UAAUhS,OAAOiS,KAGnD3B,EAAa,SAAStQ,OAAOiS,IAAYxc,EAAU,IAAIuK,OAAOvK,EAAS,MAAQ,GACrF,GACA,CAEE6a,EAAaxH,IAAoB,kBAEjC,IAAIoJ,EAAUtD,GAAQrX,GACtB,IAAI6Y,EAASzY,EAAM0Y,WAAa,CAC9Bjb,KAAM8c,EAAQ9c,MAAQ8c,EAAQ9c,KAAO,EACrCF,IAAKgd,EAAQhd,KAAOgd,EAAQhd,IAAM,GAIpCob,EAAaxH,IAAoB,aAAa9I,OAAOwR,EAAYpc,KAAOgb,EAAOhb,KAAM,QAAQ4K,OAAOwR,EAAYtc,IAAMkb,EAAOlb,IAAK,OAElI,CAAC,QAAS,UAAU6C,SAAQ,SAAUgT,GACpC,GAAImH,EAAQnH,KAAUgH,EAAQhH,GAAO,CAEnCuF,EAAavF,GAAQgH,EAAQhH,GAAQ,KACrCmH,EAAUtD,GAAQrX,GAElB,GAAI2a,EAAQnH,KAAUgH,EAAQhH,GAAO,CAEnCuF,EAAavF,GAAQgH,EAAQhH,IAASmH,EAAQnH,GAAQgH,EAAQhH,IAAS,IAC/E,CACA,CAEIpT,EAAMma,UAAU/G,GAAQuF,EAAavF,EACzC,IAMEuF,EAAazH,IAA6B8I,EAE1C,GAAIC,EAAYxc,OAASoc,EAAYpc,MAAQwc,EAAY1c,MAAQsc,EAAYtc,IAAK,CAEhFob,EAAaxH,IAAoB,aAAa9I,OAAO4R,EAAYxc,KAAOgb,EAAOhb,KAAM,QAAQ4K,OAAO4R,EAAY1c,IAAMkb,EAAOlb,IAAK,MACtI,CAEE,OAAO0c,CACT,CASA,SAASO,GAAYxa,GACnB,IAAIJ,EAAUI,EAAMJ,QAChB+Y,EAAe3Y,EAAM2Y,aACrBkB,EAAc5C,GAAQrX,GAE1Bka,EAAgB,CAAC,WAAY,YAAa,cAAe,eAAgB,aAAc,QAAS,UAEhG,IAAIE,EAAwBrB,EAAazH,IACzCyH,EAAazH,IAA6B,OAE1C,IAAI+I,EAAchD,GAAQrX,GAE1B,IAAKI,EAAMka,SAAU,CACnBla,EAAMka,SAAWJ,EAAcjP,QAAO,SAAUqP,EAAU9G,GACxD8G,EAAS9G,GAAQuF,EAAavF,IAAS,GACvC,OAAO8G,CACb,GAAO,IACHla,EAAMma,UAAY,EACtB,KAAS,CACLL,EAAc1Z,SAAQ,SAAUgT,GAE9B,GAAIpT,EAAMma,UAAU/G,IAAS,MAAQuF,EAAavF,KAAUpT,EAAMma,UAAU/G,GAAO,CACjFuF,EAAavF,GAAQpT,EAAMka,SAAS9G,EAC5C,CACA,GACA,CAEE,IAAIgH,EAAUnD,GAAQrX,GACtB+Y,EAAahb,SAAW,WACxBgb,EAAalb,KAAOkb,EAAapb,IAAMob,EAAa8B,OAAS,IAE7D,IAAIF,EAAUtD,GAAQrX,GACtB,IAAI6Y,EAASzY,EAAM0Y,WAAa,CAC9Bjb,KAAM8c,EAAQ9c,MAAQ8c,EAAQ9c,KAAO,EACrCF,IAAKgd,EAAQhd,KAAOgd,EAAQhd,IAAM,GAIpCob,EAAalb,KAAOoc,EAAYpc,KAAOgb,EAAOhb,KAAO,KACrDkb,EAAapb,IAAMsc,EAAYtc,IAAMkb,EAAOlb,IAAM,KAElD,CAAC,QAAS,UAAU6C,SAAQ,SAAUgT,GACpC,GAAImH,EAAQnH,KAAUgH,EAAQhH,GAAO,CAEnCuF,EAAavF,GAAQgH,EAAQhH,GAAQ,KACrCmH,EAAUtD,GAAQrX,GAElB,GAAI2a,EAAQnH,KAAUgH,EAAQhH,GAAO,CAEnCuF,EAAavF,GAAQgH,EAAQhH,IAASmH,EAAQnH,GAAQgH,EAAQhH,IAAS,IAC/E,CACA,CAEIpT,EAAMma,UAAU/G,GAAQuF,EAAavF,EACzC,IAMEuF,EAAazH,IAA6B8I,EAE1C,GAAIC,EAAYxc,OAASoc,EAAYpc,MAAQwc,EAAY1c,MAAQsc,EAAYtc,IAAK,CAEhFob,EAAalb,KAAOwc,EAAYxc,KAAOgb,EAAOhb,KAAO,KACrDkb,EAAapb,IAAM0c,EAAY1c,IAAMkb,EAAOlb,IAAM,IACtD,CAEE,OAAO0c,CACT,CAUA,SAASS,GAAQ1a,GACf,IAAIJ,EAAUI,EAAMJ,QAChBuZ,EAAenZ,EAAMmZ,aACrBwB,EAAU/a,EAAQ4U,wBAEtByF,EAAchD,GAAQrX,GACtBuZ,EAAaC,aAAa,EAAG,GAC7B,IAAIJ,EAAahZ,EAAMiZ,cAAgBrZ,EAAQqX,UAE/C2D,EAAUhb,EAAQ4U,wBACdqG,EAAc5C,GAAmBjY,EAAO4a,EAAQnd,KAAMmd,EAAQrd,KAElEkb,EAASzY,EAAM+Y,UAAY,CACzBrb,EAAGsb,EAAWtb,EAAImd,EAAYnd,EAC9BF,EAAGwb,EAAWxb,EAAIqd,EAAYrd,GAGhCsd,EAAW7C,GAAmBjY,EAAO2a,EAAQld,KAAMkd,EAAQpd,KAC3D4b,EAAaC,aAAa0B,EAASpd,EAAI+a,EAAO/a,EAAIsb,EAAWtb,EAAGod,EAAStd,EAAIib,EAAOjb,EAAIwb,EAAWxb,GACnG,OAAOyc,CACT,CAUA,SAASc,GAAS/a,EAAOgb,GAEvB,IAAIC,EAAUhE,GAAQ9L,SAASzJ,iBAC3B8W,EAAcxY,EAAMwY,YAAcxY,EAAMkb,QAAQlb,GAEpDmb,EAAkBnb,EAAMmb,gBAAkBnb,EAAMob,kBAAoBxE,GAAc5W,EAAM4F,QAAQyV,YAAaJ,IAAYA,EAAUhE,GAAQjX,EAAM4F,QAAQyV,YAAa,MACtKrb,EAAMuZ,QAAU4B,EAAgB1d,KAChCuC,EAAMwZ,QAAU2B,EAAgBvF,MAAQ4C,EAAYpb,MACpD4C,EAAMyZ,OAAS0B,EAAgB5d,IAC/ByC,EAAM0Z,OAASyB,EAAgBtF,OAAS2C,EAAYtb,OAEpD2L,GAAK7I,EAAO,CACVvC,KAAM+a,EAAY/a,KAClBF,IAAKib,EAAYjb,MAcnB,GAAIyC,EAAMsb,kBAAmB,CAC3B,IAAIC,EAAgB,CAClB7d,EAAG8a,EAAYpb,MACfI,EAAGgb,EAAYtb,QAEbse,EAAQ,CACV9d,EAAGsC,EAAMuZ,QACT/b,EAAGwC,EAAMyZ,QAEPgC,EAAQ,CACV/d,EAAGsC,EAAMwZ,QACThc,EAAGwC,EAAM0Z,QAEP5C,EAAY,CACdrZ,KAAM,IACNmY,MAAO,IACPlY,EAAG,IACHN,MAAO,IACPse,OAAQ,IACRC,KAAM,IACNC,MAAO,IACPre,IAAK,IACLsY,OAAQ,IACRrY,EAAG,IACHN,OAAQ,IACR2e,OAAQ,IACRC,KAAM,IACNC,MAAO,KAELC,EAAchc,EAAMsb,kBAAkBzQ,QAAO,SAAUmR,EAAaC,GACtE,IAAIC,EAAWD,EAAiBE,OAAS,cAAgBhB,EAAkBF,EACvElE,EAAe,CACjBrZ,EAAGwe,EAASze,KACZD,EAAG0e,EAAS3e,KAEVyZ,EAAa,CACftZ,EAAGwe,EAAS9e,MACZI,EAAG0e,EAAShf,QAad,SAASkf,EAAcC,GACrB,GAAIA,EAASC,QAAU,KAAM,CAC3BD,EAASC,OAASL,EAAiBK,MAC7C,CAEQ,GAAID,EAASE,UAAY,KAAM,CAC7BF,EAASE,SAAWN,EAAiBO,OAC/C,CAEQ,GAAIH,EAASI,UAAY,KAAM,CAC7BJ,EAASI,SAAWR,EAAiBO,OAC/C,CAEQ,GAAIH,EAAS3e,GAAK,MAAQ2e,EAAS7e,GAAK,KAAM,CAE5C6e,EAAS3e,EAAI4Y,GAAe+F,EAAS3e,EAAGqZ,EAAarZ,EAAGsZ,EAAWtZ,GACnE2e,EAAS7e,EAAI8Y,GAAe+F,EAAS7e,EAAGuZ,EAAavZ,EAAGwZ,EAAWxZ,GAEnE,GAAI6e,EAASC,OAAQ,CACnBD,EAAS3e,GAAK6d,EAAc7d,EAAI,EAChC2e,EAAS7e,GAAK+d,EAAc/d,EAAI,EAChC6e,EAASK,QAAU,CAAC,KAChC,EAEWL,EAASK,SAAWT,EAAiBS,SAAStc,SAAQ,SAAUuc,GAC/D,IAAIjf,EAAI2e,EAAS3e,GAAKif,IAAW,MAAQA,IAAW,KAAOpB,EAAc7d,EAAI,GACzEF,EAAI6e,EAAS7e,GAAKmf,IAAW,MAAQA,IAAW,KAAOpB,EAAc/d,EAAI,GAE7E,GAAIE,GAAK8d,EAAM9d,GAAKA,GAAK+d,EAAM/d,GAAKF,GAAKge,EAAMhe,GAAKA,GAAKie,EAAMje,EAAG,CAChE,IAAIof,EAAa,CACflf,EAAGA,EACHF,EAAGA,GAEDqf,EAAgBnf,EAAI2e,EAASE,SAC7BO,EAAcpf,EAAI2e,EAASE,SAC3BQ,EAAgBvf,EAAI6e,EAASI,SAC7BO,EAAcxf,EAAI6e,EAASI,SAE/B,GAAII,EAAgBrB,EAAM9d,EAAG,CAC3Bkf,EAAWC,cAAgBA,CAC3C,CAEc,GAAIC,EAAcrB,EAAM/d,EAAG,CACzBkf,EAAWE,YAAcA,CACzC,CAEc,GAAIC,EAAgBvB,EAAMhe,EAAG,CAC3Bof,EAAWG,cAAgBA,CAC3C,CAEc,GAAIC,EAAcvB,EAAMje,EAAG,CACzBof,EAAWI,YAAcA,CACzC,CAEchB,EAAYjY,KAAK6Y,EAC/B,CACA,GACA,KAAe,CAEL,IAAIK,EAAWZ,EAAS3e,GAAK,KAAO,IAAM,IACtCwf,EAAYD,IAAa,IAAM,IAAM,IACrCE,EAAY,GAAG9U,OAAO6U,EAAW,SACjCE,EAAU,GAAG/U,OAAO6U,EAAW,OAC/BG,EAAc,GAAGhV,OAAO4U,EAAU,WAClCK,EAAYL,EAASvS,cACrB6S,EAAaL,EAAUxS,cACvB8S,EAAuB,UAAUnV,OAAOiV,EAAW,SACnDG,EAAqB,UAAUpV,OAAOiV,EAAW,OACjDI,EAAwB,UAAUrV,OAAOkV,EAAY,SACrDI,EAAsB,UAAUtV,OAAOkV,EAAY,OACvDlB,EAASY,GAAY3G,GAAe+F,EAASY,GAAWlG,EAAakG,GAAWjG,EAAWiG,IAC3FZ,EAASc,GAAa7G,GAAe+F,EAASc,GAAYpG,EAAamG,GAAYlG,EAAWkG,IAC9Fb,EAASe,GAAW9G,GAAe+F,EAASe,GAAUrG,EAAamG,GAAYlG,EAAWkG,IAAc3B,EAAc2B,GAEtH,GAAIb,EAASc,GAAad,EAASe,IACnCf,EAASc,GAAa1B,EAAMyB,IAAcb,EAASe,GAAW5B,EAAM0B,GAAY,CAC9E,MACZ,CAEU,GAAIb,EAASC,OAAQ,CACnBD,EAASY,IAAa1B,EAAc0B,GAAY,EAChDZ,EAASuB,MAAQ,CAAC,QAC9B,EAEWvB,EAASuB,OAAS3B,EAAiB2B,OAAOxd,SAAQ,SAAUyd,GAC3D,IAAInX,EAAK2V,EAASY,IAAaY,IAAS,MAAQtC,EAAc0B,GAAY,GAE1E,GAAIvW,GAAM8U,EAAMyB,IAAavW,GAAM+U,EAAMwB,GAAW,CAClD,IAAIL,EAAa,GACbkB,EAAmBpX,EAAK2V,EAASgB,GACjCU,EAAiBrX,EAAK2V,EAASgB,GACnCT,EAAWK,GAAYvW,EAEvB,GAAIoX,EAAmBtC,EAAMyB,GAAW,CACtCL,EAAWY,GAAwBM,CACnD,CAEc,GAAIC,EAAiBtC,EAAMwB,GAAW,CACpCL,EAAWa,GAAsBM,CACjD,CAEc,GAAI1B,EAASc,GAAa3B,EAAM0B,GAAY,CAC1CN,EAAWc,GAAyBrB,EAASc,EAC7D,CAEc,GAAId,EAASe,GAAW3B,EAAMyB,GAAY,CACxCN,EAAWe,GAAuBtB,EAASe,EAC3D,CAEcpB,EAAYjY,KAAK6Y,EAC/B,CACA,GACA,CACA,CAEM,IAAIjH,EAEJ,IAAKA,EAAOsG,EAAiBrc,QAAUqX,GAAQgF,EAAiBrc,SAAW,OAC3Eqc,EAAiBtF,OAAQ,CACvB,GAAIsF,EAAiBtF,OAAQ,CAC3BhB,EAAOiB,GAAcqF,EAAiBtF,OAAQuF,EACxD,CAGQ,GAAIvG,EAAM,CAGRsG,EAAiB+B,MAAM5d,SAAQ,SAAU6d,GACvC,IAAIC,EAAYjC,EAAiBO,QAC7B2B,EAAYlC,EAAiBO,QAEjC,GAAIyB,IAAS,UAAW,CAEtBC,GAAa1F,EAAYpb,MACzB+gB,GAAa3F,EAAYtb,MACvC,CAEY,IAAIwe,EAAS/F,EAAKlY,KAAOygB,EACrBvC,EAAOhG,EAAKC,MAAQsI,EACpBrC,EAASlG,EAAKpY,IAAM4gB,EACpBrC,EAAOnG,EAAKE,OAASsI,EACzB,IAAIN,EAAOI,IAAS,SAAW,QAAU,MACzC7B,EAAc,CACZV,OAAQA,EACRC,KAAMA,EACNne,EAAGmY,EAAKpY,IACRqgB,MAAO,CAACC,GACRvB,OAAQ,QAGVF,EAAc,CACZ1e,EAAGiY,EAAKlY,KACRoe,OAAQA,EACRC,KAAMA,EACN8B,MAAO,CAACC,GACRvB,OAAQ,QAGVuB,EAAOI,IAAS,SAAW,MAAQ,QACnC7B,EAAc,CACZV,OAAQA,EACRC,KAAMA,EACNne,EAAGmY,EAAKE,OACR+H,MAAO,CAACC,GACRvB,OAAQ,QAGVF,EAAc,CACZ1e,EAAGiY,EAAKC,MACRiG,OAAQA,EACRC,KAAMA,EACN8B,MAAO,CAACC,GACRvB,OAAQ,OAEtB,GACA,CACA,KAAa,CACL,IAAI8B,EAAW,CAAC,CAAC,IAAK,IAAK,SAAU,OAAQ,QAAS,SAAU,OAAQ,SAASvT,QAAO,SAAUwR,EAAUjJ,GAC1G,GAAI6I,EAAiB7I,GAAO,CAC1BiJ,EAASjJ,GAAQkD,GAAe2F,EAAiB7I,GAAOA,IAAS,SAAWA,IAAS,QAAU,EAAI2D,EAAaD,EAAU1D,IAAQ4D,EAAWF,EAAU1D,IACnK,CAEU,OAAOiJ,CACjB,GAAW,KACH,CAAC,IAAK,KAAKjc,SAAQ,SAAUie,GAC3B,IAAIlB,EAAY,GAAG9U,OAAOgW,EAAM,SAC5BjB,EAAU,GAAG/U,OAAOgW,EAAM,OAC1BC,EAAW,GAAGjW,OAAOgW,EAAM,QAC3BhB,EAAc,GAAGhV,OAAOgW,EAAM,WAClCD,EAAWA,EAASvT,QAAO,SAAUuT,EAAU/B,GAC7C,IAAIkC,EAAQlC,EAASc,GACjBjU,EAAMmT,EAASe,GACfja,EAAOkZ,EAASiC,GAEpB,GAAIC,GAAS,MAAQrV,GAAO,MAAQqV,GAASrV,EAAK,CAChD,OAAOkV,CACrB,CAGY,GAAIjb,GAAQ,KAAM,CAChB,GAAIA,EAAO,EAAG,CACZ,OAAOib,CACvB,CAGc,IAAI5B,EAAUrZ,EAAO,EAErBqZ,EAAUP,EAAiBO,QAAUA,EAAUA,EAAU,KAEzD,IAAK,IAAIrK,EAAWoM,EAAOpM,GAAYjJ,EAAKiJ,GAAYhP,EAAM,CAC5D,IAAIqb,EAAatd,OAAO0T,KAAKyH,GAAUxR,QAAO,SAAU2T,EAAYpL,GAClE,GAAIA,IAAS+J,GAAa/J,IAASgK,GAAWhK,IAASkL,EAAU,CAC/DE,EAAWpL,GAAQiJ,EAASjJ,EAChD,CAEkB,OAAOoL,CACzB,GAAmB,IACHA,EAAWH,GAAQlM,EACnBqM,EAAWnB,GAAeb,EAC1B4B,EAASra,KAAKya,EAC9B,CACA,KAAmB,CACLJ,EAASra,KAAKsY,EAC5B,CAEY,OAAO+B,CACnB,GAAa,GACb,IACQA,EAAShe,SAAQ,SAAUic,GACzBD,EAAcC,EACxB,GACA,CAEM,OAAOL,CACb,GAAO,IACHhc,EAAMgc,YAAcA,EAAY7X,OAAS6X,EAAc,IAC3D,CAIE,IAAIyC,EAAa,GACbC,EAAoB1e,EAAM4F,QAAQ6Y,WAEtC,GAAIC,EAAmB,CACrBD,EAAWnL,SAAWoL,EAAkBja,SAAWvC,OACnDuc,EAAWha,OAASia,EAAkBja,OACtC,IAAI8O,EAAayH,IAAc,SAE/BxH,EAAaH,GAAcqL,EAAkBja,OAAQga,EAAWnL,SAAUC,GACtEoL,EAAiBjJ,GAAU,CAC7BjY,KAAM+V,EAAW7M,QACjBpJ,IAAKiW,EAAW5M,QAChBxJ,MAAOoW,EAAWI,YAClB1W,OAAQsW,EAAWK,eAGrB,IAAKN,EAAY,CACfkL,EAAWtK,YAAcX,EAAWW,YACpCsK,EAAWnK,aAAed,EAAWc,YAC3C,MAAW,GAAItU,EAAMye,WAAY,CAC3BA,EAAWtK,YAAcnU,EAAMye,WAAWtK,YAC1CsK,EAAWnK,aAAetU,EAAMye,WAAWnK,YACjD,CAEI,CAAC,CAAC,IAAK,QAAS,OAAQ,SAAU,CAAC,IAAK,SAAU,MAAO,WAAWlU,SAAQ,SAAUie,GACpF,IAAI3X,EAAK2X,EAAK,GACVO,EAAKP,EAAK,GACVQ,EAAOR,EAAK,GACZS,EAAUT,EAAK,GACfU,GAAUN,EAAW,SAASpW,OAAOuW,KAAQ,GAAKpL,EAAW,SAASnL,OAAOuW,IAC7ErM,EAAMmM,EAAkB,MAAMrW,OAAO3B,KAAQ,EACjD,IAAI8L,EAAMlC,GAASoO,EAAkB,MAAMrW,OAAO3B,KAAQgY,EAAkB,MAAMrW,OAAO3B,IAAOqY,EAEhG,GAAIxM,EAAMC,GAAOD,EAAMwM,EAAQ,CAC7B,GAAIvM,EAAMuM,EAAQ,CAChBvM,EAAMuM,CAChB,CAEQ,IAAIC,EAAQ,GACRC,EAAczG,EAAYoG,EAAG7e,eAEjC,IAAK,IAAI6D,EAAI8a,EAAkBQ,YAAY/a,OAAS,EAAGP,GAAK,EAAGA,IAAK,CAElE,IAAIsb,EAAcR,EAAkBQ,YAAYtb,GAC5C8O,EAAQgM,EAAkBhM,MAAM9O,GAEpCob,EAAMjb,KAAK,CACTuO,KAAM,EACNI,MAAOA,EACP/U,SAAUghB,EAAeE,GAAQK,IAGnCF,EAAMjb,KAAK,CACTuO,IAAK,EACLI,MAAOA,EACP/U,SAAUghB,EAAeG,GAAWI,EAAcD,GAE9D,CAEQR,EAAW/X,EAAG3G,eAAiB,CAC7BwS,IAAKA,EACLC,IAAKA,EACLwM,MAAOA,EAEjB,CACA,GACA,CAEEhf,EAAMye,WAAaA,EAAW/gB,GAAK+gB,EAAWjhB,EAAIihB,EAAa,IACjE,CAOA,SAASU,GAAQnf,GACf2R,GAAYmB,OAEZ+E,GAAmB7X,EAAM4F,QAAQwZ,OAAQpf,EAAM8X,WAC/ChH,GAAK7T,MAAM8a,OAAS9G,GAEpB,GAAIjR,EAAM4F,QAAQyZ,SAAW,MAAO,CAClCrf,EAAM2Y,aAAa0G,OAASrf,EAAMsf,SACtC,CAEE,GAAIlO,GAAmB,CACrBN,GAAK7T,MAAMmU,IAAqBC,EACpC,CAEE,IAAI1D,EAAYF,GAAWzN,EAAMJ,SAEjC,GAAI8R,GAAa,CACf/D,EAAU3J,OAAO0N,GACrB,CAEE,GAAID,GAAe,CACjB9D,EAAU3J,OAAOyN,GACrB,CAEEb,GAAc,KACdF,GAAazI,SAEb,GAAIjI,EAAMuf,UAAW,CACnBvf,EAAMuf,UAAU,CACd9hB,KAAMuC,EAAMwY,YAAY/a,KACxBF,IAAKyC,EAAMwY,YAAYjb,KAE7B,CACA,CAQA,SAASiiB,GAAUxf,EAAO6H,GACxB,GAAI7H,EAAMyf,SAAU,CAClB,OAAO,KACX,CAEE,GAAIzf,EAAM0f,aAAe1f,EAAM0f,YAAY7X,KAAe,MAAO,CAC/D,OAAO,KACX,CAEE,GAAI+I,GAAa,CACfuO,GAAQvO,GACZ,CAGEoH,GAAkBhY,EAAM4F,QAAQwZ,QAChCtO,GAAK7T,MAAM8a,OAAS/G,IACpB9O,OAAOgS,iBAAiBlU,EAAM4F,QAAQwZ,OAAQ,IAAIrH,OAElD,GAAI/X,EAAM4F,QAAQyZ,SAAW,MAAO,CAClCrf,EAAM2Y,aAAa0G,OAASrf,EAAM4F,QAAQyZ,MAC9C,CAEE,GAAIjO,GAAmB,CACrBN,GAAK7T,MAAMmU,IAAqB,MACpC,CAEE,GAAIK,GAAe,CACjBhE,GAAWzN,EAAMJ,SAASkE,IAAI2N,GAClC,CAEEb,GAAc5Q,EACd6Q,GAAW,MACXJ,GAAchT,KAAOuC,EAAMwY,YAAY/a,MAAQoK,EAAUlB,QAAUzE,OAAOgR,aAC1EzC,GAAclT,IAAMyC,EAAMwY,YAAYjb,KAAOsK,EAAUjB,QAAU1E,OAAO+Q,aACxE,OAAO,IACT,CAQA,SAAS0M,GAAY3f,EAAO4f,GAC1B,IAAIha,EAAU5F,EAAM4F,QACpB,IAAIia,EAEJ,GAAID,EAAWvE,YAAa,CAC1B,IAAI1F,EAEJ,GAAIN,GAAUuK,EAAWvE,aAAc,CAErC,GAAIuE,EAAWvE,cAAgBzV,EAAQyV,YAAa,CAClDzV,EAAQyV,YAAcuE,EAAWvE,YACjCrb,EAAMob,kBAAoB,MAC1ByE,EAAgB,IACxB,CACA,MAAW,IAAKlK,EAAOc,GAAY9B,GAASiL,EAAWvE,gBACnDvG,GAAWa,EAAM/P,EAAQyV,aAAc,CACrCzV,EAAQyV,YAAc1F,EACtB3V,EAAMob,kBAAoB,KAC1ByE,EAAgB,IACtB,CACA,CAgDE,SAASC,EAAkBla,EAASga,GAClC,SAASG,EAAY/J,GACnB,cAAcA,IAAa,SAAWA,EAAStK,QAAQ,SAAU,KAAK5K,OAAOf,cAAgB,IACnG,CAGI,GAAIuQ,GAASsP,EAAWpD,UAAYoD,EAAWpD,QAAU,EAAG,CAC1D5W,EAAQ4W,QAAUoD,EAAWpD,OACnC,CAGI,IAAIG,EAASoD,EAAYH,EAAWjD,QAEpC,GAAIA,EAAQ,CACV,GAAIA,IAAW,MAAO,CACpB,IAAIqD,EAAQ,GACRtD,EAAUC,EAAOnd,MAAM,MAAMqL,QAAO,SAAU6R,EAASC,GACzDA,EAASA,EAAO7b,OAAO4K,QAAQ,iBAAkB,QAEjD,IAAKiR,EAASA,IAAW,MAAQA,IAAW,KAAO,KAAOA,IAAW,MAAQA,IAAW,KAAO,KAAOA,IAAW,MAAQA,IAAW,KAAO,KAAOA,IAAW,MAAQA,IAAW,KAAO,KAAO,QAAUqD,EAAMrD,GAAS,CACrND,EAAQ3Y,KAAK4Y,GACbqD,EAAMrD,GAAU,IAC5B,CAEU,OAAOD,CACjB,GAAW,IACCuD,EAAavD,EAAQvY,OACzBwY,GAAUsD,EAAa,KAAOA,IAAe,EAAI,MAAQvD,EAAQjd,KAAK,IAC9E,CAEM,GAAIkd,EAAQ,CACV/W,EAAQ+W,OAASA,CACzB,CACA,CAGI,IAAIkB,EAAOkC,EAAYH,EAAW/B,MAElC,GAAIA,EAAM,CACR,GAAIA,IAAS,SAAWA,IAAS,OAASA,IAAS,OAAQ,CACzDjY,EAAQiY,KAAOA,CACvB,MAAa,GAAIA,IAAS,aAAeA,IAAS,YAAa,CACvDjY,EAAQiY,KAAO,MACvB,CACA,CAGI,UAAW+B,EAAWtD,SAAW,UAAW,CAC1C1W,EAAQ0W,OAASsD,EAAWtD,MAClC,CAGI,IAAI2B,EAAO8B,EAAYH,EAAW3B,MAElC,GAAIA,EAAM,CACR,GAAIA,IAAS,UAAYA,IAAS,WAAaA,IAAS,OAAQ,CAC9DrY,EAAQqY,KAAOA,CACvB,MAAa,GAAIA,IAAS,kBAAoBA,IAAS,iBAAkB,CACjErY,EAAQqY,KAAO,MACvB,CACA,CAGI,IAAI9B,SAAcyD,EAAWzD,OAAS,SAAWyD,EAAWzD,KAAKrb,OAAOf,cAAgB,KAExF,GAAIoc,IAASA,IAAS,eAAiBA,IAAS,YAAa,CAC3DvW,EAAQuW,KAAOA,CACrB,CAEI,OAAOvW,CACX,CAGE,GAAIga,EAAWM,MAAQ,KAAM,CAC3B,IAAIC,EAAiBrQ,GAAS8P,EAAWM,OAASN,EAAWM,KAAKE,SAAW,KAAOR,EAAWM,KAAO,CACpGE,QAASR,EAAWM,MAElBG,EAAqB,GACrBC,EAAcR,EAAkB,CAClCM,QAASC,GACRF,GAEH,IAAKG,EAAY9D,QAAS,CACxB8D,EAAY9D,QAAU9N,EAC5B,CAEI,IAAK4R,EAAY3D,OAAQ,CACvB2D,EAAY3D,OAAShO,EAC3B,CAEI,IAAK2R,EAAYzC,KAAM,CACrByC,EAAYzC,KAAOjP,EACzB,CAEI,UAAW0R,EAAYhE,SAAW,UAAW,CAC3CgE,EAAYhE,OAAS,KAC3B,CAEI,IAAKgE,EAAYrC,KAAM,CACrBqC,EAAYrC,KAAOpP,EACzB,CAEI,IAAKyR,EAAYnE,KAAM,CACrBmE,EAAYnE,KAAOrN,EACzB,CAEI,IAAIwM,GAAqBrb,MAAMyM,QAAQyT,EAAeC,SAAWD,EAAeC,QAAU,CAACD,EAAeC,UAAUvV,QAAO,SAAUyQ,EAAmB7W,GACtJ,GAAIA,GAAU,KAAM,CAClB,OAAO6W,CACf,CAEM,IAAIiF,EAAelL,GAAU5Q,GAE7B+b,EAAY/J,GAAY9B,GAASlQ,IAEjCgc,EAAuBF,GAAgBC,EAAY,CACjDE,YAAajc,GAEfqL,GAASrL,IAAWA,EAAO8Z,OAAS,MAAQ9Z,EAAOyE,KAAO,MAAQzE,EAAOtB,MAAQ,KAAOsB,EACxF,CACE/G,EAAG+G,EACHjH,EAAGiH,GAGLkc,EAA4B,GACxBC,EAAoB,GACpBC,EAAiBJ,EAAqBC,YAC1C,IAAI/J,EAEJ,GAAI4J,GAAgBlL,GAAUwL,GAAiB,CAE7CF,EAA0B5c,KAAK,CAC7BnE,QAASihB,IAEXD,EAAkBF,YAAcG,CACxC,MAAa,GAAIlK,EAAS6J,GAAa/J,GAAY9B,GAASkM,IAAkB,CAEtEF,EAA0B5c,KAAK,CAC7B4S,OAAQA,IAEViK,EAAkBF,YAAchK,GAAoBC,EAC5D,KAAa,CACL,IAAImK,EAEJ,IAAIC,EAAW,CAAC,IAAK,KAAKlW,QAAO,SAAUkW,EAAU1C,GACnD,IAAI2C,EAAeP,EAAqBpC,GACxC,IAAIhI,EAEJ,GAAIA,EAAUP,GAAakL,GAAe,CAExCD,EAAS1C,GAAQhI,EACjBuK,EAAkBvC,GAAQjI,GAAoBC,EAC1D,KAAiB,CAEL,IAAIkI,EAAOrV,EAAK/F,EAEhB,GAAI2M,GAASkR,GAAe,CAC1BzC,EAAQzI,GAAakL,EAAazC,OAClCrV,EAAM4M,GAAakL,EAAa9X,KAChC/F,EAAO2S,GAAakL,EAAa7d,MAEjC,GAAIob,GAASrV,GAAOqV,EAAMpI,UAAYjN,EAAIiN,SAAWoI,EAAMhe,OAAS2I,EAAI3I,MAAO,CAE7EugB,EAAU,IAC1B,CACA,CAEYvC,EAAQwC,EAAS,GAAG1Y,OAAOgW,EAAM,UAAYE,GAAS,CACpDhe,MAAO,EACP4V,QAAS,OAEXjN,EAAM6X,EAAS,GAAG1Y,OAAOgW,EAAM,QAAUnV,GAAO,CAC9C3I,MAAO,EACP4V,QAAS,MAEXyK,EAAkBvC,GAAQ,CACxBE,MAAOnI,GAAoBmI,GAC3BrV,IAAKkN,GAAoBlN,IAG3B,GAAI/F,EAAM,CACR,GAAIA,EAAKgT,QAAUhT,EAAK5C,MAAQ,EAAI4C,EAAK5C,OAAS,EAAG,CAEnDwgB,EAAS,GAAG1Y,OAAOgW,EAAM,SAAWlb,EACpCyd,EAAkBvC,GAAMlb,KAAOiT,GAAoBjT,EACnE,KAAqB,CACL2d,EAAU,IAC1B,CACA,CACA,CAEU,OAAOC,CACjB,GAAW,IAEH,GAAID,EAAS,CACX,OAAOxF,CACjB,CAEQ,GAAIyF,EAASrF,SAAWqF,EAASnF,OAASmF,EAASlF,SAAWkF,EAAShF,MAAO,CAE5E4E,EAA0B5c,KAAK,CAC7B2X,OAAQqF,EAASrF,OACjBC,KAAMoF,EAASpF,KACfne,EAAGujB,EAASlF,QAEd,CACEH,OAAQqF,EAASrF,OACjBC,KAAMoF,EAASpF,KACfne,EAAGujB,EAASjF,MAEd,CACEpe,EAAGqjB,EAASrF,OACZG,OAAQkF,EAASlF,OACjBC,KAAMiF,EAASjF,MAEjB,CACEpe,EAAGqjB,EAASpF,KACZE,OAAQkF,EAASlF,OACjBC,KAAMiF,EAASjF,MAG3B,KAAe,CACL6E,EAA0B5c,KAAKgd,EACzC,CACA,CAEM,GAAIJ,EAA0Bxc,OAAQ,CACpCkc,EAAmBtc,KAAK+b,EAAkBc,EAAmBH,IAE7D,IAAI9D,EAASiE,EAAkBjE,QAAU2D,EAAY3D,OACjDkB,EAAO+C,EAAkB/C,MAAQyC,EAAYzC,KAC7CI,EAAO2C,EAAkB3C,MAAQqC,EAAYrC,KAC7CgD,EAAgB,CAClBzE,QAASoE,EAAkBpE,SAAW8D,EAAY9D,QAClDL,KAAMyE,EAAkBzE,MAAQmE,EAAYnE,KAC5CG,cAAesE,EAAkBtE,SAAW,UAAYsE,EAAkBtE,OAASgE,EAAYhE,OAC/FI,QAASC,IAAW,MAAQ5N,GAAmB4N,EAAOnd,MAAM,KAE5Doe,MAAOC,IAAS,OAAS7O,GAAiB,CAAC6O,GAE3CG,MAAOC,IAAS,OAAShP,GAAiB,CAACgP,IAG7C0C,EAA0BvgB,SAAQ,SAAU6b,GAE1C,CAAC,UAAW,UAAW,QAAS,SAAU,QAAS,QAAQ7b,SAAQ,SAAUoH,GAC3EyU,EAAiBzU,GAAUyZ,EAAczZ,EACrD,IACU8T,EAAkBvX,KAAKkY,EACjC,GACA,CAEM,OAAOX,CACb,GAAO,IAEH,GAAIA,EAAkBnX,OAAQ,CAC5ByB,EAAQsa,KAAOI,EAEf,GAAIxL,GAAWwG,EAAmBtb,EAAMsb,mBAAoB,CAC1Dtb,EAAMsb,kBAAoBA,EAC1BuE,EAAgB,IACxB,CACA,CACA,MAAS,GAAID,EAAW3P,eAAe,SAAWjQ,EAAMsb,kBAAmB,CACvE1V,EAAQsa,KAAOlgB,EAAMsb,kBAAoBtb,EAAMgc,iBAAmB,CACtE,CAgBE,GAAI4D,EAAWnB,WAAY,CACzB,IAAIyC,EAAuBpR,GAAS8P,EAAWnB,YAAcmB,EAAWnB,WAAa,CACnFha,OAAQmb,EAAWnB,aAAe,KAAOvc,OAAS0d,EAAWnB,YAE3DC,EAAoB,GAExBA,EAAkBja,OAAS4Q,GAAU6L,EAAqBzc,QAAUyc,EAAqBzc,OAASvC,OAElGwc,EAAkBhM,MAAQ,IACzBzS,MAAMyM,QAAQwU,EAAqBxO,OAASwO,EAAqBxO,MAAQ,CAACwO,EAAqBxO,QAAQyO,OAAM,SAAUzO,EAAO9O,GAC7H,GAAIA,GAAK,GAAK0M,GAASoC,GAAQ,CAC7BgM,EAAkBhM,MAAM9O,GAAK8O,EAC7B,OAAO,IACf,CAEM,OAAO,KACb,IAEI,IAAKgM,EAAkBhM,MAAMvO,OAAQ,CACnCua,EAAkBhM,MAAQxD,EAChC,CAGI,IAAIkS,EAAiBnhB,MAAMyM,QAAQwU,EAAqBhC,aAAegC,EAAqBhC,YAAc,CAACgC,EAAqBhC,aAChIR,EAAkBQ,YAAcR,EAAkBhM,MAAMhS,KAAI,SAAU2gB,EAAGzd,GACvE,OAAO0M,GAAS8Q,EAAexd,IAAMwd,EAAexd,GAAKuL,GAAuBvL,EACtF,IAEI,CAAC,IAAK,KAAKxD,SAAQ,SAAUoH,GAC3B,IAAI8Z,EAAY,MAAMjZ,OAAOb,GACzB+Z,EAAY,MAAMlZ,OAAOb,GAE7B,GAAI8I,GAAS4Q,EAAqBI,KAAeJ,EAAqBI,IAAc,EAAG,CACrF5C,EAAkB4C,GAAaJ,EAAqBI,EAC5D,CAEM,GAAIhR,GAAS4Q,EAAqBK,KAAeL,EAAqBK,IAAc,KAAO7C,EAAkB4C,IAAcJ,EAAqBK,IAAc7C,EAAkB4C,IAAa,CAC3L5C,EAAkB6C,GAAaL,EAAqBK,EAC5D,CACA,IAEI,GAAIzM,GAAW4J,EAAmB9Y,EAAQ6Y,YAAa,CACrD7Y,EAAQ6Y,WAAaC,EACrBmB,EAAgB,IACtB,CACA,MAAS,GAAID,EAAW3P,eAAe,cAAe,CAClD,GAAIrK,EAAQ6Y,WAAY,CACtBoB,EAAgB,IACtB,CAEIja,EAAQ6Y,gBAAkB,CAC9B,CAGE,GAAIoB,EAAe,CACjB9E,GAAS/a,EACb,CAGE,GAAIqV,GAAUuK,EAAWR,SAAWQ,EAAWR,SAAWxZ,EAAQwZ,OAAQ,CACxE,GAAIxZ,EAAQwZ,OAAQ,CAElBxZ,EAAQwZ,OAAOniB,MAAM8a,OAAS/X,EAAM8X,UAEpC,GAAI1G,GAAmB,CACrBxL,EAAQwZ,OAAOniB,MAAMmU,IAAqBpR,EAAMwhB,aACxD,CAEM9Q,GAAanI,mBAAmB3C,EAAQwZ,OAAQpf,EAAMyhB,sBAC5D,CAEI,IAAIrC,EAASxZ,EAAQwZ,OAASQ,EAAWR,OACzCpf,EAAM8X,UAAYsH,EAAOniB,MAAM8a,OAC/BF,GAAmBuH,EAAQpf,EAAM8X,WAEjC,GAAI1G,GAAmB,CACrBpR,EAAMwhB,cAAgBpC,EAAOniB,MAAMmU,IACnCgO,EAAOniB,MAAMmU,IAAqB,MACxC,CAEIV,GAAatI,gBAAgBgX,EAAQpf,EAAMyhB,sBAC/C,CAGE,GAAInR,GAASsP,EAAWP,SAAWO,EAAWP,SAAW,MAAO,CAC9DzZ,EAAQyZ,OAASO,EAAWP,OAE5B,GAAIrf,IAAU4Q,GAAa,CACzB5Q,EAAM2Y,aAAa0G,OAASzZ,EAAQyZ,SAAW,MAAQrf,EAAMsf,UAAY1Z,EAAQyZ,MACvF,CACA,CAGE,IAAI1hB,EAAW,CACbF,KAAMuC,EAAMwY,YAAY/a,KACxBF,IAAKyC,EAAMwY,YAAYjb,KAEzB,IAAImkB,EAEJ,GAAIpR,GAASsP,EAAWniB,OAASmiB,EAAWniB,OAASE,EAASF,KAAM,CAClEE,EAASF,KAAOmiB,EAAWniB,KAC3BikB,EAAY,IAChB,CAEE,GAAIpR,GAASsP,EAAWriB,MAAQqiB,EAAWriB,MAAQI,EAASJ,IAAK,CAC/DI,EAASJ,IAAMqiB,EAAWriB,IAC1BmkB,EAAY,IAChB,CAEE,GAAIA,EAAW,CACb7Y,GAAK7I,EAAOrC,EAChB,CAGE,CAAC,SAAU,SAAU,cAAe,cAAe,aAAayC,SAAQ,SAAUoH,GAChF,UAAWoY,EAAWpY,KAAY,WAAY,CAC5C5B,EAAQ4B,GAAUoY,EAAWpY,GAC7BxH,EAAMwH,GAAU5B,EAAQ4B,GAAQma,KAAK3hB,EAAM6N,IACjD,MAAW,GAAI+R,EAAW3P,eAAezI,IAAWoY,EAAWpY,IAAW,KAAM,CAC1E5B,EAAQ4B,GAAUxH,EAAMwH,QAAe,CAC7C,CACA,GACA,CAEA,IAAIoa,GAA8B,WAMhC,SAASA,EAAehiB,EAASgG,GAC/BxB,GAAgBjH,KAAMykB,GAEtB,IAAI5hB,EAAQ,CACV6N,IAAK1Q,KACLyI,QAAS,CAEPyZ,OAAQ5Q,IAGVgR,SAAU,OAEZve,OAAO4D,eAAe3H,KAAM,MAAO,CACjCoD,QAASoQ,KAEX3Q,EAAM6hB,IAAM1kB,KAAK0kB,IACjBrR,GAASrT,KAAK0kB,KAAO7hB,EAErB,IAAKqV,GAAUzV,IAAYA,IAAYkR,GAAM,CAC3C,MAAM,IAAI9I,MAAM,gCACtB,CAEI,IAAKpC,EAAS,CACZA,EAAU,EAChB,MAAW,IAAKkK,GAASlK,GAAU,CAC7B,MAAM,IAAIoC,MAAM,mBACtB,CAEI,IAAI0P,EAAa,KAEjB,IAAIoK,EAEJ,GAAIliB,aAAmBmiB,aAAeD,EAAWliB,EAAQoiB,iBAAkB,CAEzE,IAAKpiB,EAAQqX,QAAS,CACpB,MAAM,IAAIjP,MAAM,+CACxB,CAGM,IAAKpI,EAAQqiB,UAAW,CACtB,MAAM,IAAIja,MAAM,2DACxB,CAGMhI,EAAMmZ,aAAevZ,EAAQqiB,UAAUC,QAAQC,WAAWL,EAASM,sBACnEpiB,EAAMkY,SAAW4J,EAASO,iBAE1B,IAAIC,EAAU1iB,EAAQ2iB,uBACtBviB,EAAMoY,eAAiB3I,GAAW6S,EAAUA,EAAQE,YAAYrX,SAASsX,gBAAgBX,EAASY,aAAc,SAChHhL,EAAa,MACb1X,EAAMkb,QAAUR,GAChB1a,EAAM2Z,QAAUb,EACtB,KAAW,CAML,IAAI6J,EAAoBhW,GAAUN,QAAQ,cAE1C,GAAIsW,EAAmB,CACrBjL,EAAa,KACrB,CAEM,IAAK9R,EAAQgd,SAAWzR,GAAkB,CAExC,GAAIwR,EAAmB,CACrB/iB,EAAQ3C,MAAM0lB,GAAqB,WAC7C,CAEQ3iB,EAAMkb,QAAUtB,GAChB5Z,EAAM2Z,QAAUpB,EACxB,KAAa,CAGL,GAAIoK,EAAmB,CACrB/iB,EAAQ3C,MAAM0lB,GAAqB,WAC7C,CAEQ3iB,EAAMkb,QAAUV,GAChBxa,EAAM2Z,QAAUf,EAKxB,CAKA,CAGI5Y,EAAMJ,QAAU6X,GAAS7X,EAAS8X,GAClC1X,EAAM2Y,aAAe/Y,EAAQ3C,MAC7B+C,EAAMsf,UAAYtf,EAAM2Y,aAAa0G,OAErC,GAAI7N,GAAgB,CAClB/D,GAAW7N,GAASkE,IAAI0N,GAC9B,CAEIxR,EAAMyhB,sBAAwB/Q,GAAajJ,iBAAgB,SAAUI,GACnE,OAAO2X,GAAUxf,EAAO6H,EAC9B,IAEI,IAAKjC,EAAQyV,YAAa,CACxB,IAAIwH,EACJjd,EAAQyV,aAAewH,EAASjjB,EAAQkjB,aAAezN,GAAUwN,GAAUA,EAAS/R,EAC1F,CAEI,IAAKlL,EAAQwZ,OAAQ,CACnBxZ,EAAQwZ,OAASxf,CACvB,CAEI+f,GAAY3f,EAAO4F,EACvB,CAEEb,GAAa6c,EAAgB,CAAC,CAC5B3jB,IAAK,SACLsC,MAAO,SAASyD,IACd,IAAIhE,EAAQwQ,GAASrT,KAAK0kB,KAC1B1kB,KAAKsiB,SAAW,KAEhB/O,GAAaxI,kBAAkBwI,GAAanI,mBAAmBvI,EAAM4F,QAAQwZ,OAAQpf,EAAMyhB,+BACpFjR,GAASrT,KAAK0kB,IAC3B,GAMK,CACD5jB,IAAK,aACLsC,MAAO,SAASwiB,EAAWnd,GACzB,GAAIkK,GAASlK,GAAU,CACrB+Z,GAAYnP,GAASrT,KAAK0kB,KAAMjc,EACxC,CAEM,OAAOzI,IACb,GACK,CACDc,IAAK,WACLsC,MAAO,SAAS5C,IACdod,GAASvK,GAASrT,KAAK0kB,MACvB,OAAO1kB,IACb,GACK,CACDc,IAAK,WACLuH,IAAK,SAASA,IACZ,OAAOgL,GAASrT,KAAK0kB,KAAKpC,QAChC,EACIuD,IAAK,SAASA,EAAIziB,GAChB,IAAIP,EAAQwQ,GAASrT,KAAK0kB,KAE1B,IAAKthB,IAAUA,KAAWP,EAAMyf,SAAU,CACxCzf,EAAMyf,SAAWlf,EAEjB,GAAIP,EAAMyf,SAAU,CAClB,GAAIzf,IAAU4Q,GAAa,CACzBuO,GAAQnf,EACpB,CAEUA,EAAM4F,QAAQwZ,OAAOniB,MAAM8a,OAAS/X,EAAM8X,UAE1C,GAAI1G,GAAmB,CACrBpR,EAAM4F,QAAQwZ,OAAOniB,MAAMmU,IAAqBpR,EAAMwhB,aAClE,CAEU,GAAIhQ,GAAgB,CAClB/D,GAAWzN,EAAMJ,SAASoE,OAAOwN,GAC7C,CACA,KAAe,CACLqG,GAAmB7X,EAAM4F,QAAQwZ,OAAQpf,EAAM8X,WAE/C,GAAI1G,GAAmB,CACrBpR,EAAM4F,QAAQwZ,OAAOniB,MAAMmU,IAAqB,MAC5D,CAEU,GAAII,GAAgB,CAClB/D,GAAWzN,EAAMJ,SAASkE,IAAI0N,GAC1C,CACA,CACA,CACA,GACK,CACDvT,IAAK,UACLuH,IAAK,SAASA,IACZ,OAAOgL,GAASrT,KAAK0kB,KAAKjiB,OAChC,GACK,CACD3B,IAAK,OACLuH,IAAK,SAASA,IACZ,OAAOmP,GAASnE,GAASrT,KAAK0kB,KAAKrJ,YACzC,GACK,CACDva,IAAK,OACLuH,IAAK,SAASA,IACZ,OAAOgL,GAASrT,KAAK0kB,KAAKrJ,YAAY/a,IAC5C,EACIulB,IAAK,SAASA,EAAIziB,GAChBof,GAAYnP,GAASrT,KAAK0kB,KAAM,CAC9BpkB,KAAM8C,GAEd,GACK,CACDtC,IAAK,MACLuH,IAAK,SAASA,IACZ,OAAOgL,GAASrT,KAAK0kB,KAAKrJ,YAAYjb,GAC5C,EACIylB,IAAK,SAASA,EAAIziB,GAChBof,GAAYnP,GAASrT,KAAK0kB,KAAM,CAC9BtkB,IAAKgD,GAEb,GACK,CACDtC,IAAK,cACLuH,IAAK,SAASA,IACZ,IAAIxF,EAAQwQ,GAASrT,KAAK0kB,KAC1B,OAAO7hB,EAAMob,kBAAoB1E,GAAoB1W,EAAM4F,QAAQyV,aAAerb,EAAM4F,QAAQyV,WACtG,EACI2H,IAAK,SAASA,EAAIziB,GAChBof,GAAYnP,GAASrT,KAAK0kB,KAAM,CAC9BxG,YAAa9a,GAErB,GAEK,CACDtC,IAAK,OACLuH,IAAK,SAASA,IACZ,OAAOmP,GAASnE,GAASrT,KAAK0kB,KAAKjc,QAAQsa,KACjD,EACI8C,IAAK,SAASA,EAAIziB,GAChBof,GAAYnP,GAASrT,KAAK0kB,KAAM,CAC9B3B,KAAM3f,GAEd,GAGK,CACDtC,IAAK,aACLuH,IAAK,SAASA,IACZ,OAAOmP,GAASnE,GAASrT,KAAK0kB,KAAKjc,QAAQ6Y,WACjD,EACIuE,IAAK,SAASA,EAAIziB,GAChBof,GAAYnP,GAASrT,KAAK0kB,KAAM,CAC9BpD,WAAYle,GAEpB,GAEK,CACDtC,IAAK,SACLuH,IAAK,SAASA,IACZ,OAAOgL,GAASrT,KAAK0kB,KAAKjc,QAAQwZ,MACxC,EACI4D,IAAK,SAASA,EAAIziB,GAChBof,GAAYnP,GAASrT,KAAK0kB,KAAM,CAC9BzC,OAAQ7e,GAEhB,GACK,CACDtC,IAAK,SACLuH,IAAK,SAASA,IACZ,OAAOgL,GAASrT,KAAK0kB,KAAKjc,QAAQyZ,MACxC,EACI2D,IAAK,SAASA,EAAIziB,GAChBof,GAAYnP,GAASrT,KAAK0kB,KAAM,CAC9BxC,OAAQ9e,GAEhB,GACK,CACDtC,IAAK,SACLuH,IAAK,SAASA,IACZ,OAAOgL,GAASrT,KAAK0kB,KAAKjc,QAAQqd,MACxC,EACID,IAAK,SAASA,EAAIziB,GAChBof,GAAYnP,GAASrT,KAAK0kB,KAAM,CAC9BoB,OAAQ1iB,GAEhB,GACK,CACDtC,IAAK,SACLuH,IAAK,SAASA,IACZ,OAAOgL,GAASrT,KAAK0kB,KAAKjc,QAAQsd,MACxC,EACIF,IAAK,SAASA,EAAIziB,GAChBof,GAAYnP,GAASrT,KAAK0kB,KAAM,CAC9BqB,OAAQ3iB,GAEhB,GACK,CACDtC,IAAK,cACLuH,IAAK,SAASA,IACZ,OAAOgL,GAASrT,KAAK0kB,KAAKjc,QAAQ8Z,WACxC,EACIsD,IAAK,SAASA,EAAIziB,GAChBof,GAAYnP,GAASrT,KAAK0kB,KAAM,CAC9BnC,YAAanf,GAErB,GACK,CACDtC,IAAK,cACLuH,IAAK,SAASA,IACZ,OAAOgL,GAASrT,KAAK0kB,KAAKjc,QAAQud,WACxC,EACIH,IAAK,SAASA,EAAIziB,GAChBof,GAAYnP,GAASrT,KAAK0kB,KAAM,CAC9BsB,YAAa5iB,GAErB,GACK,CACDtC,IAAK,YACLuH,IAAK,SAASA,IACZ,OAAOgL,GAASrT,KAAK0kB,KAAKjc,QAAQ2Z,SACxC,EACIyD,IAAK,SAASA,EAAIziB,GAChBof,GAAYnP,GAASrT,KAAK0kB,KAAM,CAC9BtC,UAAWhf,GAEnB,IACM,CAAC,CACHtC,IAAK,kBACLuH,IAAK,SAASA,IACZ,OAAO8L,EACb,EACI0R,IAAK,SAASA,EAAIziB,GAChB,GAAI+Q,KAAkC/Q,EAAO,CAC3C+Q,GAAgC/Q,EAChCwQ,GAA0B,KAE1B7P,OAAO0T,KAAKpE,IAAUpQ,SAAQ,SAAUmG,GACtC,IAAIvG,EAAQwQ,GAASjK,GAErB,GAAIvG,EAAMyf,UAAYzf,IAAU4Q,IAAeI,KAA2B,MAAO,CAC/E,MACZ,CAEU6G,GAAmB7X,EAAM4F,QAAQwZ,OAAQpf,EAAM8X,WAE/C,GAAI9X,IAAU4Q,GAAa,CAEzBE,GAAK7T,MAAM8a,OAAS9G,GACpBH,GAAK7T,MAAM8a,OAAS7V,OAAOgS,iBAAiBlU,EAAM4F,QAAQwZ,OAAQ,IAAIrH,MAClF,CACA,GACA,CACA,GACK,CACD9Z,IAAK,iBACLuH,IAAK,SAASA,IACZ,OAAO+L,EACb,EACIyR,IAAK,SAASA,EAAIziB,GAChB,GAAIgR,KAAiChR,EAAO,CAC1CgR,GAA+BhR,EAC/ByQ,GAAyB,KAEzB,GAAIJ,GAAa,CACfoH,GAAkBpH,GAAYhL,QAAQwZ,QAEtC,GAAIpO,KAA2B,MAAO,CACpC6G,GAAmBjH,GAAYhL,QAAQwZ,OAAQxO,GAAYkH,WAE3DhH,GAAK7T,MAAM8a,OAAS9G,EAChC,CAEUH,GAAK7T,MAAM8a,OAAS/G,IACpB9O,OAAOgS,iBAAiBtD,GAAYhL,QAAQwZ,OAAQ,IAAIrH,MAClE,CACA,CACA,GACK,CACD9Z,IAAK,iBACLuH,IAAK,SAASA,IACZ,OAAOgM,EACb,EACIwR,IAAK,SAASA,EAAIziB,GAChBA,EAAQA,EAAQA,EAAQ,QAAU,EAElC,GAAIA,IAAUiR,GAAgB,CAC5BtQ,OAAO0T,KAAKpE,IAAUpQ,SAAQ,SAAUmG,GACtC,IAAIvG,EAAQwQ,GAASjK,GAErB,IAAKvG,EAAMyf,SAAU,CACnB,IAAI9R,EAAYF,GAAWzN,EAAMJ,SAEjC,GAAI4R,GAAgB,CAClB7D,EAAU3J,OAAOwN,GAC/B,CAEY,GAAIjR,EAAO,CACToN,EAAU7J,IAAIvD,EAC5B,CACA,CACA,IACQiR,GAAiBjR,CACzB,CACA,GACK,CACDtC,IAAK,gBACLuH,IAAK,SAASA,IACZ,OAAOiM,EACb,EACIuR,IAAK,SAASA,EAAIziB,GAChBA,EAAQA,EAAQA,EAAQ,QAAU,EAElC,GAAIA,IAAUkR,GAAe,CAC3B,GAAIb,GAAa,CACf,IAAIjD,EAAYF,GAAWmD,GAAYhR,SAEvC,GAAI6R,GAAe,CACjB9D,EAAU3J,OAAOyN,GAC7B,CAEU,GAAIlR,EAAO,CACToN,EAAU7J,IAAIvD,EAC1B,CACA,CAEQkR,GAAgBlR,CACxB,CACA,GACK,CACDtC,IAAK,cACLuH,IAAK,SAASA,IACZ,OAAOkM,EACb,EACIsR,IAAK,SAASA,EAAIziB,GAChBA,EAAQA,EAAQA,EAAQ,QAAU,EAElC,GAAIA,IAAUmR,GAAa,CACzB,GAAId,IAAeC,GAAU,CAC3B,IAAIlD,EAAYF,GAAWmD,GAAYhR,SAEvC,GAAI8R,GAAa,CACf/D,EAAU3J,OAAO0N,GAC7B,CAEU,GAAInR,EAAO,CACToN,EAAU7J,IAAIvD,EAC1B,CACA,CAEQmR,GAAcnR,CACtB,CACA,KAGE,OAAOqhB,CACT,CAtckC,GAwclClR,GAAajI,eAAe0C,UAAU,SAAUtD,GAC9C,IAAK+I,GAAa,CAChB,MACJ,CAEE,IAAIjT,EAAW,CACbF,KAAMoK,EAAUlB,QAAUzE,OAAOgR,YAAczC,GAAchT,KAC7DF,IAAKsK,EAAUjB,QAAU1E,OAAO+Q,YAAcxC,GAAclT,KAG9D,GAAIsL,GAAK+H,GAAajT,EACtBiT,GAAYoL,YAAc,SAAUre,GAElC,IAAIylB,EAAOxS,GAAYoL,YAAY7X,OACnC,IAAIkf,EAAW,MACXC,EAAW,MACX1f,EAEJ,IAAKA,EAAI,EAAGA,EAAIwf,KAAUC,IAAaC,GAAW1f,IAAK,CACrD,IAAIgZ,EAAahM,GAAYoL,YAAYpY,GAEzC,IAAKgZ,EAAWC,eAAiB,MAAQlf,EAASF,MAAQmf,EAAWC,iBAAmBD,EAAWE,aAAe,MAAQnf,EAASF,MAAQmf,EAAWE,eAAiBF,EAAWG,eAAiB,MAAQpf,EAASJ,KAAOqf,EAAWG,iBAAmBH,EAAWI,aAAe,MAAQrf,EAASJ,KAAOqf,EAAWI,aAAc,CAClU,IAAKqG,GAAYzG,EAAWlf,GAAK,KAAM,CACrCC,EAASF,KAAOmf,EAAWlf,EAC3B2lB,EAAW,KACXzf,GAAK,CACf,CAEQ,IAAK0f,GAAY1G,EAAWpf,GAAK,KAAM,CACrCG,EAASJ,IAAMqf,EAAWpf,EAC1B8lB,EAAW,KACX1f,GAAK,CACf,CACA,CACA,CAEIjG,EAAS4lB,QAAUF,GAAYC,EAC/B,OAAO1S,GAAYqS,OAASrS,GAAYqS,OAAOtlB,GAAY,IAC/D,EACEiT,GAAYqS,QAAS,CAEnB,IAAIrQ,EAAa,GACb6L,EAAa7N,GAAY6N,WAE7B,GAAIA,EAAY,CACd,IAAI+E,EAAW,CACb9lB,EAAGkT,GAAY4H,YAAY/a,KAAOyE,OAAOgR,YACzC1V,EAAGoT,GAAY4H,YAAYjb,IAAM2E,OAAO+Q,aAE1C,CAAC,IAAK,KAAK7S,SAAQ,SAAUie,GAC3B,GAAII,EAAWJ,GAAO,CACpB,IAAI9L,EAAMkM,EAAWJ,GAAM9L,IACvBC,EAAMiM,EAAWJ,GAAM7L,IAC3BiM,EAAWJ,GAAMW,MAAMrb,MAAK,SAAU8f,GACpC,GAAIA,EAAKnR,OAAS,EAAIkR,EAASnF,IAASoF,EAAK9lB,SAAW6lB,EAASnF,IAASoF,EAAK9lB,SAAU,CACvFiV,EAAWyL,GAAQ,CACjB/L,IAAKmR,EAAKnR,IACVI,MAAO+Q,EAAK/Q,MAAQ,IACpBH,IAAKA,EACLC,IAAKA,GAEP,OAAO,IACrB,CAEY,OAAO,KACnB,GACA,CACA,GACA,CAEI,GAAII,EAAWlV,GAAKkV,EAAWpV,EAAG,CAChCmU,GAAY9I,KAAK4V,EAAWha,OAAQmO,EAAY6L,EAAWnL,SAAWP,GAAiBI,IACvFxV,EAAS8gB,WAAa,IAC5B,KAAW,CACL9M,GAAYmB,MAClB,CAGI,IAAKjC,GAAU,CACbA,GAAW,KAEX,GAAIa,GAAa,CACfjE,GAAWmD,GAAYhR,SAASkE,IAAI4N,GAC5C,CAEM,GAAId,GAAYuS,YAAa,CAC3BvS,GAAYuS,YAAYxlB,EAChC,CACA,CAEI,GAAIiT,GAAYsS,OAAQ,CACtBtS,GAAYsS,OAAOvlB,EACzB,CACA,CACA,IACA,CACE,SAASsL,KACP,GAAI2H,GAAa,CACfuO,GAAQvO,GACd,CACA,CAEEF,GAAa1H,cAAcmC,SAAUlC,IACrCyH,GAAatH,iBAAiB+B,SAAUlC,GAC1C,CACA,CACE,SAASya,KACPxS,GAA4BvE,GAAUN,QAAQ,sBAC9C8E,GAAmBxE,GAAUN,QAAQ,aACrC4E,GAAwBH,GAAK7T,MAAM8a,OAEnC,GAAI3G,GAAoBzE,GAAUN,QAAQ,cAAe,CACvDgF,GAA4BP,GAAK7T,MAAMmU,GAC7C,CAGI,IAAIuS,EAAkB,IACtB,IAAIC,EAAgB,GAChBC,EAEJ,SAASC,EAAc9jB,EAAOgb,GAC5B,GAAIhb,EAAMkb,QAAS,CAEjBH,GAAS/a,EAAOgb,EACxB,CAEA,CAEI,SAAS+I,EAAQ/I,GACfjY,aAAa8gB,GACb3iB,OAAO0T,KAAKpE,IAAUpQ,SAAQ,SAAUmG,GACtC,IAAKqd,EAAcrd,GAAK,CACtBud,EAActT,GAASjK,GAAKyU,EACtC,CACA,IACM4I,EAAgB,EACtB,CAEI,IAAII,EAAiB,MAErB,IAAIC,EAAepgB,EAAUC,KAAI,SAAUxF,GACzC,GAAI0lB,EAAgB,CAClB,MACR,CAEMA,EAAiB,KAEjB,GAAIpT,GAAa,CACfkT,EAAclT,GAAatS,EAAMqH,MACjC+K,GAAa7H,OACb+a,EAAchT,GAAYiR,KAAO,IACzC,CAEM9e,aAAa8gB,GACbA,EAAgBrhB,YAAW,WACzBuhB,EAAQzlB,EAAMqH,KACtB,GAASge,GACHK,EAAiB,KACvB,IACI9hB,OAAOqD,iBAAiB,SAAU0e,EAAc,MAChD/hB,OAAOqD,iBAAiB,SAAU0e,EAAc,KACpD,CAEE,GAAInT,GAAO3F,SAAS2F,KAAM,CACxB4S,IACJ,KAAS,CACLvY,SAAS5F,iBAAiB,oBAAoB,WAC5CuL,GAAO3F,SAAS2F,KAChB4S,IACN,GAAO,KACP,CACA,CCn9EA,MAAMQ,GAAa,mKACnB,MAAAC,GAAeD,G,MCOFE,GAAO,M,iZAuBlB,gBAAAC,GACElnB,KAAKmnB,qB,CAGP,mBAAAA,GACEnnB,KAAKonB,UAAY,IAAIC,GAAUrnB,KAAKsnB,GAAI,CACtCxB,OAAQ,KACN,MAAM1O,EAAOpX,KAAKonB,UAAU3kB,QAAQ4U,wBACpCjW,QAAQC,IAAI,kCAAkC+V,EAAK9W,cAAc8W,EAAKhX,MAAM,EAE9E8d,YAAa,CAAE5d,KAAM,EAAGF,IAAK,EAAGH,MAAO,IAAOF,OAAQ,KACtDgjB,KAAM,CACJE,QAASjV,SAASuZ,iBAAiB,YAIvCnmB,QAAQC,IAAI,kDAAmDrB,KAAKonB,U,CAGtE,oBAAAI,GACE,GAAIxnB,KAAKonB,UAAW,CAClBpnB,KAAKonB,UAAUK,S,EAInB,MAAA5nB,GACE,MAAMC,EAAQ,CACZC,OAAQC,KAAKD,OACbE,MAAOD,KAAKC,MACZC,gBAAiBF,KAAKG,QACtBC,IAAKJ,KAAKK,EACVC,KAAMN,KAAKO,EACXC,SAAU,WACVknB,SAAU1nB,KAAK0nB,SACfC,WAAY3nB,KAAK4nB,KACjBnnB,QAAST,KAAKU,QAAU,OAAS,OACjCmnB,WAAY,SACZC,eAAgB,SAChBC,UAAW,SACXnnB,aAAc,MACdonB,MAAO,OACPpN,OAAQ,WAGV,OACE/Z,EAAConB,EAAI,CAAAnnB,IAAA,2CAACC,MAAM,OAAOqI,GAAIpJ,KAAKoJ,GAAItJ,MAAOA,EAAOkB,QAAS,IAAMhB,KAAKiB,YAAYjB,KAAKkB,UAChFlB,KAAKoC,O,CAKJ,WAAAnB,CAAYE,GAClB,GAAIA,EAAO,CACTC,QAAQC,IAAI,oBAAoBF,I","ignoreList":[]}