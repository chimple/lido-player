function t(t,o,n){return(t||"")+(o?` ${o}`:"")+(n?` ${n}`:"")}function o(t){let o=false;let n=0;let e=0;let s=0;let c=0;const u=document.getElementById("container");if(!u){console.error(`Container with ID "container" not found.`);return}const a=t=>{const o=window.getComputedStyle(t).transform;if(o==="none"){return 1}else{const t=o.match(/matrix\(([^)]+)\)/);if(t){const o=t[1].split(", ");const n=parseFloat(o[0]);return n}}return 1};const r=u=>{o=true;if(u instanceof MouseEvent){n=u.clientX;e=u.clientY}else{n=u.touches[0].clientX;e=u.touches[0].clientY}t.style.opacity="0.8";t.style.cursor="grabbing";const a=window.getComputedStyle(t).transform;if(a!=="none"){const t=a.match(/matrix\(([^)]+)\)/);if(t){const o=t[1].split(", ");s=parseFloat(o[4]);c=parseFloat(o[5])}}else{s=0;c=0}document.addEventListener("mousemove",p);document.addEventListener("mouseup",M);document.addEventListener("touchmove",p);document.addEventListener("touchend",M)};const l=u.getBoundingClientRect();const i=t.getBoundingClientRect();let m=l.top-i.top;let d=l.left-i.left;const f=new MutationObserver((o=>{for(const n of o){if(n.type==="attributes"&&n.attributeName==="style"){const o=u.getBoundingClientRect();const n=t.getBoundingClientRect();m=o.top-n.top;d=o.left-n.left}}}));const h={attributes:true,attributeFilter:["style"]};f.observe(u,h);const p=r=>{if(!o)return;const l=a(u);let i=0;let f=0;if(r instanceof MouseEvent){i=(r.clientX-n)/l;f=(r.clientY-e)/l}else{i=(r.touches[0].clientX-n)/l;f=(r.touches[0].clientY-e)/l}const h=s+i;const p=c+f;const M=u.getBoundingClientRect();const v=t.getBoundingClientRect();const b=t.style.transform.match(/-?\d+(\.\d+)?/g);const w=b.map(Number);const x=v.left/l-w[0];const g=v.top-w[1];const y=M.width/l-Math.abs(d/l)-v.width/l;const E=M.left-x;const F=M.top-g;const $=M.height/l-Math.abs(m/l)-v.height/l;const O=h+x<=M.left?E:Math.min(h,y);const C=p+g<=M.top?F:Math.min(p,$);t.style.transform=`translate(${O}px, ${C}px)`;const D=document.querySelectorAll("[type='drop']");D.forEach((t=>{const o=t.getBoundingClientRect();const n=v.left<o.right&&v.right>o.left&&v.top<o.bottom&&v.bottom>o.top;if(n){t.style.border="2px dashed #ff0000";t.style.backgroundColor="rgba(255, 0, 0, 0.1)"}else{t.style.border="";t.style.backgroundColor=""}}))};const M=()=>{o=false;document.removeEventListener("mousemove",p);document.removeEventListener("mouseup",M);document.removeEventListener("touchmove",p);document.removeEventListener("touchend",M);t.style.opacity="";t.style.cursor="move";const n=document.querySelectorAll("[type='drop']");n.forEach((t=>{t.style.border="";t.style.backgroundColor=""}));const e=t.getBoundingClientRect();let s=null;let c=0;n.forEach((t=>{const o=t.getBoundingClientRect();const n=Math.max(0,Math.min(e.right,o.right)-Math.max(e.left,o.left));const u=Math.max(0,Math.min(e.bottom,o.bottom)-Math.max(e.top,o.top));const a=n*u;if(a>c){c=a;s=t}}));if(!s)return;console.log("Most overlapping element:",s["value"],t["value"]);if(s["value"]===t["value"]){console.log("ðŸš€ ~ onEnd ~ mostOverlappedElement onMatch:",s["onMatch"])}};t.style.cursor="move";t.style.transform="translate(0, 0)";t.addEventListener("mousedown",r);t.addEventListener("touchstart",r)}export{o as e,t as f};
//# sourceMappingURL=p-c31ee368.js.map