import{g as t}from"./p-37351245.js";const e="lidoDragSelectedMap",o="lidoSelectedValues",n="lidoActivityScore",a="lidoNextContainer",c="lidoElementDrop",r="dropLength",i="dropHasDrag";var s;function l(t,e){const o=new CustomEvent(t,{detail:e});window.dispatchEvent(o)}function d(){l("lidoGameCompleted",{})}function u(t){l("lidoActivityChange",{index:t})}function f(t,e){l("lidoElementClick",{element:t,isCorrect:e,createdAt:(new Date).toISOString()})}!function(t){t.NoFlow="lido-noFlow",t.ShowFlow="lido-showFlow",t.FreeTrace="lido-freeTrace",t.BlindTracing="lido-blindTracing",t.BlindFreeTrace="lido-blindFreeTrace"}(s||(s={}));class m{constructor(){}static getInstance(){return m.instance||(m.instance=new m),m.instance}setRiveInstance(t){this.riveInstance=t}getRiveInstance(){return this.riveInstance}}class p{constructor(){this.audioElement=document.createElement("audio"),this.audioElement.id="audio",document.body.appendChild(this.audioElement)}static getI(){return p.instance||(p.instance=new p),p.instance}stop(){(null===window||void 0===window?void 0:window.speechSynthesis)&&window.speechSynthesis.cancel(),this.audioElement.pause(),this.audioElement.currentTime=0,this.audioElement.src="",document.querySelectorAll(".speaking-highlight").forEach((t=>T(t)));const t=document.querySelector("#play"),e=document.querySelector("#pause");t&&e&&(t.style.visibility="visible",e.style.visibility="hidden")}async play(t){let e=t.getAttribute("audio")||"";if(!e){const o=t.children;for(let t=0;t<o.length;t++){const n=o[t].getAttribute("audio");n&&(e=n)}}if(e){e=A(e),this.audioElement.src=e,console.log("ðŸš€ Playing audio:",this.audioElement.src);try{await this.audioElement.play(),F(t),await new Promise((e=>{this.audioElement.onended=()=>{T(t),e()}}))}catch(t){console.log("ðŸš€ Audio play error:",t)}}else if(t.textContent)try{F(t),await async function(t){return new Promise(((e,o)=>{if(!("speechSynthesis"in window))return void o(new Error("Speech synthesis is not supported in this browser."));const n=window.speechSynthesis;setTimeout((()=>{const o=new SpeechSynthesisUtterance(t);o.onend=()=>{e(!0)},n.speak(o)}),50)}))}(t.textContent),T(t)}catch(t){console.log("ðŸš€ TTS Error:",t)}}}const g=new class{constructor(){this.rightMoves=0,this.wrongMoves=0,this.finalScore=0}};function h(t,e,o){return(t||"")+(e?` ${e}`:"")+(o?` ${o}`:"")}const b=t=>{t.style.animation="unset";const e=window.getComputedStyle(t).transform;if("none"===e)return 1;{const t=e.match(/matrix\(([^)]+)\)/);if(t){const e=t[1].split(", ");return parseFloat(e[0])}}return 1},S=(t,e)=>{const o=t.getBoundingClientRect(),n=document.querySelectorAll(`[type="${e}"]`);let a=null,c=0;return n.forEach((n=>{if(n===t)return;const r=n.getBoundingClientRect(),i=Math.max(0,Math.min(o.right,r.right)-Math.max(o.left,r.left))*Math.max(0,Math.min(o.bottom,r.bottom)-Math.max(o.top,r.top));0!==i&&("slide"===e?i>=.8*Math.min(o.width*o.height,r.width*r.height)&&i>c&&(c=i,a=n):i>c&&(c=i,a=n))})),a};async function w(t,n){const a=localStorage.getItem(o)||"",s=localStorage.getItem(e);let d=JSON.parse(localStorage.getItem(i)||" {}");if(n&&("true"===n.getAttribute("isAllowOnlyOneDrop")||!n.getAttribute("isAllowOnlyOneDrop"))&&(Object.values(d).find((t=>document.getElementById(t.drop)===n)).isFull=!0,localStorage.setItem(i,JSON.stringify(d)),S(t,"drag"))){if(t.style.transform="translate(0,0)",s){let o=JSON.parse(s);for(const e in o)o[e].includes(t.value)&&delete o[e];localStorage.setItem(e,JSON.stringify(o))}return void document.querySelectorAll("[type='drop']").forEach((t=>{const o=JSON.parse(localStorage.getItem(e))||{};Object.keys(o).map(Number).includes(t.tabIndex)?("lido-text"===t.tagName.toLowerCase()&&(t.style.border="",t.style.backgroundColor="transparent"),"lido-image"===t.tagName.toLowerCase()&&(t.style.opacity="0")):("lido-text"===t.tagName.toLowerCase()&&(t.style.border="",t.style.backgroundColor=""),"lido-image"===t.tagName.toLowerCase()&&(t.style.opacity="1"))}))}if(!n){let n=j.get(t);if(n){let t=Object.values(d).find((t=>document.getElementById(t.drop)===n));t&&(t.isFull=!1,localStorage.setItem(i,JSON.stringify(d)))}if(a){let e=JSON.parse(a);e=e.filter((e=>e!=t.value)),localStorage.setItem(o,JSON.stringify(e))}if(s){let o=JSON.parse(s);for(const e in o)o[e].includes(t.value)&&delete o[e];localStorage.setItem(e,JSON.stringify(o))}return document.querySelectorAll("[type='drop']").forEach((t=>{const o=JSON.parse(localStorage.getItem(e))||{};Object.keys(o).map(Number).includes(t.tabIndex)?("lido-text"===t.tagName.toLowerCase()&&(t.style.border="",t.style.backgroundColor="transparent"),"lido-image"===t.tagName.toLowerCase()&&(t.style.opacity="0")):("lido-text"===t.tagName.toLowerCase()&&(t.style.border="",t.style.backgroundColor=""),"lido-image"===t.tagName.toLowerCase()&&(t.style.opacity="1"))})),void k()}if(s){let o=j.get(t);if(o){let t=Object.values(d).find((t=>document.getElementById(t.drop)===o));t&&(t.isFull=!1,localStorage.setItem(i,JSON.stringify(d)))}let n=JSON.parse(s);for(const e in n)n[e].includes(t.value)&&delete n[e];localStorage.setItem(e,JSON.stringify(n))}let u=JSON.parse(localStorage.getItem(r))||0;u+=1,localStorage.setItem(r,JSON.stringify(u)),u===y(n.value)&&(Object.values(d).find((t=>document.getElementById(t.drop)===n)).isFull=!0,localStorage.setItem(i,JSON.stringify(d)),u=0,localStorage.setItem(r,JSON.stringify(u))),j.set(t,n);const f=n.value.includes(t.value);if(function(t,e,o){l(c,{dragElement:t,dropElement:e,isCorrect:o,createdAt:(new Date).toISOString()})}(t,n,f),f){const e=n.getAttribute("onCorrect");e&&await x(e,n,t)}else{const e=n.getAttribute("onInCorrect");await x(e,n,t)}N(f),await async function(t,n){var a;const c=document.querySelector("#lido-container");if(!c)return;if("true"===c.getAttribute("isAllowOnlyCorrect")&&!n.value.includes(t.value))return void(t.style.transform="translate(0,0)");await x("this.alignMatch='true'",n,t);let r=JSON.parse(null!==(a=localStorage.getItem(e))&&void 0!==a?a:"{}");const i=n.getAttribute("tabindex");r[i]||(r[i]=[]),r[i].push(t.value),localStorage.setItem(e,JSON.stringify(r));const s=Object.keys(r).sort(((t,e)=>parseInt(t)-parseInt(e))).reduce(((t,e)=>{const o=r[e];return t.push(o.length>1?`(${o.join("|")})`:o[0]),t}),[]);localStorage.setItem(o,JSON.stringify(s)),document.querySelectorAll("[type='drop']").forEach((t=>{const o=JSON.parse(localStorage.getItem(e))||{};Object.keys(o).map(Number).includes(t.tabIndex)?("lido-text"===t.tagName.toLowerCase()&&(t.style.border="",t.style.backgroundColor="transparent"),"lido-image"===t.tagName.toLowerCase()&&(t.style.opacity="0")):("lido-text"===t.tagName.toLowerCase()&&(t.style.border="",t.style.backgroundColor=""),"lido-image"===t.tagName.toLowerCase()&&(t.style.opacity="1"))})),k()}(t,n)}const x=async(t,e,o)=>{const n=v(t);for(let t=0;t<n.length;t++){const a=n[t],c=document.querySelector(a.actor),r="this"===a.actor?e:"element"===a.actor?o:c||document.getElementById(a.actor);if(r)switch(a.action){case"transform":{const t=window.getComputedStyle(r).transform;r.style.transform="none"!==t?`${t} ${a.value}`:a.value;break}case"alignMatch":{const t=r,e=o,n=document.querySelector("#lido-container"),a=b(n);e.style.transform="translate(0,0)";const c=t.getBoundingClientRect(),i=e.getBoundingClientRect();e.style.transform=`translate(${(c.left+c.width/2-(i.left+i.width/2))/a}px, ${(c.top+c.height/2-(i.top+i.height/2))/a}px)`;break}case"addClass":r.classList.add(a.value);break;case"speak":await p.getI().play(r);break;case"stop":await p.getI().stop();break;case"sleep":!isNaN(Number(a.value))&&await new Promise((t=>setTimeout(t,Number(a.value))));break;case"avatarAnimate":{const t=m.getInstance().getRiveInstance();t&&a.value&&t.play(a.value);break}default:r.style[a.action]=a.value}}},v=t=>{var e;const o=[];return t?((null===(e=t.split(";"))||void 0===e?void 0:e.map((t=>t.trim()))).forEach((t=>{if(t){const[e,n]=t.split("=").map((t=>t.trim())),a=e.lastIndexOf(".");if(-1!==a){const t=e.substring(0,a).trim(),c=e.substring(a+1).trim();o.push({actor:t,action:c,value:n.replace(/['"]/g,"")})}}})),o):o},O=(t,e)=>{const o=t.split(",").map((t=>t.trim()));let n=0,a=new Set;for(const t of o)if(t.startsWith("(")&&t.endsWith(")")){const o=t.slice(1,-1).split("|").map((t=>t.trim())),a=e[n].slice(1,-1).split("|").map((t=>t.trim()));if(n>=a.length)return!1;for(let t=0;t<o.length;t++)if(!o.includes(a[t]))return!1;n++}else if(t.includes("|")){const e=t.split("|").map((t=>t.trim()));for(const t of e)a.add(t)}else{if(n>=e.length||e[n]!==t)return!1;n++}for(;n<e.length;){if(!a.has(e[n]))return!1;a.delete(e[n]),n++}return n===e.length},y=t=>{const e=t.split(",").map((t=>t.trim()));let o=0;for(const t of e)t.startsWith("(")&&t.endsWith(")")?t.includes("|")?o+=t.split("|").length:o+=1:o+=t.split("|").length;return o},N=t=>{t?g.rightMoves+=1:g.wrongMoves+=1,console.log("Right Moves : ",g.rightMoves),console.log("Wrong Moves : ",g.wrongMoves)},k=()=>{var t;const e=document.querySelector("#lido-container"),n=e.objective,a=null!==(t=localStorage.getItem(o))&&void 0!==t?t:"",c=document.querySelector("#lido-checkButton");a&&y(a)===y(n)?"true"==e.getAttribute("showCheck")?c.classList.remove("lido-disable-check-button"):J():x("this.addClass='lido-disable-check-button'",c)},J=async()=>{var t;const e=document.querySelector("#lido-container");if(!e)return;const a=e.objective,c=null!==(t=JSON.parse(localStorage.getItem(o)))&&void 0!==t?t:[];if(O(a,c)){M();const t=e.getAttribute("onCorrect");t&&await x(t,e),C()}else{const t=e.getAttribute("onInCorrect");await x(t,e),"true"===e.getAttribute("isContinueOnCorrect")||C()}await(()=>{const t=g.rightMoves;(t=>{var e,o,a;const c=document.querySelector("lido-home");if(!c)return;const r=Number(null!==(e=c.getAttribute("index"))&&void 0!==e?e:0),i=Number(null!==(o=c.getAttribute("totalIndex"))&&void 0!==o?o:0),s=JSON.parse(null!==(a=localStorage.getItem(n))&&void 0!==a?a:"{}");if(s[r.toString()]=t,function(t,e,o){l("lidoActivityEnd",{index:t,totalIndex:e,score:o})}(r,i,t),localStorage.setItem(n,JSON.stringify(s)),i-1==r){const t=Object.values(s),e=t.reduce(((t,e)=>t+e),0)/t.length;g.finalScore=Math.floor(e),console.log("Total Score : ",g.finalScore),function(t){l("lidoLessonEnd",{score:t})}(e),localStorage.removeItem(n)}})(Math.floor(t/(t+g.wrongMoves)*100)),g.rightMoves=0,g.wrongMoves=0})()},M=()=>{const t=document.querySelectorAll("[type='drag']"),e=document.querySelectorAll("[type='drop']");t&&e&&e.forEach((e=>{e.style.opacity="1",t.forEach((t=>{const o=t;e.value.includes(o.value)&&(o.style.transform="translate(0,0)",e.appendChild(o))}))}))},C=()=>{p.getI().stop(),console.log("ðŸš€ ~ triggerNextContainer ~ event:",event),l(a,{})},$=async(t,n)=>{const a=document.querySelector("#lido-container");if(!a)return;const c=t.getAttribute("onEntry");await x(c,t);const r=a.getAttribute("canplay");if(null==r||"false"!==r){switch(n){case"drag":!function(t){let o=!1,n=!0,a=0,c=0,r=0,i=0;const s=document.querySelector("#lido-container");if(!s)return void console.error('Container with ID "container" not found.');let l,d;P(t,"drag");const u=e=>{p.getI().stop(),I(t),o=!0,e instanceof MouseEvent?(a=e.clientX,c=e.clientY):(a=e.touches[0].clientX,c=e.touches[0].clientY),t.style.opacity="0.8",t.style.cursor="grabbing";const n=window.getComputedStyle(t).transform;if("none"!==n){const t=n.match(/matrix\(([^)]+)\)/);if(t){const e=t[1].split(", ");r=parseFloat(e[4]),i=parseFloat(e[5])}}else r=0,i=0;document.addEventListener("mousemove",h),document.addEventListener("mouseup",x),document.addEventListener("touchmove",h),document.addEventListener("touchend",x)},f=s.getBoundingClientRect(),m=t.getBoundingClientRect();l=f.top-m.top,d=f.left-m.left;const g=new MutationObserver((e=>{for(const o of e)if("attributes"===o.type&&"style"===o.attributeName){const e=s.getBoundingClientRect(),o=t.getBoundingClientRect();l=e.top-o.top,d=e.left-o.left}}));g.observe(s,{attributes:!0,attributeFilter:["style"]});const h=u=>{if(!o)return;n=!1,t.style.transition="none";const f=b(s);let m=0,p=0;u instanceof MouseEvent?(m=(u.clientX-a)/f,p=(u.clientY-c)/f):(m=(u.touches[0].clientX-a)/f,p=(u.touches[0].clientY-c)/f);const g=r+m,h=i+p,w=s.getBoundingClientRect(),x=t.getBoundingClientRect(),v=t.style.transform.match(/-?\d+(\.\d+)?/g).map(Number),O=x.left/f-v[0],y=x.top-v[1],N=w.width/f-Math.abs(d/f)-x.width/f,k=w.left-O,J=w.top-y,M=w.height/f-Math.abs(l/f)-x.height/f,C=g+O<=w.left?k:Math.min(g,N),$=h+y<=w.top?J:Math.min(h,M);t.style.transform=`translate(${C}px, ${$}px)`;let E=S(t,"drop");document.querySelectorAll("[type='drop']").forEach((t=>{const o=JSON.parse(localStorage.getItem(e))||{};Object.keys(o).map(Number).includes(t.tabIndex)?("lido-text"===t.tagName.toLowerCase()&&(t.style.border="",t.style.backgroundColor="transparent"),"lido-image"===t.tagName.toLowerCase()&&(t.style.visibility="hidden")):("lido-text"===t.tagName.toLowerCase()&&(t.style.border="",t.style.backgroundColor=""),"lido-image"===t.tagName.toLowerCase()&&(t.style.visibility="visible",t.style.opacity="1"))})),E&&("lido-text"===E.tagName.toLowerCase()?(E.style.border="2px dashed #ff0000",E.style.backgroundColor="rgba(255, 0, 0, 0.1)"):E.style.opacity="0.3")},x=()=>{if(o=!1,n)return;n=!0,document.removeEventListener("mousemove",h),document.removeEventListener("mouseup",x),document.removeEventListener("touchmove",h),document.removeEventListener("touchend",x),t.style.opacity="",t.style.cursor="move";const a=document.querySelectorAll("[type='drop']");a.forEach((()=>{a.forEach((t=>{const o=JSON.parse(localStorage.getItem(e))||{};Object.keys(o).map(Number).includes(t.tabIndex)?("lido-text"===t.tagName.toLowerCase()&&(t.style.border="",t.style.backgroundColor="transparent"),"lido-image"===t.tagName.toLowerCase()&&(t.style.opacity="0")):("lido-text"===t.tagName.toLowerCase()&&(t.style.border="",t.style.backgroundColor=""),"lido-image"===t.tagName.toLowerCase()&&(t.style.opacity="1"))}))}));let c=S(t,"drop");w(t,c)};t.style.cursor="move",t.style.transform="translate(0, 0)",t.addEventListener("mousedown",u),t.addEventListener("touchstart",u),t.addEventListener("click",(()=>{E(t,"drag")}))}(t);break;case"click":!function(t){if(P(t,"click"),t.style.cursor="pointer",!t)return void console.error("No element provided.");t.addEventListener("click",(async()=>{p.getI().stop();const n=document.querySelector("#lido-container"),a=n.objective.split(","),c=document.querySelector("#lido-checkButton"),r="true"===n.getAttribute("showCheck");if("lido-checkButton"==t.getAttribute("id"))return c.classList.add("lido-disable-check-button"),void await J();const i=t.classList.contains("lido-element-selected");let s=JSON.parse(localStorage.getItem(o))||[];if(1===a.length){localStorage.setItem(o,JSON.stringify([t.value]));const e=a.includes(t.value);if(f(t,e),e){const e=t.getAttribute("onCorrect");t.style.pointerEvents="none",await x(e,t)}else{const e=t.getAttribute("onInCorrect");await x(e,t)}return N(e),void k()}if(r&&c.classList.remove("lido-disable-check-button"),i){t.classList.remove("lido-element-selected"),x(t.getAttribute("onEntry"),t),s=s.filter((e=>e!=t.value)),localStorage.setItem(o,JSON.stringify(s));let n=JSON.parse(localStorage.getItem(e))||{};const a=t.value,i=Object.keys(n).find((t=>n[t].includes(a)));if(i){n[i]=n[i].filter((t=>t!==a)),0===n[i].length&&delete n[i],localStorage.setItem(e,JSON.stringify(n));const t=Object.keys(n).sort(((t,e)=>parseInt(t)-parseInt(e))).reduce(((t,e)=>t.concat(n[e])),[]);localStorage.setItem(o,JSON.stringify(t))}r&&0===s.length&&c.classList.add("lido-disable-check-button")}else{{t.classList.add("lido-element-selected");const n=t.value,c=Object.keys(a).find((t=>a[t]===n));let r=JSON.parse(localStorage.getItem(e))||{};c?r[c]=[n]:r[a.length+s.length]=[n],localStorage.setItem(e,JSON.stringify(r));const i=Object.keys(r).sort(((t,e)=>parseInt(t)-parseInt(e))).reduce(((t,e)=>t.concat(r[e])),[]);localStorage.setItem(o,JSON.stringify(i));const l=a.includes(t.value);if(f(t,l),l){const e=t.getAttribute("onCorrect");await x(e,t)}else{const e=t.getAttribute("onInCorrect");await x(e,t)}N(l)}r||y(a)!==y(s)||J()}}))}(t);break;case"drop":!function(t){let e=JSON.parse(localStorage.getItem(i)||"{}");const o=t.getAttribute("tabIndex");"object"==typeof e&&null!==e||(e={}),e[o]||(e[o]={drop:t.id,isFull:!1},localStorage.setItem(i,JSON.stringify(e))),t.onclick=()=>{E(t,"drop")},P(t,"drop")}(t);break;case"slide":!function(t){let e=!1,n=!1,a=0,c=0,r=0,i=0;const s=t.parentElement;if(!s)return void console.error("Parent element not found.");const l=e=>{I(t),n=!0,e instanceof MouseEvent?(a=e.clientX,c=e.clientY):(a=e.touches[0].clientX,c=e.touches[0].clientY),t.style.opacity="0.8",t.style.cursor="grabbing";const o=window.getComputedStyle(t).transform;if("none"!==o){const t=o.match(/matrix\(([^)]+)\)/);if(t){const e=t[1].split(", ");r=parseFloat(e[4]),i=parseFloat(e[5])}}else r=0,i=0;s.getBoundingClientRect(),t.getBoundingClientRect(),document.addEventListener("mousemove",d),document.addEventListener("mouseup",u),document.addEventListener("touchmove",d),document.addEventListener("touchend",u)};new MutationObserver((e=>{for(const o of e)"attributes"===o.type&&"style"===o.attributeName&&(s.getBoundingClientRect(),t.getBoundingClientRect())})).observe(s,{attributes:!0,attributeFilter:["style"]});const d=o=>{if(!n)return;const l=b(s);let d=0,u=0;o instanceof MouseEvent?(d=(o.clientX-a)/l,u=(o.clientY-c)/l):(d=(o.touches[0].clientX-a)/l,u=(o.touches[0].clientY-c)/l);const f=r+d,m=i+u,p=s.getBoundingClientRect(),g=t.getBoundingClientRect(),h=t.style.transform.match(/-?\d+(\.\d+)?/g).map(Number),w=g.left/l-h[0],x=g.top-h[1],v=p.top-x,O=p.bottom-(g.bottom-h[1]),y=f+w<=p.left?p.left-w:Math.min(f,p.right-(g.right/l-h[0])),N=m+x<=p.top?v:Math.min(m,O);t.style.transform=`translate(${y}px, ${N}px)`;let k=S(t,"slide");if(k&&k!=t){const n=t.parentElement,s=k.parentElement;if(n&&s){const l=document.createComment("element-placeholder"),d=document.createComment("overlapped-placeholder");n.replaceChild(l,t),s.replaceChild(d,k),n.replaceChild(k,l),s.replaceChild(t,d),t.style.transform="translate(0, 0)",a=o instanceof MouseEvent?o.clientX:o.touches[0].clientX,c=o instanceof MouseEvent?o.clientY:o.touches[0].clientY,r=0,i=0,e=!0}}},u=()=>{n=!1,document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",u),document.removeEventListener("touchmove",d),document.removeEventListener("touchend",u),t.style.opacity="",t.style.cursor="move",t.style.transform="translate(0, 0)",e&&((t=>{const e=JSON.parse(localStorage.getItem(o))||[],n=document.querySelectorAll("[type='slide']");let a=0;n.forEach((t=>{e[a++]=t.value})),localStorage.setItem(o,JSON.stringify(e));const c=document.querySelector("#lido-container").objective.split(","),r=e.indexOf(t.value),i=O(t.value,[c[r].trim()]);N(i),k()})(t),e=!1)};t.style.cursor="move",t.style.transform="translate(0, 0)",t.addEventListener("mousedown",l),t.addEventListener("touchstart",l),t.addEventListener("click",(()=>{E(t,"drag")}))}(t)}!function(t){if(!t)return;const e=t.getAttribute("onTouch");e&&(t.onclick=async()=>{console.log("ðŸš€ ~ element.onclick= ~ onTouch:",e),e&&await x(e,t)})}(t)}};async function E(t,e){if(document.querySelectorAll(`[type='${e}']`).forEach((t=>{I(t)})),!document.querySelector("#dynamic-highlight-style")){const t=document.createElement("style");t.id="dynamic-highlight-style",t.innerHTML="\n      .highlight {\n        // border: 4px solid #e74c3c; /* Thicker red border for more visibility */\n        // border-radius: 12px; /* Larger rounded corners */\n        background-color: rgba(231, 76, 60, 0.3); /* Stronger, more noticeable background */\n        box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2), 0 12px 40px rgba(0, 0, 0, 0.2); /* Stronger shadow */\n        outline: 4px solid rgba(231, 76, 60, 0.6); /* Glow effect */\n      }\n    ",document.head.appendChild(t)}null==t||t.classList.add("highlight"),t.ariaPressed="true";const o="drop"===e?t:document.querySelector("[type='drop'].highlight"),n="drag"===e?t:document.querySelector("[type='drag'].highlight");if(o||async function(t){const e=JSON.parse(localStorage.getItem(i)||"{}"),o=t;if(!o)return void console.error("Element not found");const n=getComputedStyle(o).transform;if(I(t),n&&"none"!==n&&"matrix(1, 0, 0, 1, 0, 0)"!==n)return o.style.transition="transform 0.5s ease",o.style.transform="translate(0px, 0px)",void w(o,null);let a=Object.values(e).find((t=>!t.isFull));if(a){const t=document.querySelector(`#${a.drop}`);o.style.transition="transform 0.5s ease",w(o,t)}}(t),o&&n){n.style.transition="transform 0.5s ease",n.style.transform="";const t=document.querySelector("#lido-container"),e=b(t);console.log("ðŸš€ ~ onClickDropOrDragElement ~ containerScale:",e);const a=o.getBoundingClientRect(),c=n.getBoundingClientRect();n.style.transform=`translate(${(a.left-c.left)/e}px, ${(a.top-c.top)/e}px)`,document.querySelectorAll("*").forEach((t=>{I(t)})),await w(n,o)}}const j=new Map;function I(t){t.classList.remove("highlight"),t.ariaPressed="false"}function F(t){if(!t)return;t.classList.add("speaking-highlight");const e="#speaking-highlight-style";if(!document.querySelector(e)){const o=document.createElement("style");o.id=e,o.innerHTML=`\n      .speaking-highlight {\n        --base-transform: ${t.style.transform};\n        box-shadow: 0 0 20px 10px rgba(255, 165, 0, 0.9) !important; /* Stronger orange glow effect */\n        // border: 3px solid green !important;\n        transition: box-shadow 0.5s ease-in-out, transform 0.5s ease-in-out;\n        transform: scale(1.05); /* Subtle scale effect to pop the element */\n        animation: pulseEffect 1.5s infinite; /* Pulsing animation */\n      }\n\n      @keyframes pulseEffect {\n        0% {\n          box-shadow: 0 0 20px 10px rgba(255, 165, 0, 0.9);\n          transform: var(--base-transform) scale(1.05);\n        }\n        50% {\n          box-shadow: 0 0 30px 15px rgba(255, 165, 0, 1);\n          transform: var(--base-transform) scale(1.1);\n        }\n        100% {\n          box-shadow: 0 0 20px 10px rgba(255, 165, 0, 0.9);\n          transform: var(--base-transform) scale(1.05);\n        }\n      }\n    `,document.head.appendChild(o)}}function T(t){t&&t.classList.remove("speaking-highlight")}function A(e){const o=document.querySelector("#lido-container").getAttribute("baseUrl");return e.startsWith("http")?e:o?o+e:t(e)}function D(t,e,o,n,a){if(void 0===n)return;const c=Array.from(t.children);let r=n;e&&n<e&&(r=e),o&&n>o&&(r=o),c.forEach(((t,e)=>{t.style.display=e<r?a:"none"}))}const W=(t,e)=>t&&t.includes(",")?t.split(",").reduce(((t,e)=>{const[o,n]=e.split(".");return t[o.trim()]=n.trim(),t}),{})[e]||"":t,P=(t,e)=>{const o=document.querySelectorAll("[type='drag']"),n=document.querySelectorAll("[type='drop']"),a=document.querySelectorAll("[type='click']");let c=0;if("click"===e)return a.forEach((t=>{const e=t;let o=null;if(e.getAttribute("flexibleWidth"))o=e;else{const t=e.children;for(let e=0;e<t.length;e++){const n=t[e];if(n.getAttribute("flexibleWidth")){o=n;break}}}if(o){const t=o.style.width,e=o.style.padding;o.style.width="auto",o.style.padding="0 20px";const n=o.offsetWidth;o.style.width=t,o.style.padding=e,n>c&&(c=n)}})),void a.forEach((t=>{const e=t;if(e.getAttribute("flexibleWidth")){if("true"===e.getAttribute("flexibleWidth"))return;e.style.width=`${c}px`}else{const t=e.children;for(let e=0;e<t.length;e++){const o=t[e];if(o.getAttribute("flexibleWidth")){if("true"===o.getAttribute("flexibleWidth"))return;o.style.width=`${c}px`;break}}}}));o.forEach((t=>{const e=t,o=e.style.width,n=e.style.padding;e.style.width="auto",e.style.padding="0 20px";const a=e.offsetWidth;e.style.width=o,e.style.padding=n,a>c&&(c=a)})),o.forEach((t=>{const o=t,n=o.getAttribute("flexibleWidth");"false"===n?o.style.width=`${c}px`:"true"===n&&"drag"===e&&(o.style.width="auto",o.style.padding="0 20px")})),n.forEach((t=>{const o=t,n=o.getAttribute("flexibleWidth");if("false"===n){const t=parseFloat(getComputedStyle(o).borderWidth);if("number"==typeof t){const e=c-2*t,n=parseFloat(o.style.height)-2*t;return o.style.height=`${n}px`,void(o.style.width=`${e}px`)}}else"true"===n&&"drag"===e&&(o.style.width="auto",o.style.padding="0 20px")}))};export{e as D,a as N,m as R,o as S,s as T,r as a,i as b,A as c,u as d,d as e,h as f,D as h,$ as i,W as p,C as t}