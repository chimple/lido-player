function t(t,o,n){return(t||"")+(o?` ${o}`:"")+(n?` ${n}`:"")}function o(t){let o=false;let n=0;let e=0;let s=0;let c=0;const a=document.getElementById("container");if(!a){console.error(`Container with ID "container" not found.`);return}const u=t=>{const o=window.getComputedStyle(t).transform;if(o==="none"){return 1}else{const t=o.match(/matrix\(([^)]+)\)/);if(t){const o=t[1].split(", ");const n=parseFloat(o[0]);return n}}return 1};const r=a=>{o=true;if(a instanceof MouseEvent){n=a.clientX;e=a.clientY}else{n=a.touches[0].clientX;e=a.touches[0].clientY}t.style.opacity="0.8";t.style.cursor="grabbing";const u=window.getComputedStyle(t).transform;if(u!=="none"){const t=u.match(/matrix\(([^)]+)\)/);if(t){const o=t[1].split(", ");s=parseFloat(o[4]);c=parseFloat(o[5])}}else{s=0;c=0}document.addEventListener("mousemove",M);document.addEventListener("mouseup",p);document.addEventListener("touchmove",M);document.addEventListener("touchend",p)};const i=a.getBoundingClientRect();const l=t.getBoundingClientRect();let m=i.top-l.top;let f=i.left-l.left;const d=new MutationObserver((o=>{for(const n of o){if(n.type==="attributes"&&n.attributeName==="style"){const o=a.getBoundingClientRect();const n=t.getBoundingClientRect();m=o.top-n.top;f=o.left-n.left}}}));const h={attributes:true,attributeFilter:["style"]};d.observe(a,h);const M=r=>{if(!o)return;const i=u(a);let l=0;let d=0;if(r instanceof MouseEvent){l=(r.clientX-n)/i;d=(r.clientY-e)/i}else{l=(r.touches[0].clientX-n)/i;d=(r.touches[0].clientY-e)/i}const h=s+l;const M=c+d;const p=a.getBoundingClientRect();const b=t.getBoundingClientRect();const x=t.style.transform.match(/-?\d+(\.\d+)?/g);const v=x.map(Number);const g=b.left/i-v[0];const w=b.top-v[1];const E=p.width/i-Math.abs(f/i)-b.width/i;const y=p.left-g;const F=p.top-w;const $=p.height/i-Math.abs(m/i)-b.height/i;const A=h+g<=p.left?y:Math.min(h,E);const O=M+w<=p.top?F:Math.min(M,$);t.style.transform=`translate(${A}px, ${O}px)`;const T=document.querySelectorAll("[type='drop']");let k=null;let C=0;T.forEach((t=>{const o=t.getBoundingClientRect();const n=Math.max(0,Math.min(b.right,o.right)-Math.max(b.left,o.left));const e=Math.max(0,Math.min(b.bottom,o.bottom)-Math.max(b.top,o.top));const s=n*e;if(s>C){C=s;k=t}}));T.forEach((t=>{t.style.border="";t.style.backgroundColor=""}));if(k){k.style.border="2px dashed #ff0000";k.style.backgroundColor="rgba(255, 0, 0, 0.1)"}};const p=()=>{o=false;document.removeEventListener("mousemove",M);document.removeEventListener("mouseup",p);document.removeEventListener("touchmove",M);document.removeEventListener("touchend",p);t.style.opacity="";t.style.cursor="move";const n=document.querySelectorAll("[type='drop']");n.forEach((t=>{t.style.border="";t.style.backgroundColor=""}));const e=t.getBoundingClientRect();let s=null;let c=0;n.forEach((t=>{const o=t.getBoundingClientRect();const n=Math.max(0,Math.min(e.right,o.right)-Math.max(e.left,o.left));const a=Math.max(0,Math.min(e.bottom,o.bottom)-Math.max(e.top,o.top));const u=n*a;if(u>c){c=u;s=t}}));if(!s)return;console.log("Most overlapping element:",s["value"],t["value"]);if(s["value"]===t["value"]){console.log("ðŸš€ ~ onEnd ~ mostOverlappedElement onMatch:",s["onMatch"]);b(s);b(t);setTimeout((()=>{s.style.transition="";s.style.boxShadow="";s.style.backgroundColor="";t.style.transition="";t.style.boxShadow="";t.style.backgroundColor="";const o=s.getAttribute("onMatch");if(o){x(o,s,t)}}),1e3)}};const b=t=>{t.style.transition="box-shadow 0.5s ease, background-color 0.5s ease";t.style.backgroundColor="rgba(144, 238, 144, 0.7)";t.style.boxShadow="0 0 15px 7px rgba(144, 238, 144, 0.5)";setTimeout((()=>{t.style.boxShadow="0 0 0px 0px rgba(144, 238, 144, 0.0)"}),500)};const x=(t,o,n)=>{const e=v(t);console.log("ðŸš€ ~ executeActions ~ actions:",e);e.forEach((t=>{const e=t.actor==="this"?o:t.actor==="element"?n:document.getElementById(t.actor);console.log("ðŸš€ ~ executeActions ~ targetElement:",e);if(e){e.style[t.action]=t.value}}))};const v=t=>{const o=[];const n=t.split(";").map((t=>t.trim()));n.forEach((t=>{if(t){const[n,e]=t.split("=").map((t=>t.trim()));const s=n.lastIndexOf(".");if(s!==-1){const t=n.substring(0,s).trim();const c=n.substring(s+1).trim();o.push({actor:t,action:c,value:e.replace(/['"]/g,"")})}}}));return o};t.style.cursor="move";t.style.transform="translate(0, 0)";t.addEventListener("mousedown",r);t.addEventListener("touchstart",r)}export{o as e,t as f};
//# sourceMappingURL=p-380954e8.js.map